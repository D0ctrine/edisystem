2022-11-16 10:18:30 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 10:18:30 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:ERROR, description: Error: ORA-12514: TNS:리스너가 현재 접속 기술자에 요청된 서비스를 알지 못함
2022-11-16 10:19:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 10:19:01 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:ERROR, description: Error: ORA-12514: TNS:리스너가 현재 접속 기술자에 요청된 서비스를 알지 못함
2022-11-16 10:20:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 10:20:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:ERROR, description: Error: ORA-12514: TNS:리스너가 현재 접속 기술자에 요청된 서비스를 알지 못함
2022-11-16 10:21:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 10:21:01 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:ERROR, description: Error: ORA-12514: TNS:리스너가 현재 접속 기술자에 요청된 서비스를 알지 못함
2022-11-16 10:22:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 10:22:01 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:ERROR, description: Error: ORA-12514: TNS:리스너가 현재 접속 기술자에 요청된 서비스를 알지 못함
2022-11-16 10:23:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 10:23:01 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:ERROR, description: Error: ORA-12514: TNS:리스너가 현재 접속 기술자에 요청된 서비스를 알지 못함
2022-11-16 10:24:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 10:24:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:ERROR, description: Error: ORA-12514: TNS:리스너가 현재 접속 기술자에 요청된 서비스를 알지 못함
2022-11-16 10:25:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 10:25:01 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:ERROR, description: Error: ORA-12514: TNS:리스너가 현재 접속 기술자에 요청된 서비스를 알지 못함
2022-11-16 10:26:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 10:26:01 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:ERROR, description: Error: ORA-12514: TNS:리스너가 현재 접속 기술자에 요청된 서비스를 알지 못함
2022-11-16 10:27:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 10:27:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:ERROR, description: Error: ORA-12514: TNS:리스너가 현재 접속 기술자에 요청된 서비스를 알지 못함
2022-11-16 10:28:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 10:28:01 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:ERROR, description: Error: ORA-12514: TNS:리스너가 현재 접속 기술자에 요청된 서비스를 알지 못함
2022-11-16 10:29:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 10:29:01 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:ERROR, description: Error: ORA-12514: TNS:리스너가 현재 접속 기술자에 요청된 서비스를 알지 못함
2022-11-16 10:30:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 10:30:01 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:ERROR, description: Error: ORA-12514: TNS:리스너가 현재 접속 기술자에 요청된 서비스를 알지 못함
2022-11-16 10:31:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 10:31:01 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:ERROR, description: Error: ORA-12514: TNS:리스너가 현재 접속 기술자에 요청된 서비스를 알지 못함
2022-11-16 10:32:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 10:32:01 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:ERROR, description: Error: ORA-12514: TNS:리스너가 현재 접속 기술자에 요청된 서비스를 알지 못함
2022-11-16 10:33:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 10:33:01 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:ERROR, description: Error: ORA-12514: TNS:리스너가 현재 접속 기술자에 요청된 서비스를 알지 못함
2022-11-16 10:34:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 10:34:01 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:ERROR, description: Error: ORA-12514: TNS:리스너가 현재 접속 기술자에 요청된 서비스를 알지 못함
2022-11-16 10:35:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 10:35:01 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:ERROR, description: Error: ORA-12514: TNS:리스너가 현재 접속 기술자에 요청된 서비스를 알지 못함
2022-11-16 10:36:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 10:36:01 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:ERROR, description: Error: ORA-12514: TNS:리스너가 현재 접속 기술자에 요청된 서비스를 알지 못함
2022-11-16 10:37:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 10:37:01 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:ERROR, description: Error: ORA-12514: TNS:리스너가 현재 접속 기술자에 요청된 서비스를 알지 못함
2022-11-16 10:38:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 10:38:01 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:ERROR, description: Error: ORA-12514: TNS:리스너가 현재 접속 기술자에 요청된 서비스를 알지 못함
2022-11-16 10:39:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 10:39:01 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:ERROR, description: Error: ORA-12514: TNS:리스너가 현재 접속 기술자에 요청된 서비스를 알지 못함
2022-11-16 10:40:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 10:40:01 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:ERROR, description: Error: ORA-12514: TNS:리스너가 현재 접속 기술자에 요청된 서비스를 알지 못함
2022-11-16 10:41:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 10:41:01 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:ERROR, description: Error: ORA-12514: TNS:리스너가 현재 접속 기술자에 요청된 서비스를 알지 못함
2022-11-16 10:42:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 10:42:01 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:ERROR, description: Error: ORA-12514: TNS:리스너가 현재 접속 기술자에 요청된 서비스를 알지 못함
2022-11-16 10:43:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 10:43:01 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:ERROR, description: Error: ORA-12514: TNS:리스너가 현재 접속 기술자에 요청된 서비스를 알지 못함
2022-11-16 10:44:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 10:44:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:ERROR, description: Error: ORA-12514: TNS:리스너가 현재 접속 기술자에 요청된 서비스를 알지 못함
2022-11-16 10:50:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 10:50:21 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:ERROR, description: Error: ORA-12170: TNS: 접속 시간 초과가 발생함
2022-11-16 10:51:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 10:51:21 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:ERROR, description: Error: ORA-12170: TNS: 접속 시간 초과가 발생함
2022-11-16 10:52:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 10:58:30 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 10:58:31 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:ERROR, description: Error: ORA-12154: TNS:지정된 접속 식별자를 분석할 수 없음
2022-11-16 11:18:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 11:18:21 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:ERROR, description: Error: ORA-12170: TNS: 접속 시간 초과가 발생함
2022-11-16 11:19:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 11:19:22 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:ERROR, description: Error: ORA-12170: TNS: 접속 시간 초과가 발생함
2022-11-16 11:20:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 11:20:21 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:ERROR, description: Error: ORA-12170: TNS: 접속 시간 초과가 발생함
2022-11-16 11:21:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 11:21:21 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:ERROR, description: Error: ORA-12170: TNS: 접속 시간 초과가 발생함
2022-11-16 11:22:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 11:22:22 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:ERROR, description: Error: ORA-12170: TNS: 접속 시간 초과가 발생함
2022-11-16 11:23:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 11:23:21 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:ERROR, description: Error: ORA-12170: TNS: 접속 시간 초과가 발생함
2022-11-16 11:24:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 11:24:21 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:ERROR, description: Error: ORA-12170: TNS: 접속 시간 초과가 발생함
2022-11-16 11:25:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 11:25:21 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:ERROR, description: Error: ORA-12170: TNS: 접속 시간 초과가 발생함
2022-11-16 11:26:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 11:26:21 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:ERROR, description: Error: ORA-12170: TNS: 접속 시간 초과가 발생함
2022-11-16 11:27:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 11:27:22 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:ERROR, description: Error: ORA-12170: TNS: 접속 시간 초과가 발생함
2022-11-16 11:28:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 11:28:21 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:ERROR, description: Error: ORA-12170: TNS: 접속 시간 초과가 발생함
2022-11-16 11:29:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 11:29:21 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:ERROR, description: Error: ORA-12170: TNS: 접속 시간 초과가 발생함
2022-11-16 11:30:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 11:30:21 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:ERROR, description: Error: ORA-12170: TNS: 접속 시간 초과가 발생함
2022-11-16 11:31:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 11:31:21 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:ERROR, description: Error: ORA-12170: TNS: 접속 시간 초과가 발생함
2022-11-16 11:32:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 11:32:22 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:ERROR, description: Error: ORA-12170: TNS: 접속 시간 초과가 발생함
2022-11-16 11:33:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 11:33:21 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:ERROR, description: Error: ORA-12170: TNS: 접속 시간 초과가 발생함
2022-11-16 11:34:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 11:34:22 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:ERROR, description: Error: ORA-12170: TNS: 접속 시간 초과가 발생함
2022-11-16 11:35:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 11:35:21 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:ERROR, description: Error: ORA-12170: TNS: 접속 시간 초과가 발생함
2022-11-16 11:36:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 11:36:21 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:ERROR, description: Error: ORA-12170: TNS: 접속 시간 초과가 발생함
2022-11-16 11:37:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 11:37:22 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:ERROR, description: Error: ORA-12170: TNS: 접속 시간 초과가 발생함
2022-11-16 11:38:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 11:38:21 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:ERROR, description: Error: ORA-12170: TNS: 접속 시간 초과가 발생함
2022-11-16 11:39:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 11:39:21 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:ERROR, description: Error: ORA-12170: TNS: 접속 시간 초과가 발생함
2022-11-16 11:44:30 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 11:45:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 11:46:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 11:47:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 11:48:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 11:49:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 11:50:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 11:51:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 11:52:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 11:53:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 11:54:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 11:55:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 11:56:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 11:57:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 11:58:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 11:59:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 12:00:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 12:00:00 [EDI System] info: Job Start Time > {"min":0,"hour":12,"date":16,"month":11,"day":3}
 {"ID":107,"CFG_ID":"143","FILE_NAME":"CMWIPINF_HM:todayHH24","FILE_DESC":"SEC CMWIPINF 1/1HR","FILE_SAVE_FOLDER":"D:/HM_EDI/SEC/OUT","FILE_CHARSET":"ascii","FILE_TYPE":"ff","DATA_TYPE":"text","FTP_ENV_ID":"100","SEND_FLAG":"Y","NODATASEND":"false","SCHEDULE_MIN":"0","SCHEDULE_HOUR":"*","SCHEDULE_DAY":"*","SCHEDULE_WEEK":"*","SCHEDULE_MONTH":"*","CM_F01":null,"CM_F02":null,"CREATE_DATE":"2021-11-12 05:17:07","CREATE_USER":"6","UPDATE_DATE":"2021-12-24 04:17:35","UPDATE_USER":"6","DELETE_DATE":null,"DELETE_USER":null,"frequency":"0 * * * *"}
2022-11-16 12:00:00 [EDI System] info: 107 >>> makeFileText Function Execute
2022-11-16 12:00:00 [EDI System] info: Job Start Time > {"min":0,"hour":12,"date":16,"month":11,"day":3}
 {"ID":109,"CFG_ID":"147","FILE_NAME":"CMWIPINF_HM:todayHH24_2","FILE_DESC":"TEST 2 //// SEC CMWIPINF 1/1HR ","FILE_SAVE_FOLDER":"D:/HM_EDI/SEC/OUT","FILE_CHARSET":"ascii","FILE_TYPE":"ff","DATA_TYPE":"text","FTP_ENV_ID":"100","SEND_FLAG":"Y","NODATASEND":null,"SCHEDULE_MIN":"0","SCHEDULE_HOUR":"*","SCHEDULE_DAY":"*","SCHEDULE_WEEK":"*","SCHEDULE_MONTH":"*","CM_F01":null,"CM_F02":null,"CREATE_DATE":"2021-11-19 05:22:50","CREATE_USER":"6","UPDATE_DATE":"2021-12-24 04:17:41","UPDATE_USER":"6","DELETE_DATE":null,"DELETE_USER":null,"frequency":"0 * * * *"}
2022-11-16 12:00:00 [EDI System] info: 109 >>> makeFileText Function Execute
2022-11-16 12:00:00 [EDI System] info: Job Start Time > {"min":0,"hour":12,"date":16,"month":11,"day":3}
 {"ID":110,"CFG_ID":"146","FILE_NAME":"CMWIPINF_HM:todayHH24_1","FILE_DESC":"SEC CMWIPINF 1/1HR","FILE_SAVE_FOLDER":"D:/HM_EDI/SEC/OUT","FILE_CHARSET":"ascii","FILE_TYPE":"ff","DATA_TYPE":"text","FTP_ENV_ID":"100","SEND_FLAG":"Y","NODATASEND":null,"SCHEDULE_MIN":"0","SCHEDULE_HOUR":"*","SCHEDULE_DAY":"*","SCHEDULE_WEEK":"*","SCHEDULE_MONTH":"*","CM_F01":null,"CM_F02":null,"CREATE_DATE":"2021-11-19 05:22:51","CREATE_USER":"6","UPDATE_DATE":"2021-12-24 04:17:47","UPDATE_USER":"6","DELETE_DATE":null,"DELETE_USER":null,"frequency":"0 * * * *"}
2022-11-16 12:00:00 [EDI System] info: 110 >>> makeFileText Function Execute
2022-11-16 12:00:00 [EDI System] info: SELECT EDI_LOG_SEQ.NEXTVAL AS ID FROM DUAL
2022-11-16 12:00:00 [EDI System] info: SELECT EDI_LOG_SEQ.NEXTVAL AS ID FROM DUAL
2022-11-16 12:00:00 [EDI System] info: SELECT EDI_LOG_SEQ.NEXTVAL AS ID FROM DUAL
2022-11-16 12:00:00 [EDI System] info: SELECT EDI_LOG_SEQ.NEXTVAL AS ID FROM DUAL
2022-11-16 12:00:00 [EDI System] info: SELECT EDI_LOG_SEQ.NEXTVAL AS ID FROM DUAL
2022-11-16 12:00:00 [EDI System] info: SELECT EDI_LOG_SEQ.NEXTVAL AS ID FROM DUAL
2022-11-16 12:00:01 [EDI System] info: [{"ID":11060}]
2022-11-16 12:00:01 [EDI System] info: seq : return Key [{"ID":11060}]
2022-11-16 12:00:01 [EDI System] info: saveAllLogger => ID:11060, NAME:CMWIPINF_HM:todayHH24_1, ProcessID:146, Description: Job Start : ID=110, CFG_ID=146, FTP_ENV_ID=100, FILE_NAME=CMWIPINF_HM:todayHH24_1, FILE_DESC=SEC CMWIPINF 1/1HR, FILE_CHARSET=ascii, FILE_TYPE=ff
2022-11-16 12:00:01 [EDI System] info: INSERT INTO EDI_LOG(ID, STEP, NAME, PROCESS_ID, DESCRIPTION, CREATE_USER, CREATE_DATE)
    VALUES(:id, :stepId, :name, :process_id, :description, 'DAEMON', TO_CHAR(SYSDATE,'YYYYMMDDHH24MISS'))
2022-11-16 12:00:01 [EDI System] info: [{"ID":11061}]
2022-11-16 12:00:01 [EDI System] info: seq : return Key [{"ID":11061}]
2022-11-16 12:00:01 [EDI System] info: saveAllLogger => ID:11061, NAME:CMWIPINF_HM:todayHH24_2, ProcessID:147, Description: Job Start : ID=109, CFG_ID=147, FTP_ENV_ID=100, FILE_NAME=CMWIPINF_HM:todayHH24_2, FILE_DESC=TEST 2 //// SEC CMWIPINF 1/1HR , FILE_CHARSET=ascii, FILE_TYPE=ff
2022-11-16 12:00:01 [EDI System] info: INSERT INTO EDI_LOG(ID, STEP, NAME, PROCESS_ID, DESCRIPTION, CREATE_USER, CREATE_DATE)
    VALUES(:id, :stepId, :name, :process_id, :description, 'DAEMON', TO_CHAR(SYSDATE,'YYYYMMDDHH24MISS'))
2022-11-16 12:00:01 [EDI System] info: [{"ID":11062}]
2022-11-16 12:00:01 [EDI System] info: seq : return Key [{"ID":11062}]
2022-11-16 12:00:01 [EDI System] info: saveAllLogger => ID:11062, NAME:CMWIPINF_HM:todayHH24, ProcessID:143, Description: Job Start : ID=107, CFG_ID=143, FTP_ENV_ID=100, FILE_NAME=CMWIPINF_HM:todayHH24, FILE_DESC=SEC CMWIPINF 1/1HR, FILE_CHARSET=ascii, FILE_TYPE=ff
2022-11-16 12:00:01 [EDI System] info: INSERT INTO EDI_LOG(ID, STEP, NAME, PROCESS_ID, DESCRIPTION, CREATE_USER, CREATE_DATE)
    VALUES(:id, :stepId, :name, :process_id, :description, 'DAEMON', TO_CHAR(SYSDATE,'YYYYMMDDHH24MISS'))
2022-11-16 12:00:01 [EDI System] info: Insert successful = SQL: INSERT INTO EDI_LOG(ID, STEP, NAME, PROCESS_ID, DESCRIPTION, CREATE_USER, CREATE_DATE)
    VALUES(:id, :stepId, :name, :process_id, :description, 'DAEMON', TO_CHAR(SYSDATE,'YYYYMMDDHH24MISS')) | Params: {"id":11060,"stepId":"1","name":"CMWIPINF_HM:todayHH24_1","process_id":"146","description":"Job Start : ID=110, CFG_ID=146, FTP_ENV_ID=100, FILE_NAME=CMWIPINF_HM:todayHH24_1, FILE_DESC=SEC CMWIPINF 1/1HR, FILE_CHARSET=ascii, FILE_TYPE=ff"} / 1
2022-11-16 12:00:01 [EDI System] info: 
    SELECT *
    FROM (
        SELECT ROWNUM,A.*
            FROM EDI_QUERY_SETTING A
            WHERE SETTING_ID = :id
            AND TYPE='Main'
            ORDER BY ID DESC
        ) 
    WHERE ROWNUM='1'
    
2022-11-16 12:00:01 [EDI System] info: Insert successful = SQL: INSERT INTO EDI_LOG(ID, STEP, NAME, PROCESS_ID, DESCRIPTION, CREATE_USER, CREATE_DATE)
    VALUES(:id, :stepId, :name, :process_id, :description, 'DAEMON', TO_CHAR(SYSDATE,'YYYYMMDDHH24MISS')) | Params: {"id":11061,"stepId":"1","name":"CMWIPINF_HM:todayHH24_2","process_id":"147","description":"Job Start : ID=109, CFG_ID=147, FTP_ENV_ID=100, FILE_NAME=CMWIPINF_HM:todayHH24_2, FILE_DESC=TEST 2 //// SEC CMWIPINF 1/1HR , FILE_CHARSET=ascii, FILE_TYPE=ff"} / 1
2022-11-16 12:00:01 [EDI System] info: 
    SELECT *
    FROM (
        SELECT ROWNUM,A.*
            FROM EDI_QUERY_SETTING A
            WHERE SETTING_ID = :id
            AND TYPE='Main'
            ORDER BY ID DESC
        ) 
    WHERE ROWNUM='1'
    
2022-11-16 12:00:01 [EDI System] info: Insert successful = SQL: INSERT INTO EDI_LOG(ID, STEP, NAME, PROCESS_ID, DESCRIPTION, CREATE_USER, CREATE_DATE)
    VALUES(:id, :stepId, :name, :process_id, :description, 'DAEMON', TO_CHAR(SYSDATE,'YYYYMMDDHH24MISS')) | Params: {"id":11062,"stepId":"1","name":"CMWIPINF_HM:todayHH24","process_id":"143","description":"Job Start : ID=107, CFG_ID=143, FTP_ENV_ID=100, FILE_NAME=CMWIPINF_HM:todayHH24, FILE_DESC=SEC CMWIPINF 1/1HR, FILE_CHARSET=ascii, FILE_TYPE=ff"} / 1
2022-11-16 12:00:01 [EDI System] info: 
    SELECT *
    FROM (
        SELECT ROWNUM,A.*
            FROM EDI_QUERY_SETTING A
            WHERE SETTING_ID = :id
            AND TYPE='Main'
            ORDER BY ID DESC
        ) 
    WHERE ROWNUM='1'
    
2022-11-16 12:00:01 [EDI System] info: [{"ROWNUM":2,"ID":"145","SETTING_ID":"146","KEY":null,"TYPE":"Main","QUERY":"SELECT\n  RPAD(VR_1,  5, ' ')\n, RPAD(VR_2, 30, ' ')\n, RPAD(VR_3, 15, ' ')\n, RPAD(VR_4, 15, ' ')\n, RPAD(VR_5,  2, ' ')\n, RPAD(VR_6,  2, ' ')\n, RPAD(VR_7, 20, ' ')\n, RPAD(VR_8, 30, ' ')\n, RPAD(VR_9, 16, ' ')\n, RPAD(VR_10, 24, ' ')\n, RPAD(VR_11, 14, ' ')\n, RPAD(VR_12,  4, ' ')\n, RPAD(VR_13,  4, ' ')\n, LPAD(VR_14, 10, ' ')\n, LPAD(VR_15, 10, ' ')\n, RPAD(VR_16,  1, ' ')\n, RPAD(VR_17,  2, ' ')\n, RPAD(VR_18, 10, ' ')\n, RPAD(VR_19, 14, ' ')\n, RPAD(VR_20, 20, ' ')\n, RPAD(VR_21, 20, ' ')\n, RPAD(VR_22, 20, ' ')\n, RPAD(VR_23, 20, ' ')\n, RPAD(VR_24, 20, ' ')\n, LPAD(VR_25, 10, ' ')\n, LPAD(VR_26, 10, ' ')\n, RPAD(VR_27,  1, ' ')\n, RPAD(VR_28, 65, ' ')\n, RPAD(VR_29, 14, ' ')\n, RPAD(VR_30,  8, ' ')\n, RPAD(VR_31, 1024, ' ')\nFROM \n(\nSELECT 'LS1HM'   VR_1\n , NVL((SELECT MAT_CMF_7 FROM MWIPMATDEF WHERE FACTORY = A.FACTORY AND MAT_ID = A.MAT_ID AND MAT_VER = A.MAT_VER), '-')   VR_2\n , F_GET_ASSY_RUNID(' ', A.LOT_ID, A.LOT_CMF_4)   VR_3\n , NVL(TRIM(A.LOT_CMF_1), '-')   VR_4\n , NVL(TRIM(A.LOT_CMF_5),'-')   VR_5\n , NVL((SELECT ATTR_VALUE FROM MATRNAMSTS WHERE FACTORY = A.FACTORY AND ATTR_TYPE = 'LOT_SEC_INFO' AND ATTR_NAME = 'RTN_TYPE' AND ATTR_KEY = TRIM(A.LOT_CMF_1)), '**')   VR_6\n , DECODE(A.OPER||A.FLOW,'T1300HKAB', 'HGAK','TZ010HKAB', 'BASIC',\n     DECODE(NVL((SELECT SEC_OPER FROM V_MWIPOPRDEF_SEC WHERE FACTORY = A.FACTORY AND OPER = A.OPER ), '-'),\n                  'HMK2','BASIC','HMK3','BASIC','HMK9','BASIC','HMK4','BASIC',\n                  NVL(FLOW, '-')))   VR_7\n , DECODE(A.OPER||A.FLOW,'T1300HKAB', '0008','TZ010HKAB', '0003',\n     TRIM(DECODE(NVL((SELECT SEC_OPER FROM V_MWIPOPRDEF_SEC WHERE FACTORY = A.FACTORY AND OPER = A.OPER ), '-'),\n                  'HMK2','0002','HMK3','0003','HMK9','0006','HMK4','0007',\n                  LPAD((SELECT SEQ_NUM-1 FROM MWIPFLWOPR WHERE FACTORY = A.FACTORY AND FLOW = A.FLOW AND OPER = A.OPER),4,'0'))))   VR_8\n , DECODE(A.OPER||A.FLOW,'T1300HKAB', '8','TZ010HKAB', '3',\n     NVL((SELECT SEQ_NUM-1 FROM MWIPFLWOPR WHERE FACTORY = A.FACTORY AND FLOW = A.FLOW AND OPER = A.OPER), '0'))   VR_9\n , DECODE(A.OPER||A.FLOW,'T1300HKAB', 'PACKING','TZ010HKAB', 'Assy Final Stock',\n     DECODE(NVL((SELECT SEC_OPER FROM V_MWIPOPRDEF_SEC WHERE FACTORY = A.FACTORY AND OPER = A.OPER ), '-'),\n                  'HMK2','Assy Home Stock','HMK3','Assy Final Stock','HMK9','Test Home Stock','HMK4','Test Final Stock',\n                  NVL((SELECT OPER_DESC FROM V_MWIPOPRDEF_SEC WHERE FACTORY = A.FACTORY AND OPER = A.OPER ), '-')))   VR_10\n , A.OPER_IN_TIME    VR_11\n , DECODE(A.OPER||A.FLOW,'T1300HKAB', 'ASSY','TZ010HKAB', 'ASSY', DECODE(A.FACTORY, 'HMKT1', 'TEST', 'HMKA1', 'ASSY', '-'))    VR_12\n , NVL((SELECT DECODE(A.OPER||A.FLOW,'TZ010HKAB', SEC_OPER_AREA_COB ,SEC_OPER_AREA) FROM V_MWIPOPRDEF_SEC WHERE FACTORY = A.FACTORY AND OPER = A.OPER ), '-')   VR_13\n , NVL(TRIM(A.QTY_1), 0)   VR_14\n , NVL(TRIM(A.QTY_2), 0)   VR_15\n , 'C'     VR_16\n , F_GET_HOLD_FLAG_CODE(A.LOT_ID, A.MAT_ID, A.HOLD_FLAG, A.HOLD_CODE, 'FLAG' )    VR_17\n , F_GET_HOLD_FLAG_CODE(A.LOT_ID, A.MAT_ID, A.HOLD_FLAG, A.HOLD_CODE, 'CODE' )    VR_18\n , DECODE(A.HOLD_FLAG, 'Y', A.LAST_TRAN_TIME, ' ')    VR_19\n , NVL((SELECT ATTR_VALUE FROM MATRNAMSTS WHERE FACTORY = A.FACTORY AND ATTR_TYPE = 'LOT_SEC_INFO' AND ATTR_NAME = 'NCFCODE' AND ATTR_KEY = TRIM(A.LOT_CMF_1)), '*')   VR_20\n , NVL((SELECT ATTR_VALUE FROM MATRNAMSTS WHERE FACTORY = A.FACTORY AND ATTR_TYPE = 'LOT_SEC_INFO' AND ATTR_NAME = 'NCACODE' AND ATTR_KEY = TRIM(A.LOT_CMF_1)), '*')   VR_21\n , NVL((SELECT ATTR_VALUE FROM MATRNAMSTS WHERE FACTORY = A.FACTORY AND ATTR_TYPE = 'LOT_SEC_INFO' AND ATTR_NAME = 'NCTCODE' AND ATTR_KEY = TRIM(A.LOT_CMF_1)), '*')   VR_22\n , NVL((SELECT ATTR_VALUE FROM MATRNAMSTS WHERE FACTORY = A.FACTORY AND ATTR_TYPE = 'LOT_SEC_INFO' AND ATTR_NAME = 'NCQCODE' AND ATTR_KEY = TRIM(A.LOT_CMF_1)), '*')   VR_23\n , NVL((SELECT ATTR_VALUE FROM MATRNAMSTS WHERE FACTORY = A.FACTORY AND ATTR_TYPE = 'LOT_SEC_INFO' AND ATTR_NAME = 'OTHER' AND ATTR_KEY = TRIM(A.LOT_CMF_1)), '*')   VR_24\n , NVL((SELECT SUM(DECODE(TRAN_CODE, 'LOSS', (OLD_QTY_1 - QTY_1), QTY_1)) \n               FROM MWIPLOTHIS \n              WHERE LOT_ID = A.LOT_ID \n                AND TRAN_CODE IN ('LOSS', 'TERMINATE')\n                AND HIST_DEL_FLAG = ' '\n                AND TRAN_TIME BETWEEN F_GET_TIME(TO_CHAR(SYSDATE, 'YYYYMMDDHH24MISS'),'SE') \n                                  AND TO_CHAR(SYSDATE, 'YYYYMMDDHH24MISS')), 0)         VR_25\n , NVL((SELECT SUM(TOTAL_BONUS_QTY) \n               FROM MWIPLOTBNS \n              WHERE LOT_ID = A.LOT_ID\n                AND TRAN_TIME BETWEEN F_GET_TIME(TO_CHAR(SYSDATE, 'YYYYMMDDHH24MISS'),'SE') \n                                  AND TO_CHAR(SYSDATE, 'YYYYMMDDHH24MISS')), 0)    VR_26\n , '-'    VR_27\n , '-'    VR_28\n , TO_CHAR(SYSDATE,'YYYYMMDDHH24MISS')     VR_29\n , GET_WORK_DATE_EDI(TO_CHAR(SYSDATE, 'YYYYMMDDHH24MISS'),'D')  VR_30\n , MESMGR.PK_SEC_MES_IF.MakeInkless_OMS_WIP(A.FACTORY, A.LOT_ID)  VR_31\n  FROM MWIPLOTSTS A\n WHERE 1 = 1\n   AND FACTORY IN ('HMKT1','HMKA1') \n   AND LOT_CMF_2 = 'SE'   \n   AND OWNER_CODE = 'PROD'\n   AND LOT_TYPE = 'W'\n   AND LOT_DEL_FLAG = ' ' \n   AND CREATE_CODE <> 'FREE' \n   AND MAT_ID LIKE 'SE'||(SELECT DATA_1 FROM MGCMTBLDAT WHERE FACTORY = 'HMKA1' AND TABLE_NAME = 'H_SPECIAL_CHAR' AND KEY_1 = '1')\n   AND OPER BETWEEN 'A0000' AND 'TZ010'\n   AND MAT_ID NOT LIKE 'SEKY'||(SELECT DATA_1 FROM MGCMTBLDAT WHERE FACTORY = 'HMKA1' AND TABLE_NAME = 'H_SPECIAL_CHAR' AND KEY_1 = '1')  --- 영업  요청으로 하드코딩 170412. SEKY%\n)","CREATE_USER":"6","CREATE_DATE":"2021-11-22 10:58:05","DBTYPE":"MES"}]
2022-11-16 12:00:01 [EDI System] info: 
        SELECT * FROM (
            SELECT *
            FROM EDI_QUERY_SETTING
            WHERE 1=1
            AND SETTING_ID = (
                SELECT ID
                FROM CG_CUSTOMER 
                WHERE PARENT = (
                    SELECT ID
                    FROM CG_CUSTOMER 
                    WHERE ID=(
                        SELECT PARENT
                        FROM CG_CUSTOMER 
                        WHERE ID=(
                            SELECT PARENT 
                            FROM CG_CUSTOMER 
                            WHERE ID=:id
                        )
                    )
                )
                AND LOWER(NAME) = 'common'
            )
            AND TYPE IN ('DB','TEXT')
            AND KEY NOT IN (SELECT KEY
                            FROM EDI_QUERY_SETTING
                            WHERE 1=1
                            AND SETTING_ID = :id
                            AND TYPE IN ('DB','TEXT'))
            UNION ALL
            SELECT *
            FROM EDI_QUERY_SETTING
            WHERE 1=1
            AND SETTING_ID = :id
            AND TYPE IN ('DB','TEXT')
        )
        ORDER BY LENGTH(KEY) DESC
    
2022-11-16 12:00:01 [EDI System] info: [{"ROWNUM":1,"ID":"146","SETTING_ID":"147","KEY":null,"TYPE":"Main","QUERY":"SELECT\n  RPAD(VR_1,  5, ' ')\n, RPAD(VR_2, 30, ' ')\n, RPAD(VR_3, 15, ' ')\n, RPAD(VR_4, 15, ' ')\n, RPAD(VR_5,  2, ' ')\n, RPAD(VR_6,  2, ' ')\n, RPAD(VR_7, 20, ' ')\n, RPAD(VR_8, 30, ' ')\n, RPAD(VR_9, 16, ' ')\n, RPAD(VR_10, 24, ' ')\n, RPAD(VR_11, 14, ' ')\n, RPAD(VR_12,  4, ' ')\n, RPAD(VR_13,  4, ' ')\n, LPAD(VR_14, 10, ' ')\n, LPAD(VR_15, 10, ' ')\n, RPAD(VR_16,  1, ' ')\n, RPAD(VR_17,  2, ' ')\n, RPAD(VR_18, 10, ' ')\n, RPAD(VR_19, 14, ' ')\n, RPAD(VR_20, 20, ' ')\n, RPAD(VR_21, 20, ' ')\n, RPAD(VR_22, 20, ' ')\n, RPAD(VR_23, 20, ' ')\n, RPAD(VR_24, 20, ' ')\n, LPAD(VR_25, 10, ' ')\n, LPAD(VR_26, 10, ' ')\n, RPAD(VR_27,  1, ' ')\n, RPAD(VR_28, 65, ' ')\n, RPAD(VR_29, 14, ' ')\n, RPAD(VR_30,  8, ' ')\n, RPAD(VR_31, 1024, ' ')\nFROM \n(\nSELECT 'LS1HM'   VR_1\n , NVL((SELECT MAT_CMF_7 FROM MWIPMATDEF WHERE FACTORY = A.FACTORY AND MAT_ID = A.MAT_ID AND MAT_VER = A.MAT_VER), '-')   VR_2\n , F_GET_ASSY_RUNID(' ', A.LOT_ID, A.LOT_CMF_4)   VR_3\n , NVL(TRIM(A.LOT_CMF_1), '-')   VR_4\n , NVL(TRIM(A.LOT_CMF_5),'-')   VR_5\n , NVL((SELECT ATTR_VALUE FROM MATRNAMSTS WHERE FACTORY = A.FACTORY AND ATTR_TYPE = 'LOT_SEC_INFO' AND ATTR_NAME = 'RTN_TYPE' AND ATTR_KEY = TRIM(A.LOT_CMF_1)), '**')   VR_6\n , DECODE(A.OPER||A.FLOW,'T1300HKAB', 'HGAK','TZ010HKAB', 'BASIC',\n     DECODE(NVL((SELECT SEC_OPER FROM V_MWIPOPRDEF_SEC WHERE FACTORY = A.FACTORY AND OPER = A.OPER ), '-'),\n                  'HMK2','BASIC','HMK3','BASIC','HMK9','BASIC','HMK4','BASIC',\n                  NVL(FLOW, '-')))   VR_7\n , DECODE(A.OPER||A.FLOW,'T1300HKAB', '0008','TZ010HKAB', '0003',\n     TRIM(DECODE(NVL((SELECT SEC_OPER FROM V_MWIPOPRDEF_SEC WHERE FACTORY = A.FACTORY AND OPER = A.OPER ), '-'),\n                  'HMK2','0002','HMK3','0003','HMK9','0006','HMK4','0007',\n                  LPAD((SELECT SEQ_NUM-1 FROM MWIPFLWOPR WHERE FACTORY = A.FACTORY AND FLOW = A.FLOW AND OPER = A.OPER),4,'0'))))   VR_8\n , DECODE(A.OPER||A.FLOW,'T1300HKAB', '8','TZ010HKAB', '3',\n     NVL((SELECT SEQ_NUM-1 FROM MWIPFLWOPR WHERE FACTORY = A.FACTORY AND FLOW = A.FLOW AND OPER = A.OPER), '0'))   VR_9\n , DECODE(A.OPER||A.FLOW,'T1300HKAB', 'PACKING','TZ010HKAB', 'Assy Final Stock',\n     DECODE(NVL((SELECT SEC_OPER FROM V_MWIPOPRDEF_SEC WHERE FACTORY = A.FACTORY AND OPER = A.OPER ), '-'),\n                  'HMK2','Assy Home Stock','HMK3','Assy Final Stock','HMK9','Test Home Stock','HMK4','Test Final Stock',\n                  NVL((SELECT OPER_DESC FROM V_MWIPOPRDEF_SEC WHERE FACTORY = A.FACTORY AND OPER = A.OPER ), '-')))   VR_10\n , A.OPER_IN_TIME    VR_11\n , DECODE(A.OPER||A.FLOW,'T1300HKAB', 'ASSY','TZ010HKAB', 'ASSY', DECODE(A.FACTORY, 'HMKT1', 'TEST', 'HMKA1', 'ASSY', '-'))    VR_12\n , NVL((SELECT DECODE(A.OPER||A.FLOW,'TZ010HKAB', SEC_OPER_AREA_COB ,SEC_OPER_AREA) FROM V_MWIPOPRDEF_SEC WHERE FACTORY = A.FACTORY AND OPER = A.OPER ), '-')   VR_13\n , NVL(TRIM(A.QTY_1), 0)   VR_14\n , NVL(TRIM(A.QTY_2), 0)   VR_15\n , 'C'     VR_16\n , F_GET_HOLD_FLAG_CODE(A.LOT_ID, A.MAT_ID, A.HOLD_FLAG, A.HOLD_CODE, 'FLAG' )    VR_17\n , F_GET_HOLD_FLAG_CODE(A.LOT_ID, A.MAT_ID, A.HOLD_FLAG, A.HOLD_CODE, 'CODE' )    VR_18\n , DECODE(A.HOLD_FLAG, 'Y', A.LAST_TRAN_TIME, ' ')    VR_19\n , NVL((SELECT ATTR_VALUE FROM MATRNAMSTS WHERE FACTORY = A.FACTORY AND ATTR_TYPE = 'LOT_SEC_INFO' AND ATTR_NAME = 'NCFCODE' AND ATTR_KEY = TRIM(A.LOT_CMF_1)), '*')   VR_20\n , NVL((SELECT ATTR_VALUE FROM MATRNAMSTS WHERE FACTORY = A.FACTORY AND ATTR_TYPE = 'LOT_SEC_INFO' AND ATTR_NAME = 'NCACODE' AND ATTR_KEY = TRIM(A.LOT_CMF_1)), '*')   VR_21\n , NVL((SELECT ATTR_VALUE FROM MATRNAMSTS WHERE FACTORY = A.FACTORY AND ATTR_TYPE = 'LOT_SEC_INFO' AND ATTR_NAME = 'NCTCODE' AND ATTR_KEY = TRIM(A.LOT_CMF_1)), '*')   VR_22\n , NVL((SELECT ATTR_VALUE FROM MATRNAMSTS WHERE FACTORY = A.FACTORY AND ATTR_TYPE = 'LOT_SEC_INFO' AND ATTR_NAME = 'NCQCODE' AND ATTR_KEY = TRIM(A.LOT_CMF_1)), '*')   VR_23\n , NVL((SELECT ATTR_VALUE FROM MATRNAMSTS WHERE FACTORY = A.FACTORY AND ATTR_TYPE = 'LOT_SEC_INFO' AND ATTR_NAME = 'OTHER' AND ATTR_KEY = TRIM(A.LOT_CMF_1)), '*')   VR_24\n , NVL((SELECT SUM(DECODE(TRAN_CODE, 'LOSS', (OLD_QTY_1 - QTY_1), QTY_1)) \n               FROM MWIPLOTHIS \n              WHERE LOT_ID = A.LOT_ID \n                AND TRAN_CODE IN ('LOSS', 'TERMINATE')\n                AND HIST_DEL_FLAG = ' '\n                AND TRAN_TIME BETWEEN F_GET_TIME(TO_CHAR(SYSDATE, 'YYYYMMDDHH24MISS'),'SE') \n                                  AND TO_CHAR(SYSDATE, 'YYYYMMDDHH24MISS')), 0)         VR_25\n , NVL((SELECT SUM(TOTAL_BONUS_QTY) \n               FROM MWIPLOTBNS \n              WHERE LOT_ID = A.LOT_ID\n                AND TRAN_TIME BETWEEN F_GET_TIME(TO_CHAR(SYSDATE, 'YYYYMMDDHH24MISS'),'SE') \n                                  AND TO_CHAR(SYSDATE, 'YYYYMMDDHH24MISS')), 0)    VR_26\n , '-'    VR_27\n , '-'    VR_28\n , TO_CHAR(SYSDATE,'YYYYMMDDHH24MISS')     VR_29\n , GET_WORK_DATE_EDI(TO_CHAR(SYSDATE, 'YYYYMMDDHH24MISS'),'D')  VR_30\n , MESMGR.PK_SEC_MES_IF.MakeInkless_OMS_WIP(A.FACTORY, A.LOT_ID)  VR_31\n  FROM MWIPLOTSTS A\n WHERE 1 = 1\n   AND FACTORY IN ('HMKT1','HMKA1') \n   AND LOT_CMF_2 = 'SE'   \n   AND OWNER_CODE = 'PROD'\n   AND LOT_TYPE = 'W'\n   AND LOT_DEL_FLAG = ' ' \n   AND CREATE_CODE <> 'FREE' \n   AND MAT_ID LIKE 'SE'||(SELECT DATA_1 FROM MGCMTBLDAT WHERE FACTORY = 'HMKA1' AND TABLE_NAME = 'H_SPECIAL_CHAR' AND KEY_1 = '1')\n   AND OPER BETWEEN 'A0000' AND 'TZ010'\n   AND MAT_ID NOT LIKE 'SEKY'||(SELECT DATA_1 FROM MGCMTBLDAT WHERE FACTORY = 'HMKA1' AND TABLE_NAME = 'H_SPECIAL_CHAR' AND KEY_1 = '1')  --- 영업  요청으로 하드코딩 170412. SEKY%\n)","CREATE_USER":"6","CREATE_DATE":"2021-11-23 04:53:33","DBTYPE":"MES"}]
2022-11-16 12:00:01 [EDI System] info: 
        SELECT * FROM (
            SELECT *
            FROM EDI_QUERY_SETTING
            WHERE 1=1
            AND SETTING_ID = (
                SELECT ID
                FROM CG_CUSTOMER 
                WHERE PARENT = (
                    SELECT ID
                    FROM CG_CUSTOMER 
                    WHERE ID=(
                        SELECT PARENT
                        FROM CG_CUSTOMER 
                        WHERE ID=(
                            SELECT PARENT 
                            FROM CG_CUSTOMER 
                            WHERE ID=:id
                        )
                    )
                )
                AND LOWER(NAME) = 'common'
            )
            AND TYPE IN ('DB','TEXT')
            AND KEY NOT IN (SELECT KEY
                            FROM EDI_QUERY_SETTING
                            WHERE 1=1
                            AND SETTING_ID = :id
                            AND TYPE IN ('DB','TEXT'))
            UNION ALL
            SELECT *
            FROM EDI_QUERY_SETTING
            WHERE 1=1
            AND SETTING_ID = :id
            AND TYPE IN ('DB','TEXT')
        )
        ORDER BY LENGTH(KEY) DESC
    
2022-11-16 12:00:01 [EDI System] info: [{"ROWNUM":4,"ID":"147","SETTING_ID":"143","KEY":null,"TYPE":"Main","QUERY":"SELECT \n  RPAD(VR_1,  5, ' ')\n, RPAD(VR_2, 30, ' ')\n, RPAD(VR_3, 15, ' ')\n, RPAD(VR_4, 15, ' ')\n, RPAD(VR_5,  2, ' ')\n, RPAD(VR_6,  2, ' ')\n, RPAD(VR_7, 20, ' ')\n, RPAD(VR_8, 30, ' ')\n, RPAD(VR_9, 16, ' ')\n, RPAD(VR_10, 24, ' ')\n, RPAD(VR_11, 14, ' ')\n, RPAD(VR_12,  4, ' ')\n, RPAD(VR_13,  4, ' ')\n, LPAD(VR_14, 10, ' ')\n, LPAD(VR_15, 10, ' ')\n, RPAD(VR_16,  1, ' ')\n, RPAD(VR_17,  2, ' ')\n, RPAD(VR_18, 10, ' ')\n, RPAD(VR_19, 14, ' ')\n, RPAD(VR_20, 20, ' ')\n, RPAD(VR_21, 20, ' ')\n, RPAD(VR_22, 20, ' ')\n, RPAD(VR_23, 20, ' ')\n, RPAD(VR_24, 20, ' ')\n, LPAD(VR_25, 10, ' ')\n, LPAD(VR_26, 10, ' ')\n, RPAD(VR_27,  1, ' ')\n, RPAD(VR_28, 65, ' ')\n, RPAD(VR_29, 14, ' ')\n, RPAD(VR_30,  8, ' ')\n, RPAD(VR_31, 1024, ' ')\nFROM \n(\nSELECT 'LS1HM'   VR_1\n , NVL((SELECT MAT_CMF_7 FROM MWIPMATDEF WHERE FACTORY = A.FACTORY AND MAT_ID = A.MAT_ID AND MAT_VER = A.MAT_VER), '-')   VR_2\n , F_GET_ASSY_RUNID(' ', A.LOT_ID, A.LOT_CMF_4)   VR_3\n , NVL(TRIM(A.LOT_CMF_1), '-')   VR_4\n , NVL(TRIM(A.LOT_CMF_5),'-')   VR_5\n , NVL((SELECT ATTR_VALUE FROM MATRNAMSTS WHERE FACTORY = A.FACTORY AND ATTR_TYPE = 'LOT_SEC_INFO' AND ATTR_NAME = 'RTN_TYPE' AND ATTR_KEY = TRIM(A.LOT_CMF_1)), '**')   VR_6\n , DECODE(A.OPER||A.FLOW,'T1300HKAB', 'HGAK','TZ010HKAB', 'BASIC',\n     DECODE(NVL((SELECT SEC_OPER FROM V_MWIPOPRDEF_SEC WHERE FACTORY = A.FACTORY AND OPER = A.OPER ), '-'),\n                  'HMK2','BASIC','HMK3','BASIC','HMK9','BASIC','HMK4','BASIC',\n                  NVL(FLOW, '-')))   VR_7\n , DECODE(A.OPER||A.FLOW,'T1300HKAB', '0008','TZ010HKAB', '0003',\n     TRIM(DECODE(NVL((SELECT SEC_OPER FROM V_MWIPOPRDEF_SEC WHERE FACTORY = A.FACTORY AND OPER = A.OPER ), '-'),\n                  'HMK2','0002','HMK3','0003','HMK9','0006','HMK4','0007',\n                  LPAD((SELECT SEQ_NUM-1 FROM MWIPFLWOPR WHERE FACTORY = A.FACTORY AND FLOW = A.FLOW AND OPER = A.OPER),4,'0'))))   VR_8\n , DECODE(A.OPER||A.FLOW,'T1300HKAB', '8','TZ010HKAB', '3',\n     NVL((SELECT SEQ_NUM-1 FROM MWIPFLWOPR WHERE FACTORY = A.FACTORY AND FLOW = A.FLOW AND OPER = A.OPER), '0'))   VR_9\n , DECODE(A.OPER||A.FLOW,'T1300HKAB', 'PACKING','TZ010HKAB', 'Assy Final Stock',\n     DECODE(NVL((SELECT SEC_OPER FROM V_MWIPOPRDEF_SEC WHERE FACTORY = A.FACTORY AND OPER = A.OPER ), '-'),\n                  'HMK2','Assy Home Stock','HMK3','Assy Final Stock','HMK9','Test Home Stock','HMK4','Test Final Stock',\n                  NVL((SELECT OPER_DESC FROM V_MWIPOPRDEF_SEC WHERE FACTORY = A.FACTORY AND OPER = A.OPER ), '-')))   VR_10\n , A.OPER_IN_TIME    VR_11\n , DECODE(A.OPER||A.FLOW,'T1300HKAB', 'ASSY','TZ010HKAB', 'ASSY', DECODE(A.FACTORY, 'HMKT1', 'TEST', 'HMKA1', 'ASSY', '-'))    VR_12\n , NVL((SELECT DECODE(A.OPER||A.FLOW,'TZ010HKAB', SEC_OPER_AREA_COB ,SEC_OPER_AREA) FROM V_MWIPOPRDEF_SEC WHERE FACTORY = A.FACTORY AND OPER = A.OPER ), '-')   VR_13\n , NVL(TRIM(A.QTY_1), 0)   VR_14\n , NVL(TRIM(A.QTY_2), 0)   VR_15\n , 'C'     VR_16\n , F_GET_HOLD_FLAG_CODE(A.LOT_ID, A.MAT_ID, A.HOLD_FLAG, A.HOLD_CODE, 'FLAG' )    VR_17\n , F_GET_HOLD_FLAG_CODE(A.LOT_ID, A.MAT_ID, A.HOLD_FLAG, A.HOLD_CODE, 'CODE' )    VR_18\n , DECODE(A.HOLD_FLAG, 'Y', A.LAST_TRAN_TIME, ' ')    VR_19\n , NVL((SELECT ATTR_VALUE FROM MATRNAMSTS WHERE FACTORY = A.FACTORY AND ATTR_TYPE = 'LOT_SEC_INFO' AND ATTR_NAME = 'NCFCODE' AND ATTR_KEY = TRIM(A.LOT_CMF_1)), '*')   VR_20\n , NVL((SELECT ATTR_VALUE FROM MATRNAMSTS WHERE FACTORY = A.FACTORY AND ATTR_TYPE = 'LOT_SEC_INFO' AND ATTR_NAME = 'NCACODE' AND ATTR_KEY = TRIM(A.LOT_CMF_1)), '*')   VR_21\n , NVL((SELECT ATTR_VALUE FROM MATRNAMSTS WHERE FACTORY = A.FACTORY AND ATTR_TYPE = 'LOT_SEC_INFO' AND ATTR_NAME = 'NCTCODE' AND ATTR_KEY = TRIM(A.LOT_CMF_1)), '*')   VR_22\n , NVL((SELECT ATTR_VALUE FROM MATRNAMSTS WHERE FACTORY = A.FACTORY AND ATTR_TYPE = 'LOT_SEC_INFO' AND ATTR_NAME = 'NCQCODE' AND ATTR_KEY = TRIM(A.LOT_CMF_1)), '*')   VR_23\n , NVL((SELECT ATTR_VALUE FROM MATRNAMSTS WHERE FACTORY = A.FACTORY AND ATTR_TYPE = 'LOT_SEC_INFO' AND ATTR_NAME = 'OTHER' AND ATTR_KEY = TRIM(A.LOT_CMF_1)), '*')   VR_24\n , NVL((SELECT SUM(DECODE(TRAN_CODE, 'LOSS', (OLD_QTY_1 - QTY_1), QTY_1)) \n               FROM MWIPLOTHIS \n              WHERE LOT_ID = A.LOT_ID \n                AND TRAN_CODE IN ('LOSS', 'TERMINATE')\n                AND HIST_DEL_FLAG = ' '\n                AND TRAN_TIME BETWEEN F_GET_TIME(TO_CHAR(SYSDATE, 'YYYYMMDDHH24MISS'),'SE') \n                                  AND TO_CHAR(SYSDATE, 'YYYYMMDDHH24MISS')), 0)         VR_25\n , NVL((SELECT SUM(TOTAL_BONUS_QTY) \n               FROM MWIPLOTBNS \n              WHERE LOT_ID = A.LOT_ID\n                AND TRAN_TIME BETWEEN F_GET_TIME(TO_CHAR(SYSDATE, 'YYYYMMDDHH24MISS'),'SE') \n                                  AND TO_CHAR(SYSDATE, 'YYYYMMDDHH24MISS')), 0)    VR_26\n , '-'    VR_27\n , '-'    VR_28\n , TO_CHAR(SYSDATE,'YYYYMMDDHH24MISS')     VR_29\n , GET_WORK_DATE_EDI(TO_CHAR(SYSDATE, 'YYYYMMDDHH24MISS'),'D')  VR_30\n , MESMGR.PK_SEC_MES_IF.MakeInkless_OMS_WIP(A.FACTORY, A.LOT_ID)  VR_31\n  FROM MWIPLOTSTS A\n WHERE 1 = 1\n   AND FACTORY IN ('HMKT1','HMKA1') \n   AND LOT_CMF_2 = 'SE'   \n   AND OWNER_CODE = 'PROD'\n   AND LOT_TYPE = 'W'\n   AND LOT_DEL_FLAG = ' ' \n   AND CREATE_CODE <> 'FREE' \n   AND MAT_ID LIKE 'SE'||(SELECT DATA_1 FROM MGCMTBLDAT WHERE FACTORY = 'HMKA1' AND TABLE_NAME = 'H_SPECIAL_CHAR' AND KEY_1 = '1')\n   AND OPER BETWEEN 'A0000' AND 'TZ010'\n   AND MAT_ID NOT LIKE 'SEKY'||(SELECT DATA_1 FROM MGCMTBLDAT WHERE FACTORY = 'HMKA1' AND TABLE_NAME = 'H_SPECIAL_CHAR' AND KEY_1 = '1')  --- 영업  요청으로 하드코딩 170412. SEKY%\n)","CREATE_USER":"6","CREATE_DATE":"2021-11-24 03:06:40","DBTYPE":"MES"}]
2022-11-16 12:00:01 [EDI System] info: 
        SELECT * FROM (
            SELECT *
            FROM EDI_QUERY_SETTING
            WHERE 1=1
            AND SETTING_ID = (
                SELECT ID
                FROM CG_CUSTOMER 
                WHERE PARENT = (
                    SELECT ID
                    FROM CG_CUSTOMER 
                    WHERE ID=(
                        SELECT PARENT
                        FROM CG_CUSTOMER 
                        WHERE ID=(
                            SELECT PARENT 
                            FROM CG_CUSTOMER 
                            WHERE ID=:id
                        )
                    )
                )
                AND LOWER(NAME) = 'common'
            )
            AND TYPE IN ('DB','TEXT')
            AND KEY NOT IN (SELECT KEY
                            FROM EDI_QUERY_SETTING
                            WHERE 1=1
                            AND SETTING_ID = :id
                            AND TYPE IN ('DB','TEXT'))
            UNION ALL
            SELECT *
            FROM EDI_QUERY_SETTING
            WHERE 1=1
            AND SETTING_ID = :id
            AND TYPE IN ('DB','TEXT')
        )
        ORDER BY LENGTH(KEY) DESC
    
2022-11-16 12:00:01 [EDI System] info: [{"ID":"137","SETTING_ID":"129","KEY":"todayHH24MISS","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE,'YYYYMMDDHH24MISS') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-11-12 05:20:22","DBTYPE":"MES"},{"ID":"124","SETTING_ID":"129","KEY":"todayHH24_M1H","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE - 1/24,'YYYYMMDDHH24') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-10-15 01:40:03","DBTYPE":"MES"},{"ID":"122","SETTING_ID":"129","KEY":"todayHH24","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE,'YYYYMMDDHH24') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-10-15 11:47:10","DBTYPE":"MES"},{"ID":"115","SETTING_ID":"129","KEY":"today_yy","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE,'YYYYMMDDHH24') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-09-24 08:46:51","DBTYPE":"MES"},{"ID":"130","SETTING_ID":"129","KEY":"today","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE,'YYYYMMDD') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-11-09 03:36:41","DBTYPE":"MES"}]
2022-11-16 12:00:01 [EDI System] info: [{"ID":"137","SETTING_ID":"129","KEY":"todayHH24MISS","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE,'YYYYMMDDHH24MISS') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-11-12 05:20:22","DBTYPE":"MES"},{"ID":"124","SETTING_ID":"129","KEY":"todayHH24_M1H","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE - 1/24,'YYYYMMDDHH24') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-10-15 01:40:03","DBTYPE":"MES"},{"ID":"122","SETTING_ID":"129","KEY":"todayHH24","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE,'YYYYMMDDHH24') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-10-15 11:47:10","DBTYPE":"MES"},{"ID":"115","SETTING_ID":"129","KEY":"today_yy","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE,'YYYYMMDDHH24') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-09-24 08:46:51","DBTYPE":"MES"},{"ID":"130","SETTING_ID":"129","KEY":"today","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE,'YYYYMMDD') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-11-09 03:36:41","DBTYPE":"MES"}]
2022-11-16 12:00:01 [EDI System] info: [{"ID":"137","SETTING_ID":"129","KEY":"todayHH24MISS","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE,'YYYYMMDDHH24MISS') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-11-12 05:20:22","DBTYPE":"MES"},{"ID":"124","SETTING_ID":"129","KEY":"todayHH24_M1H","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE - 1/24,'YYYYMMDDHH24') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-10-15 01:40:03","DBTYPE":"MES"},{"ID":"122","SETTING_ID":"129","KEY":"todayHH24","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE,'YYYYMMDDHH24') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-10-15 11:47:10","DBTYPE":"MES"},{"ID":"115","SETTING_ID":"129","KEY":"today_yy","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE,'YYYYMMDDHH24') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-09-24 08:46:51","DBTYPE":"MES"},{"ID":"130","SETTING_ID":"129","KEY":"today","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE,'YYYYMMDD') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-11-09 03:36:41","DBTYPE":"MES"}]
2022-11-16 12:01:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 12:02:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 12:03:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 12:04:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 12:04:00 [EDI System] info: Job Start Time > {"min":4,"hour":12,"date":16,"month":11,"day":3}
 {"ID":100,"CFG_ID":"135","FILE_NAME":"LOTEVENT_HM:todayHH24","FILE_DESC":"SEC LOTEVENT 1/1HR","FILE_SAVE_FOLDER":"D:/HM_EDI/SEC/OUT","FILE_CHARSET":"utf-8","FILE_TYPE":"ff","DATA_TYPE":"text","FTP_ENV_ID":"100","SEND_FLAG":"Y","NODATASEND":null,"SCHEDULE_MIN":"4","SCHEDULE_HOUR":"*","SCHEDULE_DAY":"*","SCHEDULE_WEEK":"*","SCHEDULE_MONTH":"*","CM_F01":null,"CM_F02":null,"CREATE_DATE":null,"CREATE_USER":null,"UPDATE_DATE":"2021-12-16 09:23:19","UPDATE_USER":"6","DELETE_DATE":null,"DELETE_USER":null,"frequency":"4 * * * *"}
2022-11-16 12:04:00 [EDI System] info: 100 >>> makeFileText Function Execute
2022-11-16 12:04:00 [EDI System] info: SELECT EDI_LOG_SEQ.NEXTVAL AS ID FROM DUAL
2022-11-16 12:04:00 [EDI System] info: SELECT EDI_LOG_SEQ.NEXTVAL AS ID FROM DUAL
2022-11-16 12:04:00 [EDI System] info: [{"ID":11063}]
2022-11-16 12:04:00 [EDI System] info: seq : return Key [{"ID":11063}]
2022-11-16 12:04:00 [EDI System] info: saveAllLogger => ID:11063, NAME:LOTEVENT_HM:todayHH24, ProcessID:135, Description: Job Start : ID=100, CFG_ID=135, FTP_ENV_ID=100, FILE_NAME=LOTEVENT_HM:todayHH24, FILE_DESC=SEC LOTEVENT 1/1HR, FILE_CHARSET=utf-8, FILE_TYPE=ff
2022-11-16 12:04:00 [EDI System] info: INSERT INTO EDI_LOG(ID, STEP, NAME, PROCESS_ID, DESCRIPTION, CREATE_USER, CREATE_DATE)
    VALUES(:id, :stepId, :name, :process_id, :description, 'DAEMON', TO_CHAR(SYSDATE,'YYYYMMDDHH24MISS'))
2022-11-16 12:04:00 [EDI System] info: Insert successful = SQL: INSERT INTO EDI_LOG(ID, STEP, NAME, PROCESS_ID, DESCRIPTION, CREATE_USER, CREATE_DATE)
    VALUES(:id, :stepId, :name, :process_id, :description, 'DAEMON', TO_CHAR(SYSDATE,'YYYYMMDDHH24MISS')) | Params: {"id":11063,"stepId":"1","name":"LOTEVENT_HM:todayHH24","process_id":"135","description":"Job Start : ID=100, CFG_ID=135, FTP_ENV_ID=100, FILE_NAME=LOTEVENT_HM:todayHH24, FILE_DESC=SEC LOTEVENT 1/1HR, FILE_CHARSET=utf-8, FILE_TYPE=ff"} / 1
2022-11-16 12:04:00 [EDI System] info: 
    SELECT *
    FROM (
        SELECT ROWNUM,A.*
            FROM EDI_QUERY_SETTING A
            WHERE SETTING_ID = :id
            AND TYPE='Main'
            ORDER BY ID DESC
        ) 
    WHERE ROWNUM='1'
    
2022-11-16 12:04:00 [EDI System] info: [{"ROWNUM":16,"ID":"155","SETTING_ID":"135","KEY":null,"TYPE":"Main","QUERY":"SELECT     \n  RPAD(V1, 2,' ')\n, RPAD(V3 , 20,' ')\n, RPAD(NVL(decode(v35, 'N01', 'Multitransfer', V4), ' ') , 30,' ')\n, RPAD(V5 || LPAD(B.MILI_SEC,3,0) , 20,' ')\n, RPAD(V6 , 2,' ')\n, RPAD(V7 , 4,' ')\n, RPAD(V8 , 30,' ')\n, RPAD(V9  , 20,' ')\n, RPAD(V10 , 10,' ')\n, RPAD(V11 , 30,' ')\n, RPAD(V12 , 20,' ')\n, RPAD(V13 , 20,' ')\n, RPAD(V14 , 10,' ')\n, RPAD(V15 , 10,' ')\n, RPAD(V16 , 14,' ')\n, RPAD(V17 , 14,' ')\n, LPAD(V18 , 10,' ')\n, LPAD(V19 , 10,' ')\n, RPAD(V20 , 14,' ')\n, RPAD(V21 , 10,' ')\n, RPAD(V22 , 10,' ')\n, RPAD(V23 , 20,' ')\n, RPAD(nvl(V24,' ') , 20,' ')\n, RPAD(V25 , 30,' ')\n, RPAD(V26 , 30,' ')\n, RPAD(V27 , 20,' ')\n, RPAD(V28 , 20,' ')\n, RPAD(V29 , 65,' ')\n, RPAD(V30 , 10,' ')\n, RPAD(V31 , 2,' ')\n, RPAD(V32 , 20,' ')\n, RPAD(V33 , 14,' ')\n, RPAD(V34 , 10,' ')\n, RPAD(V35 , 10,' ')\n, RPAD(V36 , 255,' ')\n, RPAD(V37 , 255,' ')\n  FROM ( SELECT ROWNUM IDX, \n                        V0,V1,V2,V3,V4,V5,V6,V7,V8,V9,V10,V11,V12,V13,V14,V15,V16,V17,V18,V19,V20,V21,V22,V23,V24,V25,V26,V27,V28,V29,V30,V31,V32,V33,V34,V35,V36,V37\n           FROM (\n           select * from\n           (           -- 20200121 chulho.wee ; combine except\n                       SELECT C.IN_DTTM V0, 'HM'  V1\n                     , DECODE(A.FACTORY, 'HMKA1', 'ASSY', 'TEST') V2\n                     , NVL(TRIM(A.LOT_CMF_1), '-') V3\n                     , DECODE(B.DATA_1\n                              , 'END', NVL(TRIM(INITCAP(A.TRAN_CMF_1)),'TrackOut')\n                              --, 'Change', DECODE(A.TRAN_CMF_1,'PART_CHANGE','ChangeProduct')\n                              --, 'Receive', DECODE(A.OLD_OPER,'T0000','RECV_OY_HMK3', 'Receive')\n                              -- , 'Ship', DECODE(A.OLD_OPER,'TZ010','SHIP_HMK4_OY', 'Ship')\n                              , 'Change', DECODE(A.TRAN_CMF_1,'PART_CHANGE','ChangeProduct', DECODE(A.OLD_OPER, 'T0100', 'ChangeProduct','T0960','ChangeProduct', B.DATA_1))\n                              , 'Receive', DECODE(A.OLD_OPER||SUBSTR(A.MAT_ID,1,3),'T0000SES','RECV_OY_HMK3','A0000SES','RECV_KH_HMK2', 'Receive')\n                              --, 'Ship', DECODE(A.OLD_OPER,'TZ010','SHIP_HMK4_ASIMACS','AZ010','SHIP_HMK3_OY', 'Ship')\n                              , 'Ship', DECODE(A.OLD_OPER,'TZ010',DECODE(F_GET_HALF_FULL(A.LOT_ID, A.HIST_SEQ), 'Y','SHIP_HMKT_OY', 'SHIP_HMK4_ASIMACS'),'AZ010','SHIP_HMK3_OY', 'Ship')\n                              , B.DATA_1) V4\n                     , A.TRAN_TIME V5 \n                     , NVL(TRIM(A.LOT_CMF_5), '-')  V6\n                     , DECODE(B.DATA_1||A.OLD_FACTORY\n                              , 'ReceiveHMKT1', 'HMK3'\n                              , 'ShipHMKT1', 'HMK4'\n                              , DECODE(A.FACTORY, 'HMKA1', 'HMKA', 'HMKT'))  V7\n                     , NVL((SELECT MAT_CMF_7 FROM MWIPMATDEF WHERE FACTORY = A.FACTORY AND MAT_ID = A.MAT_ID AND MAT_VER = A.MAT_VER)\n                          , (SELECT MAT_CMF_7 FROM MWIPMATDEF WHERE FACTORY = A.OLD_FACTORY AND MAT_ID = A.OLD_MAT_ID AND MAT_VER = A.MAT_VER))  V8\n                     , A.FLOW  V9\n                     , DECODE(SUBSTRB(A.OLD_OPER,1,4),'AZ01','HMK3','T000','HMK3','TZ01','HMK4','A000','HMK2',SUBSTRB(A.OLD_OPER,1,4))  V10\n                     , NVL((SELECT OPER_DESC FROM MWIPOPRDEF WHERE FACTORY = A.FACTORY AND OPER = A.OLD_OPER AND FLOW = A.FLOW), ' ' )  V11\n                     , NVL((SELECT RES_GRP_3 FROM MRASRESDEF WHERE FACTORY = A.FACTORY AND RES_ID = A.START_RES_ID ),' ')  V12\n                     , NVL(START_RES_ID, ' ')  V13\n                     , NVL((SELECT DECODE(SUBSTRB(NVL(trim(PREV_OPER), 'A0000'),1,4),'AZ01','HMK3','T000','HMK3','TZ01','HMK4','A000','HMK2',SUBSTRB(NVL(trim(PREV_OPER), 'A0000'),1,4)) FROM MWIPFLWOPR WHERE FACTORY = A.FACTORY AND OPER = A.OPER AND FLOW = A.FLOW),' ')  V14\n                     , DECODE(SUBSTRB(A.OPER,1,4),'AZ01','HMK3','T000','HMK3','TZ01','HMK4','A000','HMK2',SUBSTRB(A.OPER,1,4))  V15\n                     , A.OPER_IN_TIME  V16\n                     , A.CREATE_TIME  V17\n                     , NVL(D.WAFERQTY,NVL(TRIM(A.QTY_2),0))  V18\n                     , NVL(\n                                    DECODE(TRAN_CODE,'MERGE',DECODE(FROM_TO_FLAG,'F',TRIM(A.QTY_1),TRIM(A.QTY_1))\n                                    ,TRIM(A.QTY_1))\n                                    , 0)  V19 -- CHIP_QTY_new-- 2010 10 07\n                     , A.TRAN_TIME  V20\n                     , NVL(D.WAFERQTY,NVL(TRIM(A.QTY_2),0))  V21\n                     , NVL(\n                                    DECODE(TRAN_CODE,'MERGE',DECODE(FROM_TO_FLAG,'F',TRIM(A.OLD_QTY_1),'T',TRIM(A.QTY_1-A.OLD_QTY_1),TRIM(A.QTY_1)) --,TRIM(A.QTY_1))\n                                                    ,'SPLIT',DECODE(FROM_TO_FLAG,'F',abs(A.OLD_QTY_1-A.QTY_1),TRIM(A.QTY_1))\n                                                    ,'LOSS',(A.OLD_QTY_1 - QTY_1)\n                                                    ,TRIM(A.QTY_1))\n                                   , 0)  V22 -- EVENT_QTY_new -- 2010 10 07\n                     , NVL((SELECT LOT_STATE FROM V_SECLOTSTS WHERE FACTORY = A.FACTORY AND LOT_ID = A.LOT_ID AND HIST_SEQ = A.HIST_SEQ ),' ')  V23\n                     , DECODE(TRAN_CODE,'SPLIT',DECODE(FROM_TO_FLAG,'T','Splitted','Split'),\n                                        'MERGE',DECODE(FROM_TO_FLAG,'T','Merge','Merged'),\n                                        'PMERGE',DECODE(FROM_TO_FLAG,'T','Merge','Merged')\n                                      )  V24\n                     , DECODE(TRAN_CODE, 'SPLIT',DECODE(FROM_TO_FLAG,'F',' ',NVL(TRIM(A.FROM_TO_LOT_ID), TRIM(A.LOT_CMF_1)))\n                                       , 'MERGE',DECODE(FROM_TO_FLAG,'F',TRIM(A.FROM_TO_LOT_ID),NVL(TRIM(A.FROM_TO_LOT_ID), TRIM(A.LOT_CMF_1)))\n                                       , DECODE(TRAN_CODE,'ADAPT',F_GET_CHG_PREV_VAL(A.LOT_ID,A.HIST_SEQ,'ADAPT','MAT_ID',-1),F_GET_CHG_PREV_VAL(A.LOT_ID,A.HIST_SEQ,TRAN_CODE,'MAT_ID',-1))\n                                       )  V25\n                     , DECODE(TRAN_CODE, 'SPLIT',DECODE(FROM_TO_FLAG,'T',' ',NVL(TRIM(A.FROM_TO_LOT_ID), TRIM(A.LOT_CMF_1)))\n                                       , 'MERGE',DECODE(FROM_TO_FLAG,'T',TRIM(A.FROM_TO_LOT_ID),NVL(TRIM(A.FROM_TO_LOT_ID), TRIM(A.LOT_CMF_1)))\n                                       , DECODE(TRAN_CODE,'ADAPT',F_GET_CHG_PREV_VAL(A.LOT_ID,A.HIST_SEQ,'ADAPT','MAT_ID',1),F_GET_CHG_PREV_VAL(A.LOT_ID,A.HIST_SEQ,TRAN_CODE,'MAT_ID',1))\n                                       )  V26\n                     , DECODE(TRAN_CODE, 'SPLIT',DECODE(FROM_TO_FLAG,'T',' ',NVL(TRIM(A.FROM_TO_LOT_ID), TRIM(A.LOT_CMF_1)))\n                                       , 'MERGE',DECODE(FROM_TO_FLAG,'F',TRIM(A.LOT_CMF_1),NVL(TRIM(A.FROM_TO_LOT_ID), TRIM(A.LOT_CMF_1)))\n                                       , ' ')  V27\n                     , DECODE(TRAN_CODE, 'SPLIT',DECODE(FROM_TO_FLAG,'F',' ',NVL(TRIM(A.FROM_TO_LOT_ID), TRIM(A.LOT_CMF_1)))\n                                       , 'MERGE',DECODE(FROM_TO_FLAG,'T',TRIM(A.LOT_CMF_1),NVL(TRIM(A.FROM_TO_LOT_ID), TRIM(A.LOT_CMF_1)))\n                                       , ' ')  V28\n                     , ' '  V29\n                     , DECODE(TRAN_CODE, 'HOLD',HOLD_CODE, ' ')  V30\n                     , F_GET_ATTR_VALUE(A.LOT_ID, 'LOT_SEC_INFO','RETURN_CODE')  V31\n                     , NVL(TRIM(A.LOT_CMF_4), '-')  V32\n                     , TO_CHAR(SYSDATE, 'YYYYMMDDHH24MISS')  V33\n                     , A.START_QTY_1  V34\n                     , NVL((SELECT MAX(LOSS_CODE_1) FROM MWIPLOTLOS WHERE FACTORY = A.FACTORY AND OPER = A.OLD_OPER AND FLOW = A.FLOW AND LOT_ID = A.LOT_ID), ' ' )  V35\n                     , NVL((SELECT ATTR_VALUE FROM MATRNAMSTS WHERE FACTORY = 'HMKA1' AND ATTR_TYPE = 'LOT_SEC_INFO' AND ATTR_NAME = 'WORDER' AND ATTR_KEY  = A.LOT_ID ), ' ') V36\n                     , NVL((SELECT ATTR_VALUE FROM MATRNAMSTS WHERE FACTORY = 'HMKA1' AND ATTR_TYPE = 'LOT_SEC_INFO' AND ATTR_NAME = 'WORDER' AND ATTR_KEY  = A.LOT_ID ), ' ') V37\n                          FROM MWIPLOTHIS A \n                             , CWIPSITDEF B\n                             , CEDILOTHIS C\n                             , V_CLOTWAFQTY D\n                         WHERE 1 = 1\n                           AND A.FACTORY IN ('HMKA1', 'HMKT1','CUSTOMER')    \n                           AND A.OWNER_CODE = 'PROD'\n                           AND A.LOT_TYPE = 'W'\n                           AND A.HIST_DEL_FLAG = ' '\n                           AND A.LOT_CMF_2 = 'SE'\n                           AND A.TRAN_TIME >= :todayHH24_M1H ||'000000'\n                           AND A.TRAN_TIME <  :todayHH24 ||'000000'\n                           AND B.TABLE_NAME='H_EDI_TRAN'\n                           AND B.KEY_1='SE'\n                           AND A.TRAN_CODE = B.KEY_2   \n                           AND B.DATA_1 <> ' '   \n                           AND B.FACTORY = 'HMKA1'\n                           AND (A.TRAN_CODE <> 'START' OR A.TRAN_CMF_1 IN ('ISSUE','CLOSE'))\n                           AND (A.TRAN_CODE <> 'ADAPT' OR A.ADD_ORDER_ID_2 NOT IN ('MULTIEQP_MOT','MULTIEQP', ' ') OR A.TRAN_CMF_1 IN ('PART_CHANGE' ))\n                           AND A.OLD_FLOW > ' '\n                           AND A.LOT_ID = C.LOT_ID\n                           AND A.HIST_SEQ = C.HIST_SEQ\n                           AND A.TRAN_TIME  = C.TRAN_TIME\n                           AND A.LOT_ID = D.LOT_ID(+)\n                           AND A.OPER NOT IN ('T000N')\n                         \n                 union all\n                       -- 20200121 chulho.wee ; combine only ; merge, multitransfer\n                       SELECT C.IN_DTTM V0, 'HM'  V1\n                     , DECODE(A.FACTORY, 'HMKA1', 'ASSY', 'TEST') V2\n                     , NVL(TRIM(A.LOT_CMF_1), '-') V3\n                     , DECODE(B.DATA_1,\n                              'END', NVL(TRIM(INITCAP(A.TRAN_CMF_1)),'TrackOut'),\n                              'Change', DECODE(A.TRAN_CMF_1,'PART_CHANGE','ChangeProduct')\n                              , B.DATA_1) V4\n                     , A.TRAN_TIME V5 \n                     , NVL(TRIM(A.LOT_CMF_5), '-')  V6\n                     , DECODE(A.FACTORY, 'HMKA1', 'HMKA', 'HMKT')  V7\n                     , NVL((SELECT MAT_CMF_7 FROM MWIPMATDEF WHERE FACTORY = A.FACTORY AND MAT_ID = A.MAT_ID AND MAT_VER = A.MAT_VER)\n                          , (SELECT MAT_CMF_7 FROM MWIPMATDEF WHERE FACTORY = A.OLD_FACTORY AND MAT_ID = A.OLD_MAT_ID AND MAT_VER = A.MAT_VER))  V8\n                     , A.FLOW  V9\n                     , DECODE(SUBSTRB(A.OLD_OPER,1,4),'AZ01','HMK3','T000','HMK3','TZ01','HMK4','A000','HMK2',SUBSTRB(A.OLD_OPER,1,4))  V10\n                     , NVL((SELECT OPER_DESC FROM MWIPOPRDEF WHERE FACTORY = A.FACTORY AND OPER = A.OLD_OPER AND FLOW = A.FLOW), ' ' )  V11\n                     , NVL((SELECT RES_GRP_3 FROM MRASRESDEF WHERE FACTORY = A.FACTORY AND RES_ID = A.START_RES_ID ),' ')  V12\n                     , NVL(START_RES_ID, ' ')  V13\n                     , NVL((SELECT DECODE(SUBSTRB(NVL(trim(PREV_OPER), 'A0000'),1,4),'AZ01','HMK3','T000','HMK3','TZ01','HMK4','A000','HMK2',SUBSTRB(NVL(trim(PREV_OPER), 'A0000'),1,4)) FROM MWIPFLWOPR WHERE FACTORY = A.FACTORY AND OPER = A.OPER AND FLOW = A.FLOW),' ')  V14\n                     , DECODE(SUBSTRB(A.OPER,1,4),'AZ01','HMK3','T000','HMK3','TZ01','HMK4','A000','HMK2',SUBSTRB(A.OPER,1,4))  V15\n                     , A.OPER_IN_TIME  V16\n                     , A.CREATE_TIME  V17\n                     , NVL(D.WAFERQTY,NVL(TRIM(A.QTY_2),0))  V18\n                     , NVL(\n                                    DECODE(TRAN_CODE, 'COMBINE',DECODE(FROM_TO_FLAG,'T',TRIM(A.QTY_1+(select max(old_qty_1) from mwiplothis where lot_id = (select from_to_lot_id from mwiplothis where lot_id = a.lot_id and hist_seq = a.hist_seq) and tran_code = 'COMBINE' and hist_del_flag = ' '))\n                                                                                       ,TRIM(A.QTY_1))\n                                                    , TRIM(A.QTY_1))\n                           , 0)  V19 \n                     , A.TRAN_TIME  V20\n                     , NVL(D.WAFERQTY,NVL(TRIM(A.QTY_2),0))  V21\n                     , NVL(\n                                    DECODE(TRAN_CODE,'COMBINE',DECODE(FROM_TO_FLAG,'F',TRIM(A.OLD_QTY_1)\n                                                                                  ,'T',(select max(old_qty_1) from mwiplothis where lot_id = (select from_to_lot_id from mwiplothis where lot_id = a.lot_id and hist_seq = a.hist_seq) and tran_code = 'COMBINE' and hist_del_flag = ' ')\n                                                                                  ,TRIM(A.QTY_1)) --,TRIM(A.QTY_1))\n                                                    ,TRIM(A.QTY_1)*2)\n                           , 0)  V22 \n                     , NVL((SELECT LOT_STATE FROM V_SECLOTSTS WHERE FACTORY = A.FACTORY AND LOT_ID = A.LOT_ID AND HIST_SEQ = A.HIST_SEQ ),' ')  V23\n                     , DECODE(TRAN_CODE,'SPLIT',DECODE(FROM_TO_FLAG,'T','Splitted','Split'),\n                                        'COMBINE',DECODE(FROM_TO_FLAG,'T','Merge','Merged'),\n                                        'PMERGE',DECODE(FROM_TO_FLAG,'T','Merge','Merged')\n                                      )  V24\n                     , DECODE(TRAN_CODE, 'COMBINE',DECODE(FROM_TO_FLAG,'F',TRIM(A.FROM_TO_LOT_ID),NVL(TRIM(A.FROM_TO_LOT_ID), TRIM(A.LOT_CMF_1)))\n                                       , ' ') V25\n                     , DECODE(TRAN_CODE, 'COMBINE',DECODE(FROM_TO_FLAG,'T',TRIM(A.FROM_TO_LOT_ID),NVL(TRIM(A.FROM_TO_LOT_ID), TRIM(A.LOT_CMF_1)))\n                                       , ' ') V26\n                     , DECODE(TRAN_CODE, 'COMBINE',DECODE(FROM_TO_FLAG,'F',TRIM(A.LOT_CMF_1),NVL(TRIM(A.FROM_TO_LOT_ID), TRIM(A.LOT_CMF_1)))\n                                       , ' ')  V27\n                     , DECODE(TRAN_CODE, 'COMBINE',DECODE(FROM_TO_FLAG,'T',TRIM(A.LOT_CMF_1),NVL(TRIM(A.FROM_TO_LOT_ID), TRIM(A.LOT_CMF_1)))\n                                       , ' ')  V28\n                     , ' '  V29\n                     , DECODE(TRAN_CODE, 'HOLD',HOLD_CODE, ' ')  V30\n                     , F_GET_ATTR_VALUE(A.LOT_ID, 'LOT_SEC_INFO','RETURN_CODE')  V31\n                     , NVL(TRIM(A.LOT_CMF_4), '-')  V32\n                     , TO_CHAR(SYSDATE, 'YYYYMMDDHH24MISS')  V33\n                     , A.START_QTY_1  V34\n                     , NVL((SELECT MAX(LOSS_CODE_1) FROM MWIPLOTLOS WHERE FACTORY = A.FACTORY AND OPER = A.OLD_OPER AND FLOW = A.FLOW AND LOT_ID = A.LOT_ID), ' ' )  V35\n                     , NVL((SELECT ATTR_VALUE FROM MATRNAMSTS WHERE FACTORY = 'HMKA1' AND ATTR_TYPE = 'LOT_SEC_INFO' AND ATTR_NAME = 'WORDER' AND ATTR_KEY  = A.LOT_ID ), ' ') V36\n                     , NVL((SELECT ATTR_VALUE FROM MATRNAMSTS WHERE FACTORY = 'HMKA1' AND ATTR_TYPE = 'LOT_SEC_INFO' AND ATTR_NAME = 'WORDER' AND ATTR_KEY  = A.LOT_ID ), ' ') V37\n                          FROM MWIPLOTHIS A \n                             , CWIPSITDEF B\n                             , CEDILOTHIS C\n                             , V_CLOTWAFQTY D\n                         WHERE 1 = 1\n                           AND A.FACTORY IN ('HMKA1', 'HMKT1') --,'CUSTOMER')    \n                           AND A.OWNER_CODE = 'PROD'\n                           AND A.LOT_TYPE = 'W'\n                           AND A.HIST_DEL_FLAG = ' '\n                           AND A.LOT_CMF_2 = 'SE'\n                           AND A.TRAN_TIME >= TO_CHAR(SYSDATE-1/24,'YYYYMMDDHH24')||'000000'\n                           AND A.TRAN_TIME <  TO_CHAR(SYSDATE,'YYYYMMDDHH24')||'000000'\n                           AND B.TABLE_NAME='H_EDI_EX_TRAN'\n                           AND B.KEY_1='SE'\n                           AND A.TRAN_CODE = B.KEY_2   \n                           AND B.DATA_1 <> ' '   \n                           AND B.FACTORY = 'HMKA1'\n                           AND (A.TRAN_CODE <> 'START' OR A.TRAN_CMF_1 IN ('ISSUE','CLOSE'))\n                           AND (A.TRAN_CODE <> 'ADAPT' OR A.ADD_ORDER_ID_2 NOT IN ('MULTIEQP_MOT','MULTIEQP', ' ') OR A.TRAN_CMF_1 IN ('PART_CHANGE' ))\n                           AND A.OLD_FLOW > ' '\n                           AND A.LOT_ID = C.LOT_ID\n                           AND A.HIST_SEQ = C.HIST_SEQ\n                           AND A.TRAN_TIME  = C.TRAN_TIME\n                           AND A.LOT_ID = D.LOT_ID(+)\n                           AND A.OPER NOT IN ('T000N')\n                           AND A.OPER LIKE 'A040_'\n              )\n              order by v0\n           )) A, \n       ( SELECT ROWNUM IDX, TRAN_TIME, MILI_SEC\n           FROM (\n                   SELECT TRAN_TIME, CNT-NUM MILI_SEC\n                    FROM (\n                    select TRAN_TIME, sum(cnt) CNT\n                      from ( \n                        SELECT A.TRAN_TIME, COUNT(*) CNT\n                          FROM MWIPLOTHIS A \n                             , CWIPSITDEF B\n                             , CEDILOTHIS C\n                             , V_CLOTWAFQTY D\n                         WHERE 1 = 1\n                           AND A.FACTORY IN ('HMKA1', 'HMKT1','CUSTOMER')   \n                           AND A.OWNER_CODE = 'PROD'\n                          AND A.LOT_TYPE = 'W'\n                           AND A.HIST_DEL_FLAG = ' '\n                           AND A.LOT_CMF_2 = 'SE'\n                           AND A.TRAN_TIME >= TO_CHAR(SYSDATE-1/24,'YYYYMMDDHH24')||'000000'\n                           AND A.TRAN_TIME <  TO_CHAR(SYSDATE,'YYYYMMDDHH24')||'000000'\n                           AND B.TABLE_NAME='H_EDI_TRAN'\n                           AND B.KEY_1='SE'\n                           AND A.TRAN_CODE = B.KEY_2   \n                           AND B.DATA_1 <> ' '   \n                           AND B.FACTORY = 'HMKA1'\n                           AND (A.TRAN_CODE <> 'START' OR A.TRAN_CMF_1 IN ('ISSUE','CLOSE'))\n                           AND (A.TRAN_CODE <> 'ADAPT' OR A.ADD_ORDER_ID_2 NOT IN ('MULTIEQP_MOT','MULTIEQP', ' ') OR A.TRAN_CMF_1 IN ('PART_CHANGE' ))\n                           AND A.OLD_FLOW > ' '\n                           AND A.LOT_ID = C.LOT_ID\n                           AND A.HIST_SEQ = C.HIST_SEQ\n                           AND A.TRAN_TIME  = C.TRAN_TIME\n                           AND A.LOT_ID = D.LOT_ID(+)\n                           AND A.OPER NOT IN ('T000N')\n                         GROUP BY A.TRAN_TIME\n                         union\n                        SELECT A.TRAN_TIME, COUNT(*) CNT\n                          FROM MWIPLOTHIS A \n                             , CWIPSITDEF B\n                             , CEDILOTHIS C\n                             , V_CLOTWAFQTY D\n                         WHERE 1 = 1\n                           AND A.FACTORY IN ('HMKA1', 'HMKT1') --,'CUSTOMER')    \n                           AND A.OWNER_CODE = 'PROD'\n                           AND A.LOT_TYPE = 'W'\n                           AND A.HIST_DEL_FLAG = ' '\n                           AND A.LOT_CMF_2 = 'SE'\n                           AND A.TRAN_TIME >= :todayHH24_M1H ||'000000'\n                           AND A.TRAN_TIME <  :todayHH24 ||'000000'\n                           AND B.TABLE_NAME='H_EDI_EX_TRAN'\n                           AND B.KEY_1='SE'\n                           AND A.TRAN_CODE = B.KEY_2   \n                           AND B.DATA_1 <> ' '   \n                           AND B.FACTORY = 'HMKA1'\n                           AND (A.TRAN_CODE <> 'START' OR A.TRAN_CMF_1 IN ('ISSUE','CLOSE'))\n                           AND (A.TRAN_CODE <> 'ADAPT' OR A.ADD_ORDER_ID_2 NOT IN ('MULTIEQP_MOT','MULTIEQP', ' ') OR A.TRAN_CMF_1 IN ('PART_CHANGE' ))\n                           AND A.OLD_FLOW > ' '\n                           AND A.LOT_ID = C.LOT_ID\n                           AND A.HIST_SEQ = C.HIST_SEQ\n                           AND A.TRAN_TIME  = C.TRAN_TIME\n                           AND A.LOT_ID = D.LOT_ID(+)\n                           AND A.OPER NOT IN ('T000N')\n                           GROUP BY A.TRAN_TIME\n                           )\n                           group by TRAN_TIME\n                         ) A, COPY_T B\n                   WHERE NUM < 26 \n                     AND NUM <= CNT\n                   ORDER BY TRAN_TIME, CNT-NUM \n                  )) B\n             WHERE A.IDX=B.IDX","CREATE_USER":"6","CREATE_DATE":"2021-12-15 11:13:15","DBTYPE":"MES"}]
2022-11-16 12:04:00 [EDI System] info: 
        SELECT * FROM (
            SELECT *
            FROM EDI_QUERY_SETTING
            WHERE 1=1
            AND SETTING_ID = (
                SELECT ID
                FROM CG_CUSTOMER 
                WHERE PARENT = (
                    SELECT ID
                    FROM CG_CUSTOMER 
                    WHERE ID=(
                        SELECT PARENT
                        FROM CG_CUSTOMER 
                        WHERE ID=(
                            SELECT PARENT 
                            FROM CG_CUSTOMER 
                            WHERE ID=:id
                        )
                    )
                )
                AND LOWER(NAME) = 'common'
            )
            AND TYPE IN ('DB','TEXT')
            AND KEY NOT IN (SELECT KEY
                            FROM EDI_QUERY_SETTING
                            WHERE 1=1
                            AND SETTING_ID = :id
                            AND TYPE IN ('DB','TEXT'))
            UNION ALL
            SELECT *
            FROM EDI_QUERY_SETTING
            WHERE 1=1
            AND SETTING_ID = :id
            AND TYPE IN ('DB','TEXT')
        )
        ORDER BY LENGTH(KEY) DESC
    
2022-11-16 12:04:00 [EDI System] info: [{"ID":"137","SETTING_ID":"129","KEY":"todayHH24MISS","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE,'YYYYMMDDHH24MISS') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-11-12 05:20:22","DBTYPE":"MES"},{"ID":"124","SETTING_ID":"129","KEY":"todayHH24_M1H","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE - 1/24,'YYYYMMDDHH24') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-10-15 01:40:03","DBTYPE":"MES"},{"ID":"122","SETTING_ID":"129","KEY":"todayHH24","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE,'YYYYMMDDHH24') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-10-15 11:47:10","DBTYPE":"MES"},{"ID":"115","SETTING_ID":"129","KEY":"today_yy","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE,'YYYYMMDDHH24') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-09-24 08:46:51","DBTYPE":"MES"},{"ID":"130","SETTING_ID":"129","KEY":"today","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE,'YYYYMMDD') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-11-09 03:36:41","DBTYPE":"MES"}]
2022-11-16 12:05:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 12:06:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 12:07:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 12:08:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 12:09:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 12:10:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 12:11:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 12:12:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 12:13:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 12:13:00 [EDI System] info: Job Start Time > {"min":13,"hour":12,"date":16,"month":11,"day":3}
 {"ID":121,"CFG_ID":"159","FILE_NAME":"CMEQPUNT_HM:today","FILE_DESC":"SEC CMEQPUNT 1/1day","FILE_SAVE_FOLDER":"D:/HM_EDI/SEC/OUT","FILE_CHARSET":"ascii","FILE_TYPE":"ff","DATA_TYPE":"text","FTP_ENV_ID":"100","SEND_FLAG":"Y","NODATASEND":"false","SCHEDULE_MIN":"13","SCHEDULE_HOUR":"*","SCHEDULE_DAY":"*","SCHEDULE_WEEK":"*","SCHEDULE_MONTH":"*","CM_F01":null,"CM_F02":null,"CREATE_DATE":"2021-12-10 09:44:41","CREATE_USER":"6","UPDATE_DATE":"2021-12-15 04:08:07","UPDATE_USER":"6","DELETE_DATE":null,"DELETE_USER":null,"frequency":"13 * * * *"}
2022-11-16 12:13:00 [EDI System] info: 121 >>> makeFileText Function Execute
2022-11-16 12:13:00 [EDI System] info: SELECT EDI_LOG_SEQ.NEXTVAL AS ID FROM DUAL
2022-11-16 12:13:00 [EDI System] info: SELECT EDI_LOG_SEQ.NEXTVAL AS ID FROM DUAL
2022-11-16 12:13:00 [EDI System] info: [{"ID":11064}]
2022-11-16 12:13:00 [EDI System] info: seq : return Key [{"ID":11064}]
2022-11-16 12:13:00 [EDI System] info: saveAllLogger => ID:11064, NAME:CMEQPUNT_HM:today, ProcessID:159, Description: Job Start : ID=121, CFG_ID=159, FTP_ENV_ID=100, FILE_NAME=CMEQPUNT_HM:today, FILE_DESC=SEC CMEQPUNT 1/1day, FILE_CHARSET=ascii, FILE_TYPE=ff
2022-11-16 12:13:00 [EDI System] info: INSERT INTO EDI_LOG(ID, STEP, NAME, PROCESS_ID, DESCRIPTION, CREATE_USER, CREATE_DATE)
    VALUES(:id, :stepId, :name, :process_id, :description, 'DAEMON', TO_CHAR(SYSDATE,'YYYYMMDDHH24MISS'))
2022-11-16 12:13:00 [EDI System] info: Insert successful = SQL: INSERT INTO EDI_LOG(ID, STEP, NAME, PROCESS_ID, DESCRIPTION, CREATE_USER, CREATE_DATE)
    VALUES(:id, :stepId, :name, :process_id, :description, 'DAEMON', TO_CHAR(SYSDATE,'YYYYMMDDHH24MISS')) | Params: {"id":11064,"stepId":"1","name":"CMEQPUNT_HM:today","process_id":"159","description":"Job Start : ID=121, CFG_ID=159, FTP_ENV_ID=100, FILE_NAME=CMEQPUNT_HM:today, FILE_DESC=SEC CMEQPUNT 1/1day, FILE_CHARSET=ascii, FILE_TYPE=ff"} / 1
2022-11-16 12:13:00 [EDI System] info: 
    SELECT *
    FROM (
        SELECT ROWNUM,A.*
            FROM EDI_QUERY_SETTING A
            WHERE SETTING_ID = :id
            AND TYPE='Main'
            ORDER BY ID DESC
        ) 
    WHERE ROWNUM='1'
    
2022-11-16 12:13:00 [EDI System] info: [{"ROWNUM":1,"ID":"157","SETTING_ID":"159","KEY":null,"TYPE":"Main","QUERY":"--//-- 20211203 chulho.wee ; CREATE\nSELECT \n  RPAD(START_TAG, 3, ' ')\n|| RPAD(OEM_CODE, 2, ' ')\n|| RPAD(MONTH, 6, ' ')\n|| RPAD(C_DATE, 8, ' ')\n|| RPAD(O_DATE, 8, ' ')\n|| RPAD(OEM_AREA, 4, ' ')\n|| RPAD(CUST_DEVICE, 30, ' ')\n|| RPAD(OPER_DESC, 15, ' ')\n|| RPAD(EQP_GROUP, 15, ' ')\n\n|| RPAD(EQP_MODEL, 30, ' ')\n|| RPAD(RES_ID, 15, ' ')\n|| RPAD(OPER, 6, ' ')\n\n|| RPAD(SUM(QTY), 10, ' ')\n|| RPAD(LOT_TYPE, 2, ' ')\n|| RPAD(PARA, 3, ' ')\n\n|| RPAD(TEST_TIME, 10, ' ')\n|| RPAD(INDEX_TIME, 10, ' ')\n|| RPAD(ATE_TIME, 10, ' ')\n\n|| RPAD(EQP_PRICE, 10, ' ')\n|| RPAD(ATE_PRICE, 10, ' ')\n|| RPAD(MVP_PRICE, 10, ' ')\n|| RPAD(PVI_PRICE, 10, ' ')\n|| RPAD(UNIT_PRICE, 10, ' ')\n\n|| RPAD(FULL_HALF, 10, ' ')\n|| RPAD(CREATE_TIME, 14, ' ')\n|| RPAD(REMARK, 200, ' ')\n  FROM\n(\n    SELECT 'LS1' START_TAG\n         , 'HM' OEM_CODE\n         , CASE\n            WHEN TO_CHAR(SYSDATE, 'DD') >= 28 THEN\n                 TO_CHAR(ADD_MONTHS(SYSDATE, +1), 'YYYYMM')\n            ELSE\n                 TO_CHAR(ADD_MONTHS(SYSDATE, -0), 'YYYYMM')\n           END AS \"MONTH\"\n         --, TO_CHAR(SYSDATE, 'DD') C_DATE\n         , TO_CHAR(SYSDATE, 'YYYYMMDD') C_DATE\n         , SUBSTR(LOT.TRAN_TIME, 1,8) AS O_DATE\n         , 'HMKT' AS OEM_AREA\n         \n         , TST.CUST_DVC CUST_DEVICE\n         , DECODE(TST.OPER ,'T0100', 'ATE', 'T0960', 'ASB', 'T0500', 'MVP', TST.OPER) OPER_DESC\n         \n         , (SELECT NVL(ATTR_VALUE, 'NULL') FROM MATRNAMSTS WHERE FACTORY = 'HMKT1' AND ATTR_TYPE = 'RESOURCE' AND ATTR_NAME = 'EQP_GROUP' AND ATTR_KEY = LOT.END_RES_ID) AS EQP_GROUP\n         , (SELECT NVL(ATTR_VALUE, 'NULL') FROM MATRNAMSTS WHERE FACTORY = 'HMKT1' AND ATTR_TYPE = 'RESOURCE' AND ATTR_NAME = 'EQP_MODEL' AND ATTR_KEY = LOT.END_RES_ID) AS EQP_MODEL\n         , LOT.OLD_OPER AS OPER\n         , LOT.END_RES_ID AS RES_ID\n         , LOT_CMF_5 LOT_TYPE\n\n         , LOT.QTY_1 AS QTY\n         , TST.PARA AS PARA\n         , TST.TEST_TIME AS TEST_TIME\n         , TST.INDEX_TIME AS INDEX_TIME\n         , TST.ATE_TIME AS ATE_TIME\n         , TST.EQP_PRICE AS EQP_PRICE\n         , TST.ATE_PRICE AS ATE_PRICE\n--         , (((TST.TEST_TIME + TST.INDEX_TIME) * TST.EQP_PRICE) / TST.PARA) AS ATE_PRICE\n         , TST.MVP_PRICE AS MVP_PRICE\n         , TST.PVI_PRICE AS PVI_PRICE\n         , TST.UNIT_PRICE AS UNIT_PRICE\n         , TST.FULL_HALF AS FULL_HALF\n         , TO_CHAR(SYSDATE, 'YYYYMMDDHH24MISS') AS CREATE_TIME\n         , ' ' AS REMARK\n      FROM MWIPLOTHIS LOT, VGCMTBLDAT_TEST_TIME_INF2 TST\n     WHERE 1=1\n       AND LOT.MAT_ID = TST.MAT_ID\n       AND LOT.OLD_OPER = TST.OPER\n       AND TST.MODEL = (SELECT NVL(ATTR_VALUE, 'NULL') FROM MATRNAMSTS WHERE FACTORY = 'HMKT1' AND ATTR_TYPE = 'RESOURCE' AND ATTR_NAME = 'EQP_MODEL' AND ATTR_KEY = LOT.END_RES_ID)\n       AND LOT.TRAN_TIME >= CASE WHEN TO_CHAR(SYSDATE, 'DD') >= 28 THEN\n                       TO_CHAR(ADD_MONTHS(SYSDATE, -0), 'YYYYMM')||'27'||'22'\n                       ELSE\n                       TO_CHAR(ADD_MONTHS(SYSDATE, -1), 'YYYYMM')||'27'||'22'\n                       END --AS PREV_MON\n\n       AND LOT.TRAN_TIME < CASE WHEN TO_CHAR(SYSDATE, 'HH24MISS') >= 220000\n                                  OR TO_CHAR(SYSDATE, 'HH24MISS') <= 235959 THEN\n                       TO_CHAR(SYSDATE -0, 'YYYYMMDD')||'22'\n                       ELSE\n                       TO_CHAR(SYSDATE -1, 'YYYYMMDD')||'22'\n                       END --AS CURR_MON\n                       \n--       AND LOT.TRAN_TIME < CASE WHEN TO_CHAR(SYSDATE, 'DD') >= 28 THEN\n--                       TO_CHAR(ADD_MONTHS(SYSDATE, +1), 'YYYYMM')||'27'||'22'\n--                       ELSE\n--                       TO_CHAR(ADD_MONTHS(SYSDATE, -0), 'YYYYMM')||'27'||'22'\n--                       END --AS CURR_MON\n       AND LOT.FACTORY = 'HMKT1'\n       AND LOT.TRAN_CODE = 'END'\n       AND LOT.OLD_OPER in ('T0100', 'T0960', 'T0500')\n--       AND TST.CUST_DVC = 'L6HD311A01-P040-A00VCD'\n--       AND LOT.MAT_ID = 'SEL6HD311A01-P040-A00KUVCD'\n)\nGROUP BY START_TAG\n, OEM_CODE\n, MONTH\n, C_DATE\n, O_DATE\n, OEM_AREA\n\n, CUST_DEVICE\n, OPER_DESC\n\n, EQP_GROUP\n, EQP_MODEL\n, OPER\n, RES_ID\n, LOT_TYPE\n\n, PARA\n, TEST_TIME\n, INDEX_TIME\n, ATE_TIME\n, EQP_PRICE\n, ATE_PRICE\n, MVP_PRICE\n, PVI_PRICE\n, UNIT_PRICE\n, FULL_HALF\n, CREATE_TIME\n, REMARK\nORDER BY 1","CREATE_USER":"6","CREATE_DATE":"2021-12-16 09:51:58","DBTYPE":"MES"}]
2022-11-16 12:13:00 [EDI System] info: 
        SELECT * FROM (
            SELECT *
            FROM EDI_QUERY_SETTING
            WHERE 1=1
            AND SETTING_ID = (
                SELECT ID
                FROM CG_CUSTOMER 
                WHERE PARENT = (
                    SELECT ID
                    FROM CG_CUSTOMER 
                    WHERE ID=(
                        SELECT PARENT
                        FROM CG_CUSTOMER 
                        WHERE ID=(
                            SELECT PARENT 
                            FROM CG_CUSTOMER 
                            WHERE ID=:id
                        )
                    )
                )
                AND LOWER(NAME) = 'common'
            )
            AND TYPE IN ('DB','TEXT')
            AND KEY NOT IN (SELECT KEY
                            FROM EDI_QUERY_SETTING
                            WHERE 1=1
                            AND SETTING_ID = :id
                            AND TYPE IN ('DB','TEXT'))
            UNION ALL
            SELECT *
            FROM EDI_QUERY_SETTING
            WHERE 1=1
            AND SETTING_ID = :id
            AND TYPE IN ('DB','TEXT')
        )
        ORDER BY LENGTH(KEY) DESC
    
2022-11-16 12:13:00 [EDI System] info: [{"ID":"137","SETTING_ID":"129","KEY":"todayHH24MISS","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE,'YYYYMMDDHH24MISS') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-11-12 05:20:22","DBTYPE":"MES"},{"ID":"124","SETTING_ID":"129","KEY":"todayHH24_M1H","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE - 1/24,'YYYYMMDDHH24') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-10-15 01:40:03","DBTYPE":"MES"},{"ID":"122","SETTING_ID":"129","KEY":"todayHH24","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE,'YYYYMMDDHH24') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-10-15 11:47:10","DBTYPE":"MES"},{"ID":"115","SETTING_ID":"129","KEY":"today_yy","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE,'YYYYMMDDHH24') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-09-24 08:46:51","DBTYPE":"MES"},{"ID":"130","SETTING_ID":"129","KEY":"today","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE,'YYYYMMDD') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-11-09 03:36:41","DBTYPE":"MES"}]
2022-11-16 12:14:30 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 12:15:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 12:15:00 [EDI System] info: Job Start Time > {"min":15,"hour":12,"date":16,"month":11,"day":3}
 {"ID":106,"CFG_ID":"141","FILE_NAME":"WO_INPUT_HANA_AS_:todayHH24_1","FILE_DESC":"Siliconworks input assy","FILE_SAVE_FOLDER":"D:/HM_EDI/SILICONWOKRS/OUT","FILE_CHARSET":"utf-8","FILE_TYPE":"csv","DATA_TYPE":"text","FTP_ENV_ID":"106","SEND_FLAG":"Y","NODATASEND":null,"SCHEDULE_MIN":"15","SCHEDULE_HOUR":"*","SCHEDULE_DAY":"*","SCHEDULE_WEEK":"*","SCHEDULE_MONTH":"*","CM_F01":null,"CM_F02":null,"CREATE_DATE":"2021-11-12 05:06:11","CREATE_USER":"6","UPDATE_DATE":"2022-02-16 12:18:37","UPDATE_USER":"6","DELETE_DATE":null,"DELETE_USER":null,"frequency":"15 * * * *"}
2022-11-16 12:15:00 [EDI System] info: 106 >>> makeFileText Function Execute
2022-11-16 12:15:00 [EDI System] info: Job Start Time > {"min":15,"hour":12,"date":16,"month":11,"day":3}
 {"ID":129,"CFG_ID":"166","FILE_NAME":"WO_INPUT_HANA_AS_:todayHH24_1","FILE_DESC":"Siliconworks input assy","FILE_SAVE_FOLDER":"D:/HM_EDI/SILICONWOKRS/OUT","FILE_CHARSET":"utf-8","FILE_TYPE":"csv","DATA_TYPE":"text","FTP_ENV_ID":"106","SEND_FLAG":"Y","NODATASEND":null,"SCHEDULE_MIN":"15","SCHEDULE_HOUR":"*","SCHEDULE_DAY":"*","SCHEDULE_WEEK":"*","SCHEDULE_MONTH":"*","CM_F01":null,"CM_F02":null,"CREATE_DATE":"2022-02-22 16:21:15","CREATE_USER":"6","UPDATE_DATE":null,"UPDATE_USER":null,"DELETE_DATE":null,"DELETE_USER":null,"frequency":"15 * * * *"}
2022-11-16 12:15:00 [EDI System] info: 129 >>> makeFileText Function Execute
2022-11-16 12:15:00 [EDI System] info: Job Start Time > {"min":15,"hour":12,"date":16,"month":11,"day":3}
 {"ID":127,"CFG_ID":"164","FILE_NAME":"WO_INPUT_HANA_AS_:todayHH24_1","FILE_DESC":"Siliconworks input assy","FILE_SAVE_FOLDER":"D:/HM_EDI/SILICONWOKRS/OUT","FILE_CHARSET":"utf-8","FILE_TYPE":"csv","DATA_TYPE":"text","FTP_ENV_ID":"106","SEND_FLAG":"Y","NODATASEND":null,"SCHEDULE_MIN":"15","SCHEDULE_HOUR":"*","SCHEDULE_DAY":"*","SCHEDULE_WEEK":"*","SCHEDULE_MONTH":"*","CM_F01":null,"CM_F02":null,"CREATE_DATE":"2022-02-22 16:13:42","CREATE_USER":"6","UPDATE_DATE":null,"UPDATE_USER":null,"DELETE_DATE":null,"DELETE_USER":null,"frequency":"15 * * * *"}
2022-11-16 12:15:00 [EDI System] info: 127 >>> makeFileText Function Execute
2022-11-16 12:15:00 [EDI System] info: Job Start Time > {"min":15,"hour":12,"date":16,"month":11,"day":3}
 {"ID":128,"CFG_ID":"165","FILE_NAME":"WO_INPUT_HANA_AS_:todayHH24_1","FILE_DESC":"Siliconworks input assy","FILE_SAVE_FOLDER":"D:/HM_EDI/SILICONWOKRS/OUT","FILE_CHARSET":"utf-8","FILE_TYPE":"csv","DATA_TYPE":"text","FTP_ENV_ID":"106","SEND_FLAG":"Y","NODATASEND":null,"SCHEDULE_MIN":"15","SCHEDULE_HOUR":"*","SCHEDULE_DAY":"*","SCHEDULE_WEEK":"*","SCHEDULE_MONTH":"*","CM_F01":null,"CM_F02":null,"CREATE_DATE":"2022-02-22 16:18:38","CREATE_USER":"6","UPDATE_DATE":null,"UPDATE_USER":null,"DELETE_DATE":null,"DELETE_USER":null,"frequency":"15 * * * *"}
2022-11-16 12:15:00 [EDI System] info: 128 >>> makeFileText Function Execute
2022-11-16 12:15:00 [EDI System] info: Job Start Time > {"min":15,"hour":12,"date":16,"month":11,"day":3}
 {"ID":130,"CFG_ID":"167","FILE_NAME":"WO_INPUT_HANA_AS_:todayHH24_1","FILE_DESC":"Siliconworks input assy","FILE_SAVE_FOLDER":"D:/HM_EDI/SILICONWOKRS/OUT","FILE_CHARSET":"utf-8","FILE_TYPE":"csv","DATA_TYPE":"text","FTP_ENV_ID":"106","SEND_FLAG":"Y","NODATASEND":null,"SCHEDULE_MIN":"15","SCHEDULE_HOUR":"*","SCHEDULE_DAY":"*","SCHEDULE_WEEK":"*","SCHEDULE_MONTH":"*","CM_F01":null,"CM_F02":null,"CREATE_DATE":"2022-02-22 16:23:34","CREATE_USER":"6","UPDATE_DATE":null,"UPDATE_USER":null,"DELETE_DATE":null,"DELETE_USER":null,"frequency":"15 * * * *"}
2022-11-16 12:15:00 [EDI System] info: 130 >>> makeFileText Function Execute
2022-11-16 12:15:00 [EDI System] info: SELECT EDI_LOG_SEQ.NEXTVAL AS ID FROM DUAL
2022-11-16 12:15:00 [EDI System] info: SELECT EDI_LOG_SEQ.NEXTVAL AS ID FROM DUAL
2022-11-16 12:15:00 [EDI System] info: SELECT EDI_LOG_SEQ.NEXTVAL AS ID FROM DUAL
2022-11-16 12:15:00 [EDI System] info: SELECT EDI_LOG_SEQ.NEXTVAL AS ID FROM DUAL
2022-11-16 12:15:00 [EDI System] info: SELECT EDI_LOG_SEQ.NEXTVAL AS ID FROM DUAL
2022-11-16 12:15:00 [EDI System] info: SELECT EDI_LOG_SEQ.NEXTVAL AS ID FROM DUAL
2022-11-16 12:15:00 [EDI System] info: SELECT EDI_LOG_SEQ.NEXTVAL AS ID FROM DUAL
2022-11-16 12:15:00 [EDI System] info: SELECT EDI_LOG_SEQ.NEXTVAL AS ID FROM DUAL
2022-11-16 12:15:00 [EDI System] info: SELECT EDI_LOG_SEQ.NEXTVAL AS ID FROM DUAL
2022-11-16 12:15:00 [EDI System] info: SELECT EDI_LOG_SEQ.NEXTVAL AS ID FROM DUAL
2022-11-16 12:15:00 [EDI System] info: [{"ID":11065}]
2022-11-16 12:15:00 [EDI System] info: [{"ID":11066}]
2022-11-16 12:15:00 [EDI System] info: seq : return Key [{"ID":11065}]
2022-11-16 12:15:00 [EDI System] info: saveAllLogger => ID:11065, NAME:WO_INPUT_HANA_AS_:todayHH24_1, ProcessID:166, Description: Job Start : ID=129, CFG_ID=166, FTP_ENV_ID=106, FILE_NAME=WO_INPUT_HANA_AS_:todayHH24_1, FILE_DESC=Siliconworks input assy, FILE_CHARSET=utf-8, FILE_TYPE=csv
2022-11-16 12:15:00 [EDI System] info: INSERT INTO EDI_LOG(ID, STEP, NAME, PROCESS_ID, DESCRIPTION, CREATE_USER, CREATE_DATE)
    VALUES(:id, :stepId, :name, :process_id, :description, 'DAEMON', TO_CHAR(SYSDATE,'YYYYMMDDHH24MISS'))
2022-11-16 12:15:00 [EDI System] info: seq : return Key [{"ID":11066}]
2022-11-16 12:15:00 [EDI System] info: saveAllLogger => ID:11066, NAME:WO_INPUT_HANA_AS_:todayHH24_1, ProcessID:164, Description: Job Start : ID=127, CFG_ID=164, FTP_ENV_ID=106, FILE_NAME=WO_INPUT_HANA_AS_:todayHH24_1, FILE_DESC=Siliconworks input assy, FILE_CHARSET=utf-8, FILE_TYPE=csv
2022-11-16 12:15:00 [EDI System] info: INSERT INTO EDI_LOG(ID, STEP, NAME, PROCESS_ID, DESCRIPTION, CREATE_USER, CREATE_DATE)
    VALUES(:id, :stepId, :name, :process_id, :description, 'DAEMON', TO_CHAR(SYSDATE,'YYYYMMDDHH24MISS'))
2022-11-16 12:15:00 [EDI System] info: [{"ID":11067}]
2022-11-16 12:15:00 [EDI System] info: [{"ID":11068}]
2022-11-16 12:15:00 [EDI System] info: seq : return Key [{"ID":11067}]
2022-11-16 12:15:00 [EDI System] info: saveAllLogger => ID:11067, NAME:WO_INPUT_HANA_AS_:todayHH24_1, ProcessID:141, Description: Job Start : ID=106, CFG_ID=141, FTP_ENV_ID=106, FILE_NAME=WO_INPUT_HANA_AS_:todayHH24_1, FILE_DESC=Siliconworks input assy, FILE_CHARSET=utf-8, FILE_TYPE=csv
2022-11-16 12:15:00 [EDI System] info: INSERT INTO EDI_LOG(ID, STEP, NAME, PROCESS_ID, DESCRIPTION, CREATE_USER, CREATE_DATE)
    VALUES(:id, :stepId, :name, :process_id, :description, 'DAEMON', TO_CHAR(SYSDATE,'YYYYMMDDHH24MISS'))
2022-11-16 12:15:00 [EDI System] info: seq : return Key [{"ID":11068}]
2022-11-16 12:15:00 [EDI System] info: saveAllLogger => ID:11068, NAME:WO_INPUT_HANA_AS_:todayHH24_1, ProcessID:165, Description: Job Start : ID=128, CFG_ID=165, FTP_ENV_ID=106, FILE_NAME=WO_INPUT_HANA_AS_:todayHH24_1, FILE_DESC=Siliconworks input assy, FILE_CHARSET=utf-8, FILE_TYPE=csv
2022-11-16 12:15:00 [EDI System] info: INSERT INTO EDI_LOG(ID, STEP, NAME, PROCESS_ID, DESCRIPTION, CREATE_USER, CREATE_DATE)
    VALUES(:id, :stepId, :name, :process_id, :description, 'DAEMON', TO_CHAR(SYSDATE,'YYYYMMDDHH24MISS'))
2022-11-16 12:15:00 [EDI System] info: [{"ID":11069}]
2022-11-16 12:15:00 [EDI System] info: Insert successful = SQL: INSERT INTO EDI_LOG(ID, STEP, NAME, PROCESS_ID, DESCRIPTION, CREATE_USER, CREATE_DATE)
    VALUES(:id, :stepId, :name, :process_id, :description, 'DAEMON', TO_CHAR(SYSDATE,'YYYYMMDDHH24MISS')) | Params: {"id":11065,"stepId":"1","name":"WO_INPUT_HANA_AS_:todayHH24_1","process_id":"166","description":"Job Start : ID=129, CFG_ID=166, FTP_ENV_ID=106, FILE_NAME=WO_INPUT_HANA_AS_:todayHH24_1, FILE_DESC=Siliconworks input assy, FILE_CHARSET=utf-8, FILE_TYPE=csv"} / 1
2022-11-16 12:15:00 [EDI System] info: seq : return Key [{"ID":11069}]
2022-11-16 12:15:00 [EDI System] info: saveAllLogger => ID:11069, NAME:WO_INPUT_HANA_AS_:todayHH24_1, ProcessID:167, Description: Job Start : ID=130, CFG_ID=167, FTP_ENV_ID=106, FILE_NAME=WO_INPUT_HANA_AS_:todayHH24_1, FILE_DESC=Siliconworks input assy, FILE_CHARSET=utf-8, FILE_TYPE=csv
2022-11-16 12:15:00 [EDI System] info: INSERT INTO EDI_LOG(ID, STEP, NAME, PROCESS_ID, DESCRIPTION, CREATE_USER, CREATE_DATE)
    VALUES(:id, :stepId, :name, :process_id, :description, 'DAEMON', TO_CHAR(SYSDATE,'YYYYMMDDHH24MISS'))
2022-11-16 12:15:00 [EDI System] info: Insert successful = SQL: INSERT INTO EDI_LOG(ID, STEP, NAME, PROCESS_ID, DESCRIPTION, CREATE_USER, CREATE_DATE)
    VALUES(:id, :stepId, :name, :process_id, :description, 'DAEMON', TO_CHAR(SYSDATE,'YYYYMMDDHH24MISS')) | Params: {"id":11066,"stepId":"1","name":"WO_INPUT_HANA_AS_:todayHH24_1","process_id":"164","description":"Job Start : ID=127, CFG_ID=164, FTP_ENV_ID=106, FILE_NAME=WO_INPUT_HANA_AS_:todayHH24_1, FILE_DESC=Siliconworks input assy, FILE_CHARSET=utf-8, FILE_TYPE=csv"} / 1
2022-11-16 12:15:00 [EDI System] info: 
    SELECT *
    FROM (
        SELECT ROWNUM,A.*
            FROM EDI_QUERY_SETTING A
            WHERE SETTING_ID = :id
            AND TYPE='Main'
            ORDER BY ID DESC
        ) 
    WHERE ROWNUM='1'
    
2022-11-16 12:15:00 [EDI System] info: 
    SELECT *
    FROM (
        SELECT ROWNUM,A.*
            FROM EDI_QUERY_SETTING A
            WHERE SETTING_ID = :id
            AND TYPE='Main'
            ORDER BY ID DESC
        ) 
    WHERE ROWNUM='1'
    
2022-11-16 12:15:00 [EDI System] info: Insert successful = SQL: INSERT INTO EDI_LOG(ID, STEP, NAME, PROCESS_ID, DESCRIPTION, CREATE_USER, CREATE_DATE)
    VALUES(:id, :stepId, :name, :process_id, :description, 'DAEMON', TO_CHAR(SYSDATE,'YYYYMMDDHH24MISS')) | Params: {"id":11068,"stepId":"1","name":"WO_INPUT_HANA_AS_:todayHH24_1","process_id":"165","description":"Job Start : ID=128, CFG_ID=165, FTP_ENV_ID=106, FILE_NAME=WO_INPUT_HANA_AS_:todayHH24_1, FILE_DESC=Siliconworks input assy, FILE_CHARSET=utf-8, FILE_TYPE=csv"} / 1
2022-11-16 12:15:00 [EDI System] info: Insert successful = SQL: INSERT INTO EDI_LOG(ID, STEP, NAME, PROCESS_ID, DESCRIPTION, CREATE_USER, CREATE_DATE)
    VALUES(:id, :stepId, :name, :process_id, :description, 'DAEMON', TO_CHAR(SYSDATE,'YYYYMMDDHH24MISS')) | Params: {"id":11067,"stepId":"1","name":"WO_INPUT_HANA_AS_:todayHH24_1","process_id":"141","description":"Job Start : ID=106, CFG_ID=141, FTP_ENV_ID=106, FILE_NAME=WO_INPUT_HANA_AS_:todayHH24_1, FILE_DESC=Siliconworks input assy, FILE_CHARSET=utf-8, FILE_TYPE=csv"} / 1
2022-11-16 12:15:00 [EDI System] info: 
    SELECT *
    FROM (
        SELECT ROWNUM,A.*
            FROM EDI_QUERY_SETTING A
            WHERE SETTING_ID = :id
            AND TYPE='Main'
            ORDER BY ID DESC
        ) 
    WHERE ROWNUM='1'
    
2022-11-16 12:15:00 [EDI System] info: 
    SELECT *
    FROM (
        SELECT ROWNUM,A.*
            FROM EDI_QUERY_SETTING A
            WHERE SETTING_ID = :id
            AND TYPE='Main'
            ORDER BY ID DESC
        ) 
    WHERE ROWNUM='1'
    
2022-11-16 12:15:00 [EDI System] info: Insert successful = SQL: INSERT INTO EDI_LOG(ID, STEP, NAME, PROCESS_ID, DESCRIPTION, CREATE_USER, CREATE_DATE)
    VALUES(:id, :stepId, :name, :process_id, :description, 'DAEMON', TO_CHAR(SYSDATE,'YYYYMMDDHH24MISS')) | Params: {"id":11069,"stepId":"1","name":"WO_INPUT_HANA_AS_:todayHH24_1","process_id":"167","description":"Job Start : ID=130, CFG_ID=167, FTP_ENV_ID=106, FILE_NAME=WO_INPUT_HANA_AS_:todayHH24_1, FILE_DESC=Siliconworks input assy, FILE_CHARSET=utf-8, FILE_TYPE=csv"} / 1
2022-11-16 12:15:00 [EDI System] info: []
2022-11-16 12:15:00 [EDI System] info: []
2022-11-16 12:15:00 [EDI System] info: 
    SELECT *
    FROM (
        SELECT ROWNUM,A.*
            FROM EDI_QUERY_SETTING A
            WHERE SETTING_ID = :id
            AND TYPE='Main'
            ORDER BY ID DESC
        ) 
    WHERE ROWNUM='1'
    
2022-11-16 12:15:00 [EDI System] info: 
        SELECT * FROM (
            SELECT *
            FROM EDI_QUERY_SETTING
            WHERE 1=1
            AND SETTING_ID = (
                SELECT ID
                FROM CG_CUSTOMER 
                WHERE PARENT = (
                    SELECT ID
                    FROM CG_CUSTOMER 
                    WHERE ID=(
                        SELECT PARENT
                        FROM CG_CUSTOMER 
                        WHERE ID=(
                            SELECT PARENT 
                            FROM CG_CUSTOMER 
                            WHERE ID=:id
                        )
                    )
                )
                AND LOWER(NAME) = 'common'
            )
            AND TYPE IN ('DB','TEXT')
            AND KEY NOT IN (SELECT KEY
                            FROM EDI_QUERY_SETTING
                            WHERE 1=1
                            AND SETTING_ID = :id
                            AND TYPE IN ('DB','TEXT'))
            UNION ALL
            SELECT *
            FROM EDI_QUERY_SETTING
            WHERE 1=1
            AND SETTING_ID = :id
            AND TYPE IN ('DB','TEXT')
        )
        ORDER BY LENGTH(KEY) DESC
    
2022-11-16 12:15:00 [EDI System] info: 
        SELECT * FROM (
            SELECT *
            FROM EDI_QUERY_SETTING
            WHERE 1=1
            AND SETTING_ID = (
                SELECT ID
                FROM CG_CUSTOMER 
                WHERE PARENT = (
                    SELECT ID
                    FROM CG_CUSTOMER 
                    WHERE ID=(
                        SELECT PARENT
                        FROM CG_CUSTOMER 
                        WHERE ID=(
                            SELECT PARENT 
                            FROM CG_CUSTOMER 
                            WHERE ID=:id
                        )
                    )
                )
                AND LOWER(NAME) = 'common'
            )
            AND TYPE IN ('DB','TEXT')
            AND KEY NOT IN (SELECT KEY
                            FROM EDI_QUERY_SETTING
                            WHERE 1=1
                            AND SETTING_ID = :id
                            AND TYPE IN ('DB','TEXT'))
            UNION ALL
            SELECT *
            FROM EDI_QUERY_SETTING
            WHERE 1=1
            AND SETTING_ID = :id
            AND TYPE IN ('DB','TEXT')
        )
        ORDER BY LENGTH(KEY) DESC
    
2022-11-16 12:15:00 [EDI System] info: [{"ROWNUM":1,"ID":"167","SETTING_ID":"165","KEY":null,"TYPE":"Main","QUERY":"SELECT 'Interface ID'\n || ',' || 'Interface Line ID'\n || ',' || 'SUPPLIER_CODE'\n || ',' || 'PROCESSING_CODE'\n || ',' || 'SIW_WO_NO'\n || ',' || 'SUPPLIER_WO_NO'\n || ',' || 'ASSY_ITEM_CODE'\n || ',' || 'ASSY_QTY'\n || ',' || 'UOM_CODE'\n || ',' || 'WORK_START_DATE'\n || ',' || 'COMPONENT_ITEM_CODE'\n || ',' || 'COMPONENT_LOT_ID'\n || ',' || 'COMPONENT_QTY'\n || ',' || 'REMARK1'\n || ',' || 'CANCEL_FLAG'\n || ',' || 'CREATION_DATE'\n\n  FROM IEDISIW_INPUT_INFO\n WHERE CUTOFF_DT = :todayHH24 -- TO_CHAR(SYSDATE, 'YYYYMMDDHH24')\n   AND PROCESSING_CODE = 'AS'\n   AND ROWNUM = 1\n\nUNION ALL\n\nSELECT IF_ID \n || ',' || IF_LINE_ID \n || ',' || SUPPLIER_CODE \n || ',' || PROCESSING_CODE \n || ',' || SIW_WO_NO \n || ',' || SUPPLIER_WO_NO \n || ',' || ASSY_ITEM_CODE \n || ',' || ASSY_QTY \n || ',' || UOM_CODE \n || ',' || WORK_START_DATE \n || ',' || COMPONENT_ITEM_CODE\n || ',' || COMPONENT_LOT_ID \n || ',' || COMPONENT_QTY \n || ',' || REMARK1 \n || ',' || CANCEL_FLAG \n || ',' || CREATION_DATE \n\n  FROM IEDISIW_INPUT_INFO\n WHERE CUTOFF_DT = :todayHH24 -- TO_CHAR(SYSDATE, 'YYYYMMDDHH24')\n   AND PROCESSING_CODE = 'AS'","CREATE_USER":"6","CREATE_DATE":"2022-02-22 16:18:38","DBTYPE":null}]
2022-11-16 12:15:00 [EDI System] info: [{"ROWNUM":4,"ID":"166","SETTING_ID":"141","KEY":null,"TYPE":"Main","QUERY":"SELECT 'Interface ID'\n || ',' || 'Interface Line ID'\n || ',' || 'SUPPLIER_CODE'\n || ',' || 'PROCESSING_CODE'\n || ',' || 'SIW_WO_NO'\n || ',' || 'SUPPLIER_WO_NO'\n || ',' || 'ASSY_ITEM_CODE'\n || ',' || 'ASSY_QTY'\n || ',' || 'UOM_CODE'\n || ',' || 'WORK_START_DATE'\n || ',' || 'COMPONENT_ITEM_CODE'\n || ',' || 'COMPONENT_LOT_ID'\n || ',' || 'COMPONENT_QTY'\n || ',' || 'REMARK1'\n || ',' || 'CANCEL_FLAG'\n || ',' || 'CREATION_DATE'\n\n  FROM IEDISIW_INPUT_INFO\n WHERE CUTOFF_DT = :todayHH24 -- TO_CHAR(SYSDATE, 'YYYYMMDDHH24')\n   AND PROCESSING_CODE = 'AS'\n   AND ROWNUM = 1\n\tAND ROWNUM = 2\n    \nUNION ALL\n\nSELECT IF_ID \n || ',' || IF_LINE_ID \n || ',' || SUPPLIER_CODE \n || ',' || PROCESSING_CODE \n || ',' || SIW_WO_NO \n || ',' || SUPPLIER_WO_NO \n || ',' || ASSY_ITEM_CODE \n || ',' || ASSY_QTY \n || ',' || UOM_CODE \n || ',' || WORK_START_DATE \n || ',' || COMPONENT_ITEM_CODE\n || ',' || COMPONENT_LOT_ID \n || ',' || COMPONENT_QTY \n || ',' || REMARK1 \n || ',' || CANCEL_FLAG \n || ',' || CREATION_DATE \n\n  FROM IEDISIW_INPUT_INFO\n WHERE CUTOFF_DT = :todayHH24 -- TO_CHAR(SYSDATE, 'YYYYMMDDHH24')\n   AND PROCESSING_CODE = 'AS'","CREATE_USER":"6","CREATE_DATE":"2022-02-16 16:42:57","DBTYPE":"MES"}]
2022-11-16 12:15:00 [EDI System] info: 
        SELECT * FROM (
            SELECT *
            FROM EDI_QUERY_SETTING
            WHERE 1=1
            AND SETTING_ID = (
                SELECT ID
                FROM CG_CUSTOMER 
                WHERE PARENT = (
                    SELECT ID
                    FROM CG_CUSTOMER 
                    WHERE ID=(
                        SELECT PARENT
                        FROM CG_CUSTOMER 
                        WHERE ID=(
                            SELECT PARENT 
                            FROM CG_CUSTOMER 
                            WHERE ID=:id
                        )
                    )
                )
                AND LOWER(NAME) = 'common'
            )
            AND TYPE IN ('DB','TEXT')
            AND KEY NOT IN (SELECT KEY
                            FROM EDI_QUERY_SETTING
                            WHERE 1=1
                            AND SETTING_ID = :id
                            AND TYPE IN ('DB','TEXT'))
            UNION ALL
            SELECT *
            FROM EDI_QUERY_SETTING
            WHERE 1=1
            AND SETTING_ID = :id
            AND TYPE IN ('DB','TEXT')
        )
        ORDER BY LENGTH(KEY) DESC
    
2022-11-16 12:15:00 [EDI System] info: 
        SELECT * FROM (
            SELECT *
            FROM EDI_QUERY_SETTING
            WHERE 1=1
            AND SETTING_ID = (
                SELECT ID
                FROM CG_CUSTOMER 
                WHERE PARENT = (
                    SELECT ID
                    FROM CG_CUSTOMER 
                    WHERE ID=(
                        SELECT PARENT
                        FROM CG_CUSTOMER 
                        WHERE ID=(
                            SELECT PARENT 
                            FROM CG_CUSTOMER 
                            WHERE ID=:id
                        )
                    )
                )
                AND LOWER(NAME) = 'common'
            )
            AND TYPE IN ('DB','TEXT')
            AND KEY NOT IN (SELECT KEY
                            FROM EDI_QUERY_SETTING
                            WHERE 1=1
                            AND SETTING_ID = :id
                            AND TYPE IN ('DB','TEXT'))
            UNION ALL
            SELECT *
            FROM EDI_QUERY_SETTING
            WHERE 1=1
            AND SETTING_ID = :id
            AND TYPE IN ('DB','TEXT')
        )
        ORDER BY LENGTH(KEY) DESC
    
2022-11-16 12:15:00 [EDI System] info: [{"ID":"133","SETTING_ID":"139","KEY":"todayHH24_M1H","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE - 1/24,'YYYYMMDDHH24') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-11-12 05:01:01","DBTYPE":"MES"},{"ID":"132","SETTING_ID":"139","KEY":"todayHH24","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE,'YYYYMMDDHH24') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-11-12 05:01:01","DBTYPE":"MES"},{"ID":"131","SETTING_ID":"139","KEY":"today_yy","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE,'YYYYMMDDHH24') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-11-12 05:01:01","DBTYPE":"MES"},{"ID":"134","SETTING_ID":"139","KEY":"today","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE,'YYYYMMDDHH24') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-11-12 05:01:01","DBTYPE":"MES"}]
2022-11-16 12:15:00 [EDI System] info: [{"ROWNUM":1,"ID":"169","SETTING_ID":"167","KEY":null,"TYPE":"Main","QUERY":"SELECT 'Interface ID'\n || ',' || 'Interface Line ID'\n || ',' || 'SUPPLIER_CODE'\n || ',' || 'PROCESSING_CODE'\n || ',' || 'SIW_WO_NO'\n || ',' || 'SUPPLIER_WO_NO'\n || ',' || 'ASSY_ITEM_CODE'\n || ',' || 'ASSY_QTY'\n || ',' || 'UOM_CODE'\n || ',' || 'WORK_START_DATE'\n || ',' || 'COMPONENT_ITEM_CODE'\n || ',' || 'COMPONENT_LOT_ID'\n || ',' || 'COMPONENT_QTY'\n || ',' || 'REMARK1'\n || ',' || 'CANCEL_FLAG'\n || ',' || 'CREATION_DATE'\n\n  FROM IEDISIW_INPUT_INFO\n WHERE CUTOFF_DT = :todayHH24 -- TO_CHAR(SYSDATE, 'YYYYMMDDHH24')\n   AND PROCESSING_CODE = 'AS'\n   AND ROWNUM = 1\n\tAND ROWNUM = 2\n    \nUNION ALL\n\nSELECT IF_ID \n || ',' || IF_LINE_ID \n || ',' || SUPPLIER_CODE \n || ',' || PROCESSING_CODE \n || ',' || SIW_WO_NO \n || ',' || SUPPLIER_WO_NO \n || ',' || ASSY_ITEM_CODE \n || ',' || ASSY_QTY \n || ',' || UOM_CODE \n || ',' || WORK_START_DATE \n || ',' || COMPONENT_ITEM_CODE\n || ',' || COMPONENT_LOT_ID \n || ',' || COMPONENT_QTY \n || ',' || REMARK1 \n || ',' || CANCEL_FLAG \n || ',' || CREATION_DATE \n\n  FROM IEDISIW_INPUT_INFO\n WHERE CUTOFF_DT = :todayHH24 -- TO_CHAR(SYSDATE, 'YYYYMMDDHH24')\n   AND PROCESSING_CODE = 'AS'","CREATE_USER":"6","CREATE_DATE":"2022-02-22 16:23:34","DBTYPE":"MES"}]
2022-11-16 12:15:00 [EDI System] info: 
    SELECT *
    FROM EDI_ENV_SETTING WHERE CFG_ID=:id
    
2022-11-16 12:15:00 [EDI System] info: 
        SELECT * FROM (
            SELECT *
            FROM EDI_QUERY_SETTING
            WHERE 1=1
            AND SETTING_ID = (
                SELECT ID
                FROM CG_CUSTOMER 
                WHERE PARENT = (
                    SELECT ID
                    FROM CG_CUSTOMER 
                    WHERE ID=(
                        SELECT PARENT
                        FROM CG_CUSTOMER 
                        WHERE ID=(
                            SELECT PARENT 
                            FROM CG_CUSTOMER 
                            WHERE ID=:id
                        )
                    )
                )
                AND LOWER(NAME) = 'common'
            )
            AND TYPE IN ('DB','TEXT')
            AND KEY NOT IN (SELECT KEY
                            FROM EDI_QUERY_SETTING
                            WHERE 1=1
                            AND SETTING_ID = :id
                            AND TYPE IN ('DB','TEXT'))
            UNION ALL
            SELECT *
            FROM EDI_QUERY_SETTING
            WHERE 1=1
            AND SETTING_ID = :id
            AND TYPE IN ('DB','TEXT')
        )
        ORDER BY LENGTH(KEY) DESC
    
2022-11-16 12:15:00 [EDI System] info: [{"ID":"133","SETTING_ID":"139","KEY":"todayHH24_M1H","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE - 1/24,'YYYYMMDDHH24') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-11-12 05:01:01","DBTYPE":"MES"},{"ID":"132","SETTING_ID":"139","KEY":"todayHH24","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE,'YYYYMMDDHH24') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-11-12 05:01:01","DBTYPE":"MES"},{"ID":"131","SETTING_ID":"139","KEY":"today_yy","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE,'YYYYMMDDHH24') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-11-12 05:01:01","DBTYPE":"MES"},{"ID":"134","SETTING_ID":"139","KEY":"today","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE,'YYYYMMDDHH24') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-11-12 05:01:01","DBTYPE":"MES"}]
2022-11-16 12:15:00 [EDI System] info: 
    SELECT *
    FROM EDI_ENV_SETTING WHERE CFG_ID=:id
    
2022-11-16 12:15:00 [EDI System] info: [{"ID":"133","SETTING_ID":"139","KEY":"todayHH24_M1H","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE - 1/24,'YYYYMMDDHH24') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-11-12 05:01:01","DBTYPE":"MES"},{"ID":"132","SETTING_ID":"139","KEY":"todayHH24","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE,'YYYYMMDDHH24') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-11-12 05:01:01","DBTYPE":"MES"},{"ID":"131","SETTING_ID":"139","KEY":"today_yy","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE,'YYYYMMDDHH24') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-11-12 05:01:01","DBTYPE":"MES"},{"ID":"134","SETTING_ID":"139","KEY":"today","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE,'YYYYMMDDHH24') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-11-12 05:01:01","DBTYPE":"MES"}]
2022-11-16 12:15:00 [EDI System] info: [{"ID":"133","SETTING_ID":"139","KEY":"todayHH24_M1H","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE - 1/24,'YYYYMMDDHH24') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-11-12 05:01:01","DBTYPE":"MES"},{"ID":"132","SETTING_ID":"139","KEY":"todayHH24","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE,'YYYYMMDDHH24') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-11-12 05:01:01","DBTYPE":"MES"},{"ID":"131","SETTING_ID":"139","KEY":"today_yy","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE,'YYYYMMDDHH24') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-11-12 05:01:01","DBTYPE":"MES"},{"ID":"134","SETTING_ID":"139","KEY":"today","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE,'YYYYMMDDHH24') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-11-12 05:01:01","DBTYPE":"MES"}]
2022-11-16 12:15:00 [EDI System] info: [{"ID":"133","SETTING_ID":"139","KEY":"todayHH24_M1H","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE - 1/24,'YYYYMMDDHH24') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-11-12 05:01:01","DBTYPE":"MES"},{"ID":"132","SETTING_ID":"139","KEY":"todayHH24","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE,'YYYYMMDDHH24') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-11-12 05:01:01","DBTYPE":"MES"},{"ID":"131","SETTING_ID":"139","KEY":"today_yy","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE,'YYYYMMDDHH24') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-11-12 05:01:01","DBTYPE":"MES"},{"ID":"134","SETTING_ID":"139","KEY":"today","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE,'YYYYMMDDHH24') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-11-12 05:01:01","DBTYPE":"MES"}]
2022-11-16 12:15:00 [EDI System] info: [{"ID":"141","CFG_ID":"166","ITEM":"between","SET_TYPE":null,"VALUE":"vetween","NOTE":"1","UPDATE_USER":null,"UPDATE_DATE":null,"CREATE_USER":"6","CREATE_DATE":"2022-02-22 16:21:15"}]
2022-11-16 12:15:00 [EDI System] info: [{"ID":"139","CFG_ID":"164","ITEM":"between","SET_TYPE":null,"VALUE":"vetween","NOTE":"1","UPDATE_USER":null,"UPDATE_DATE":null,"CREATE_USER":"6","CREATE_DATE":"2022-02-22 16:13:42"}]
2022-11-16 12:15:00 [EDI System] info: 
  SELECT *
  FROM EDI_FILE_HEADNTAIL WHERE CFG_ID=:id
  
2022-11-16 12:15:00 [EDI System] info: 
  SELECT *
  FROM EDI_FILE_HEADNTAIL WHERE CFG_ID=:id
  
2022-11-16 12:15:00 [EDI System] info: [{"ID":"152","CFG_ID":"166","DATA_TYPE":"h_sql","NOTE":"test\\","VALUE":"select 1 from dual","CM_F01":null,"CM_F02":null,"UPDATE_USER":null,"UPDATE_DATE":null,"CREATE_USER":"6","CREATE_DATE":"2022-02-22 16:21:15","DELETE_DATE":null,"DELETE_USER":null},{"ID":"153","CFG_ID":"166","DATA_TYPE":"h_text","NOTE":"test","VALUE":"value","CM_F01":null,"CM_F02":null,"UPDATE_USER":null,"UPDATE_DATE":null,"CREATE_USER":"6","CREATE_DATE":"2022-02-22 16:21:15","DELETE_DATE":null,"DELETE_USER":null}]
2022-11-16 12:15:00 [EDI System] info: [{"ID":"149","CFG_ID":"164","DATA_TYPE":"h_text","NOTE":"test","VALUE":"value","CM_F01":null,"CM_F02":null,"UPDATE_USER":null,"UPDATE_DATE":null,"CREATE_USER":"6","CREATE_DATE":"2022-02-22 16:13:42","DELETE_DATE":null,"DELETE_USER":null},{"ID":"148","CFG_ID":"164","DATA_TYPE":"h_sql","NOTE":"test\\","VALUE":"select 1 from dual","CM_F01":null,"CM_F02":null,"UPDATE_USER":null,"UPDATE_DATE":null,"CREATE_USER":"6","CREATE_DATE":"2022-02-22 16:13:42","DELETE_DATE":null,"DELETE_USER":null}]
2022-11-16 12:16:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 12:17:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 12:17:00 [EDI System] info: Job Start Time > {"min":17,"hour":12,"date":16,"month":11,"day":3}
 {"ID":122,"CFG_ID":"160","FILE_NAME":"CMEQPUNT_HM:today_2","FILE_DESC":"SEC CMEQPUNT 1/1day","FILE_SAVE_FOLDER":"D:/HM_EDI/SEC/OUT","FILE_CHARSET":"ascii","FILE_TYPE":"ff","DATA_TYPE":"text","FTP_ENV_ID":"100","SEND_FLAG":"Y","NODATASEND":"false","SCHEDULE_MIN":"17","SCHEDULE_HOUR":"*","SCHEDULE_DAY":"*","SCHEDULE_WEEK":"*","SCHEDULE_MONTH":"*","CM_F01":null,"CM_F02":null,"CREATE_DATE":"2021-12-14 11:47:39","CREATE_USER":"6","UPDATE_DATE":"2022-01-06 04:38:43","UPDATE_USER":"6","DELETE_DATE":null,"DELETE_USER":null,"frequency":"17 * * * *"}
2022-11-16 12:17:00 [EDI System] info: 122 >>> makeFileText Function Execute
2022-11-16 12:17:00 [EDI System] info: Job Start Time > {"min":17,"hour":12,"date":16,"month":11,"day":3}
 {"ID":123,"CFG_ID":"161","FILE_NAME":"WO_INPUT_HANA_FT_:todayHH24_1","FILE_DESC":"Siliconworks input TEST","FILE_SAVE_FOLDER":"D:/HM_EDI/SILICONWOKRS/OUT","FILE_CHARSET":"utf-8","FILE_TYPE":"csv","DATA_TYPE":"text","FTP_ENV_ID":"106","SEND_FLAG":"Y","NODATASEND":"false","SCHEDULE_MIN":"17","SCHEDULE_HOUR":"*","SCHEDULE_DAY":"*","SCHEDULE_WEEK":"*","SCHEDULE_MONTH":"*","CM_F01":null,"CM_F02":null,"CREATE_DATE":"2022-01-05 10:54:36","CREATE_USER":"6","UPDATE_DATE":"2022-02-15 11:38:03","UPDATE_USER":"6","DELETE_DATE":null,"DELETE_USER":null,"frequency":"17 * * * *"}
2022-11-16 12:17:00 [EDI System] info: 123 >>> makeFileText Function Execute
2022-11-16 12:17:00 [EDI System] info: SELECT EDI_LOG_SEQ.NEXTVAL AS ID FROM DUAL
2022-11-16 12:17:00 [EDI System] info: SELECT EDI_LOG_SEQ.NEXTVAL AS ID FROM DUAL
2022-11-16 12:17:00 [EDI System] info: SELECT EDI_LOG_SEQ.NEXTVAL AS ID FROM DUAL
2022-11-16 12:17:00 [EDI System] info: SELECT EDI_LOG_SEQ.NEXTVAL AS ID FROM DUAL
2022-11-16 12:17:01 [EDI System] info: [{"ID":11070}]
2022-11-16 12:17:01 [EDI System] info: seq : return Key [{"ID":11070}]
2022-11-16 12:17:01 [EDI System] info: saveAllLogger => ID:11070, NAME:WO_INPUT_HANA_FT_:todayHH24_1, ProcessID:161, Description: Job Start : ID=123, CFG_ID=161, FTP_ENV_ID=106, FILE_NAME=WO_INPUT_HANA_FT_:todayHH24_1, FILE_DESC=Siliconworks input TEST, FILE_CHARSET=utf-8, FILE_TYPE=csv
2022-11-16 12:17:01 [EDI System] info: INSERT INTO EDI_LOG(ID, STEP, NAME, PROCESS_ID, DESCRIPTION, CREATE_USER, CREATE_DATE)
    VALUES(:id, :stepId, :name, :process_id, :description, 'DAEMON', TO_CHAR(SYSDATE,'YYYYMMDDHH24MISS'))
2022-11-16 12:17:01 [EDI System] info: [{"ID":11071}]
2022-11-16 12:17:01 [EDI System] info: seq : return Key [{"ID":11071}]
2022-11-16 12:17:01 [EDI System] info: saveAllLogger => ID:11071, NAME:CMEQPUNT_HM:today_2, ProcessID:160, Description: Job Start : ID=122, CFG_ID=160, FTP_ENV_ID=100, FILE_NAME=CMEQPUNT_HM:today_2, FILE_DESC=SEC CMEQPUNT 1/1day, FILE_CHARSET=ascii, FILE_TYPE=ff
2022-11-16 12:17:01 [EDI System] info: INSERT INTO EDI_LOG(ID, STEP, NAME, PROCESS_ID, DESCRIPTION, CREATE_USER, CREATE_DATE)
    VALUES(:id, :stepId, :name, :process_id, :description, 'DAEMON', TO_CHAR(SYSDATE,'YYYYMMDDHH24MISS'))
2022-11-16 12:17:01 [EDI System] info: Insert successful = SQL: INSERT INTO EDI_LOG(ID, STEP, NAME, PROCESS_ID, DESCRIPTION, CREATE_USER, CREATE_DATE)
    VALUES(:id, :stepId, :name, :process_id, :description, 'DAEMON', TO_CHAR(SYSDATE,'YYYYMMDDHH24MISS')) | Params: {"id":11071,"stepId":"1","name":"CMEQPUNT_HM:today_2","process_id":"160","description":"Job Start : ID=122, CFG_ID=160, FTP_ENV_ID=100, FILE_NAME=CMEQPUNT_HM:today_2, FILE_DESC=SEC CMEQPUNT 1/1day, FILE_CHARSET=ascii, FILE_TYPE=ff"} / 1
2022-11-16 12:17:01 [EDI System] info: Insert successful = SQL: INSERT INTO EDI_LOG(ID, STEP, NAME, PROCESS_ID, DESCRIPTION, CREATE_USER, CREATE_DATE)
    VALUES(:id, :stepId, :name, :process_id, :description, 'DAEMON', TO_CHAR(SYSDATE,'YYYYMMDDHH24MISS')) | Params: {"id":11070,"stepId":"1","name":"WO_INPUT_HANA_FT_:todayHH24_1","process_id":"161","description":"Job Start : ID=123, CFG_ID=161, FTP_ENV_ID=106, FILE_NAME=WO_INPUT_HANA_FT_:todayHH24_1, FILE_DESC=Siliconworks input TEST, FILE_CHARSET=utf-8, FILE_TYPE=csv"} / 1
2022-11-16 12:17:01 [EDI System] info: 
    SELECT *
    FROM (
        SELECT ROWNUM,A.*
            FROM EDI_QUERY_SETTING A
            WHERE SETTING_ID = :id
            AND TYPE='Main'
            ORDER BY ID DESC
        ) 
    WHERE ROWNUM='1'
    
2022-11-16 12:17:01 [EDI System] info: 
    SELECT *
    FROM (
        SELECT ROWNUM,A.*
            FROM EDI_QUERY_SETTING A
            WHERE SETTING_ID = :id
            AND TYPE='Main'
            ORDER BY ID DESC
        ) 
    WHERE ROWNUM='1'
    
2022-11-16 12:17:01 [EDI System] info: [{"ROWNUM":1,"ID":"153","SETTING_ID":"160","KEY":null,"TYPE":"Main","QUERY":"--//-- 20211203 chulho.wee ; CREATE\nSELECT \n  RPAD(START_TAG, 3, ' ')\n|| RPAD(OEM_CODE, 2, ' ')\n|| RPAD(MONTH, 6, ' ')\n|| RPAD(C_DATE, 8, ' ')\n|| RPAD(O_DATE, 8, ' ')\n|| RPAD(OEM_AREA, 4, ' ')\n|| RPAD(CUST_DEVICE, 30, ' ')\n|| RPAD(OPER_DESC, 15, ' ')\n|| RPAD(EQP_GROUP, 15, ' ')\n\n|| RPAD(EQP_MODEL, 30, ' ')\n|| RPAD(RES_ID, 15, ' ')\n|| RPAD(OPER, 6, ' ')\n\n|| RPAD(SUM(QTY), 10, ' ')\n|| RPAD(LOT_TYPE, 2, ' ')\n|| RPAD(PARA, 3, ' ')\n\n|| RPAD(TEST_TIME, 10, ' ')\n|| RPAD(INDEX_TIME, 10, ' ')\n|| RPAD(ATE_TIME, 10, ' ')\n\n|| RPAD(EQP_PRICE, 10, ' ')\n|| RPAD(ATE_PRICE, 10, ' ')\n|| RPAD(MVP_PRICE, 10, ' ')\n|| RPAD(PVI_PRICE, 10, ' ')\n|| RPAD(UNIT_PRICE, 10, ' ')\n\n|| RPAD(FULL_HALF, 10, ' ')\n|| RPAD(CREATE_TIME, 14, ' ')\n|| RPAD(REMARK, 200, ' ')\n  FROM\n(\n    SELECT 'LS1' START_TAG\n         , 'HM' OEM_CODE\n         , CASE\n            WHEN TO_CHAR(SYSDATE, 'DD') >= 28 THEN\n                 TO_CHAR(ADD_MONTHS(SYSDATE, +1), 'YYYYMM')\n            ELSE\n                 TO_CHAR(ADD_MONTHS(SYSDATE, -0), 'YYYYMM')\n           END AS \"MONTH\"\n         --, TO_CHAR(SYSDATE, 'DD') C_DATE\n         , TO_CHAR(SYSDATE, 'YYYYMMDD') C_DATE\n         , SUBSTR(LOT.TRAN_TIME, 1,8) AS O_DATE\n         , 'HMKT' AS OEM_AREA\n         \n         , TST.CUST_DVC CUST_DEVICE\n         , DECODE(TST.OPER ,'T0100', 'ATE', 'T0960', 'ASB', 'T0500', 'MVP', TST.OPER) OPER_DESC\n         \n         , (SELECT NVL(ATTR_VALUE, 'NULL') FROM MATRNAMSTS WHERE FACTORY = 'HMKT1' AND ATTR_TYPE = 'RESOURCE' AND ATTR_NAME = 'EQP_GROUP' AND ATTR_KEY = LOT.END_RES_ID) AS EQP_GROUP\n         , (SELECT NVL(ATTR_VALUE, 'NULL') FROM MATRNAMSTS WHERE FACTORY = 'HMKT1' AND ATTR_TYPE = 'RESOURCE' AND ATTR_NAME = 'EQP_MODEL' AND ATTR_KEY = LOT.END_RES_ID) AS EQP_MODEL\n         , LOT.OLD_OPER AS OPER\n         , LOT.END_RES_ID AS RES_ID\n         , LOT_CMF_5 LOT_TYPE\n\n         , LOT.QTY_1 AS QTY\n         , TST.PARA AS PARA\n         , TST.TEST_TIME AS TEST_TIME\n         , TST.INDEX_TIME AS INDEX_TIME\n         , TST.ATE_TIME AS ATE_TIME\n         , TST.EQP_PRICE AS EQP_PRICE\n         , TST.ATE_PRICE AS ATE_PRICE\n--         , (((TST.TEST_TIME + TST.INDEX_TIME) * TST.EQP_PRICE) / TST.PARA) AS ATE_PRICE\n         , TST.MVP_PRICE AS MVP_PRICE\n         , TST.PVI_PRICE AS PVI_PRICE\n         , TST.UNIT_PRICE AS UNIT_PRICE\n         , TST.FULL_HALF AS FULL_HALF\n         , TO_CHAR(SYSDATE, 'YYYYMMDDHH24MISS') AS CREATE_TIME\n         , ' ' AS REMARK\n      FROM MWIPLOTHIS LOT, VGCMTBLDAT_TEST_TIME_INF2 TST\n     WHERE 1=1\n       AND LOT.MAT_ID = TST.MAT_ID\n       AND LOT.OLD_OPER = TST.OPER\n       AND TST.MODEL = (SELECT NVL(ATTR_VALUE, 'NULL') FROM MATRNAMSTS WHERE FACTORY = 'HMKT1' AND ATTR_TYPE = 'RESOURCE' AND ATTR_NAME = 'EQP_MODEL' AND ATTR_KEY = LOT.END_RES_ID)\n       AND LOT.TRAN_TIME >= CASE WHEN TO_CHAR(SYSDATE, 'DD') >= 28 THEN\n                       TO_CHAR(ADD_MONTHS(SYSDATE, -0), 'YYYYMM')||'27'||'22'\n                       ELSE\n                       TO_CHAR(ADD_MONTHS(SYSDATE, -1), 'YYYYMM')||'27'||'22'\n                       END --AS PREV_MON\n           \n       AND LOT.TRAN_TIME < CASE WHEN TO_CHAR(SYSDATE, 'DD') >= 28 THEN\n                       TO_CHAR(ADD_MONTHS(SYSDATE, +1), 'YYYYMM')||'27'||'22'\n                       ELSE\n                       TO_CHAR(ADD_MONTHS(SYSDATE, -0), 'YYYYMM')||'27'||'22'\n                       END --AS CURR_MON\n       AND LOT.FACTORY = 'HMKT1'\n       AND LOT.TRAN_CODE = 'END'\n       AND LOT.OLD_OPER in ('T0100', 'T0960', 'T0500')\n--       AND TST.CUST_DVC = 'L6HD311A01-P040-A00VCD'\n--       AND LOT.MAT_ID = 'SEL6HD311A01-P040-A00KUVCD'\n)\nGROUP BY START_TAG\n, OEM_CODE\n, MONTH\n, C_DATE\n, O_DATE\n, OEM_AREA\n\n, CUST_DEVICE\n, OPER_DESC\n\n, EQP_GROUP\n, EQP_MODEL\n, OPER\n, RES_ID\n, LOT_TYPE\n\n, PARA\n, TEST_TIME\n, INDEX_TIME\n, ATE_TIME\n, EQP_PRICE\n, ATE_PRICE\n, MVP_PRICE\n, PVI_PRICE\n, UNIT_PRICE\n, FULL_HALF\n, CREATE_TIME\n, REMARK\nORDER BY 1","CREATE_USER":"6","CREATE_DATE":"2021-12-14 11:47:40","DBTYPE":"MES"}]
2022-11-16 12:17:01 [EDI System] info: 
        SELECT * FROM (
            SELECT *
            FROM EDI_QUERY_SETTING
            WHERE 1=1
            AND SETTING_ID = (
                SELECT ID
                FROM CG_CUSTOMER 
                WHERE PARENT = (
                    SELECT ID
                    FROM CG_CUSTOMER 
                    WHERE ID=(
                        SELECT PARENT
                        FROM CG_CUSTOMER 
                        WHERE ID=(
                            SELECT PARENT 
                            FROM CG_CUSTOMER 
                            WHERE ID=:id
                        )
                    )
                )
                AND LOWER(NAME) = 'common'
            )
            AND TYPE IN ('DB','TEXT')
            AND KEY NOT IN (SELECT KEY
                            FROM EDI_QUERY_SETTING
                            WHERE 1=1
                            AND SETTING_ID = :id
                            AND TYPE IN ('DB','TEXT'))
            UNION ALL
            SELECT *
            FROM EDI_QUERY_SETTING
            WHERE 1=1
            AND SETTING_ID = :id
            AND TYPE IN ('DB','TEXT')
        )
        ORDER BY LENGTH(KEY) DESC
    
2022-11-16 12:17:01 [EDI System] info: [{"ROWNUM":2,"ID":"160","SETTING_ID":"161","KEY":null,"TYPE":"Main","QUERY":"SELECT 'Interface ID'\n || ',' || 'Interface Line ID'\n || ',' || 'SUPPLIER_CODE'\n || ',' || 'PROCESSING_CODE'\n || ',' || 'SIW_WO_NO'\n || ',' || 'SUPPLIER_WO_NO'\n || ',' || 'ASSY_ITEM_CODE'\n || ',' || 'ASSY_QTY'\n || ',' || 'UOM_CODE'\n || ',' || 'WORK_START_DATE'\n || ',' || 'COMPONENT_ITEM_CODE'\n || ',' || 'COMPONENT_LOT_ID'\n || ',' || 'COMPONENT_QTY'\n || ',' || 'REMARK1'\n || ',' || 'CANCEL_FLAG'\n || ',' || 'CREATION_DATE'\n\n  FROM IEDISIW_INPUT_INFO\n WHERE CUTOFF_DT = :todayHH24 -- TO_CHAR(SYSDATE, 'YYYYMMDDHH24')\n   AND PROCESSING_CODE = 'FT'\n   AND ROWNUM = 1\n\nUNION ALL\n\nSELECT IF_ID \n || ',' || IF_LINE_ID \n || ',' || SUPPLIER_CODE \n || ',' || PROCESSING_CODE \n || ',' || SIW_WO_NO \n || ',' || SUPPLIER_WO_NO \n || ',' || ASSY_ITEM_CODE \n || ',' || ASSY_QTY \n || ',' || UOM_CODE \n || ',' || WORK_START_DATE \n || ',' || COMPONENT_ITEM_CODE\n || ',' || COMPONENT_LOT_ID \n || ',' || COMPONENT_QTY \n || ',' || REMARK1 \n || ',' || CANCEL_FLAG \n || ',' || CREATION_DATE \n\n  FROM IEDISIW_INPUT_INFO\n WHERE CUTOFF_DT = :todayHH24 -- TO_CHAR(SYSDATE, 'YYYYMMDDHH24')\n   AND PROCESSING_CODE = 'FT'","CREATE_USER":"6","CREATE_DATE":"2022-01-11 05:18:23","DBTYPE":"MES"}]
2022-11-16 12:17:01 [EDI System] info: 
        SELECT * FROM (
            SELECT *
            FROM EDI_QUERY_SETTING
            WHERE 1=1
            AND SETTING_ID = (
                SELECT ID
                FROM CG_CUSTOMER 
                WHERE PARENT = (
                    SELECT ID
                    FROM CG_CUSTOMER 
                    WHERE ID=(
                        SELECT PARENT
                        FROM CG_CUSTOMER 
                        WHERE ID=(
                            SELECT PARENT 
                            FROM CG_CUSTOMER 
                            WHERE ID=:id
                        )
                    )
                )
                AND LOWER(NAME) = 'common'
            )
            AND TYPE IN ('DB','TEXT')
            AND KEY NOT IN (SELECT KEY
                            FROM EDI_QUERY_SETTING
                            WHERE 1=1
                            AND SETTING_ID = :id
                            AND TYPE IN ('DB','TEXT'))
            UNION ALL
            SELECT *
            FROM EDI_QUERY_SETTING
            WHERE 1=1
            AND SETTING_ID = :id
            AND TYPE IN ('DB','TEXT')
        )
        ORDER BY LENGTH(KEY) DESC
    
2022-11-16 12:17:01 [EDI System] info: [{"ID":"137","SETTING_ID":"129","KEY":"todayHH24MISS","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE,'YYYYMMDDHH24MISS') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-11-12 05:20:22","DBTYPE":"MES"},{"ID":"124","SETTING_ID":"129","KEY":"todayHH24_M1H","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE - 1/24,'YYYYMMDDHH24') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-10-15 01:40:03","DBTYPE":"MES"},{"ID":"122","SETTING_ID":"129","KEY":"todayHH24","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE,'YYYYMMDDHH24') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-10-15 11:47:10","DBTYPE":"MES"},{"ID":"115","SETTING_ID":"129","KEY":"today_yy","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE,'YYYYMMDDHH24') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-09-24 08:46:51","DBTYPE":"MES"},{"ID":"130","SETTING_ID":"129","KEY":"today","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE,'YYYYMMDD') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-11-09 03:36:41","DBTYPE":"MES"}]
2022-11-16 12:17:01 [EDI System] info: [{"ID":"133","SETTING_ID":"139","KEY":"todayHH24_M1H","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE - 1/24,'YYYYMMDDHH24') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-11-12 05:01:01","DBTYPE":"MES"},{"ID":"132","SETTING_ID":"139","KEY":"todayHH24","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE,'YYYYMMDDHH24') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-11-12 05:01:01","DBTYPE":"MES"},{"ID":"131","SETTING_ID":"139","KEY":"today_yy","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE,'YYYYMMDDHH24') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-11-12 05:01:01","DBTYPE":"MES"},{"ID":"134","SETTING_ID":"139","KEY":"today","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE,'YYYYMMDDHH24') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-11-12 05:01:01","DBTYPE":"MES"}]
2022-11-16 12:18:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 12:19:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 12:20:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 12:21:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 12:22:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 12:23:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 12:24:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 12:25:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 12:26:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 12:27:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 12:28:30 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 12:29:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 12:30:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 12:31:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 12:32:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 12:33:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 12:34:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 12:35:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 12:36:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 12:37:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 12:38:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 12:39:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 12:40:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 12:41:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 12:42:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 12:43:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 12:44:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 12:45:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 12:46:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 12:47:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 12:48:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 12:49:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 12:50:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 12:51:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 12:52:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 12:53:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 12:54:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 12:55:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 12:56:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 12:57:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 12:58:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 12:59:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 13:00:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 13:00:00 [EDI System] info: Job Start Time > {"min":0,"hour":13,"date":16,"month":11,"day":3}
 {"ID":107,"CFG_ID":"143","FILE_NAME":"CMWIPINF_HM:todayHH24","FILE_DESC":"SEC CMWIPINF 1/1HR","FILE_SAVE_FOLDER":"D:/HM_EDI/SEC/OUT","FILE_CHARSET":"ascii","FILE_TYPE":"ff","DATA_TYPE":"text","FTP_ENV_ID":"100","SEND_FLAG":"Y","NODATASEND":"false","SCHEDULE_MIN":"0","SCHEDULE_HOUR":"*","SCHEDULE_DAY":"*","SCHEDULE_WEEK":"*","SCHEDULE_MONTH":"*","CM_F01":null,"CM_F02":null,"CREATE_DATE":"2021-11-12 05:17:07","CREATE_USER":"6","UPDATE_DATE":"2021-12-24 04:17:35","UPDATE_USER":"6","DELETE_DATE":null,"DELETE_USER":null,"frequency":"0 * * * *"}
2022-11-16 13:00:00 [EDI System] info: 107 >>> makeFileText Function Execute
2022-11-16 13:00:00 [EDI System] info: Job Start Time > {"min":0,"hour":13,"date":16,"month":11,"day":3}
 {"ID":109,"CFG_ID":"147","FILE_NAME":"CMWIPINF_HM:todayHH24_2","FILE_DESC":"TEST 2 //// SEC CMWIPINF 1/1HR ","FILE_SAVE_FOLDER":"D:/HM_EDI/SEC/OUT","FILE_CHARSET":"ascii","FILE_TYPE":"ff","DATA_TYPE":"text","FTP_ENV_ID":"100","SEND_FLAG":"Y","NODATASEND":null,"SCHEDULE_MIN":"0","SCHEDULE_HOUR":"*","SCHEDULE_DAY":"*","SCHEDULE_WEEK":"*","SCHEDULE_MONTH":"*","CM_F01":null,"CM_F02":null,"CREATE_DATE":"2021-11-19 05:22:50","CREATE_USER":"6","UPDATE_DATE":"2021-12-24 04:17:41","UPDATE_USER":"6","DELETE_DATE":null,"DELETE_USER":null,"frequency":"0 * * * *"}
2022-11-16 13:00:00 [EDI System] info: 109 >>> makeFileText Function Execute
2022-11-16 13:00:00 [EDI System] info: Job Start Time > {"min":0,"hour":13,"date":16,"month":11,"day":3}
 {"ID":110,"CFG_ID":"146","FILE_NAME":"CMWIPINF_HM:todayHH24_1","FILE_DESC":"SEC CMWIPINF 1/1HR","FILE_SAVE_FOLDER":"D:/HM_EDI/SEC/OUT","FILE_CHARSET":"ascii","FILE_TYPE":"ff","DATA_TYPE":"text","FTP_ENV_ID":"100","SEND_FLAG":"Y","NODATASEND":null,"SCHEDULE_MIN":"0","SCHEDULE_HOUR":"*","SCHEDULE_DAY":"*","SCHEDULE_WEEK":"*","SCHEDULE_MONTH":"*","CM_F01":null,"CM_F02":null,"CREATE_DATE":"2021-11-19 05:22:51","CREATE_USER":"6","UPDATE_DATE":"2021-12-24 04:17:47","UPDATE_USER":"6","DELETE_DATE":null,"DELETE_USER":null,"frequency":"0 * * * *"}
2022-11-16 13:00:00 [EDI System] info: 110 >>> makeFileText Function Execute
2022-11-16 13:00:00 [EDI System] info: SELECT EDI_LOG_SEQ.NEXTVAL AS ID FROM DUAL
2022-11-16 13:00:00 [EDI System] info: SELECT EDI_LOG_SEQ.NEXTVAL AS ID FROM DUAL
2022-11-16 13:00:00 [EDI System] info: SELECT EDI_LOG_SEQ.NEXTVAL AS ID FROM DUAL
2022-11-16 13:00:00 [EDI System] info: SELECT EDI_LOG_SEQ.NEXTVAL AS ID FROM DUAL
2022-11-16 13:00:00 [EDI System] info: SELECT EDI_LOG_SEQ.NEXTVAL AS ID FROM DUAL
2022-11-16 13:00:00 [EDI System] info: SELECT EDI_LOG_SEQ.NEXTVAL AS ID FROM DUAL
2022-11-16 13:00:00 [EDI System] info: [{"ID":11072}]
2022-11-16 13:00:00 [EDI System] info: seq : return Key [{"ID":11072}]
2022-11-16 13:00:00 [EDI System] info: saveAllLogger => ID:11072, NAME:CMWIPINF_HM:todayHH24_1, ProcessID:146, Description: Job Start : ID=110, CFG_ID=146, FTP_ENV_ID=100, FILE_NAME=CMWIPINF_HM:todayHH24_1, FILE_DESC=SEC CMWIPINF 1/1HR, FILE_CHARSET=ascii, FILE_TYPE=ff
2022-11-16 13:00:00 [EDI System] info: INSERT INTO EDI_LOG(ID, STEP, NAME, PROCESS_ID, DESCRIPTION, CREATE_USER, CREATE_DATE)
    VALUES(:id, :stepId, :name, :process_id, :description, 'DAEMON', TO_CHAR(SYSDATE,'YYYYMMDDHH24MISS'))
2022-11-16 13:00:00 [EDI System] info: [{"ID":11073}]
2022-11-16 13:00:00 [EDI System] info: seq : return Key [{"ID":11073}]
2022-11-16 13:00:00 [EDI System] info: saveAllLogger => ID:11073, NAME:CMWIPINF_HM:todayHH24, ProcessID:143, Description: Job Start : ID=107, CFG_ID=143, FTP_ENV_ID=100, FILE_NAME=CMWIPINF_HM:todayHH24, FILE_DESC=SEC CMWIPINF 1/1HR, FILE_CHARSET=ascii, FILE_TYPE=ff
2022-11-16 13:00:00 [EDI System] info: INSERT INTO EDI_LOG(ID, STEP, NAME, PROCESS_ID, DESCRIPTION, CREATE_USER, CREATE_DATE)
    VALUES(:id, :stepId, :name, :process_id, :description, 'DAEMON', TO_CHAR(SYSDATE,'YYYYMMDDHH24MISS'))
2022-11-16 13:00:01 [EDI System] info: [{"ID":11074}]
2022-11-16 13:00:01 [EDI System] info: seq : return Key [{"ID":11074}]
2022-11-16 13:00:01 [EDI System] info: saveAllLogger => ID:11074, NAME:CMWIPINF_HM:todayHH24_2, ProcessID:147, Description: Job Start : ID=109, CFG_ID=147, FTP_ENV_ID=100, FILE_NAME=CMWIPINF_HM:todayHH24_2, FILE_DESC=TEST 2 //// SEC CMWIPINF 1/1HR , FILE_CHARSET=ascii, FILE_TYPE=ff
2022-11-16 13:00:01 [EDI System] info: INSERT INTO EDI_LOG(ID, STEP, NAME, PROCESS_ID, DESCRIPTION, CREATE_USER, CREATE_DATE)
    VALUES(:id, :stepId, :name, :process_id, :description, 'DAEMON', TO_CHAR(SYSDATE,'YYYYMMDDHH24MISS'))
2022-11-16 13:00:01 [EDI System] info: Insert successful = SQL: INSERT INTO EDI_LOG(ID, STEP, NAME, PROCESS_ID, DESCRIPTION, CREATE_USER, CREATE_DATE)
    VALUES(:id, :stepId, :name, :process_id, :description, 'DAEMON', TO_CHAR(SYSDATE,'YYYYMMDDHH24MISS')) | Params: {"id":11072,"stepId":"1","name":"CMWIPINF_HM:todayHH24_1","process_id":"146","description":"Job Start : ID=110, CFG_ID=146, FTP_ENV_ID=100, FILE_NAME=CMWIPINF_HM:todayHH24_1, FILE_DESC=SEC CMWIPINF 1/1HR, FILE_CHARSET=ascii, FILE_TYPE=ff"} / 1
2022-11-16 13:00:01 [EDI System] info: 
    SELECT *
    FROM (
        SELECT ROWNUM,A.*
            FROM EDI_QUERY_SETTING A
            WHERE SETTING_ID = :id
            AND TYPE='Main'
            ORDER BY ID DESC
        ) 
    WHERE ROWNUM='1'
    
2022-11-16 13:00:01 [EDI System] info: Insert successful = SQL: INSERT INTO EDI_LOG(ID, STEP, NAME, PROCESS_ID, DESCRIPTION, CREATE_USER, CREATE_DATE)
    VALUES(:id, :stepId, :name, :process_id, :description, 'DAEMON', TO_CHAR(SYSDATE,'YYYYMMDDHH24MISS')) | Params: {"id":11073,"stepId":"1","name":"CMWIPINF_HM:todayHH24","process_id":"143","description":"Job Start : ID=107, CFG_ID=143, FTP_ENV_ID=100, FILE_NAME=CMWIPINF_HM:todayHH24, FILE_DESC=SEC CMWIPINF 1/1HR, FILE_CHARSET=ascii, FILE_TYPE=ff"} / 1
2022-11-16 13:00:01 [EDI System] info: 
    SELECT *
    FROM (
        SELECT ROWNUM,A.*
            FROM EDI_QUERY_SETTING A
            WHERE SETTING_ID = :id
            AND TYPE='Main'
            ORDER BY ID DESC
        ) 
    WHERE ROWNUM='1'
    
2022-11-16 13:00:01 [EDI System] info: Insert successful = SQL: INSERT INTO EDI_LOG(ID, STEP, NAME, PROCESS_ID, DESCRIPTION, CREATE_USER, CREATE_DATE)
    VALUES(:id, :stepId, :name, :process_id, :description, 'DAEMON', TO_CHAR(SYSDATE,'YYYYMMDDHH24MISS')) | Params: {"id":11074,"stepId":"1","name":"CMWIPINF_HM:todayHH24_2","process_id":"147","description":"Job Start : ID=109, CFG_ID=147, FTP_ENV_ID=100, FILE_NAME=CMWIPINF_HM:todayHH24_2, FILE_DESC=TEST 2 //// SEC CMWIPINF 1/1HR , FILE_CHARSET=ascii, FILE_TYPE=ff"} / 1
2022-11-16 13:00:01 [EDI System] info: 
    SELECT *
    FROM (
        SELECT ROWNUM,A.*
            FROM EDI_QUERY_SETTING A
            WHERE SETTING_ID = :id
            AND TYPE='Main'
            ORDER BY ID DESC
        ) 
    WHERE ROWNUM='1'
    
2022-11-16 13:00:01 [EDI System] info: [{"ROWNUM":2,"ID":"145","SETTING_ID":"146","KEY":null,"TYPE":"Main","QUERY":"SELECT\n  RPAD(VR_1,  5, ' ')\n, RPAD(VR_2, 30, ' ')\n, RPAD(VR_3, 15, ' ')\n, RPAD(VR_4, 15, ' ')\n, RPAD(VR_5,  2, ' ')\n, RPAD(VR_6,  2, ' ')\n, RPAD(VR_7, 20, ' ')\n, RPAD(VR_8, 30, ' ')\n, RPAD(VR_9, 16, ' ')\n, RPAD(VR_10, 24, ' ')\n, RPAD(VR_11, 14, ' ')\n, RPAD(VR_12,  4, ' ')\n, RPAD(VR_13,  4, ' ')\n, LPAD(VR_14, 10, ' ')\n, LPAD(VR_15, 10, ' ')\n, RPAD(VR_16,  1, ' ')\n, RPAD(VR_17,  2, ' ')\n, RPAD(VR_18, 10, ' ')\n, RPAD(VR_19, 14, ' ')\n, RPAD(VR_20, 20, ' ')\n, RPAD(VR_21, 20, ' ')\n, RPAD(VR_22, 20, ' ')\n, RPAD(VR_23, 20, ' ')\n, RPAD(VR_24, 20, ' ')\n, LPAD(VR_25, 10, ' ')\n, LPAD(VR_26, 10, ' ')\n, RPAD(VR_27,  1, ' ')\n, RPAD(VR_28, 65, ' ')\n, RPAD(VR_29, 14, ' ')\n, RPAD(VR_30,  8, ' ')\n, RPAD(VR_31, 1024, ' ')\nFROM \n(\nSELECT 'LS1HM'   VR_1\n , NVL((SELECT MAT_CMF_7 FROM MWIPMATDEF WHERE FACTORY = A.FACTORY AND MAT_ID = A.MAT_ID AND MAT_VER = A.MAT_VER), '-')   VR_2\n , F_GET_ASSY_RUNID(' ', A.LOT_ID, A.LOT_CMF_4)   VR_3\n , NVL(TRIM(A.LOT_CMF_1), '-')   VR_4\n , NVL(TRIM(A.LOT_CMF_5),'-')   VR_5\n , NVL((SELECT ATTR_VALUE FROM MATRNAMSTS WHERE FACTORY = A.FACTORY AND ATTR_TYPE = 'LOT_SEC_INFO' AND ATTR_NAME = 'RTN_TYPE' AND ATTR_KEY = TRIM(A.LOT_CMF_1)), '**')   VR_6\n , DECODE(A.OPER||A.FLOW,'T1300HKAB', 'HGAK','TZ010HKAB', 'BASIC',\n     DECODE(NVL((SELECT SEC_OPER FROM V_MWIPOPRDEF_SEC WHERE FACTORY = A.FACTORY AND OPER = A.OPER ), '-'),\n                  'HMK2','BASIC','HMK3','BASIC','HMK9','BASIC','HMK4','BASIC',\n                  NVL(FLOW, '-')))   VR_7\n , DECODE(A.OPER||A.FLOW,'T1300HKAB', '0008','TZ010HKAB', '0003',\n     TRIM(DECODE(NVL((SELECT SEC_OPER FROM V_MWIPOPRDEF_SEC WHERE FACTORY = A.FACTORY AND OPER = A.OPER ), '-'),\n                  'HMK2','0002','HMK3','0003','HMK9','0006','HMK4','0007',\n                  LPAD((SELECT SEQ_NUM-1 FROM MWIPFLWOPR WHERE FACTORY = A.FACTORY AND FLOW = A.FLOW AND OPER = A.OPER),4,'0'))))   VR_8\n , DECODE(A.OPER||A.FLOW,'T1300HKAB', '8','TZ010HKAB', '3',\n     NVL((SELECT SEQ_NUM-1 FROM MWIPFLWOPR WHERE FACTORY = A.FACTORY AND FLOW = A.FLOW AND OPER = A.OPER), '0'))   VR_9\n , DECODE(A.OPER||A.FLOW,'T1300HKAB', 'PACKING','TZ010HKAB', 'Assy Final Stock',\n     DECODE(NVL((SELECT SEC_OPER FROM V_MWIPOPRDEF_SEC WHERE FACTORY = A.FACTORY AND OPER = A.OPER ), '-'),\n                  'HMK2','Assy Home Stock','HMK3','Assy Final Stock','HMK9','Test Home Stock','HMK4','Test Final Stock',\n                  NVL((SELECT OPER_DESC FROM V_MWIPOPRDEF_SEC WHERE FACTORY = A.FACTORY AND OPER = A.OPER ), '-')))   VR_10\n , A.OPER_IN_TIME    VR_11\n , DECODE(A.OPER||A.FLOW,'T1300HKAB', 'ASSY','TZ010HKAB', 'ASSY', DECODE(A.FACTORY, 'HMKT1', 'TEST', 'HMKA1', 'ASSY', '-'))    VR_12\n , NVL((SELECT DECODE(A.OPER||A.FLOW,'TZ010HKAB', SEC_OPER_AREA_COB ,SEC_OPER_AREA) FROM V_MWIPOPRDEF_SEC WHERE FACTORY = A.FACTORY AND OPER = A.OPER ), '-')   VR_13\n , NVL(TRIM(A.QTY_1), 0)   VR_14\n , NVL(TRIM(A.QTY_2), 0)   VR_15\n , 'C'     VR_16\n , F_GET_HOLD_FLAG_CODE(A.LOT_ID, A.MAT_ID, A.HOLD_FLAG, A.HOLD_CODE, 'FLAG' )    VR_17\n , F_GET_HOLD_FLAG_CODE(A.LOT_ID, A.MAT_ID, A.HOLD_FLAG, A.HOLD_CODE, 'CODE' )    VR_18\n , DECODE(A.HOLD_FLAG, 'Y', A.LAST_TRAN_TIME, ' ')    VR_19\n , NVL((SELECT ATTR_VALUE FROM MATRNAMSTS WHERE FACTORY = A.FACTORY AND ATTR_TYPE = 'LOT_SEC_INFO' AND ATTR_NAME = 'NCFCODE' AND ATTR_KEY = TRIM(A.LOT_CMF_1)), '*')   VR_20\n , NVL((SELECT ATTR_VALUE FROM MATRNAMSTS WHERE FACTORY = A.FACTORY AND ATTR_TYPE = 'LOT_SEC_INFO' AND ATTR_NAME = 'NCACODE' AND ATTR_KEY = TRIM(A.LOT_CMF_1)), '*')   VR_21\n , NVL((SELECT ATTR_VALUE FROM MATRNAMSTS WHERE FACTORY = A.FACTORY AND ATTR_TYPE = 'LOT_SEC_INFO' AND ATTR_NAME = 'NCTCODE' AND ATTR_KEY = TRIM(A.LOT_CMF_1)), '*')   VR_22\n , NVL((SELECT ATTR_VALUE FROM MATRNAMSTS WHERE FACTORY = A.FACTORY AND ATTR_TYPE = 'LOT_SEC_INFO' AND ATTR_NAME = 'NCQCODE' AND ATTR_KEY = TRIM(A.LOT_CMF_1)), '*')   VR_23\n , NVL((SELECT ATTR_VALUE FROM MATRNAMSTS WHERE FACTORY = A.FACTORY AND ATTR_TYPE = 'LOT_SEC_INFO' AND ATTR_NAME = 'OTHER' AND ATTR_KEY = TRIM(A.LOT_CMF_1)), '*')   VR_24\n , NVL((SELECT SUM(DECODE(TRAN_CODE, 'LOSS', (OLD_QTY_1 - QTY_1), QTY_1)) \n               FROM MWIPLOTHIS \n              WHERE LOT_ID = A.LOT_ID \n                AND TRAN_CODE IN ('LOSS', 'TERMINATE')\n                AND HIST_DEL_FLAG = ' '\n                AND TRAN_TIME BETWEEN F_GET_TIME(TO_CHAR(SYSDATE, 'YYYYMMDDHH24MISS'),'SE') \n                                  AND TO_CHAR(SYSDATE, 'YYYYMMDDHH24MISS')), 0)         VR_25\n , NVL((SELECT SUM(TOTAL_BONUS_QTY) \n               FROM MWIPLOTBNS \n              WHERE LOT_ID = A.LOT_ID\n                AND TRAN_TIME BETWEEN F_GET_TIME(TO_CHAR(SYSDATE, 'YYYYMMDDHH24MISS'),'SE') \n                                  AND TO_CHAR(SYSDATE, 'YYYYMMDDHH24MISS')), 0)    VR_26\n , '-'    VR_27\n , '-'    VR_28\n , TO_CHAR(SYSDATE,'YYYYMMDDHH24MISS')     VR_29\n , GET_WORK_DATE_EDI(TO_CHAR(SYSDATE, 'YYYYMMDDHH24MISS'),'D')  VR_30\n , MESMGR.PK_SEC_MES_IF.MakeInkless_OMS_WIP(A.FACTORY, A.LOT_ID)  VR_31\n  FROM MWIPLOTSTS A\n WHERE 1 = 1\n   AND FACTORY IN ('HMKT1','HMKA1') \n   AND LOT_CMF_2 = 'SE'   \n   AND OWNER_CODE = 'PROD'\n   AND LOT_TYPE = 'W'\n   AND LOT_DEL_FLAG = ' ' \n   AND CREATE_CODE <> 'FREE' \n   AND MAT_ID LIKE 'SE'||(SELECT DATA_1 FROM MGCMTBLDAT WHERE FACTORY = 'HMKA1' AND TABLE_NAME = 'H_SPECIAL_CHAR' AND KEY_1 = '1')\n   AND OPER BETWEEN 'A0000' AND 'TZ010'\n   AND MAT_ID NOT LIKE 'SEKY'||(SELECT DATA_1 FROM MGCMTBLDAT WHERE FACTORY = 'HMKA1' AND TABLE_NAME = 'H_SPECIAL_CHAR' AND KEY_1 = '1')  --- 영업  요청으로 하드코딩 170412. SEKY%\n)","CREATE_USER":"6","CREATE_DATE":"2021-11-22 10:58:05","DBTYPE":"MES"}]
2022-11-16 13:00:01 [EDI System] info: 
        SELECT * FROM (
            SELECT *
            FROM EDI_QUERY_SETTING
            WHERE 1=1
            AND SETTING_ID = (
                SELECT ID
                FROM CG_CUSTOMER 
                WHERE PARENT = (
                    SELECT ID
                    FROM CG_CUSTOMER 
                    WHERE ID=(
                        SELECT PARENT
                        FROM CG_CUSTOMER 
                        WHERE ID=(
                            SELECT PARENT 
                            FROM CG_CUSTOMER 
                            WHERE ID=:id
                        )
                    )
                )
                AND LOWER(NAME) = 'common'
            )
            AND TYPE IN ('DB','TEXT')
            AND KEY NOT IN (SELECT KEY
                            FROM EDI_QUERY_SETTING
                            WHERE 1=1
                            AND SETTING_ID = :id
                            AND TYPE IN ('DB','TEXT'))
            UNION ALL
            SELECT *
            FROM EDI_QUERY_SETTING
            WHERE 1=1
            AND SETTING_ID = :id
            AND TYPE IN ('DB','TEXT')
        )
        ORDER BY LENGTH(KEY) DESC
    
2022-11-16 13:00:01 [EDI System] info: [{"ROWNUM":1,"ID":"146","SETTING_ID":"147","KEY":null,"TYPE":"Main","QUERY":"SELECT\n  RPAD(VR_1,  5, ' ')\n, RPAD(VR_2, 30, ' ')\n, RPAD(VR_3, 15, ' ')\n, RPAD(VR_4, 15, ' ')\n, RPAD(VR_5,  2, ' ')\n, RPAD(VR_6,  2, ' ')\n, RPAD(VR_7, 20, ' ')\n, RPAD(VR_8, 30, ' ')\n, RPAD(VR_9, 16, ' ')\n, RPAD(VR_10, 24, ' ')\n, RPAD(VR_11, 14, ' ')\n, RPAD(VR_12,  4, ' ')\n, RPAD(VR_13,  4, ' ')\n, LPAD(VR_14, 10, ' ')\n, LPAD(VR_15, 10, ' ')\n, RPAD(VR_16,  1, ' ')\n, RPAD(VR_17,  2, ' ')\n, RPAD(VR_18, 10, ' ')\n, RPAD(VR_19, 14, ' ')\n, RPAD(VR_20, 20, ' ')\n, RPAD(VR_21, 20, ' ')\n, RPAD(VR_22, 20, ' ')\n, RPAD(VR_23, 20, ' ')\n, RPAD(VR_24, 20, ' ')\n, LPAD(VR_25, 10, ' ')\n, LPAD(VR_26, 10, ' ')\n, RPAD(VR_27,  1, ' ')\n, RPAD(VR_28, 65, ' ')\n, RPAD(VR_29, 14, ' ')\n, RPAD(VR_30,  8, ' ')\n, RPAD(VR_31, 1024, ' ')\nFROM \n(\nSELECT 'LS1HM'   VR_1\n , NVL((SELECT MAT_CMF_7 FROM MWIPMATDEF WHERE FACTORY = A.FACTORY AND MAT_ID = A.MAT_ID AND MAT_VER = A.MAT_VER), '-')   VR_2\n , F_GET_ASSY_RUNID(' ', A.LOT_ID, A.LOT_CMF_4)   VR_3\n , NVL(TRIM(A.LOT_CMF_1), '-')   VR_4\n , NVL(TRIM(A.LOT_CMF_5),'-')   VR_5\n , NVL((SELECT ATTR_VALUE FROM MATRNAMSTS WHERE FACTORY = A.FACTORY AND ATTR_TYPE = 'LOT_SEC_INFO' AND ATTR_NAME = 'RTN_TYPE' AND ATTR_KEY = TRIM(A.LOT_CMF_1)), '**')   VR_6\n , DECODE(A.OPER||A.FLOW,'T1300HKAB', 'HGAK','TZ010HKAB', 'BASIC',\n     DECODE(NVL((SELECT SEC_OPER FROM V_MWIPOPRDEF_SEC WHERE FACTORY = A.FACTORY AND OPER = A.OPER ), '-'),\n                  'HMK2','BASIC','HMK3','BASIC','HMK9','BASIC','HMK4','BASIC',\n                  NVL(FLOW, '-')))   VR_7\n , DECODE(A.OPER||A.FLOW,'T1300HKAB', '0008','TZ010HKAB', '0003',\n     TRIM(DECODE(NVL((SELECT SEC_OPER FROM V_MWIPOPRDEF_SEC WHERE FACTORY = A.FACTORY AND OPER = A.OPER ), '-'),\n                  'HMK2','0002','HMK3','0003','HMK9','0006','HMK4','0007',\n                  LPAD((SELECT SEQ_NUM-1 FROM MWIPFLWOPR WHERE FACTORY = A.FACTORY AND FLOW = A.FLOW AND OPER = A.OPER),4,'0'))))   VR_8\n , DECODE(A.OPER||A.FLOW,'T1300HKAB', '8','TZ010HKAB', '3',\n     NVL((SELECT SEQ_NUM-1 FROM MWIPFLWOPR WHERE FACTORY = A.FACTORY AND FLOW = A.FLOW AND OPER = A.OPER), '0'))   VR_9\n , DECODE(A.OPER||A.FLOW,'T1300HKAB', 'PACKING','TZ010HKAB', 'Assy Final Stock',\n     DECODE(NVL((SELECT SEC_OPER FROM V_MWIPOPRDEF_SEC WHERE FACTORY = A.FACTORY AND OPER = A.OPER ), '-'),\n                  'HMK2','Assy Home Stock','HMK3','Assy Final Stock','HMK9','Test Home Stock','HMK4','Test Final Stock',\n                  NVL((SELECT OPER_DESC FROM V_MWIPOPRDEF_SEC WHERE FACTORY = A.FACTORY AND OPER = A.OPER ), '-')))   VR_10\n , A.OPER_IN_TIME    VR_11\n , DECODE(A.OPER||A.FLOW,'T1300HKAB', 'ASSY','TZ010HKAB', 'ASSY', DECODE(A.FACTORY, 'HMKT1', 'TEST', 'HMKA1', 'ASSY', '-'))    VR_12\n , NVL((SELECT DECODE(A.OPER||A.FLOW,'TZ010HKAB', SEC_OPER_AREA_COB ,SEC_OPER_AREA) FROM V_MWIPOPRDEF_SEC WHERE FACTORY = A.FACTORY AND OPER = A.OPER ), '-')   VR_13\n , NVL(TRIM(A.QTY_1), 0)   VR_14\n , NVL(TRIM(A.QTY_2), 0)   VR_15\n , 'C'     VR_16\n , F_GET_HOLD_FLAG_CODE(A.LOT_ID, A.MAT_ID, A.HOLD_FLAG, A.HOLD_CODE, 'FLAG' )    VR_17\n , F_GET_HOLD_FLAG_CODE(A.LOT_ID, A.MAT_ID, A.HOLD_FLAG, A.HOLD_CODE, 'CODE' )    VR_18\n , DECODE(A.HOLD_FLAG, 'Y', A.LAST_TRAN_TIME, ' ')    VR_19\n , NVL((SELECT ATTR_VALUE FROM MATRNAMSTS WHERE FACTORY = A.FACTORY AND ATTR_TYPE = 'LOT_SEC_INFO' AND ATTR_NAME = 'NCFCODE' AND ATTR_KEY = TRIM(A.LOT_CMF_1)), '*')   VR_20\n , NVL((SELECT ATTR_VALUE FROM MATRNAMSTS WHERE FACTORY = A.FACTORY AND ATTR_TYPE = 'LOT_SEC_INFO' AND ATTR_NAME = 'NCACODE' AND ATTR_KEY = TRIM(A.LOT_CMF_1)), '*')   VR_21\n , NVL((SELECT ATTR_VALUE FROM MATRNAMSTS WHERE FACTORY = A.FACTORY AND ATTR_TYPE = 'LOT_SEC_INFO' AND ATTR_NAME = 'NCTCODE' AND ATTR_KEY = TRIM(A.LOT_CMF_1)), '*')   VR_22\n , NVL((SELECT ATTR_VALUE FROM MATRNAMSTS WHERE FACTORY = A.FACTORY AND ATTR_TYPE = 'LOT_SEC_INFO' AND ATTR_NAME = 'NCQCODE' AND ATTR_KEY = TRIM(A.LOT_CMF_1)), '*')   VR_23\n , NVL((SELECT ATTR_VALUE FROM MATRNAMSTS WHERE FACTORY = A.FACTORY AND ATTR_TYPE = 'LOT_SEC_INFO' AND ATTR_NAME = 'OTHER' AND ATTR_KEY = TRIM(A.LOT_CMF_1)), '*')   VR_24\n , NVL((SELECT SUM(DECODE(TRAN_CODE, 'LOSS', (OLD_QTY_1 - QTY_1), QTY_1)) \n               FROM MWIPLOTHIS \n              WHERE LOT_ID = A.LOT_ID \n                AND TRAN_CODE IN ('LOSS', 'TERMINATE')\n                AND HIST_DEL_FLAG = ' '\n                AND TRAN_TIME BETWEEN F_GET_TIME(TO_CHAR(SYSDATE, 'YYYYMMDDHH24MISS'),'SE') \n                                  AND TO_CHAR(SYSDATE, 'YYYYMMDDHH24MISS')), 0)         VR_25\n , NVL((SELECT SUM(TOTAL_BONUS_QTY) \n               FROM MWIPLOTBNS \n              WHERE LOT_ID = A.LOT_ID\n                AND TRAN_TIME BETWEEN F_GET_TIME(TO_CHAR(SYSDATE, 'YYYYMMDDHH24MISS'),'SE') \n                                  AND TO_CHAR(SYSDATE, 'YYYYMMDDHH24MISS')), 0)    VR_26\n , '-'    VR_27\n , '-'    VR_28\n , TO_CHAR(SYSDATE,'YYYYMMDDHH24MISS')     VR_29\n , GET_WORK_DATE_EDI(TO_CHAR(SYSDATE, 'YYYYMMDDHH24MISS'),'D')  VR_30\n , MESMGR.PK_SEC_MES_IF.MakeInkless_OMS_WIP(A.FACTORY, A.LOT_ID)  VR_31\n  FROM MWIPLOTSTS A\n WHERE 1 = 1\n   AND FACTORY IN ('HMKT1','HMKA1') \n   AND LOT_CMF_2 = 'SE'   \n   AND OWNER_CODE = 'PROD'\n   AND LOT_TYPE = 'W'\n   AND LOT_DEL_FLAG = ' ' \n   AND CREATE_CODE <> 'FREE' \n   AND MAT_ID LIKE 'SE'||(SELECT DATA_1 FROM MGCMTBLDAT WHERE FACTORY = 'HMKA1' AND TABLE_NAME = 'H_SPECIAL_CHAR' AND KEY_1 = '1')\n   AND OPER BETWEEN 'A0000' AND 'TZ010'\n   AND MAT_ID NOT LIKE 'SEKY'||(SELECT DATA_1 FROM MGCMTBLDAT WHERE FACTORY = 'HMKA1' AND TABLE_NAME = 'H_SPECIAL_CHAR' AND KEY_1 = '1')  --- 영업  요청으로 하드코딩 170412. SEKY%\n)","CREATE_USER":"6","CREATE_DATE":"2021-11-23 04:53:33","DBTYPE":"MES"}]
2022-11-16 13:00:01 [EDI System] info: 
        SELECT * FROM (
            SELECT *
            FROM EDI_QUERY_SETTING
            WHERE 1=1
            AND SETTING_ID = (
                SELECT ID
                FROM CG_CUSTOMER 
                WHERE PARENT = (
                    SELECT ID
                    FROM CG_CUSTOMER 
                    WHERE ID=(
                        SELECT PARENT
                        FROM CG_CUSTOMER 
                        WHERE ID=(
                            SELECT PARENT 
                            FROM CG_CUSTOMER 
                            WHERE ID=:id
                        )
                    )
                )
                AND LOWER(NAME) = 'common'
            )
            AND TYPE IN ('DB','TEXT')
            AND KEY NOT IN (SELECT KEY
                            FROM EDI_QUERY_SETTING
                            WHERE 1=1
                            AND SETTING_ID = :id
                            AND TYPE IN ('DB','TEXT'))
            UNION ALL
            SELECT *
            FROM EDI_QUERY_SETTING
            WHERE 1=1
            AND SETTING_ID = :id
            AND TYPE IN ('DB','TEXT')
        )
        ORDER BY LENGTH(KEY) DESC
    
2022-11-16 13:00:01 [EDI System] info: [{"ROWNUM":4,"ID":"147","SETTING_ID":"143","KEY":null,"TYPE":"Main","QUERY":"SELECT \n  RPAD(VR_1,  5, ' ')\n, RPAD(VR_2, 30, ' ')\n, RPAD(VR_3, 15, ' ')\n, RPAD(VR_4, 15, ' ')\n, RPAD(VR_5,  2, ' ')\n, RPAD(VR_6,  2, ' ')\n, RPAD(VR_7, 20, ' ')\n, RPAD(VR_8, 30, ' ')\n, RPAD(VR_9, 16, ' ')\n, RPAD(VR_10, 24, ' ')\n, RPAD(VR_11, 14, ' ')\n, RPAD(VR_12,  4, ' ')\n, RPAD(VR_13,  4, ' ')\n, LPAD(VR_14, 10, ' ')\n, LPAD(VR_15, 10, ' ')\n, RPAD(VR_16,  1, ' ')\n, RPAD(VR_17,  2, ' ')\n, RPAD(VR_18, 10, ' ')\n, RPAD(VR_19, 14, ' ')\n, RPAD(VR_20, 20, ' ')\n, RPAD(VR_21, 20, ' ')\n, RPAD(VR_22, 20, ' ')\n, RPAD(VR_23, 20, ' ')\n, RPAD(VR_24, 20, ' ')\n, LPAD(VR_25, 10, ' ')\n, LPAD(VR_26, 10, ' ')\n, RPAD(VR_27,  1, ' ')\n, RPAD(VR_28, 65, ' ')\n, RPAD(VR_29, 14, ' ')\n, RPAD(VR_30,  8, ' ')\n, RPAD(VR_31, 1024, ' ')\nFROM \n(\nSELECT 'LS1HM'   VR_1\n , NVL((SELECT MAT_CMF_7 FROM MWIPMATDEF WHERE FACTORY = A.FACTORY AND MAT_ID = A.MAT_ID AND MAT_VER = A.MAT_VER), '-')   VR_2\n , F_GET_ASSY_RUNID(' ', A.LOT_ID, A.LOT_CMF_4)   VR_3\n , NVL(TRIM(A.LOT_CMF_1), '-')   VR_4\n , NVL(TRIM(A.LOT_CMF_5),'-')   VR_5\n , NVL((SELECT ATTR_VALUE FROM MATRNAMSTS WHERE FACTORY = A.FACTORY AND ATTR_TYPE = 'LOT_SEC_INFO' AND ATTR_NAME = 'RTN_TYPE' AND ATTR_KEY = TRIM(A.LOT_CMF_1)), '**')   VR_6\n , DECODE(A.OPER||A.FLOW,'T1300HKAB', 'HGAK','TZ010HKAB', 'BASIC',\n     DECODE(NVL((SELECT SEC_OPER FROM V_MWIPOPRDEF_SEC WHERE FACTORY = A.FACTORY AND OPER = A.OPER ), '-'),\n                  'HMK2','BASIC','HMK3','BASIC','HMK9','BASIC','HMK4','BASIC',\n                  NVL(FLOW, '-')))   VR_7\n , DECODE(A.OPER||A.FLOW,'T1300HKAB', '0008','TZ010HKAB', '0003',\n     TRIM(DECODE(NVL((SELECT SEC_OPER FROM V_MWIPOPRDEF_SEC WHERE FACTORY = A.FACTORY AND OPER = A.OPER ), '-'),\n                  'HMK2','0002','HMK3','0003','HMK9','0006','HMK4','0007',\n                  LPAD((SELECT SEQ_NUM-1 FROM MWIPFLWOPR WHERE FACTORY = A.FACTORY AND FLOW = A.FLOW AND OPER = A.OPER),4,'0'))))   VR_8\n , DECODE(A.OPER||A.FLOW,'T1300HKAB', '8','TZ010HKAB', '3',\n     NVL((SELECT SEQ_NUM-1 FROM MWIPFLWOPR WHERE FACTORY = A.FACTORY AND FLOW = A.FLOW AND OPER = A.OPER), '0'))   VR_9\n , DECODE(A.OPER||A.FLOW,'T1300HKAB', 'PACKING','TZ010HKAB', 'Assy Final Stock',\n     DECODE(NVL((SELECT SEC_OPER FROM V_MWIPOPRDEF_SEC WHERE FACTORY = A.FACTORY AND OPER = A.OPER ), '-'),\n                  'HMK2','Assy Home Stock','HMK3','Assy Final Stock','HMK9','Test Home Stock','HMK4','Test Final Stock',\n                  NVL((SELECT OPER_DESC FROM V_MWIPOPRDEF_SEC WHERE FACTORY = A.FACTORY AND OPER = A.OPER ), '-')))   VR_10\n , A.OPER_IN_TIME    VR_11\n , DECODE(A.OPER||A.FLOW,'T1300HKAB', 'ASSY','TZ010HKAB', 'ASSY', DECODE(A.FACTORY, 'HMKT1', 'TEST', 'HMKA1', 'ASSY', '-'))    VR_12\n , NVL((SELECT DECODE(A.OPER||A.FLOW,'TZ010HKAB', SEC_OPER_AREA_COB ,SEC_OPER_AREA) FROM V_MWIPOPRDEF_SEC WHERE FACTORY = A.FACTORY AND OPER = A.OPER ), '-')   VR_13\n , NVL(TRIM(A.QTY_1), 0)   VR_14\n , NVL(TRIM(A.QTY_2), 0)   VR_15\n , 'C'     VR_16\n , F_GET_HOLD_FLAG_CODE(A.LOT_ID, A.MAT_ID, A.HOLD_FLAG, A.HOLD_CODE, 'FLAG' )    VR_17\n , F_GET_HOLD_FLAG_CODE(A.LOT_ID, A.MAT_ID, A.HOLD_FLAG, A.HOLD_CODE, 'CODE' )    VR_18\n , DECODE(A.HOLD_FLAG, 'Y', A.LAST_TRAN_TIME, ' ')    VR_19\n , NVL((SELECT ATTR_VALUE FROM MATRNAMSTS WHERE FACTORY = A.FACTORY AND ATTR_TYPE = 'LOT_SEC_INFO' AND ATTR_NAME = 'NCFCODE' AND ATTR_KEY = TRIM(A.LOT_CMF_1)), '*')   VR_20\n , NVL((SELECT ATTR_VALUE FROM MATRNAMSTS WHERE FACTORY = A.FACTORY AND ATTR_TYPE = 'LOT_SEC_INFO' AND ATTR_NAME = 'NCACODE' AND ATTR_KEY = TRIM(A.LOT_CMF_1)), '*')   VR_21\n , NVL((SELECT ATTR_VALUE FROM MATRNAMSTS WHERE FACTORY = A.FACTORY AND ATTR_TYPE = 'LOT_SEC_INFO' AND ATTR_NAME = 'NCTCODE' AND ATTR_KEY = TRIM(A.LOT_CMF_1)), '*')   VR_22\n , NVL((SELECT ATTR_VALUE FROM MATRNAMSTS WHERE FACTORY = A.FACTORY AND ATTR_TYPE = 'LOT_SEC_INFO' AND ATTR_NAME = 'NCQCODE' AND ATTR_KEY = TRIM(A.LOT_CMF_1)), '*')   VR_23\n , NVL((SELECT ATTR_VALUE FROM MATRNAMSTS WHERE FACTORY = A.FACTORY AND ATTR_TYPE = 'LOT_SEC_INFO' AND ATTR_NAME = 'OTHER' AND ATTR_KEY = TRIM(A.LOT_CMF_1)), '*')   VR_24\n , NVL((SELECT SUM(DECODE(TRAN_CODE, 'LOSS', (OLD_QTY_1 - QTY_1), QTY_1)) \n               FROM MWIPLOTHIS \n              WHERE LOT_ID = A.LOT_ID \n                AND TRAN_CODE IN ('LOSS', 'TERMINATE')\n                AND HIST_DEL_FLAG = ' '\n                AND TRAN_TIME BETWEEN F_GET_TIME(TO_CHAR(SYSDATE, 'YYYYMMDDHH24MISS'),'SE') \n                                  AND TO_CHAR(SYSDATE, 'YYYYMMDDHH24MISS')), 0)         VR_25\n , NVL((SELECT SUM(TOTAL_BONUS_QTY) \n               FROM MWIPLOTBNS \n              WHERE LOT_ID = A.LOT_ID\n                AND TRAN_TIME BETWEEN F_GET_TIME(TO_CHAR(SYSDATE, 'YYYYMMDDHH24MISS'),'SE') \n                                  AND TO_CHAR(SYSDATE, 'YYYYMMDDHH24MISS')), 0)    VR_26\n , '-'    VR_27\n , '-'    VR_28\n , TO_CHAR(SYSDATE,'YYYYMMDDHH24MISS')     VR_29\n , GET_WORK_DATE_EDI(TO_CHAR(SYSDATE, 'YYYYMMDDHH24MISS'),'D')  VR_30\n , MESMGR.PK_SEC_MES_IF.MakeInkless_OMS_WIP(A.FACTORY, A.LOT_ID)  VR_31\n  FROM MWIPLOTSTS A\n WHERE 1 = 1\n   AND FACTORY IN ('HMKT1','HMKA1') \n   AND LOT_CMF_2 = 'SE'   \n   AND OWNER_CODE = 'PROD'\n   AND LOT_TYPE = 'W'\n   AND LOT_DEL_FLAG = ' ' \n   AND CREATE_CODE <> 'FREE' \n   AND MAT_ID LIKE 'SE'||(SELECT DATA_1 FROM MGCMTBLDAT WHERE FACTORY = 'HMKA1' AND TABLE_NAME = 'H_SPECIAL_CHAR' AND KEY_1 = '1')\n   AND OPER BETWEEN 'A0000' AND 'TZ010'\n   AND MAT_ID NOT LIKE 'SEKY'||(SELECT DATA_1 FROM MGCMTBLDAT WHERE FACTORY = 'HMKA1' AND TABLE_NAME = 'H_SPECIAL_CHAR' AND KEY_1 = '1')  --- 영업  요청으로 하드코딩 170412. SEKY%\n)","CREATE_USER":"6","CREATE_DATE":"2021-11-24 03:06:40","DBTYPE":"MES"}]
2022-11-16 13:00:01 [EDI System] info: 
        SELECT * FROM (
            SELECT *
            FROM EDI_QUERY_SETTING
            WHERE 1=1
            AND SETTING_ID = (
                SELECT ID
                FROM CG_CUSTOMER 
                WHERE PARENT = (
                    SELECT ID
                    FROM CG_CUSTOMER 
                    WHERE ID=(
                        SELECT PARENT
                        FROM CG_CUSTOMER 
                        WHERE ID=(
                            SELECT PARENT 
                            FROM CG_CUSTOMER 
                            WHERE ID=:id
                        )
                    )
                )
                AND LOWER(NAME) = 'common'
            )
            AND TYPE IN ('DB','TEXT')
            AND KEY NOT IN (SELECT KEY
                            FROM EDI_QUERY_SETTING
                            WHERE 1=1
                            AND SETTING_ID = :id
                            AND TYPE IN ('DB','TEXT'))
            UNION ALL
            SELECT *
            FROM EDI_QUERY_SETTING
            WHERE 1=1
            AND SETTING_ID = :id
            AND TYPE IN ('DB','TEXT')
        )
        ORDER BY LENGTH(KEY) DESC
    
2022-11-16 13:00:01 [EDI System] info: [{"ID":"137","SETTING_ID":"129","KEY":"todayHH24MISS","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE,'YYYYMMDDHH24MISS') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-11-12 05:20:22","DBTYPE":"MES"},{"ID":"124","SETTING_ID":"129","KEY":"todayHH24_M1H","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE - 1/24,'YYYYMMDDHH24') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-10-15 01:40:03","DBTYPE":"MES"},{"ID":"122","SETTING_ID":"129","KEY":"todayHH24","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE,'YYYYMMDDHH24') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-10-15 11:47:10","DBTYPE":"MES"},{"ID":"115","SETTING_ID":"129","KEY":"today_yy","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE,'YYYYMMDDHH24') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-09-24 08:46:51","DBTYPE":"MES"},{"ID":"130","SETTING_ID":"129","KEY":"today","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE,'YYYYMMDD') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-11-09 03:36:41","DBTYPE":"MES"}]
2022-11-16 13:00:01 [EDI System] info: [{"ID":"137","SETTING_ID":"129","KEY":"todayHH24MISS","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE,'YYYYMMDDHH24MISS') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-11-12 05:20:22","DBTYPE":"MES"},{"ID":"124","SETTING_ID":"129","KEY":"todayHH24_M1H","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE - 1/24,'YYYYMMDDHH24') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-10-15 01:40:03","DBTYPE":"MES"},{"ID":"122","SETTING_ID":"129","KEY":"todayHH24","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE,'YYYYMMDDHH24') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-10-15 11:47:10","DBTYPE":"MES"},{"ID":"115","SETTING_ID":"129","KEY":"today_yy","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE,'YYYYMMDDHH24') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-09-24 08:46:51","DBTYPE":"MES"},{"ID":"130","SETTING_ID":"129","KEY":"today","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE,'YYYYMMDD') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-11-09 03:36:41","DBTYPE":"MES"}]
2022-11-16 13:00:01 [EDI System] info: [{"ID":"137","SETTING_ID":"129","KEY":"todayHH24MISS","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE,'YYYYMMDDHH24MISS') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-11-12 05:20:22","DBTYPE":"MES"},{"ID":"124","SETTING_ID":"129","KEY":"todayHH24_M1H","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE - 1/24,'YYYYMMDDHH24') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-10-15 01:40:03","DBTYPE":"MES"},{"ID":"122","SETTING_ID":"129","KEY":"todayHH24","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE,'YYYYMMDDHH24') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-10-15 11:47:10","DBTYPE":"MES"},{"ID":"115","SETTING_ID":"129","KEY":"today_yy","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE,'YYYYMMDDHH24') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-09-24 08:46:51","DBTYPE":"MES"},{"ID":"130","SETTING_ID":"129","KEY":"today","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE,'YYYYMMDD') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-11-09 03:36:41","DBTYPE":"MES"}]
2022-11-16 13:01:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 13:02:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 13:03:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 13:04:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 13:04:00 [EDI System] info: Job Start Time > {"min":4,"hour":13,"date":16,"month":11,"day":3}
 {"ID":100,"CFG_ID":"135","FILE_NAME":"LOTEVENT_HM:todayHH24","FILE_DESC":"SEC LOTEVENT 1/1HR","FILE_SAVE_FOLDER":"D:/HM_EDI/SEC/OUT","FILE_CHARSET":"utf-8","FILE_TYPE":"ff","DATA_TYPE":"text","FTP_ENV_ID":"100","SEND_FLAG":"Y","NODATASEND":null,"SCHEDULE_MIN":"4","SCHEDULE_HOUR":"*","SCHEDULE_DAY":"*","SCHEDULE_WEEK":"*","SCHEDULE_MONTH":"*","CM_F01":null,"CM_F02":null,"CREATE_DATE":null,"CREATE_USER":null,"UPDATE_DATE":"2021-12-16 09:23:19","UPDATE_USER":"6","DELETE_DATE":null,"DELETE_USER":null,"frequency":"4 * * * *"}
2022-11-16 13:04:00 [EDI System] info: 100 >>> makeFileText Function Execute
2022-11-16 13:04:00 [EDI System] info: SELECT EDI_LOG_SEQ.NEXTVAL AS ID FROM DUAL
2022-11-16 13:04:00 [EDI System] info: SELECT EDI_LOG_SEQ.NEXTVAL AS ID FROM DUAL
2022-11-16 13:04:00 [EDI System] info: [{"ID":11075}]
2022-11-16 13:04:00 [EDI System] info: seq : return Key [{"ID":11075}]
2022-11-16 13:04:00 [EDI System] info: saveAllLogger => ID:11075, NAME:LOTEVENT_HM:todayHH24, ProcessID:135, Description: Job Start : ID=100, CFG_ID=135, FTP_ENV_ID=100, FILE_NAME=LOTEVENT_HM:todayHH24, FILE_DESC=SEC LOTEVENT 1/1HR, FILE_CHARSET=utf-8, FILE_TYPE=ff
2022-11-16 13:04:00 [EDI System] info: INSERT INTO EDI_LOG(ID, STEP, NAME, PROCESS_ID, DESCRIPTION, CREATE_USER, CREATE_DATE)
    VALUES(:id, :stepId, :name, :process_id, :description, 'DAEMON', TO_CHAR(SYSDATE,'YYYYMMDDHH24MISS'))
2022-11-16 13:04:00 [EDI System] info: Insert successful = SQL: INSERT INTO EDI_LOG(ID, STEP, NAME, PROCESS_ID, DESCRIPTION, CREATE_USER, CREATE_DATE)
    VALUES(:id, :stepId, :name, :process_id, :description, 'DAEMON', TO_CHAR(SYSDATE,'YYYYMMDDHH24MISS')) | Params: {"id":11075,"stepId":"1","name":"LOTEVENT_HM:todayHH24","process_id":"135","description":"Job Start : ID=100, CFG_ID=135, FTP_ENV_ID=100, FILE_NAME=LOTEVENT_HM:todayHH24, FILE_DESC=SEC LOTEVENT 1/1HR, FILE_CHARSET=utf-8, FILE_TYPE=ff"} / 1
2022-11-16 13:04:00 [EDI System] info: 
    SELECT *
    FROM (
        SELECT ROWNUM,A.*
            FROM EDI_QUERY_SETTING A
            WHERE SETTING_ID = :id
            AND TYPE='Main'
            ORDER BY ID DESC
        ) 
    WHERE ROWNUM='1'
    
2022-11-16 13:04:00 [EDI System] info: [{"ROWNUM":16,"ID":"155","SETTING_ID":"135","KEY":null,"TYPE":"Main","QUERY":"SELECT     \n  RPAD(V1, 2,' ')\n, RPAD(V3 , 20,' ')\n, RPAD(NVL(decode(v35, 'N01', 'Multitransfer', V4), ' ') , 30,' ')\n, RPAD(V5 || LPAD(B.MILI_SEC,3,0) , 20,' ')\n, RPAD(V6 , 2,' ')\n, RPAD(V7 , 4,' ')\n, RPAD(V8 , 30,' ')\n, RPAD(V9  , 20,' ')\n, RPAD(V10 , 10,' ')\n, RPAD(V11 , 30,' ')\n, RPAD(V12 , 20,' ')\n, RPAD(V13 , 20,' ')\n, RPAD(V14 , 10,' ')\n, RPAD(V15 , 10,' ')\n, RPAD(V16 , 14,' ')\n, RPAD(V17 , 14,' ')\n, LPAD(V18 , 10,' ')\n, LPAD(V19 , 10,' ')\n, RPAD(V20 , 14,' ')\n, RPAD(V21 , 10,' ')\n, RPAD(V22 , 10,' ')\n, RPAD(V23 , 20,' ')\n, RPAD(nvl(V24,' ') , 20,' ')\n, RPAD(V25 , 30,' ')\n, RPAD(V26 , 30,' ')\n, RPAD(V27 , 20,' ')\n, RPAD(V28 , 20,' ')\n, RPAD(V29 , 65,' ')\n, RPAD(V30 , 10,' ')\n, RPAD(V31 , 2,' ')\n, RPAD(V32 , 20,' ')\n, RPAD(V33 , 14,' ')\n, RPAD(V34 , 10,' ')\n, RPAD(V35 , 10,' ')\n, RPAD(V36 , 255,' ')\n, RPAD(V37 , 255,' ')\n  FROM ( SELECT ROWNUM IDX, \n                        V0,V1,V2,V3,V4,V5,V6,V7,V8,V9,V10,V11,V12,V13,V14,V15,V16,V17,V18,V19,V20,V21,V22,V23,V24,V25,V26,V27,V28,V29,V30,V31,V32,V33,V34,V35,V36,V37\n           FROM (\n           select * from\n           (           -- 20200121 chulho.wee ; combine except\n                       SELECT C.IN_DTTM V0, 'HM'  V1\n                     , DECODE(A.FACTORY, 'HMKA1', 'ASSY', 'TEST') V2\n                     , NVL(TRIM(A.LOT_CMF_1), '-') V3\n                     , DECODE(B.DATA_1\n                              , 'END', NVL(TRIM(INITCAP(A.TRAN_CMF_1)),'TrackOut')\n                              --, 'Change', DECODE(A.TRAN_CMF_1,'PART_CHANGE','ChangeProduct')\n                              --, 'Receive', DECODE(A.OLD_OPER,'T0000','RECV_OY_HMK3', 'Receive')\n                              -- , 'Ship', DECODE(A.OLD_OPER,'TZ010','SHIP_HMK4_OY', 'Ship')\n                              , 'Change', DECODE(A.TRAN_CMF_1,'PART_CHANGE','ChangeProduct', DECODE(A.OLD_OPER, 'T0100', 'ChangeProduct','T0960','ChangeProduct', B.DATA_1))\n                              , 'Receive', DECODE(A.OLD_OPER||SUBSTR(A.MAT_ID,1,3),'T0000SES','RECV_OY_HMK3','A0000SES','RECV_KH_HMK2', 'Receive')\n                              --, 'Ship', DECODE(A.OLD_OPER,'TZ010','SHIP_HMK4_ASIMACS','AZ010','SHIP_HMK3_OY', 'Ship')\n                              , 'Ship', DECODE(A.OLD_OPER,'TZ010',DECODE(F_GET_HALF_FULL(A.LOT_ID, A.HIST_SEQ), 'Y','SHIP_HMKT_OY', 'SHIP_HMK4_ASIMACS'),'AZ010','SHIP_HMK3_OY', 'Ship')\n                              , B.DATA_1) V4\n                     , A.TRAN_TIME V5 \n                     , NVL(TRIM(A.LOT_CMF_5), '-')  V6\n                     , DECODE(B.DATA_1||A.OLD_FACTORY\n                              , 'ReceiveHMKT1', 'HMK3'\n                              , 'ShipHMKT1', 'HMK4'\n                              , DECODE(A.FACTORY, 'HMKA1', 'HMKA', 'HMKT'))  V7\n                     , NVL((SELECT MAT_CMF_7 FROM MWIPMATDEF WHERE FACTORY = A.FACTORY AND MAT_ID = A.MAT_ID AND MAT_VER = A.MAT_VER)\n                          , (SELECT MAT_CMF_7 FROM MWIPMATDEF WHERE FACTORY = A.OLD_FACTORY AND MAT_ID = A.OLD_MAT_ID AND MAT_VER = A.MAT_VER))  V8\n                     , A.FLOW  V9\n                     , DECODE(SUBSTRB(A.OLD_OPER,1,4),'AZ01','HMK3','T000','HMK3','TZ01','HMK4','A000','HMK2',SUBSTRB(A.OLD_OPER,1,4))  V10\n                     , NVL((SELECT OPER_DESC FROM MWIPOPRDEF WHERE FACTORY = A.FACTORY AND OPER = A.OLD_OPER AND FLOW = A.FLOW), ' ' )  V11\n                     , NVL((SELECT RES_GRP_3 FROM MRASRESDEF WHERE FACTORY = A.FACTORY AND RES_ID = A.START_RES_ID ),' ')  V12\n                     , NVL(START_RES_ID, ' ')  V13\n                     , NVL((SELECT DECODE(SUBSTRB(NVL(trim(PREV_OPER), 'A0000'),1,4),'AZ01','HMK3','T000','HMK3','TZ01','HMK4','A000','HMK2',SUBSTRB(NVL(trim(PREV_OPER), 'A0000'),1,4)) FROM MWIPFLWOPR WHERE FACTORY = A.FACTORY AND OPER = A.OPER AND FLOW = A.FLOW),' ')  V14\n                     , DECODE(SUBSTRB(A.OPER,1,4),'AZ01','HMK3','T000','HMK3','TZ01','HMK4','A000','HMK2',SUBSTRB(A.OPER,1,4))  V15\n                     , A.OPER_IN_TIME  V16\n                     , A.CREATE_TIME  V17\n                     , NVL(D.WAFERQTY,NVL(TRIM(A.QTY_2),0))  V18\n                     , NVL(\n                                    DECODE(TRAN_CODE,'MERGE',DECODE(FROM_TO_FLAG,'F',TRIM(A.QTY_1),TRIM(A.QTY_1))\n                                    ,TRIM(A.QTY_1))\n                                    , 0)  V19 -- CHIP_QTY_new-- 2010 10 07\n                     , A.TRAN_TIME  V20\n                     , NVL(D.WAFERQTY,NVL(TRIM(A.QTY_2),0))  V21\n                     , NVL(\n                                    DECODE(TRAN_CODE,'MERGE',DECODE(FROM_TO_FLAG,'F',TRIM(A.OLD_QTY_1),'T',TRIM(A.QTY_1-A.OLD_QTY_1),TRIM(A.QTY_1)) --,TRIM(A.QTY_1))\n                                                    ,'SPLIT',DECODE(FROM_TO_FLAG,'F',abs(A.OLD_QTY_1-A.QTY_1),TRIM(A.QTY_1))\n                                                    ,'LOSS',(A.OLD_QTY_1 - QTY_1)\n                                                    ,TRIM(A.QTY_1))\n                                   , 0)  V22 -- EVENT_QTY_new -- 2010 10 07\n                     , NVL((SELECT LOT_STATE FROM V_SECLOTSTS WHERE FACTORY = A.FACTORY AND LOT_ID = A.LOT_ID AND HIST_SEQ = A.HIST_SEQ ),' ')  V23\n                     , DECODE(TRAN_CODE,'SPLIT',DECODE(FROM_TO_FLAG,'T','Splitted','Split'),\n                                        'MERGE',DECODE(FROM_TO_FLAG,'T','Merge','Merged'),\n                                        'PMERGE',DECODE(FROM_TO_FLAG,'T','Merge','Merged')\n                                      )  V24\n                     , DECODE(TRAN_CODE, 'SPLIT',DECODE(FROM_TO_FLAG,'F',' ',NVL(TRIM(A.FROM_TO_LOT_ID), TRIM(A.LOT_CMF_1)))\n                                       , 'MERGE',DECODE(FROM_TO_FLAG,'F',TRIM(A.FROM_TO_LOT_ID),NVL(TRIM(A.FROM_TO_LOT_ID), TRIM(A.LOT_CMF_1)))\n                                       , DECODE(TRAN_CODE,'ADAPT',F_GET_CHG_PREV_VAL(A.LOT_ID,A.HIST_SEQ,'ADAPT','MAT_ID',-1),F_GET_CHG_PREV_VAL(A.LOT_ID,A.HIST_SEQ,TRAN_CODE,'MAT_ID',-1))\n                                       )  V25\n                     , DECODE(TRAN_CODE, 'SPLIT',DECODE(FROM_TO_FLAG,'T',' ',NVL(TRIM(A.FROM_TO_LOT_ID), TRIM(A.LOT_CMF_1)))\n                                       , 'MERGE',DECODE(FROM_TO_FLAG,'T',TRIM(A.FROM_TO_LOT_ID),NVL(TRIM(A.FROM_TO_LOT_ID), TRIM(A.LOT_CMF_1)))\n                                       , DECODE(TRAN_CODE,'ADAPT',F_GET_CHG_PREV_VAL(A.LOT_ID,A.HIST_SEQ,'ADAPT','MAT_ID',1),F_GET_CHG_PREV_VAL(A.LOT_ID,A.HIST_SEQ,TRAN_CODE,'MAT_ID',1))\n                                       )  V26\n                     , DECODE(TRAN_CODE, 'SPLIT',DECODE(FROM_TO_FLAG,'T',' ',NVL(TRIM(A.FROM_TO_LOT_ID), TRIM(A.LOT_CMF_1)))\n                                       , 'MERGE',DECODE(FROM_TO_FLAG,'F',TRIM(A.LOT_CMF_1),NVL(TRIM(A.FROM_TO_LOT_ID), TRIM(A.LOT_CMF_1)))\n                                       , ' ')  V27\n                     , DECODE(TRAN_CODE, 'SPLIT',DECODE(FROM_TO_FLAG,'F',' ',NVL(TRIM(A.FROM_TO_LOT_ID), TRIM(A.LOT_CMF_1)))\n                                       , 'MERGE',DECODE(FROM_TO_FLAG,'T',TRIM(A.LOT_CMF_1),NVL(TRIM(A.FROM_TO_LOT_ID), TRIM(A.LOT_CMF_1)))\n                                       , ' ')  V28\n                     , ' '  V29\n                     , DECODE(TRAN_CODE, 'HOLD',HOLD_CODE, ' ')  V30\n                     , F_GET_ATTR_VALUE(A.LOT_ID, 'LOT_SEC_INFO','RETURN_CODE')  V31\n                     , NVL(TRIM(A.LOT_CMF_4), '-')  V32\n                     , TO_CHAR(SYSDATE, 'YYYYMMDDHH24MISS')  V33\n                     , A.START_QTY_1  V34\n                     , NVL((SELECT MAX(LOSS_CODE_1) FROM MWIPLOTLOS WHERE FACTORY = A.FACTORY AND OPER = A.OLD_OPER AND FLOW = A.FLOW AND LOT_ID = A.LOT_ID), ' ' )  V35\n                     , NVL((SELECT ATTR_VALUE FROM MATRNAMSTS WHERE FACTORY = 'HMKA1' AND ATTR_TYPE = 'LOT_SEC_INFO' AND ATTR_NAME = 'WORDER' AND ATTR_KEY  = A.LOT_ID ), ' ') V36\n                     , NVL((SELECT ATTR_VALUE FROM MATRNAMSTS WHERE FACTORY = 'HMKA1' AND ATTR_TYPE = 'LOT_SEC_INFO' AND ATTR_NAME = 'WORDER' AND ATTR_KEY  = A.LOT_ID ), ' ') V37\n                          FROM MWIPLOTHIS A \n                             , CWIPSITDEF B\n                             , CEDILOTHIS C\n                             , V_CLOTWAFQTY D\n                         WHERE 1 = 1\n                           AND A.FACTORY IN ('HMKA1', 'HMKT1','CUSTOMER')    \n                           AND A.OWNER_CODE = 'PROD'\n                           AND A.LOT_TYPE = 'W'\n                           AND A.HIST_DEL_FLAG = ' '\n                           AND A.LOT_CMF_2 = 'SE'\n                           AND A.TRAN_TIME >= :todayHH24_M1H ||'000000'\n                           AND A.TRAN_TIME <  :todayHH24 ||'000000'\n                           AND B.TABLE_NAME='H_EDI_TRAN'\n                           AND B.KEY_1='SE'\n                           AND A.TRAN_CODE = B.KEY_2   \n                           AND B.DATA_1 <> ' '   \n                           AND B.FACTORY = 'HMKA1'\n                           AND (A.TRAN_CODE <> 'START' OR A.TRAN_CMF_1 IN ('ISSUE','CLOSE'))\n                           AND (A.TRAN_CODE <> 'ADAPT' OR A.ADD_ORDER_ID_2 NOT IN ('MULTIEQP_MOT','MULTIEQP', ' ') OR A.TRAN_CMF_1 IN ('PART_CHANGE' ))\n                           AND A.OLD_FLOW > ' '\n                           AND A.LOT_ID = C.LOT_ID\n                           AND A.HIST_SEQ = C.HIST_SEQ\n                           AND A.TRAN_TIME  = C.TRAN_TIME\n                           AND A.LOT_ID = D.LOT_ID(+)\n                           AND A.OPER NOT IN ('T000N')\n                         \n                 union all\n                       -- 20200121 chulho.wee ; combine only ; merge, multitransfer\n                       SELECT C.IN_DTTM V0, 'HM'  V1\n                     , DECODE(A.FACTORY, 'HMKA1', 'ASSY', 'TEST') V2\n                     , NVL(TRIM(A.LOT_CMF_1), '-') V3\n                     , DECODE(B.DATA_1,\n                              'END', NVL(TRIM(INITCAP(A.TRAN_CMF_1)),'TrackOut'),\n                              'Change', DECODE(A.TRAN_CMF_1,'PART_CHANGE','ChangeProduct')\n                              , B.DATA_1) V4\n                     , A.TRAN_TIME V5 \n                     , NVL(TRIM(A.LOT_CMF_5), '-')  V6\n                     , DECODE(A.FACTORY, 'HMKA1', 'HMKA', 'HMKT')  V7\n                     , NVL((SELECT MAT_CMF_7 FROM MWIPMATDEF WHERE FACTORY = A.FACTORY AND MAT_ID = A.MAT_ID AND MAT_VER = A.MAT_VER)\n                          , (SELECT MAT_CMF_7 FROM MWIPMATDEF WHERE FACTORY = A.OLD_FACTORY AND MAT_ID = A.OLD_MAT_ID AND MAT_VER = A.MAT_VER))  V8\n                     , A.FLOW  V9\n                     , DECODE(SUBSTRB(A.OLD_OPER,1,4),'AZ01','HMK3','T000','HMK3','TZ01','HMK4','A000','HMK2',SUBSTRB(A.OLD_OPER,1,4))  V10\n                     , NVL((SELECT OPER_DESC FROM MWIPOPRDEF WHERE FACTORY = A.FACTORY AND OPER = A.OLD_OPER AND FLOW = A.FLOW), ' ' )  V11\n                     , NVL((SELECT RES_GRP_3 FROM MRASRESDEF WHERE FACTORY = A.FACTORY AND RES_ID = A.START_RES_ID ),' ')  V12\n                     , NVL(START_RES_ID, ' ')  V13\n                     , NVL((SELECT DECODE(SUBSTRB(NVL(trim(PREV_OPER), 'A0000'),1,4),'AZ01','HMK3','T000','HMK3','TZ01','HMK4','A000','HMK2',SUBSTRB(NVL(trim(PREV_OPER), 'A0000'),1,4)) FROM MWIPFLWOPR WHERE FACTORY = A.FACTORY AND OPER = A.OPER AND FLOW = A.FLOW),' ')  V14\n                     , DECODE(SUBSTRB(A.OPER,1,4),'AZ01','HMK3','T000','HMK3','TZ01','HMK4','A000','HMK2',SUBSTRB(A.OPER,1,4))  V15\n                     , A.OPER_IN_TIME  V16\n                     , A.CREATE_TIME  V17\n                     , NVL(D.WAFERQTY,NVL(TRIM(A.QTY_2),0))  V18\n                     , NVL(\n                                    DECODE(TRAN_CODE, 'COMBINE',DECODE(FROM_TO_FLAG,'T',TRIM(A.QTY_1+(select max(old_qty_1) from mwiplothis where lot_id = (select from_to_lot_id from mwiplothis where lot_id = a.lot_id and hist_seq = a.hist_seq) and tran_code = 'COMBINE' and hist_del_flag = ' '))\n                                                                                       ,TRIM(A.QTY_1))\n                                                    , TRIM(A.QTY_1))\n                           , 0)  V19 \n                     , A.TRAN_TIME  V20\n                     , NVL(D.WAFERQTY,NVL(TRIM(A.QTY_2),0))  V21\n                     , NVL(\n                                    DECODE(TRAN_CODE,'COMBINE',DECODE(FROM_TO_FLAG,'F',TRIM(A.OLD_QTY_1)\n                                                                                  ,'T',(select max(old_qty_1) from mwiplothis where lot_id = (select from_to_lot_id from mwiplothis where lot_id = a.lot_id and hist_seq = a.hist_seq) and tran_code = 'COMBINE' and hist_del_flag = ' ')\n                                                                                  ,TRIM(A.QTY_1)) --,TRIM(A.QTY_1))\n                                                    ,TRIM(A.QTY_1)*2)\n                           , 0)  V22 \n                     , NVL((SELECT LOT_STATE FROM V_SECLOTSTS WHERE FACTORY = A.FACTORY AND LOT_ID = A.LOT_ID AND HIST_SEQ = A.HIST_SEQ ),' ')  V23\n                     , DECODE(TRAN_CODE,'SPLIT',DECODE(FROM_TO_FLAG,'T','Splitted','Split'),\n                                        'COMBINE',DECODE(FROM_TO_FLAG,'T','Merge','Merged'),\n                                        'PMERGE',DECODE(FROM_TO_FLAG,'T','Merge','Merged')\n                                      )  V24\n                     , DECODE(TRAN_CODE, 'COMBINE',DECODE(FROM_TO_FLAG,'F',TRIM(A.FROM_TO_LOT_ID),NVL(TRIM(A.FROM_TO_LOT_ID), TRIM(A.LOT_CMF_1)))\n                                       , ' ') V25\n                     , DECODE(TRAN_CODE, 'COMBINE',DECODE(FROM_TO_FLAG,'T',TRIM(A.FROM_TO_LOT_ID),NVL(TRIM(A.FROM_TO_LOT_ID), TRIM(A.LOT_CMF_1)))\n                                       , ' ') V26\n                     , DECODE(TRAN_CODE, 'COMBINE',DECODE(FROM_TO_FLAG,'F',TRIM(A.LOT_CMF_1),NVL(TRIM(A.FROM_TO_LOT_ID), TRIM(A.LOT_CMF_1)))\n                                       , ' ')  V27\n                     , DECODE(TRAN_CODE, 'COMBINE',DECODE(FROM_TO_FLAG,'T',TRIM(A.LOT_CMF_1),NVL(TRIM(A.FROM_TO_LOT_ID), TRIM(A.LOT_CMF_1)))\n                                       , ' ')  V28\n                     , ' '  V29\n                     , DECODE(TRAN_CODE, 'HOLD',HOLD_CODE, ' ')  V30\n                     , F_GET_ATTR_VALUE(A.LOT_ID, 'LOT_SEC_INFO','RETURN_CODE')  V31\n                     , NVL(TRIM(A.LOT_CMF_4), '-')  V32\n                     , TO_CHAR(SYSDATE, 'YYYYMMDDHH24MISS')  V33\n                     , A.START_QTY_1  V34\n                     , NVL((SELECT MAX(LOSS_CODE_1) FROM MWIPLOTLOS WHERE FACTORY = A.FACTORY AND OPER = A.OLD_OPER AND FLOW = A.FLOW AND LOT_ID = A.LOT_ID), ' ' )  V35\n                     , NVL((SELECT ATTR_VALUE FROM MATRNAMSTS WHERE FACTORY = 'HMKA1' AND ATTR_TYPE = 'LOT_SEC_INFO' AND ATTR_NAME = 'WORDER' AND ATTR_KEY  = A.LOT_ID ), ' ') V36\n                     , NVL((SELECT ATTR_VALUE FROM MATRNAMSTS WHERE FACTORY = 'HMKA1' AND ATTR_TYPE = 'LOT_SEC_INFO' AND ATTR_NAME = 'WORDER' AND ATTR_KEY  = A.LOT_ID ), ' ') V37\n                          FROM MWIPLOTHIS A \n                             , CWIPSITDEF B\n                             , CEDILOTHIS C\n                             , V_CLOTWAFQTY D\n                         WHERE 1 = 1\n                           AND A.FACTORY IN ('HMKA1', 'HMKT1') --,'CUSTOMER')    \n                           AND A.OWNER_CODE = 'PROD'\n                           AND A.LOT_TYPE = 'W'\n                           AND A.HIST_DEL_FLAG = ' '\n                           AND A.LOT_CMF_2 = 'SE'\n                           AND A.TRAN_TIME >= TO_CHAR(SYSDATE-1/24,'YYYYMMDDHH24')||'000000'\n                           AND A.TRAN_TIME <  TO_CHAR(SYSDATE,'YYYYMMDDHH24')||'000000'\n                           AND B.TABLE_NAME='H_EDI_EX_TRAN'\n                           AND B.KEY_1='SE'\n                           AND A.TRAN_CODE = B.KEY_2   \n                           AND B.DATA_1 <> ' '   \n                           AND B.FACTORY = 'HMKA1'\n                           AND (A.TRAN_CODE <> 'START' OR A.TRAN_CMF_1 IN ('ISSUE','CLOSE'))\n                           AND (A.TRAN_CODE <> 'ADAPT' OR A.ADD_ORDER_ID_2 NOT IN ('MULTIEQP_MOT','MULTIEQP', ' ') OR A.TRAN_CMF_1 IN ('PART_CHANGE' ))\n                           AND A.OLD_FLOW > ' '\n                           AND A.LOT_ID = C.LOT_ID\n                           AND A.HIST_SEQ = C.HIST_SEQ\n                           AND A.TRAN_TIME  = C.TRAN_TIME\n                           AND A.LOT_ID = D.LOT_ID(+)\n                           AND A.OPER NOT IN ('T000N')\n                           AND A.OPER LIKE 'A040_'\n              )\n              order by v0\n           )) A, \n       ( SELECT ROWNUM IDX, TRAN_TIME, MILI_SEC\n           FROM (\n                   SELECT TRAN_TIME, CNT-NUM MILI_SEC\n                    FROM (\n                    select TRAN_TIME, sum(cnt) CNT\n                      from ( \n                        SELECT A.TRAN_TIME, COUNT(*) CNT\n                          FROM MWIPLOTHIS A \n                             , CWIPSITDEF B\n                             , CEDILOTHIS C\n                             , V_CLOTWAFQTY D\n                         WHERE 1 = 1\n                           AND A.FACTORY IN ('HMKA1', 'HMKT1','CUSTOMER')   \n                           AND A.OWNER_CODE = 'PROD'\n                          AND A.LOT_TYPE = 'W'\n                           AND A.HIST_DEL_FLAG = ' '\n                           AND A.LOT_CMF_2 = 'SE'\n                           AND A.TRAN_TIME >= TO_CHAR(SYSDATE-1/24,'YYYYMMDDHH24')||'000000'\n                           AND A.TRAN_TIME <  TO_CHAR(SYSDATE,'YYYYMMDDHH24')||'000000'\n                           AND B.TABLE_NAME='H_EDI_TRAN'\n                           AND B.KEY_1='SE'\n                           AND A.TRAN_CODE = B.KEY_2   \n                           AND B.DATA_1 <> ' '   \n                           AND B.FACTORY = 'HMKA1'\n                           AND (A.TRAN_CODE <> 'START' OR A.TRAN_CMF_1 IN ('ISSUE','CLOSE'))\n                           AND (A.TRAN_CODE <> 'ADAPT' OR A.ADD_ORDER_ID_2 NOT IN ('MULTIEQP_MOT','MULTIEQP', ' ') OR A.TRAN_CMF_1 IN ('PART_CHANGE' ))\n                           AND A.OLD_FLOW > ' '\n                           AND A.LOT_ID = C.LOT_ID\n                           AND A.HIST_SEQ = C.HIST_SEQ\n                           AND A.TRAN_TIME  = C.TRAN_TIME\n                           AND A.LOT_ID = D.LOT_ID(+)\n                           AND A.OPER NOT IN ('T000N')\n                         GROUP BY A.TRAN_TIME\n                         union\n                        SELECT A.TRAN_TIME, COUNT(*) CNT\n                          FROM MWIPLOTHIS A \n                             , CWIPSITDEF B\n                             , CEDILOTHIS C\n                             , V_CLOTWAFQTY D\n                         WHERE 1 = 1\n                           AND A.FACTORY IN ('HMKA1', 'HMKT1') --,'CUSTOMER')    \n                           AND A.OWNER_CODE = 'PROD'\n                           AND A.LOT_TYPE = 'W'\n                           AND A.HIST_DEL_FLAG = ' '\n                           AND A.LOT_CMF_2 = 'SE'\n                           AND A.TRAN_TIME >= :todayHH24_M1H ||'000000'\n                           AND A.TRAN_TIME <  :todayHH24 ||'000000'\n                           AND B.TABLE_NAME='H_EDI_EX_TRAN'\n                           AND B.KEY_1='SE'\n                           AND A.TRAN_CODE = B.KEY_2   \n                           AND B.DATA_1 <> ' '   \n                           AND B.FACTORY = 'HMKA1'\n                           AND (A.TRAN_CODE <> 'START' OR A.TRAN_CMF_1 IN ('ISSUE','CLOSE'))\n                           AND (A.TRAN_CODE <> 'ADAPT' OR A.ADD_ORDER_ID_2 NOT IN ('MULTIEQP_MOT','MULTIEQP', ' ') OR A.TRAN_CMF_1 IN ('PART_CHANGE' ))\n                           AND A.OLD_FLOW > ' '\n                           AND A.LOT_ID = C.LOT_ID\n                           AND A.HIST_SEQ = C.HIST_SEQ\n                           AND A.TRAN_TIME  = C.TRAN_TIME\n                           AND A.LOT_ID = D.LOT_ID(+)\n                           AND A.OPER NOT IN ('T000N')\n                           GROUP BY A.TRAN_TIME\n                           )\n                           group by TRAN_TIME\n                         ) A, COPY_T B\n                   WHERE NUM < 26 \n                     AND NUM <= CNT\n                   ORDER BY TRAN_TIME, CNT-NUM \n                  )) B\n             WHERE A.IDX=B.IDX","CREATE_USER":"6","CREATE_DATE":"2021-12-15 11:13:15","DBTYPE":"MES"}]
2022-11-16 13:04:00 [EDI System] info: 
        SELECT * FROM (
            SELECT *
            FROM EDI_QUERY_SETTING
            WHERE 1=1
            AND SETTING_ID = (
                SELECT ID
                FROM CG_CUSTOMER 
                WHERE PARENT = (
                    SELECT ID
                    FROM CG_CUSTOMER 
                    WHERE ID=(
                        SELECT PARENT
                        FROM CG_CUSTOMER 
                        WHERE ID=(
                            SELECT PARENT 
                            FROM CG_CUSTOMER 
                            WHERE ID=:id
                        )
                    )
                )
                AND LOWER(NAME) = 'common'
            )
            AND TYPE IN ('DB','TEXT')
            AND KEY NOT IN (SELECT KEY
                            FROM EDI_QUERY_SETTING
                            WHERE 1=1
                            AND SETTING_ID = :id
                            AND TYPE IN ('DB','TEXT'))
            UNION ALL
            SELECT *
            FROM EDI_QUERY_SETTING
            WHERE 1=1
            AND SETTING_ID = :id
            AND TYPE IN ('DB','TEXT')
        )
        ORDER BY LENGTH(KEY) DESC
    
2022-11-16 13:04:00 [EDI System] info: [{"ID":"137","SETTING_ID":"129","KEY":"todayHH24MISS","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE,'YYYYMMDDHH24MISS') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-11-12 05:20:22","DBTYPE":"MES"},{"ID":"124","SETTING_ID":"129","KEY":"todayHH24_M1H","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE - 1/24,'YYYYMMDDHH24') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-10-15 01:40:03","DBTYPE":"MES"},{"ID":"122","SETTING_ID":"129","KEY":"todayHH24","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE,'YYYYMMDDHH24') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-10-15 11:47:10","DBTYPE":"MES"},{"ID":"115","SETTING_ID":"129","KEY":"today_yy","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE,'YYYYMMDDHH24') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-09-24 08:46:51","DBTYPE":"MES"},{"ID":"130","SETTING_ID":"129","KEY":"today","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE,'YYYYMMDD') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-11-09 03:36:41","DBTYPE":"MES"}]
2022-11-16 13:05:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 13:06:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 13:07:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 13:08:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 13:09:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 13:10:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 13:11:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 13:12:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 13:13:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 13:13:00 [EDI System] info: Job Start Time > {"min":13,"hour":13,"date":16,"month":11,"day":3}
 {"ID":121,"CFG_ID":"159","FILE_NAME":"CMEQPUNT_HM:today","FILE_DESC":"SEC CMEQPUNT 1/1day","FILE_SAVE_FOLDER":"D:/HM_EDI/SEC/OUT","FILE_CHARSET":"ascii","FILE_TYPE":"ff","DATA_TYPE":"text","FTP_ENV_ID":"100","SEND_FLAG":"Y","NODATASEND":"false","SCHEDULE_MIN":"13","SCHEDULE_HOUR":"*","SCHEDULE_DAY":"*","SCHEDULE_WEEK":"*","SCHEDULE_MONTH":"*","CM_F01":null,"CM_F02":null,"CREATE_DATE":"2021-12-10 09:44:41","CREATE_USER":"6","UPDATE_DATE":"2021-12-15 04:08:07","UPDATE_USER":"6","DELETE_DATE":null,"DELETE_USER":null,"frequency":"13 * * * *"}
2022-11-16 13:13:00 [EDI System] info: 121 >>> makeFileText Function Execute
2022-11-16 13:13:00 [EDI System] info: SELECT EDI_LOG_SEQ.NEXTVAL AS ID FROM DUAL
2022-11-16 13:13:00 [EDI System] info: SELECT EDI_LOG_SEQ.NEXTVAL AS ID FROM DUAL
2022-11-16 13:13:00 [EDI System] info: [{"ID":11076}]
2022-11-16 13:13:00 [EDI System] info: seq : return Key [{"ID":11076}]
2022-11-16 13:13:00 [EDI System] info: saveAllLogger => ID:11076, NAME:CMEQPUNT_HM:today, ProcessID:159, Description: Job Start : ID=121, CFG_ID=159, FTP_ENV_ID=100, FILE_NAME=CMEQPUNT_HM:today, FILE_DESC=SEC CMEQPUNT 1/1day, FILE_CHARSET=ascii, FILE_TYPE=ff
2022-11-16 13:13:00 [EDI System] info: INSERT INTO EDI_LOG(ID, STEP, NAME, PROCESS_ID, DESCRIPTION, CREATE_USER, CREATE_DATE)
    VALUES(:id, :stepId, :name, :process_id, :description, 'DAEMON', TO_CHAR(SYSDATE,'YYYYMMDDHH24MISS'))
2022-11-16 13:13:00 [EDI System] info: Insert successful = SQL: INSERT INTO EDI_LOG(ID, STEP, NAME, PROCESS_ID, DESCRIPTION, CREATE_USER, CREATE_DATE)
    VALUES(:id, :stepId, :name, :process_id, :description, 'DAEMON', TO_CHAR(SYSDATE,'YYYYMMDDHH24MISS')) | Params: {"id":11076,"stepId":"1","name":"CMEQPUNT_HM:today","process_id":"159","description":"Job Start : ID=121, CFG_ID=159, FTP_ENV_ID=100, FILE_NAME=CMEQPUNT_HM:today, FILE_DESC=SEC CMEQPUNT 1/1day, FILE_CHARSET=ascii, FILE_TYPE=ff"} / 1
2022-11-16 13:13:00 [EDI System] info: 
    SELECT *
    FROM (
        SELECT ROWNUM,A.*
            FROM EDI_QUERY_SETTING A
            WHERE SETTING_ID = :id
            AND TYPE='Main'
            ORDER BY ID DESC
        ) 
    WHERE ROWNUM='1'
    
2022-11-16 13:13:00 [EDI System] info: [{"ROWNUM":1,"ID":"157","SETTING_ID":"159","KEY":null,"TYPE":"Main","QUERY":"--//-- 20211203 chulho.wee ; CREATE\nSELECT \n  RPAD(START_TAG, 3, ' ')\n|| RPAD(OEM_CODE, 2, ' ')\n|| RPAD(MONTH, 6, ' ')\n|| RPAD(C_DATE, 8, ' ')\n|| RPAD(O_DATE, 8, ' ')\n|| RPAD(OEM_AREA, 4, ' ')\n|| RPAD(CUST_DEVICE, 30, ' ')\n|| RPAD(OPER_DESC, 15, ' ')\n|| RPAD(EQP_GROUP, 15, ' ')\n\n|| RPAD(EQP_MODEL, 30, ' ')\n|| RPAD(RES_ID, 15, ' ')\n|| RPAD(OPER, 6, ' ')\n\n|| RPAD(SUM(QTY), 10, ' ')\n|| RPAD(LOT_TYPE, 2, ' ')\n|| RPAD(PARA, 3, ' ')\n\n|| RPAD(TEST_TIME, 10, ' ')\n|| RPAD(INDEX_TIME, 10, ' ')\n|| RPAD(ATE_TIME, 10, ' ')\n\n|| RPAD(EQP_PRICE, 10, ' ')\n|| RPAD(ATE_PRICE, 10, ' ')\n|| RPAD(MVP_PRICE, 10, ' ')\n|| RPAD(PVI_PRICE, 10, ' ')\n|| RPAD(UNIT_PRICE, 10, ' ')\n\n|| RPAD(FULL_HALF, 10, ' ')\n|| RPAD(CREATE_TIME, 14, ' ')\n|| RPAD(REMARK, 200, ' ')\n  FROM\n(\n    SELECT 'LS1' START_TAG\n         , 'HM' OEM_CODE\n         , CASE\n            WHEN TO_CHAR(SYSDATE, 'DD') >= 28 THEN\n                 TO_CHAR(ADD_MONTHS(SYSDATE, +1), 'YYYYMM')\n            ELSE\n                 TO_CHAR(ADD_MONTHS(SYSDATE, -0), 'YYYYMM')\n           END AS \"MONTH\"\n         --, TO_CHAR(SYSDATE, 'DD') C_DATE\n         , TO_CHAR(SYSDATE, 'YYYYMMDD') C_DATE\n         , SUBSTR(LOT.TRAN_TIME, 1,8) AS O_DATE\n         , 'HMKT' AS OEM_AREA\n         \n         , TST.CUST_DVC CUST_DEVICE\n         , DECODE(TST.OPER ,'T0100', 'ATE', 'T0960', 'ASB', 'T0500', 'MVP', TST.OPER) OPER_DESC\n         \n         , (SELECT NVL(ATTR_VALUE, 'NULL') FROM MATRNAMSTS WHERE FACTORY = 'HMKT1' AND ATTR_TYPE = 'RESOURCE' AND ATTR_NAME = 'EQP_GROUP' AND ATTR_KEY = LOT.END_RES_ID) AS EQP_GROUP\n         , (SELECT NVL(ATTR_VALUE, 'NULL') FROM MATRNAMSTS WHERE FACTORY = 'HMKT1' AND ATTR_TYPE = 'RESOURCE' AND ATTR_NAME = 'EQP_MODEL' AND ATTR_KEY = LOT.END_RES_ID) AS EQP_MODEL\n         , LOT.OLD_OPER AS OPER\n         , LOT.END_RES_ID AS RES_ID\n         , LOT_CMF_5 LOT_TYPE\n\n         , LOT.QTY_1 AS QTY\n         , TST.PARA AS PARA\n         , TST.TEST_TIME AS TEST_TIME\n         , TST.INDEX_TIME AS INDEX_TIME\n         , TST.ATE_TIME AS ATE_TIME\n         , TST.EQP_PRICE AS EQP_PRICE\n         , TST.ATE_PRICE AS ATE_PRICE\n--         , (((TST.TEST_TIME + TST.INDEX_TIME) * TST.EQP_PRICE) / TST.PARA) AS ATE_PRICE\n         , TST.MVP_PRICE AS MVP_PRICE\n         , TST.PVI_PRICE AS PVI_PRICE\n         , TST.UNIT_PRICE AS UNIT_PRICE\n         , TST.FULL_HALF AS FULL_HALF\n         , TO_CHAR(SYSDATE, 'YYYYMMDDHH24MISS') AS CREATE_TIME\n         , ' ' AS REMARK\n      FROM MWIPLOTHIS LOT, VGCMTBLDAT_TEST_TIME_INF2 TST\n     WHERE 1=1\n       AND LOT.MAT_ID = TST.MAT_ID\n       AND LOT.OLD_OPER = TST.OPER\n       AND TST.MODEL = (SELECT NVL(ATTR_VALUE, 'NULL') FROM MATRNAMSTS WHERE FACTORY = 'HMKT1' AND ATTR_TYPE = 'RESOURCE' AND ATTR_NAME = 'EQP_MODEL' AND ATTR_KEY = LOT.END_RES_ID)\n       AND LOT.TRAN_TIME >= CASE WHEN TO_CHAR(SYSDATE, 'DD') >= 28 THEN\n                       TO_CHAR(ADD_MONTHS(SYSDATE, -0), 'YYYYMM')||'27'||'22'\n                       ELSE\n                       TO_CHAR(ADD_MONTHS(SYSDATE, -1), 'YYYYMM')||'27'||'22'\n                       END --AS PREV_MON\n\n       AND LOT.TRAN_TIME < CASE WHEN TO_CHAR(SYSDATE, 'HH24MISS') >= 220000\n                                  OR TO_CHAR(SYSDATE, 'HH24MISS') <= 235959 THEN\n                       TO_CHAR(SYSDATE -0, 'YYYYMMDD')||'22'\n                       ELSE\n                       TO_CHAR(SYSDATE -1, 'YYYYMMDD')||'22'\n                       END --AS CURR_MON\n                       \n--       AND LOT.TRAN_TIME < CASE WHEN TO_CHAR(SYSDATE, 'DD') >= 28 THEN\n--                       TO_CHAR(ADD_MONTHS(SYSDATE, +1), 'YYYYMM')||'27'||'22'\n--                       ELSE\n--                       TO_CHAR(ADD_MONTHS(SYSDATE, -0), 'YYYYMM')||'27'||'22'\n--                       END --AS CURR_MON\n       AND LOT.FACTORY = 'HMKT1'\n       AND LOT.TRAN_CODE = 'END'\n       AND LOT.OLD_OPER in ('T0100', 'T0960', 'T0500')\n--       AND TST.CUST_DVC = 'L6HD311A01-P040-A00VCD'\n--       AND LOT.MAT_ID = 'SEL6HD311A01-P040-A00KUVCD'\n)\nGROUP BY START_TAG\n, OEM_CODE\n, MONTH\n, C_DATE\n, O_DATE\n, OEM_AREA\n\n, CUST_DEVICE\n, OPER_DESC\n\n, EQP_GROUP\n, EQP_MODEL\n, OPER\n, RES_ID\n, LOT_TYPE\n\n, PARA\n, TEST_TIME\n, INDEX_TIME\n, ATE_TIME\n, EQP_PRICE\n, ATE_PRICE\n, MVP_PRICE\n, PVI_PRICE\n, UNIT_PRICE\n, FULL_HALF\n, CREATE_TIME\n, REMARK\nORDER BY 1","CREATE_USER":"6","CREATE_DATE":"2021-12-16 09:51:58","DBTYPE":"MES"}]
2022-11-16 13:13:00 [EDI System] info: 
        SELECT * FROM (
            SELECT *
            FROM EDI_QUERY_SETTING
            WHERE 1=1
            AND SETTING_ID = (
                SELECT ID
                FROM CG_CUSTOMER 
                WHERE PARENT = (
                    SELECT ID
                    FROM CG_CUSTOMER 
                    WHERE ID=(
                        SELECT PARENT
                        FROM CG_CUSTOMER 
                        WHERE ID=(
                            SELECT PARENT 
                            FROM CG_CUSTOMER 
                            WHERE ID=:id
                        )
                    )
                )
                AND LOWER(NAME) = 'common'
            )
            AND TYPE IN ('DB','TEXT')
            AND KEY NOT IN (SELECT KEY
                            FROM EDI_QUERY_SETTING
                            WHERE 1=1
                            AND SETTING_ID = :id
                            AND TYPE IN ('DB','TEXT'))
            UNION ALL
            SELECT *
            FROM EDI_QUERY_SETTING
            WHERE 1=1
            AND SETTING_ID = :id
            AND TYPE IN ('DB','TEXT')
        )
        ORDER BY LENGTH(KEY) DESC
    
2022-11-16 13:13:00 [EDI System] info: [{"ID":"137","SETTING_ID":"129","KEY":"todayHH24MISS","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE,'YYYYMMDDHH24MISS') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-11-12 05:20:22","DBTYPE":"MES"},{"ID":"124","SETTING_ID":"129","KEY":"todayHH24_M1H","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE - 1/24,'YYYYMMDDHH24') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-10-15 01:40:03","DBTYPE":"MES"},{"ID":"122","SETTING_ID":"129","KEY":"todayHH24","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE,'YYYYMMDDHH24') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-10-15 11:47:10","DBTYPE":"MES"},{"ID":"115","SETTING_ID":"129","KEY":"today_yy","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE,'YYYYMMDDHH24') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-09-24 08:46:51","DBTYPE":"MES"},{"ID":"130","SETTING_ID":"129","KEY":"today","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE,'YYYYMMDD') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-11-09 03:36:41","DBTYPE":"MES"}]
2022-11-16 13:14:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 13:15:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 13:15:00 [EDI System] info: Job Start Time > {"min":15,"hour":13,"date":16,"month":11,"day":3}
 {"ID":106,"CFG_ID":"141","FILE_NAME":"WO_INPUT_HANA_AS_:todayHH24_1","FILE_DESC":"Siliconworks input assy","FILE_SAVE_FOLDER":"D:/HM_EDI/SILICONWOKRS/OUT","FILE_CHARSET":"utf-8","FILE_TYPE":"csv","DATA_TYPE":"text","FTP_ENV_ID":"106","SEND_FLAG":"Y","NODATASEND":null,"SCHEDULE_MIN":"15","SCHEDULE_HOUR":"*","SCHEDULE_DAY":"*","SCHEDULE_WEEK":"*","SCHEDULE_MONTH":"*","CM_F01":null,"CM_F02":null,"CREATE_DATE":"2021-11-12 05:06:11","CREATE_USER":"6","UPDATE_DATE":"2022-02-16 12:18:37","UPDATE_USER":"6","DELETE_DATE":null,"DELETE_USER":null,"frequency":"15 * * * *"}
2022-11-16 13:15:00 [EDI System] info: 106 >>> makeFileText Function Execute
2022-11-16 13:15:00 [EDI System] info: Job Start Time > {"min":15,"hour":13,"date":16,"month":11,"day":3}
 {"ID":129,"CFG_ID":"166","FILE_NAME":"WO_INPUT_HANA_AS_:todayHH24_1","FILE_DESC":"Siliconworks input assy","FILE_SAVE_FOLDER":"D:/HM_EDI/SILICONWOKRS/OUT","FILE_CHARSET":"utf-8","FILE_TYPE":"csv","DATA_TYPE":"text","FTP_ENV_ID":"106","SEND_FLAG":"Y","NODATASEND":null,"SCHEDULE_MIN":"15","SCHEDULE_HOUR":"*","SCHEDULE_DAY":"*","SCHEDULE_WEEK":"*","SCHEDULE_MONTH":"*","CM_F01":null,"CM_F02":null,"CREATE_DATE":"2022-02-22 16:21:15","CREATE_USER":"6","UPDATE_DATE":null,"UPDATE_USER":null,"DELETE_DATE":null,"DELETE_USER":null,"frequency":"15 * * * *"}
2022-11-16 13:15:00 [EDI System] info: 129 >>> makeFileText Function Execute
2022-11-16 13:15:00 [EDI System] info: Job Start Time > {"min":15,"hour":13,"date":16,"month":11,"day":3}
 {"ID":127,"CFG_ID":"164","FILE_NAME":"WO_INPUT_HANA_AS_:todayHH24_1","FILE_DESC":"Siliconworks input assy","FILE_SAVE_FOLDER":"D:/HM_EDI/SILICONWOKRS/OUT","FILE_CHARSET":"utf-8","FILE_TYPE":"csv","DATA_TYPE":"text","FTP_ENV_ID":"106","SEND_FLAG":"Y","NODATASEND":null,"SCHEDULE_MIN":"15","SCHEDULE_HOUR":"*","SCHEDULE_DAY":"*","SCHEDULE_WEEK":"*","SCHEDULE_MONTH":"*","CM_F01":null,"CM_F02":null,"CREATE_DATE":"2022-02-22 16:13:42","CREATE_USER":"6","UPDATE_DATE":null,"UPDATE_USER":null,"DELETE_DATE":null,"DELETE_USER":null,"frequency":"15 * * * *"}
2022-11-16 13:15:00 [EDI System] info: 127 >>> makeFileText Function Execute
2022-11-16 13:15:00 [EDI System] info: Job Start Time > {"min":15,"hour":13,"date":16,"month":11,"day":3}
 {"ID":128,"CFG_ID":"165","FILE_NAME":"WO_INPUT_HANA_AS_:todayHH24_1","FILE_DESC":"Siliconworks input assy","FILE_SAVE_FOLDER":"D:/HM_EDI/SILICONWOKRS/OUT","FILE_CHARSET":"utf-8","FILE_TYPE":"csv","DATA_TYPE":"text","FTP_ENV_ID":"106","SEND_FLAG":"Y","NODATASEND":null,"SCHEDULE_MIN":"15","SCHEDULE_HOUR":"*","SCHEDULE_DAY":"*","SCHEDULE_WEEK":"*","SCHEDULE_MONTH":"*","CM_F01":null,"CM_F02":null,"CREATE_DATE":"2022-02-22 16:18:38","CREATE_USER":"6","UPDATE_DATE":null,"UPDATE_USER":null,"DELETE_DATE":null,"DELETE_USER":null,"frequency":"15 * * * *"}
2022-11-16 13:15:00 [EDI System] info: 128 >>> makeFileText Function Execute
2022-11-16 13:15:00 [EDI System] info: Job Start Time > {"min":15,"hour":13,"date":16,"month":11,"day":3}
 {"ID":130,"CFG_ID":"167","FILE_NAME":"WO_INPUT_HANA_AS_:todayHH24_1","FILE_DESC":"Siliconworks input assy","FILE_SAVE_FOLDER":"D:/HM_EDI/SILICONWOKRS/OUT","FILE_CHARSET":"utf-8","FILE_TYPE":"csv","DATA_TYPE":"text","FTP_ENV_ID":"106","SEND_FLAG":"Y","NODATASEND":null,"SCHEDULE_MIN":"15","SCHEDULE_HOUR":"*","SCHEDULE_DAY":"*","SCHEDULE_WEEK":"*","SCHEDULE_MONTH":"*","CM_F01":null,"CM_F02":null,"CREATE_DATE":"2022-02-22 16:23:34","CREATE_USER":"6","UPDATE_DATE":null,"UPDATE_USER":null,"DELETE_DATE":null,"DELETE_USER":null,"frequency":"15 * * * *"}
2022-11-16 13:15:00 [EDI System] info: 130 >>> makeFileText Function Execute
2022-11-16 13:15:00 [EDI System] info: SELECT EDI_LOG_SEQ.NEXTVAL AS ID FROM DUAL
2022-11-16 13:15:00 [EDI System] info: SELECT EDI_LOG_SEQ.NEXTVAL AS ID FROM DUAL
2022-11-16 13:15:00 [EDI System] info: SELECT EDI_LOG_SEQ.NEXTVAL AS ID FROM DUAL
2022-11-16 13:15:00 [EDI System] info: SELECT EDI_LOG_SEQ.NEXTVAL AS ID FROM DUAL
2022-11-16 13:15:00 [EDI System] info: SELECT EDI_LOG_SEQ.NEXTVAL AS ID FROM DUAL
2022-11-16 13:15:00 [EDI System] info: SELECT EDI_LOG_SEQ.NEXTVAL AS ID FROM DUAL
2022-11-16 13:15:00 [EDI System] info: SELECT EDI_LOG_SEQ.NEXTVAL AS ID FROM DUAL
2022-11-16 13:15:00 [EDI System] info: SELECT EDI_LOG_SEQ.NEXTVAL AS ID FROM DUAL
2022-11-16 13:15:00 [EDI System] info: SELECT EDI_LOG_SEQ.NEXTVAL AS ID FROM DUAL
2022-11-16 13:15:00 [EDI System] info: SELECT EDI_LOG_SEQ.NEXTVAL AS ID FROM DUAL
2022-11-16 13:15:00 [EDI System] info: [{"ID":11077}]
2022-11-16 13:15:00 [EDI System] info: [{"ID":11078}]
2022-11-16 13:15:00 [EDI System] info: seq : return Key [{"ID":11077}]
2022-11-16 13:15:00 [EDI System] info: saveAllLogger => ID:11077, NAME:WO_INPUT_HANA_AS_:todayHH24_1, ProcessID:141, Description: Job Start : ID=106, CFG_ID=141, FTP_ENV_ID=106, FILE_NAME=WO_INPUT_HANA_AS_:todayHH24_1, FILE_DESC=Siliconworks input assy, FILE_CHARSET=utf-8, FILE_TYPE=csv
2022-11-16 13:15:00 [EDI System] info: INSERT INTO EDI_LOG(ID, STEP, NAME, PROCESS_ID, DESCRIPTION, CREATE_USER, CREATE_DATE)
    VALUES(:id, :stepId, :name, :process_id, :description, 'DAEMON', TO_CHAR(SYSDATE,'YYYYMMDDHH24MISS'))
2022-11-16 13:15:00 [EDI System] info: seq : return Key [{"ID":11078}]
2022-11-16 13:15:00 [EDI System] info: saveAllLogger => ID:11078, NAME:WO_INPUT_HANA_AS_:todayHH24_1, ProcessID:165, Description: Job Start : ID=128, CFG_ID=165, FTP_ENV_ID=106, FILE_NAME=WO_INPUT_HANA_AS_:todayHH24_1, FILE_DESC=Siliconworks input assy, FILE_CHARSET=utf-8, FILE_TYPE=csv
2022-11-16 13:15:00 [EDI System] info: INSERT INTO EDI_LOG(ID, STEP, NAME, PROCESS_ID, DESCRIPTION, CREATE_USER, CREATE_DATE)
    VALUES(:id, :stepId, :name, :process_id, :description, 'DAEMON', TO_CHAR(SYSDATE,'YYYYMMDDHH24MISS'))
2022-11-16 13:15:00 [EDI System] info: [{"ID":11079}]
2022-11-16 13:15:00 [EDI System] info: [{"ID":11080}]
2022-11-16 13:15:00 [EDI System] info: seq : return Key [{"ID":11080}]
2022-11-16 13:15:00 [EDI System] info: saveAllLogger => ID:11080, NAME:WO_INPUT_HANA_AS_:todayHH24_1, ProcessID:167, Description: Job Start : ID=130, CFG_ID=167, FTP_ENV_ID=106, FILE_NAME=WO_INPUT_HANA_AS_:todayHH24_1, FILE_DESC=Siliconworks input assy, FILE_CHARSET=utf-8, FILE_TYPE=csv
2022-11-16 13:15:00 [EDI System] info: INSERT INTO EDI_LOG(ID, STEP, NAME, PROCESS_ID, DESCRIPTION, CREATE_USER, CREATE_DATE)
    VALUES(:id, :stepId, :name, :process_id, :description, 'DAEMON', TO_CHAR(SYSDATE,'YYYYMMDDHH24MISS'))
2022-11-16 13:15:00 [EDI System] info: [{"ID":11081}]
2022-11-16 13:15:00 [EDI System] info: seq : return Key [{"ID":11079}]
2022-11-16 13:15:00 [EDI System] info: saveAllLogger => ID:11079, NAME:WO_INPUT_HANA_AS_:todayHH24_1, ProcessID:166, Description: Job Start : ID=129, CFG_ID=166, FTP_ENV_ID=106, FILE_NAME=WO_INPUT_HANA_AS_:todayHH24_1, FILE_DESC=Siliconworks input assy, FILE_CHARSET=utf-8, FILE_TYPE=csv
2022-11-16 13:15:00 [EDI System] info: INSERT INTO EDI_LOG(ID, STEP, NAME, PROCESS_ID, DESCRIPTION, CREATE_USER, CREATE_DATE)
    VALUES(:id, :stepId, :name, :process_id, :description, 'DAEMON', TO_CHAR(SYSDATE,'YYYYMMDDHH24MISS'))
2022-11-16 13:15:00 [EDI System] info: seq : return Key [{"ID":11081}]
2022-11-16 13:15:00 [EDI System] info: saveAllLogger => ID:11081, NAME:WO_INPUT_HANA_AS_:todayHH24_1, ProcessID:164, Description: Job Start : ID=127, CFG_ID=164, FTP_ENV_ID=106, FILE_NAME=WO_INPUT_HANA_AS_:todayHH24_1, FILE_DESC=Siliconworks input assy, FILE_CHARSET=utf-8, FILE_TYPE=csv
2022-11-16 13:15:00 [EDI System] info: INSERT INTO EDI_LOG(ID, STEP, NAME, PROCESS_ID, DESCRIPTION, CREATE_USER, CREATE_DATE)
    VALUES(:id, :stepId, :name, :process_id, :description, 'DAEMON', TO_CHAR(SYSDATE,'YYYYMMDDHH24MISS'))
2022-11-16 13:15:00 [EDI System] info: Insert successful = SQL: INSERT INTO EDI_LOG(ID, STEP, NAME, PROCESS_ID, DESCRIPTION, CREATE_USER, CREATE_DATE)
    VALUES(:id, :stepId, :name, :process_id, :description, 'DAEMON', TO_CHAR(SYSDATE,'YYYYMMDDHH24MISS')) | Params: {"id":11078,"stepId":"1","name":"WO_INPUT_HANA_AS_:todayHH24_1","process_id":"165","description":"Job Start : ID=128, CFG_ID=165, FTP_ENV_ID=106, FILE_NAME=WO_INPUT_HANA_AS_:todayHH24_1, FILE_DESC=Siliconworks input assy, FILE_CHARSET=utf-8, FILE_TYPE=csv"} / 1
2022-11-16 13:15:00 [EDI System] info: Insert successful = SQL: INSERT INTO EDI_LOG(ID, STEP, NAME, PROCESS_ID, DESCRIPTION, CREATE_USER, CREATE_DATE)
    VALUES(:id, :stepId, :name, :process_id, :description, 'DAEMON', TO_CHAR(SYSDATE,'YYYYMMDDHH24MISS')) | Params: {"id":11077,"stepId":"1","name":"WO_INPUT_HANA_AS_:todayHH24_1","process_id":"141","description":"Job Start : ID=106, CFG_ID=141, FTP_ENV_ID=106, FILE_NAME=WO_INPUT_HANA_AS_:todayHH24_1, FILE_DESC=Siliconworks input assy, FILE_CHARSET=utf-8, FILE_TYPE=csv"} / 1
2022-11-16 13:15:00 [EDI System] info: 
    SELECT *
    FROM (
        SELECT ROWNUM,A.*
            FROM EDI_QUERY_SETTING A
            WHERE SETTING_ID = :id
            AND TYPE='Main'
            ORDER BY ID DESC
        ) 
    WHERE ROWNUM='1'
    
2022-11-16 13:15:00 [EDI System] info: 
    SELECT *
    FROM (
        SELECT ROWNUM,A.*
            FROM EDI_QUERY_SETTING A
            WHERE SETTING_ID = :id
            AND TYPE='Main'
            ORDER BY ID DESC
        ) 
    WHERE ROWNUM='1'
    
2022-11-16 13:15:00 [EDI System] info: Insert successful = SQL: INSERT INTO EDI_LOG(ID, STEP, NAME, PROCESS_ID, DESCRIPTION, CREATE_USER, CREATE_DATE)
    VALUES(:id, :stepId, :name, :process_id, :description, 'DAEMON', TO_CHAR(SYSDATE,'YYYYMMDDHH24MISS')) | Params: {"id":11080,"stepId":"1","name":"WO_INPUT_HANA_AS_:todayHH24_1","process_id":"167","description":"Job Start : ID=130, CFG_ID=167, FTP_ENV_ID=106, FILE_NAME=WO_INPUT_HANA_AS_:todayHH24_1, FILE_DESC=Siliconworks input assy, FILE_CHARSET=utf-8, FILE_TYPE=csv"} / 1
2022-11-16 13:15:00 [EDI System] info: Insert successful = SQL: INSERT INTO EDI_LOG(ID, STEP, NAME, PROCESS_ID, DESCRIPTION, CREATE_USER, CREATE_DATE)
    VALUES(:id, :stepId, :name, :process_id, :description, 'DAEMON', TO_CHAR(SYSDATE,'YYYYMMDDHH24MISS')) | Params: {"id":11081,"stepId":"1","name":"WO_INPUT_HANA_AS_:todayHH24_1","process_id":"164","description":"Job Start : ID=127, CFG_ID=164, FTP_ENV_ID=106, FILE_NAME=WO_INPUT_HANA_AS_:todayHH24_1, FILE_DESC=Siliconworks input assy, FILE_CHARSET=utf-8, FILE_TYPE=csv"} / 1
2022-11-16 13:15:00 [EDI System] info: 
    SELECT *
    FROM (
        SELECT ROWNUM,A.*
            FROM EDI_QUERY_SETTING A
            WHERE SETTING_ID = :id
            AND TYPE='Main'
            ORDER BY ID DESC
        ) 
    WHERE ROWNUM='1'
    
2022-11-16 13:15:00 [EDI System] info: 
    SELECT *
    FROM (
        SELECT ROWNUM,A.*
            FROM EDI_QUERY_SETTING A
            WHERE SETTING_ID = :id
            AND TYPE='Main'
            ORDER BY ID DESC
        ) 
    WHERE ROWNUM='1'
    
2022-11-16 13:15:00 [EDI System] info: Insert successful = SQL: INSERT INTO EDI_LOG(ID, STEP, NAME, PROCESS_ID, DESCRIPTION, CREATE_USER, CREATE_DATE)
    VALUES(:id, :stepId, :name, :process_id, :description, 'DAEMON', TO_CHAR(SYSDATE,'YYYYMMDDHH24MISS')) | Params: {"id":11079,"stepId":"1","name":"WO_INPUT_HANA_AS_:todayHH24_1","process_id":"166","description":"Job Start : ID=129, CFG_ID=166, FTP_ENV_ID=106, FILE_NAME=WO_INPUT_HANA_AS_:todayHH24_1, FILE_DESC=Siliconworks input assy, FILE_CHARSET=utf-8, FILE_TYPE=csv"} / 1
2022-11-16 13:15:00 [EDI System] info: 
    SELECT *
    FROM (
        SELECT ROWNUM,A.*
            FROM EDI_QUERY_SETTING A
            WHERE SETTING_ID = :id
            AND TYPE='Main'
            ORDER BY ID DESC
        ) 
    WHERE ROWNUM='1'
    
2022-11-16 13:15:00 [EDI System] info: [{"ROWNUM":1,"ID":"167","SETTING_ID":"165","KEY":null,"TYPE":"Main","QUERY":"SELECT 'Interface ID'\n || ',' || 'Interface Line ID'\n || ',' || 'SUPPLIER_CODE'\n || ',' || 'PROCESSING_CODE'\n || ',' || 'SIW_WO_NO'\n || ',' || 'SUPPLIER_WO_NO'\n || ',' || 'ASSY_ITEM_CODE'\n || ',' || 'ASSY_QTY'\n || ',' || 'UOM_CODE'\n || ',' || 'WORK_START_DATE'\n || ',' || 'COMPONENT_ITEM_CODE'\n || ',' || 'COMPONENT_LOT_ID'\n || ',' || 'COMPONENT_QTY'\n || ',' || 'REMARK1'\n || ',' || 'CANCEL_FLAG'\n || ',' || 'CREATION_DATE'\n\n  FROM IEDISIW_INPUT_INFO\n WHERE CUTOFF_DT = :todayHH24 -- TO_CHAR(SYSDATE, 'YYYYMMDDHH24')\n   AND PROCESSING_CODE = 'AS'\n   AND ROWNUM = 1\n\nUNION ALL\n\nSELECT IF_ID \n || ',' || IF_LINE_ID \n || ',' || SUPPLIER_CODE \n || ',' || PROCESSING_CODE \n || ',' || SIW_WO_NO \n || ',' || SUPPLIER_WO_NO \n || ',' || ASSY_ITEM_CODE \n || ',' || ASSY_QTY \n || ',' || UOM_CODE \n || ',' || WORK_START_DATE \n || ',' || COMPONENT_ITEM_CODE\n || ',' || COMPONENT_LOT_ID \n || ',' || COMPONENT_QTY \n || ',' || REMARK1 \n || ',' || CANCEL_FLAG \n || ',' || CREATION_DATE \n\n  FROM IEDISIW_INPUT_INFO\n WHERE CUTOFF_DT = :todayHH24 -- TO_CHAR(SYSDATE, 'YYYYMMDDHH24')\n   AND PROCESSING_CODE = 'AS'","CREATE_USER":"6","CREATE_DATE":"2022-02-22 16:18:38","DBTYPE":null}]
2022-11-16 13:15:00 [EDI System] info: 
        SELECT * FROM (
            SELECT *
            FROM EDI_QUERY_SETTING
            WHERE 1=1
            AND SETTING_ID = (
                SELECT ID
                FROM CG_CUSTOMER 
                WHERE PARENT = (
                    SELECT ID
                    FROM CG_CUSTOMER 
                    WHERE ID=(
                        SELECT PARENT
                        FROM CG_CUSTOMER 
                        WHERE ID=(
                            SELECT PARENT 
                            FROM CG_CUSTOMER 
                            WHERE ID=:id
                        )
                    )
                )
                AND LOWER(NAME) = 'common'
            )
            AND TYPE IN ('DB','TEXT')
            AND KEY NOT IN (SELECT KEY
                            FROM EDI_QUERY_SETTING
                            WHERE 1=1
                            AND SETTING_ID = :id
                            AND TYPE IN ('DB','TEXT'))
            UNION ALL
            SELECT *
            FROM EDI_QUERY_SETTING
            WHERE 1=1
            AND SETTING_ID = :id
            AND TYPE IN ('DB','TEXT')
        )
        ORDER BY LENGTH(KEY) DESC
    
2022-11-16 13:15:00 [EDI System] info: [{"ROWNUM":4,"ID":"166","SETTING_ID":"141","KEY":null,"TYPE":"Main","QUERY":"SELECT 'Interface ID'\n || ',' || 'Interface Line ID'\n || ',' || 'SUPPLIER_CODE'\n || ',' || 'PROCESSING_CODE'\n || ',' || 'SIW_WO_NO'\n || ',' || 'SUPPLIER_WO_NO'\n || ',' || 'ASSY_ITEM_CODE'\n || ',' || 'ASSY_QTY'\n || ',' || 'UOM_CODE'\n || ',' || 'WORK_START_DATE'\n || ',' || 'COMPONENT_ITEM_CODE'\n || ',' || 'COMPONENT_LOT_ID'\n || ',' || 'COMPONENT_QTY'\n || ',' || 'REMARK1'\n || ',' || 'CANCEL_FLAG'\n || ',' || 'CREATION_DATE'\n\n  FROM IEDISIW_INPUT_INFO\n WHERE CUTOFF_DT = :todayHH24 -- TO_CHAR(SYSDATE, 'YYYYMMDDHH24')\n   AND PROCESSING_CODE = 'AS'\n   AND ROWNUM = 1\n\tAND ROWNUM = 2\n    \nUNION ALL\n\nSELECT IF_ID \n || ',' || IF_LINE_ID \n || ',' || SUPPLIER_CODE \n || ',' || PROCESSING_CODE \n || ',' || SIW_WO_NO \n || ',' || SUPPLIER_WO_NO \n || ',' || ASSY_ITEM_CODE \n || ',' || ASSY_QTY \n || ',' || UOM_CODE \n || ',' || WORK_START_DATE \n || ',' || COMPONENT_ITEM_CODE\n || ',' || COMPONENT_LOT_ID \n || ',' || COMPONENT_QTY \n || ',' || REMARK1 \n || ',' || CANCEL_FLAG \n || ',' || CREATION_DATE \n\n  FROM IEDISIW_INPUT_INFO\n WHERE CUTOFF_DT = :todayHH24 -- TO_CHAR(SYSDATE, 'YYYYMMDDHH24')\n   AND PROCESSING_CODE = 'AS'","CREATE_USER":"6","CREATE_DATE":"2022-02-16 16:42:57","DBTYPE":"MES"}]
2022-11-16 13:15:00 [EDI System] info: 
        SELECT * FROM (
            SELECT *
            FROM EDI_QUERY_SETTING
            WHERE 1=1
            AND SETTING_ID = (
                SELECT ID
                FROM CG_CUSTOMER 
                WHERE PARENT = (
                    SELECT ID
                    FROM CG_CUSTOMER 
                    WHERE ID=(
                        SELECT PARENT
                        FROM CG_CUSTOMER 
                        WHERE ID=(
                            SELECT PARENT 
                            FROM CG_CUSTOMER 
                            WHERE ID=:id
                        )
                    )
                )
                AND LOWER(NAME) = 'common'
            )
            AND TYPE IN ('DB','TEXT')
            AND KEY NOT IN (SELECT KEY
                            FROM EDI_QUERY_SETTING
                            WHERE 1=1
                            AND SETTING_ID = :id
                            AND TYPE IN ('DB','TEXT'))
            UNION ALL
            SELECT *
            FROM EDI_QUERY_SETTING
            WHERE 1=1
            AND SETTING_ID = :id
            AND TYPE IN ('DB','TEXT')
        )
        ORDER BY LENGTH(KEY) DESC
    
2022-11-16 13:15:00 [EDI System] info: []
2022-11-16 13:15:00 [EDI System] info: 
        SELECT * FROM (
            SELECT *
            FROM EDI_QUERY_SETTING
            WHERE 1=1
            AND SETTING_ID = (
                SELECT ID
                FROM CG_CUSTOMER 
                WHERE PARENT = (
                    SELECT ID
                    FROM CG_CUSTOMER 
                    WHERE ID=(
                        SELECT PARENT
                        FROM CG_CUSTOMER 
                        WHERE ID=(
                            SELECT PARENT 
                            FROM CG_CUSTOMER 
                            WHERE ID=:id
                        )
                    )
                )
                AND LOWER(NAME) = 'common'
            )
            AND TYPE IN ('DB','TEXT')
            AND KEY NOT IN (SELECT KEY
                            FROM EDI_QUERY_SETTING
                            WHERE 1=1
                            AND SETTING_ID = :id
                            AND TYPE IN ('DB','TEXT'))
            UNION ALL
            SELECT *
            FROM EDI_QUERY_SETTING
            WHERE 1=1
            AND SETTING_ID = :id
            AND TYPE IN ('DB','TEXT')
        )
        ORDER BY LENGTH(KEY) DESC
    
2022-11-16 13:15:00 [EDI System] info: [{"ROWNUM":1,"ID":"169","SETTING_ID":"167","KEY":null,"TYPE":"Main","QUERY":"SELECT 'Interface ID'\n || ',' || 'Interface Line ID'\n || ',' || 'SUPPLIER_CODE'\n || ',' || 'PROCESSING_CODE'\n || ',' || 'SIW_WO_NO'\n || ',' || 'SUPPLIER_WO_NO'\n || ',' || 'ASSY_ITEM_CODE'\n || ',' || 'ASSY_QTY'\n || ',' || 'UOM_CODE'\n || ',' || 'WORK_START_DATE'\n || ',' || 'COMPONENT_ITEM_CODE'\n || ',' || 'COMPONENT_LOT_ID'\n || ',' || 'COMPONENT_QTY'\n || ',' || 'REMARK1'\n || ',' || 'CANCEL_FLAG'\n || ',' || 'CREATION_DATE'\n\n  FROM IEDISIW_INPUT_INFO\n WHERE CUTOFF_DT = :todayHH24 -- TO_CHAR(SYSDATE, 'YYYYMMDDHH24')\n   AND PROCESSING_CODE = 'AS'\n   AND ROWNUM = 1\n\tAND ROWNUM = 2\n    \nUNION ALL\n\nSELECT IF_ID \n || ',' || IF_LINE_ID \n || ',' || SUPPLIER_CODE \n || ',' || PROCESSING_CODE \n || ',' || SIW_WO_NO \n || ',' || SUPPLIER_WO_NO \n || ',' || ASSY_ITEM_CODE \n || ',' || ASSY_QTY \n || ',' || UOM_CODE \n || ',' || WORK_START_DATE \n || ',' || COMPONENT_ITEM_CODE\n || ',' || COMPONENT_LOT_ID \n || ',' || COMPONENT_QTY \n || ',' || REMARK1 \n || ',' || CANCEL_FLAG \n || ',' || CREATION_DATE \n\n  FROM IEDISIW_INPUT_INFO\n WHERE CUTOFF_DT = :todayHH24 -- TO_CHAR(SYSDATE, 'YYYYMMDDHH24')\n   AND PROCESSING_CODE = 'AS'","CREATE_USER":"6","CREATE_DATE":"2022-02-22 16:23:34","DBTYPE":"MES"}]
2022-11-16 13:15:00 [EDI System] info: 
        SELECT * FROM (
            SELECT *
            FROM EDI_QUERY_SETTING
            WHERE 1=1
            AND SETTING_ID = (
                SELECT ID
                FROM CG_CUSTOMER 
                WHERE PARENT = (
                    SELECT ID
                    FROM CG_CUSTOMER 
                    WHERE ID=(
                        SELECT PARENT
                        FROM CG_CUSTOMER 
                        WHERE ID=(
                            SELECT PARENT 
                            FROM CG_CUSTOMER 
                            WHERE ID=:id
                        )
                    )
                )
                AND LOWER(NAME) = 'common'
            )
            AND TYPE IN ('DB','TEXT')
            AND KEY NOT IN (SELECT KEY
                            FROM EDI_QUERY_SETTING
                            WHERE 1=1
                            AND SETTING_ID = :id
                            AND TYPE IN ('DB','TEXT'))
            UNION ALL
            SELECT *
            FROM EDI_QUERY_SETTING
            WHERE 1=1
            AND SETTING_ID = :id
            AND TYPE IN ('DB','TEXT')
        )
        ORDER BY LENGTH(KEY) DESC
    
2022-11-16 13:15:00 [EDI System] info: [{"ID":"133","SETTING_ID":"139","KEY":"todayHH24_M1H","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE - 1/24,'YYYYMMDDHH24') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-11-12 05:01:01","DBTYPE":"MES"},{"ID":"132","SETTING_ID":"139","KEY":"todayHH24","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE,'YYYYMMDDHH24') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-11-12 05:01:01","DBTYPE":"MES"},{"ID":"131","SETTING_ID":"139","KEY":"today_yy","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE,'YYYYMMDDHH24') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-11-12 05:01:01","DBTYPE":"MES"},{"ID":"134","SETTING_ID":"139","KEY":"today","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE,'YYYYMMDDHH24') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-11-12 05:01:01","DBTYPE":"MES"}]
2022-11-16 13:15:00 [EDI System] info: []
2022-11-16 13:15:00 [EDI System] info: 
        SELECT * FROM (
            SELECT *
            FROM EDI_QUERY_SETTING
            WHERE 1=1
            AND SETTING_ID = (
                SELECT ID
                FROM CG_CUSTOMER 
                WHERE PARENT = (
                    SELECT ID
                    FROM CG_CUSTOMER 
                    WHERE ID=(
                        SELECT PARENT
                        FROM CG_CUSTOMER 
                        WHERE ID=(
                            SELECT PARENT 
                            FROM CG_CUSTOMER 
                            WHERE ID=:id
                        )
                    )
                )
                AND LOWER(NAME) = 'common'
            )
            AND TYPE IN ('DB','TEXT')
            AND KEY NOT IN (SELECT KEY
                            FROM EDI_QUERY_SETTING
                            WHERE 1=1
                            AND SETTING_ID = :id
                            AND TYPE IN ('DB','TEXT'))
            UNION ALL
            SELECT *
            FROM EDI_QUERY_SETTING
            WHERE 1=1
            AND SETTING_ID = :id
            AND TYPE IN ('DB','TEXT')
        )
        ORDER BY LENGTH(KEY) DESC
    
2022-11-16 13:15:00 [EDI System] info: [{"ID":"133","SETTING_ID":"139","KEY":"todayHH24_M1H","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE - 1/24,'YYYYMMDDHH24') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-11-12 05:01:01","DBTYPE":"MES"},{"ID":"132","SETTING_ID":"139","KEY":"todayHH24","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE,'YYYYMMDDHH24') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-11-12 05:01:01","DBTYPE":"MES"},{"ID":"131","SETTING_ID":"139","KEY":"today_yy","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE,'YYYYMMDDHH24') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-11-12 05:01:01","DBTYPE":"MES"},{"ID":"134","SETTING_ID":"139","KEY":"today","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE,'YYYYMMDDHH24') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-11-12 05:01:01","DBTYPE":"MES"}]
2022-11-16 13:15:00 [EDI System] info: [{"ID":"133","SETTING_ID":"139","KEY":"todayHH24_M1H","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE - 1/24,'YYYYMMDDHH24') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-11-12 05:01:01","DBTYPE":"MES"},{"ID":"132","SETTING_ID":"139","KEY":"todayHH24","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE,'YYYYMMDDHH24') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-11-12 05:01:01","DBTYPE":"MES"},{"ID":"131","SETTING_ID":"139","KEY":"today_yy","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE,'YYYYMMDDHH24') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-11-12 05:01:01","DBTYPE":"MES"},{"ID":"134","SETTING_ID":"139","KEY":"today","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE,'YYYYMMDDHH24') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-11-12 05:01:01","DBTYPE":"MES"}]
2022-11-16 13:15:00 [EDI System] info: 
    SELECT *
    FROM EDI_ENV_SETTING WHERE CFG_ID=:id
    
2022-11-16 13:15:00 [EDI System] info: [{"ID":"133","SETTING_ID":"139","KEY":"todayHH24_M1H","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE - 1/24,'YYYYMMDDHH24') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-11-12 05:01:01","DBTYPE":"MES"},{"ID":"132","SETTING_ID":"139","KEY":"todayHH24","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE,'YYYYMMDDHH24') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-11-12 05:01:01","DBTYPE":"MES"},{"ID":"131","SETTING_ID":"139","KEY":"today_yy","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE,'YYYYMMDDHH24') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-11-12 05:01:01","DBTYPE":"MES"},{"ID":"134","SETTING_ID":"139","KEY":"today","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE,'YYYYMMDDHH24') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-11-12 05:01:01","DBTYPE":"MES"}]
2022-11-16 13:15:00 [EDI System] info: [{"ID":"133","SETTING_ID":"139","KEY":"todayHH24_M1H","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE - 1/24,'YYYYMMDDHH24') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-11-12 05:01:01","DBTYPE":"MES"},{"ID":"132","SETTING_ID":"139","KEY":"todayHH24","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE,'YYYYMMDDHH24') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-11-12 05:01:01","DBTYPE":"MES"},{"ID":"131","SETTING_ID":"139","KEY":"today_yy","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE,'YYYYMMDDHH24') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-11-12 05:01:01","DBTYPE":"MES"},{"ID":"134","SETTING_ID":"139","KEY":"today","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE,'YYYYMMDDHH24') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-11-12 05:01:01","DBTYPE":"MES"}]
2022-11-16 13:15:00 [EDI System] info: 
    SELECT *
    FROM EDI_ENV_SETTING WHERE CFG_ID=:id
    
2022-11-16 13:15:00 [EDI System] info: [{"ID":"139","CFG_ID":"164","ITEM":"between","SET_TYPE":null,"VALUE":"vetween","NOTE":"1","UPDATE_USER":null,"UPDATE_DATE":null,"CREATE_USER":"6","CREATE_DATE":"2022-02-22 16:13:42"}]
2022-11-16 13:15:00 [EDI System] info: 
  SELECT *
  FROM EDI_FILE_HEADNTAIL WHERE CFG_ID=:id
  
2022-11-16 13:15:00 [EDI System] info: [{"ID":"141","CFG_ID":"166","ITEM":"between","SET_TYPE":null,"VALUE":"vetween","NOTE":"1","UPDATE_USER":null,"UPDATE_DATE":null,"CREATE_USER":"6","CREATE_DATE":"2022-02-22 16:21:15"}]
2022-11-16 13:15:00 [EDI System] info: 
  SELECT *
  FROM EDI_FILE_HEADNTAIL WHERE CFG_ID=:id
  
2022-11-16 13:15:00 [EDI System] info: [{"ID":"149","CFG_ID":"164","DATA_TYPE":"h_text","NOTE":"test","VALUE":"value","CM_F01":null,"CM_F02":null,"UPDATE_USER":null,"UPDATE_DATE":null,"CREATE_USER":"6","CREATE_DATE":"2022-02-22 16:13:42","DELETE_DATE":null,"DELETE_USER":null},{"ID":"148","CFG_ID":"164","DATA_TYPE":"h_sql","NOTE":"test\\","VALUE":"select 1 from dual","CM_F01":null,"CM_F02":null,"UPDATE_USER":null,"UPDATE_DATE":null,"CREATE_USER":"6","CREATE_DATE":"2022-02-22 16:13:42","DELETE_DATE":null,"DELETE_USER":null}]
2022-11-16 13:15:00 [EDI System] info: [{"ID":"152","CFG_ID":"166","DATA_TYPE":"h_sql","NOTE":"test\\","VALUE":"select 1 from dual","CM_F01":null,"CM_F02":null,"UPDATE_USER":null,"UPDATE_DATE":null,"CREATE_USER":"6","CREATE_DATE":"2022-02-22 16:21:15","DELETE_DATE":null,"DELETE_USER":null},{"ID":"153","CFG_ID":"166","DATA_TYPE":"h_text","NOTE":"test","VALUE":"value","CM_F01":null,"CM_F02":null,"UPDATE_USER":null,"UPDATE_DATE":null,"CREATE_USER":"6","CREATE_DATE":"2022-02-22 16:21:15","DELETE_DATE":null,"DELETE_USER":null}]
2022-11-16 13:16:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 13:17:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 13:17:00 [EDI System] info: Job Start Time > {"min":17,"hour":13,"date":16,"month":11,"day":3}
 {"ID":122,"CFG_ID":"160","FILE_NAME":"CMEQPUNT_HM:today_2","FILE_DESC":"SEC CMEQPUNT 1/1day","FILE_SAVE_FOLDER":"D:/HM_EDI/SEC/OUT","FILE_CHARSET":"ascii","FILE_TYPE":"ff","DATA_TYPE":"text","FTP_ENV_ID":"100","SEND_FLAG":"Y","NODATASEND":"false","SCHEDULE_MIN":"17","SCHEDULE_HOUR":"*","SCHEDULE_DAY":"*","SCHEDULE_WEEK":"*","SCHEDULE_MONTH":"*","CM_F01":null,"CM_F02":null,"CREATE_DATE":"2021-12-14 11:47:39","CREATE_USER":"6","UPDATE_DATE":"2022-01-06 04:38:43","UPDATE_USER":"6","DELETE_DATE":null,"DELETE_USER":null,"frequency":"17 * * * *"}
2022-11-16 13:17:00 [EDI System] info: 122 >>> makeFileText Function Execute
2022-11-16 13:17:00 [EDI System] info: Job Start Time > {"min":17,"hour":13,"date":16,"month":11,"day":3}
 {"ID":123,"CFG_ID":"161","FILE_NAME":"WO_INPUT_HANA_FT_:todayHH24_1","FILE_DESC":"Siliconworks input TEST","FILE_SAVE_FOLDER":"D:/HM_EDI/SILICONWOKRS/OUT","FILE_CHARSET":"utf-8","FILE_TYPE":"csv","DATA_TYPE":"text","FTP_ENV_ID":"106","SEND_FLAG":"Y","NODATASEND":"false","SCHEDULE_MIN":"17","SCHEDULE_HOUR":"*","SCHEDULE_DAY":"*","SCHEDULE_WEEK":"*","SCHEDULE_MONTH":"*","CM_F01":null,"CM_F02":null,"CREATE_DATE":"2022-01-05 10:54:36","CREATE_USER":"6","UPDATE_DATE":"2022-02-15 11:38:03","UPDATE_USER":"6","DELETE_DATE":null,"DELETE_USER":null,"frequency":"17 * * * *"}
2022-11-16 13:17:00 [EDI System] info: 123 >>> makeFileText Function Execute
2022-11-16 13:17:00 [EDI System] info: SELECT EDI_LOG_SEQ.NEXTVAL AS ID FROM DUAL
2022-11-16 13:17:00 [EDI System] info: SELECT EDI_LOG_SEQ.NEXTVAL AS ID FROM DUAL
2022-11-16 13:17:00 [EDI System] info: SELECT EDI_LOG_SEQ.NEXTVAL AS ID FROM DUAL
2022-11-16 13:17:00 [EDI System] info: SELECT EDI_LOG_SEQ.NEXTVAL AS ID FROM DUAL
2022-11-16 13:17:00 [EDI System] info: [{"ID":11082}]
2022-11-16 13:17:00 [EDI System] info: seq : return Key [{"ID":11082}]
2022-11-16 13:17:00 [EDI System] info: saveAllLogger => ID:11082, NAME:CMEQPUNT_HM:today_2, ProcessID:160, Description: Job Start : ID=122, CFG_ID=160, FTP_ENV_ID=100, FILE_NAME=CMEQPUNT_HM:today_2, FILE_DESC=SEC CMEQPUNT 1/1day, FILE_CHARSET=ascii, FILE_TYPE=ff
2022-11-16 13:17:00 [EDI System] info: INSERT INTO EDI_LOG(ID, STEP, NAME, PROCESS_ID, DESCRIPTION, CREATE_USER, CREATE_DATE)
    VALUES(:id, :stepId, :name, :process_id, :description, 'DAEMON', TO_CHAR(SYSDATE,'YYYYMMDDHH24MISS'))
2022-11-16 13:17:00 [EDI System] info: [{"ID":11083}]
2022-11-16 13:17:00 [EDI System] info: seq : return Key [{"ID":11083}]
2022-11-16 13:17:00 [EDI System] info: saveAllLogger => ID:11083, NAME:WO_INPUT_HANA_FT_:todayHH24_1, ProcessID:161, Description: Job Start : ID=123, CFG_ID=161, FTP_ENV_ID=106, FILE_NAME=WO_INPUT_HANA_FT_:todayHH24_1, FILE_DESC=Siliconworks input TEST, FILE_CHARSET=utf-8, FILE_TYPE=csv
2022-11-16 13:17:00 [EDI System] info: INSERT INTO EDI_LOG(ID, STEP, NAME, PROCESS_ID, DESCRIPTION, CREATE_USER, CREATE_DATE)
    VALUES(:id, :stepId, :name, :process_id, :description, 'DAEMON', TO_CHAR(SYSDATE,'YYYYMMDDHH24MISS'))
2022-11-16 13:17:00 [EDI System] info: Insert successful = SQL: INSERT INTO EDI_LOG(ID, STEP, NAME, PROCESS_ID, DESCRIPTION, CREATE_USER, CREATE_DATE)
    VALUES(:id, :stepId, :name, :process_id, :description, 'DAEMON', TO_CHAR(SYSDATE,'YYYYMMDDHH24MISS')) | Params: {"id":11082,"stepId":"1","name":"CMEQPUNT_HM:today_2","process_id":"160","description":"Job Start : ID=122, CFG_ID=160, FTP_ENV_ID=100, FILE_NAME=CMEQPUNT_HM:today_2, FILE_DESC=SEC CMEQPUNT 1/1day, FILE_CHARSET=ascii, FILE_TYPE=ff"} / 1
2022-11-16 13:17:00 [EDI System] info: 
    SELECT *
    FROM (
        SELECT ROWNUM,A.*
            FROM EDI_QUERY_SETTING A
            WHERE SETTING_ID = :id
            AND TYPE='Main'
            ORDER BY ID DESC
        ) 
    WHERE ROWNUM='1'
    
2022-11-16 13:17:00 [EDI System] info: Insert successful = SQL: INSERT INTO EDI_LOG(ID, STEP, NAME, PROCESS_ID, DESCRIPTION, CREATE_USER, CREATE_DATE)
    VALUES(:id, :stepId, :name, :process_id, :description, 'DAEMON', TO_CHAR(SYSDATE,'YYYYMMDDHH24MISS')) | Params: {"id":11083,"stepId":"1","name":"WO_INPUT_HANA_FT_:todayHH24_1","process_id":"161","description":"Job Start : ID=123, CFG_ID=161, FTP_ENV_ID=106, FILE_NAME=WO_INPUT_HANA_FT_:todayHH24_1, FILE_DESC=Siliconworks input TEST, FILE_CHARSET=utf-8, FILE_TYPE=csv"} / 1
2022-11-16 13:17:00 [EDI System] info: 
    SELECT *
    FROM (
        SELECT ROWNUM,A.*
            FROM EDI_QUERY_SETTING A
            WHERE SETTING_ID = :id
            AND TYPE='Main'
            ORDER BY ID DESC
        ) 
    WHERE ROWNUM='1'
    
2022-11-16 13:17:00 [EDI System] info: [{"ROWNUM":1,"ID":"153","SETTING_ID":"160","KEY":null,"TYPE":"Main","QUERY":"--//-- 20211203 chulho.wee ; CREATE\nSELECT \n  RPAD(START_TAG, 3, ' ')\n|| RPAD(OEM_CODE, 2, ' ')\n|| RPAD(MONTH, 6, ' ')\n|| RPAD(C_DATE, 8, ' ')\n|| RPAD(O_DATE, 8, ' ')\n|| RPAD(OEM_AREA, 4, ' ')\n|| RPAD(CUST_DEVICE, 30, ' ')\n|| RPAD(OPER_DESC, 15, ' ')\n|| RPAD(EQP_GROUP, 15, ' ')\n\n|| RPAD(EQP_MODEL, 30, ' ')\n|| RPAD(RES_ID, 15, ' ')\n|| RPAD(OPER, 6, ' ')\n\n|| RPAD(SUM(QTY), 10, ' ')\n|| RPAD(LOT_TYPE, 2, ' ')\n|| RPAD(PARA, 3, ' ')\n\n|| RPAD(TEST_TIME, 10, ' ')\n|| RPAD(INDEX_TIME, 10, ' ')\n|| RPAD(ATE_TIME, 10, ' ')\n\n|| RPAD(EQP_PRICE, 10, ' ')\n|| RPAD(ATE_PRICE, 10, ' ')\n|| RPAD(MVP_PRICE, 10, ' ')\n|| RPAD(PVI_PRICE, 10, ' ')\n|| RPAD(UNIT_PRICE, 10, ' ')\n\n|| RPAD(FULL_HALF, 10, ' ')\n|| RPAD(CREATE_TIME, 14, ' ')\n|| RPAD(REMARK, 200, ' ')\n  FROM\n(\n    SELECT 'LS1' START_TAG\n         , 'HM' OEM_CODE\n         , CASE\n            WHEN TO_CHAR(SYSDATE, 'DD') >= 28 THEN\n                 TO_CHAR(ADD_MONTHS(SYSDATE, +1), 'YYYYMM')\n            ELSE\n                 TO_CHAR(ADD_MONTHS(SYSDATE, -0), 'YYYYMM')\n           END AS \"MONTH\"\n         --, TO_CHAR(SYSDATE, 'DD') C_DATE\n         , TO_CHAR(SYSDATE, 'YYYYMMDD') C_DATE\n         , SUBSTR(LOT.TRAN_TIME, 1,8) AS O_DATE\n         , 'HMKT' AS OEM_AREA\n         \n         , TST.CUST_DVC CUST_DEVICE\n         , DECODE(TST.OPER ,'T0100', 'ATE', 'T0960', 'ASB', 'T0500', 'MVP', TST.OPER) OPER_DESC\n         \n         , (SELECT NVL(ATTR_VALUE, 'NULL') FROM MATRNAMSTS WHERE FACTORY = 'HMKT1' AND ATTR_TYPE = 'RESOURCE' AND ATTR_NAME = 'EQP_GROUP' AND ATTR_KEY = LOT.END_RES_ID) AS EQP_GROUP\n         , (SELECT NVL(ATTR_VALUE, 'NULL') FROM MATRNAMSTS WHERE FACTORY = 'HMKT1' AND ATTR_TYPE = 'RESOURCE' AND ATTR_NAME = 'EQP_MODEL' AND ATTR_KEY = LOT.END_RES_ID) AS EQP_MODEL\n         , LOT.OLD_OPER AS OPER\n         , LOT.END_RES_ID AS RES_ID\n         , LOT_CMF_5 LOT_TYPE\n\n         , LOT.QTY_1 AS QTY\n         , TST.PARA AS PARA\n         , TST.TEST_TIME AS TEST_TIME\n         , TST.INDEX_TIME AS INDEX_TIME\n         , TST.ATE_TIME AS ATE_TIME\n         , TST.EQP_PRICE AS EQP_PRICE\n         , TST.ATE_PRICE AS ATE_PRICE\n--         , (((TST.TEST_TIME + TST.INDEX_TIME) * TST.EQP_PRICE) / TST.PARA) AS ATE_PRICE\n         , TST.MVP_PRICE AS MVP_PRICE\n         , TST.PVI_PRICE AS PVI_PRICE\n         , TST.UNIT_PRICE AS UNIT_PRICE\n         , TST.FULL_HALF AS FULL_HALF\n         , TO_CHAR(SYSDATE, 'YYYYMMDDHH24MISS') AS CREATE_TIME\n         , ' ' AS REMARK\n      FROM MWIPLOTHIS LOT, VGCMTBLDAT_TEST_TIME_INF2 TST\n     WHERE 1=1\n       AND LOT.MAT_ID = TST.MAT_ID\n       AND LOT.OLD_OPER = TST.OPER\n       AND TST.MODEL = (SELECT NVL(ATTR_VALUE, 'NULL') FROM MATRNAMSTS WHERE FACTORY = 'HMKT1' AND ATTR_TYPE = 'RESOURCE' AND ATTR_NAME = 'EQP_MODEL' AND ATTR_KEY = LOT.END_RES_ID)\n       AND LOT.TRAN_TIME >= CASE WHEN TO_CHAR(SYSDATE, 'DD') >= 28 THEN\n                       TO_CHAR(ADD_MONTHS(SYSDATE, -0), 'YYYYMM')||'27'||'22'\n                       ELSE\n                       TO_CHAR(ADD_MONTHS(SYSDATE, -1), 'YYYYMM')||'27'||'22'\n                       END --AS PREV_MON\n           \n       AND LOT.TRAN_TIME < CASE WHEN TO_CHAR(SYSDATE, 'DD') >= 28 THEN\n                       TO_CHAR(ADD_MONTHS(SYSDATE, +1), 'YYYYMM')||'27'||'22'\n                       ELSE\n                       TO_CHAR(ADD_MONTHS(SYSDATE, -0), 'YYYYMM')||'27'||'22'\n                       END --AS CURR_MON\n       AND LOT.FACTORY = 'HMKT1'\n       AND LOT.TRAN_CODE = 'END'\n       AND LOT.OLD_OPER in ('T0100', 'T0960', 'T0500')\n--       AND TST.CUST_DVC = 'L6HD311A01-P040-A00VCD'\n--       AND LOT.MAT_ID = 'SEL6HD311A01-P040-A00KUVCD'\n)\nGROUP BY START_TAG\n, OEM_CODE\n, MONTH\n, C_DATE\n, O_DATE\n, OEM_AREA\n\n, CUST_DEVICE\n, OPER_DESC\n\n, EQP_GROUP\n, EQP_MODEL\n, OPER\n, RES_ID\n, LOT_TYPE\n\n, PARA\n, TEST_TIME\n, INDEX_TIME\n, ATE_TIME\n, EQP_PRICE\n, ATE_PRICE\n, MVP_PRICE\n, PVI_PRICE\n, UNIT_PRICE\n, FULL_HALF\n, CREATE_TIME\n, REMARK\nORDER BY 1","CREATE_USER":"6","CREATE_DATE":"2021-12-14 11:47:40","DBTYPE":"MES"}]
2022-11-16 13:17:00 [EDI System] info: [{"ROWNUM":2,"ID":"160","SETTING_ID":"161","KEY":null,"TYPE":"Main","QUERY":"SELECT 'Interface ID'\n || ',' || 'Interface Line ID'\n || ',' || 'SUPPLIER_CODE'\n || ',' || 'PROCESSING_CODE'\n || ',' || 'SIW_WO_NO'\n || ',' || 'SUPPLIER_WO_NO'\n || ',' || 'ASSY_ITEM_CODE'\n || ',' || 'ASSY_QTY'\n || ',' || 'UOM_CODE'\n || ',' || 'WORK_START_DATE'\n || ',' || 'COMPONENT_ITEM_CODE'\n || ',' || 'COMPONENT_LOT_ID'\n || ',' || 'COMPONENT_QTY'\n || ',' || 'REMARK1'\n || ',' || 'CANCEL_FLAG'\n || ',' || 'CREATION_DATE'\n\n  FROM IEDISIW_INPUT_INFO\n WHERE CUTOFF_DT = :todayHH24 -- TO_CHAR(SYSDATE, 'YYYYMMDDHH24')\n   AND PROCESSING_CODE = 'FT'\n   AND ROWNUM = 1\n\nUNION ALL\n\nSELECT IF_ID \n || ',' || IF_LINE_ID \n || ',' || SUPPLIER_CODE \n || ',' || PROCESSING_CODE \n || ',' || SIW_WO_NO \n || ',' || SUPPLIER_WO_NO \n || ',' || ASSY_ITEM_CODE \n || ',' || ASSY_QTY \n || ',' || UOM_CODE \n || ',' || WORK_START_DATE \n || ',' || COMPONENT_ITEM_CODE\n || ',' || COMPONENT_LOT_ID \n || ',' || COMPONENT_QTY \n || ',' || REMARK1 \n || ',' || CANCEL_FLAG \n || ',' || CREATION_DATE \n\n  FROM IEDISIW_INPUT_INFO\n WHERE CUTOFF_DT = :todayHH24 -- TO_CHAR(SYSDATE, 'YYYYMMDDHH24')\n   AND PROCESSING_CODE = 'FT'","CREATE_USER":"6","CREATE_DATE":"2022-01-11 05:18:23","DBTYPE":"MES"}]
2022-11-16 13:17:00 [EDI System] info: 
        SELECT * FROM (
            SELECT *
            FROM EDI_QUERY_SETTING
            WHERE 1=1
            AND SETTING_ID = (
                SELECT ID
                FROM CG_CUSTOMER 
                WHERE PARENT = (
                    SELECT ID
                    FROM CG_CUSTOMER 
                    WHERE ID=(
                        SELECT PARENT
                        FROM CG_CUSTOMER 
                        WHERE ID=(
                            SELECT PARENT 
                            FROM CG_CUSTOMER 
                            WHERE ID=:id
                        )
                    )
                )
                AND LOWER(NAME) = 'common'
            )
            AND TYPE IN ('DB','TEXT')
            AND KEY NOT IN (SELECT KEY
                            FROM EDI_QUERY_SETTING
                            WHERE 1=1
                            AND SETTING_ID = :id
                            AND TYPE IN ('DB','TEXT'))
            UNION ALL
            SELECT *
            FROM EDI_QUERY_SETTING
            WHERE 1=1
            AND SETTING_ID = :id
            AND TYPE IN ('DB','TEXT')
        )
        ORDER BY LENGTH(KEY) DESC
    
2022-11-16 13:17:00 [EDI System] info: 
        SELECT * FROM (
            SELECT *
            FROM EDI_QUERY_SETTING
            WHERE 1=1
            AND SETTING_ID = (
                SELECT ID
                FROM CG_CUSTOMER 
                WHERE PARENT = (
                    SELECT ID
                    FROM CG_CUSTOMER 
                    WHERE ID=(
                        SELECT PARENT
                        FROM CG_CUSTOMER 
                        WHERE ID=(
                            SELECT PARENT 
                            FROM CG_CUSTOMER 
                            WHERE ID=:id
                        )
                    )
                )
                AND LOWER(NAME) = 'common'
            )
            AND TYPE IN ('DB','TEXT')
            AND KEY NOT IN (SELECT KEY
                            FROM EDI_QUERY_SETTING
                            WHERE 1=1
                            AND SETTING_ID = :id
                            AND TYPE IN ('DB','TEXT'))
            UNION ALL
            SELECT *
            FROM EDI_QUERY_SETTING
            WHERE 1=1
            AND SETTING_ID = :id
            AND TYPE IN ('DB','TEXT')
        )
        ORDER BY LENGTH(KEY) DESC
    
2022-11-16 13:17:00 [EDI System] info: [{"ID":"137","SETTING_ID":"129","KEY":"todayHH24MISS","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE,'YYYYMMDDHH24MISS') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-11-12 05:20:22","DBTYPE":"MES"},{"ID":"124","SETTING_ID":"129","KEY":"todayHH24_M1H","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE - 1/24,'YYYYMMDDHH24') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-10-15 01:40:03","DBTYPE":"MES"},{"ID":"122","SETTING_ID":"129","KEY":"todayHH24","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE,'YYYYMMDDHH24') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-10-15 11:47:10","DBTYPE":"MES"},{"ID":"115","SETTING_ID":"129","KEY":"today_yy","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE,'YYYYMMDDHH24') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-09-24 08:46:51","DBTYPE":"MES"},{"ID":"130","SETTING_ID":"129","KEY":"today","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE,'YYYYMMDD') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-11-09 03:36:41","DBTYPE":"MES"}]
2022-11-16 13:17:00 [EDI System] info: [{"ID":"133","SETTING_ID":"139","KEY":"todayHH24_M1H","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE - 1/24,'YYYYMMDDHH24') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-11-12 05:01:01","DBTYPE":"MES"},{"ID":"132","SETTING_ID":"139","KEY":"todayHH24","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE,'YYYYMMDDHH24') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-11-12 05:01:01","DBTYPE":"MES"},{"ID":"131","SETTING_ID":"139","KEY":"today_yy","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE,'YYYYMMDDHH24') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-11-12 05:01:01","DBTYPE":"MES"},{"ID":"134","SETTING_ID":"139","KEY":"today","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE,'YYYYMMDDHH24') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-11-12 05:01:01","DBTYPE":"MES"}]
2022-11-16 13:18:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 13:19:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 13:20:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 13:21:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 13:22:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 13:23:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 13:24:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 13:25:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 13:26:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 13:27:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 13:28:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 13:29:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 13:30:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 13:31:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 13:32:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 13:33:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 13:34:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 13:35:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 13:36:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 13:37:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 13:38:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 13:39:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 13:40:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 13:41:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 13:42:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 13:43:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 13:44:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 13:45:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 13:46:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 13:47:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 13:48:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 13:49:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 13:50:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 13:51:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 13:52:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 13:53:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 13:54:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 13:55:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 13:56:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 13:57:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 13:58:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 13:59:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 14:00:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 14:00:00 [EDI System] info: Job Start Time > {"min":0,"hour":14,"date":16,"month":11,"day":3}
 {"ID":107,"CFG_ID":"143","FILE_NAME":"CMWIPINF_HM:todayHH24","FILE_DESC":"SEC CMWIPINF 1/1HR","FILE_SAVE_FOLDER":"D:/HM_EDI/SEC/OUT","FILE_CHARSET":"ascii","FILE_TYPE":"ff","DATA_TYPE":"text","FTP_ENV_ID":"100","SEND_FLAG":"Y","NODATASEND":"false","SCHEDULE_MIN":"0","SCHEDULE_HOUR":"*","SCHEDULE_DAY":"*","SCHEDULE_WEEK":"*","SCHEDULE_MONTH":"*","CM_F01":null,"CM_F02":null,"CREATE_DATE":"2021-11-12 05:17:07","CREATE_USER":"6","UPDATE_DATE":"2021-12-24 04:17:35","UPDATE_USER":"6","DELETE_DATE":null,"DELETE_USER":null,"frequency":"0 * * * *"}
2022-11-16 14:00:00 [EDI System] info: 107 >>> makeFileText Function Execute
2022-11-16 14:00:00 [EDI System] info: Job Start Time > {"min":0,"hour":14,"date":16,"month":11,"day":3}
 {"ID":109,"CFG_ID":"147","FILE_NAME":"CMWIPINF_HM:todayHH24_2","FILE_DESC":"TEST 2 //// SEC CMWIPINF 1/1HR ","FILE_SAVE_FOLDER":"D:/HM_EDI/SEC/OUT","FILE_CHARSET":"ascii","FILE_TYPE":"ff","DATA_TYPE":"text","FTP_ENV_ID":"100","SEND_FLAG":"Y","NODATASEND":null,"SCHEDULE_MIN":"0","SCHEDULE_HOUR":"*","SCHEDULE_DAY":"*","SCHEDULE_WEEK":"*","SCHEDULE_MONTH":"*","CM_F01":null,"CM_F02":null,"CREATE_DATE":"2021-11-19 05:22:50","CREATE_USER":"6","UPDATE_DATE":"2021-12-24 04:17:41","UPDATE_USER":"6","DELETE_DATE":null,"DELETE_USER":null,"frequency":"0 * * * *"}
2022-11-16 14:00:00 [EDI System] info: 109 >>> makeFileText Function Execute
2022-11-16 14:00:00 [EDI System] info: Job Start Time > {"min":0,"hour":14,"date":16,"month":11,"day":3}
 {"ID":110,"CFG_ID":"146","FILE_NAME":"CMWIPINF_HM:todayHH24_1","FILE_DESC":"SEC CMWIPINF 1/1HR","FILE_SAVE_FOLDER":"D:/HM_EDI/SEC/OUT","FILE_CHARSET":"ascii","FILE_TYPE":"ff","DATA_TYPE":"text","FTP_ENV_ID":"100","SEND_FLAG":"Y","NODATASEND":null,"SCHEDULE_MIN":"0","SCHEDULE_HOUR":"*","SCHEDULE_DAY":"*","SCHEDULE_WEEK":"*","SCHEDULE_MONTH":"*","CM_F01":null,"CM_F02":null,"CREATE_DATE":"2021-11-19 05:22:51","CREATE_USER":"6","UPDATE_DATE":"2021-12-24 04:17:47","UPDATE_USER":"6","DELETE_DATE":null,"DELETE_USER":null,"frequency":"0 * * * *"}
2022-11-16 14:00:00 [EDI System] info: 110 >>> makeFileText Function Execute
2022-11-16 14:00:00 [EDI System] info: SELECT EDI_LOG_SEQ.NEXTVAL AS ID FROM DUAL
2022-11-16 14:00:00 [EDI System] info: SELECT EDI_LOG_SEQ.NEXTVAL AS ID FROM DUAL
2022-11-16 14:00:00 [EDI System] info: SELECT EDI_LOG_SEQ.NEXTVAL AS ID FROM DUAL
2022-11-16 14:00:00 [EDI System] info: SELECT EDI_LOG_SEQ.NEXTVAL AS ID FROM DUAL
2022-11-16 14:00:00 [EDI System] info: SELECT EDI_LOG_SEQ.NEXTVAL AS ID FROM DUAL
2022-11-16 14:00:00 [EDI System] info: SELECT EDI_LOG_SEQ.NEXTVAL AS ID FROM DUAL
2022-11-16 14:00:00 [EDI System] info: [{"ID":11084}]
2022-11-16 14:00:00 [EDI System] info: seq : return Key [{"ID":11084}]
2022-11-16 14:00:00 [EDI System] info: saveAllLogger => ID:11084, NAME:CMWIPINF_HM:todayHH24_2, ProcessID:147, Description: Job Start : ID=109, CFG_ID=147, FTP_ENV_ID=100, FILE_NAME=CMWIPINF_HM:todayHH24_2, FILE_DESC=TEST 2 //// SEC CMWIPINF 1/1HR , FILE_CHARSET=ascii, FILE_TYPE=ff
2022-11-16 14:00:00 [EDI System] info: INSERT INTO EDI_LOG(ID, STEP, NAME, PROCESS_ID, DESCRIPTION, CREATE_USER, CREATE_DATE)
    VALUES(:id, :stepId, :name, :process_id, :description, 'DAEMON', TO_CHAR(SYSDATE,'YYYYMMDDHH24MISS'))
2022-11-16 14:00:00 [EDI System] info: [{"ID":11085}]
2022-11-16 14:00:00 [EDI System] info: seq : return Key [{"ID":11085}]
2022-11-16 14:00:00 [EDI System] info: saveAllLogger => ID:11085, NAME:CMWIPINF_HM:todayHH24, ProcessID:143, Description: Job Start : ID=107, CFG_ID=143, FTP_ENV_ID=100, FILE_NAME=CMWIPINF_HM:todayHH24, FILE_DESC=SEC CMWIPINF 1/1HR, FILE_CHARSET=ascii, FILE_TYPE=ff
2022-11-16 14:00:00 [EDI System] info: INSERT INTO EDI_LOG(ID, STEP, NAME, PROCESS_ID, DESCRIPTION, CREATE_USER, CREATE_DATE)
    VALUES(:id, :stepId, :name, :process_id, :description, 'DAEMON', TO_CHAR(SYSDATE,'YYYYMMDDHH24MISS'))
2022-11-16 14:00:00 [EDI System] info: [{"ID":11086}]
2022-11-16 14:00:00 [EDI System] info: seq : return Key [{"ID":11086}]
2022-11-16 14:00:00 [EDI System] info: saveAllLogger => ID:11086, NAME:CMWIPINF_HM:todayHH24_1, ProcessID:146, Description: Job Start : ID=110, CFG_ID=146, FTP_ENV_ID=100, FILE_NAME=CMWIPINF_HM:todayHH24_1, FILE_DESC=SEC CMWIPINF 1/1HR, FILE_CHARSET=ascii, FILE_TYPE=ff
2022-11-16 14:00:00 [EDI System] info: INSERT INTO EDI_LOG(ID, STEP, NAME, PROCESS_ID, DESCRIPTION, CREATE_USER, CREATE_DATE)
    VALUES(:id, :stepId, :name, :process_id, :description, 'DAEMON', TO_CHAR(SYSDATE,'YYYYMMDDHH24MISS'))
2022-11-16 14:00:00 [EDI System] info: Insert successful = SQL: INSERT INTO EDI_LOG(ID, STEP, NAME, PROCESS_ID, DESCRIPTION, CREATE_USER, CREATE_DATE)
    VALUES(:id, :stepId, :name, :process_id, :description, 'DAEMON', TO_CHAR(SYSDATE,'YYYYMMDDHH24MISS')) | Params: {"id":11084,"stepId":"1","name":"CMWIPINF_HM:todayHH24_2","process_id":"147","description":"Job Start : ID=109, CFG_ID=147, FTP_ENV_ID=100, FILE_NAME=CMWIPINF_HM:todayHH24_2, FILE_DESC=TEST 2 //// SEC CMWIPINF 1/1HR , FILE_CHARSET=ascii, FILE_TYPE=ff"} / 1
2022-11-16 14:00:00 [EDI System] info: 
    SELECT *
    FROM (
        SELECT ROWNUM,A.*
            FROM EDI_QUERY_SETTING A
            WHERE SETTING_ID = :id
            AND TYPE='Main'
            ORDER BY ID DESC
        ) 
    WHERE ROWNUM='1'
    
2022-11-16 14:00:00 [EDI System] info: Insert successful = SQL: INSERT INTO EDI_LOG(ID, STEP, NAME, PROCESS_ID, DESCRIPTION, CREATE_USER, CREATE_DATE)
    VALUES(:id, :stepId, :name, :process_id, :description, 'DAEMON', TO_CHAR(SYSDATE,'YYYYMMDDHH24MISS')) | Params: {"id":11086,"stepId":"1","name":"CMWIPINF_HM:todayHH24_1","process_id":"146","description":"Job Start : ID=110, CFG_ID=146, FTP_ENV_ID=100, FILE_NAME=CMWIPINF_HM:todayHH24_1, FILE_DESC=SEC CMWIPINF 1/1HR, FILE_CHARSET=ascii, FILE_TYPE=ff"} / 1
2022-11-16 14:00:00 [EDI System] info: Insert successful = SQL: INSERT INTO EDI_LOG(ID, STEP, NAME, PROCESS_ID, DESCRIPTION, CREATE_USER, CREATE_DATE)
    VALUES(:id, :stepId, :name, :process_id, :description, 'DAEMON', TO_CHAR(SYSDATE,'YYYYMMDDHH24MISS')) | Params: {"id":11085,"stepId":"1","name":"CMWIPINF_HM:todayHH24","process_id":"143","description":"Job Start : ID=107, CFG_ID=143, FTP_ENV_ID=100, FILE_NAME=CMWIPINF_HM:todayHH24, FILE_DESC=SEC CMWIPINF 1/1HR, FILE_CHARSET=ascii, FILE_TYPE=ff"} / 1
2022-11-16 14:00:00 [EDI System] info: 
    SELECT *
    FROM (
        SELECT ROWNUM,A.*
            FROM EDI_QUERY_SETTING A
            WHERE SETTING_ID = :id
            AND TYPE='Main'
            ORDER BY ID DESC
        ) 
    WHERE ROWNUM='1'
    
2022-11-16 14:00:00 [EDI System] info: 
    SELECT *
    FROM (
        SELECT ROWNUM,A.*
            FROM EDI_QUERY_SETTING A
            WHERE SETTING_ID = :id
            AND TYPE='Main'
            ORDER BY ID DESC
        ) 
    WHERE ROWNUM='1'
    
2022-11-16 14:00:00 [EDI System] info: [{"ROWNUM":1,"ID":"146","SETTING_ID":"147","KEY":null,"TYPE":"Main","QUERY":"SELECT\n  RPAD(VR_1,  5, ' ')\n, RPAD(VR_2, 30, ' ')\n, RPAD(VR_3, 15, ' ')\n, RPAD(VR_4, 15, ' ')\n, RPAD(VR_5,  2, ' ')\n, RPAD(VR_6,  2, ' ')\n, RPAD(VR_7, 20, ' ')\n, RPAD(VR_8, 30, ' ')\n, RPAD(VR_9, 16, ' ')\n, RPAD(VR_10, 24, ' ')\n, RPAD(VR_11, 14, ' ')\n, RPAD(VR_12,  4, ' ')\n, RPAD(VR_13,  4, ' ')\n, LPAD(VR_14, 10, ' ')\n, LPAD(VR_15, 10, ' ')\n, RPAD(VR_16,  1, ' ')\n, RPAD(VR_17,  2, ' ')\n, RPAD(VR_18, 10, ' ')\n, RPAD(VR_19, 14, ' ')\n, RPAD(VR_20, 20, ' ')\n, RPAD(VR_21, 20, ' ')\n, RPAD(VR_22, 20, ' ')\n, RPAD(VR_23, 20, ' ')\n, RPAD(VR_24, 20, ' ')\n, LPAD(VR_25, 10, ' ')\n, LPAD(VR_26, 10, ' ')\n, RPAD(VR_27,  1, ' ')\n, RPAD(VR_28, 65, ' ')\n, RPAD(VR_29, 14, ' ')\n, RPAD(VR_30,  8, ' ')\n, RPAD(VR_31, 1024, ' ')\nFROM \n(\nSELECT 'LS1HM'   VR_1\n , NVL((SELECT MAT_CMF_7 FROM MWIPMATDEF WHERE FACTORY = A.FACTORY AND MAT_ID = A.MAT_ID AND MAT_VER = A.MAT_VER), '-')   VR_2\n , F_GET_ASSY_RUNID(' ', A.LOT_ID, A.LOT_CMF_4)   VR_3\n , NVL(TRIM(A.LOT_CMF_1), '-')   VR_4\n , NVL(TRIM(A.LOT_CMF_5),'-')   VR_5\n , NVL((SELECT ATTR_VALUE FROM MATRNAMSTS WHERE FACTORY = A.FACTORY AND ATTR_TYPE = 'LOT_SEC_INFO' AND ATTR_NAME = 'RTN_TYPE' AND ATTR_KEY = TRIM(A.LOT_CMF_1)), '**')   VR_6\n , DECODE(A.OPER||A.FLOW,'T1300HKAB', 'HGAK','TZ010HKAB', 'BASIC',\n     DECODE(NVL((SELECT SEC_OPER FROM V_MWIPOPRDEF_SEC WHERE FACTORY = A.FACTORY AND OPER = A.OPER ), '-'),\n                  'HMK2','BASIC','HMK3','BASIC','HMK9','BASIC','HMK4','BASIC',\n                  NVL(FLOW, '-')))   VR_7\n , DECODE(A.OPER||A.FLOW,'T1300HKAB', '0008','TZ010HKAB', '0003',\n     TRIM(DECODE(NVL((SELECT SEC_OPER FROM V_MWIPOPRDEF_SEC WHERE FACTORY = A.FACTORY AND OPER = A.OPER ), '-'),\n                  'HMK2','0002','HMK3','0003','HMK9','0006','HMK4','0007',\n                  LPAD((SELECT SEQ_NUM-1 FROM MWIPFLWOPR WHERE FACTORY = A.FACTORY AND FLOW = A.FLOW AND OPER = A.OPER),4,'0'))))   VR_8\n , DECODE(A.OPER||A.FLOW,'T1300HKAB', '8','TZ010HKAB', '3',\n     NVL((SELECT SEQ_NUM-1 FROM MWIPFLWOPR WHERE FACTORY = A.FACTORY AND FLOW = A.FLOW AND OPER = A.OPER), '0'))   VR_9\n , DECODE(A.OPER||A.FLOW,'T1300HKAB', 'PACKING','TZ010HKAB', 'Assy Final Stock',\n     DECODE(NVL((SELECT SEC_OPER FROM V_MWIPOPRDEF_SEC WHERE FACTORY = A.FACTORY AND OPER = A.OPER ), '-'),\n                  'HMK2','Assy Home Stock','HMK3','Assy Final Stock','HMK9','Test Home Stock','HMK4','Test Final Stock',\n                  NVL((SELECT OPER_DESC FROM V_MWIPOPRDEF_SEC WHERE FACTORY = A.FACTORY AND OPER = A.OPER ), '-')))   VR_10\n , A.OPER_IN_TIME    VR_11\n , DECODE(A.OPER||A.FLOW,'T1300HKAB', 'ASSY','TZ010HKAB', 'ASSY', DECODE(A.FACTORY, 'HMKT1', 'TEST', 'HMKA1', 'ASSY', '-'))    VR_12\n , NVL((SELECT DECODE(A.OPER||A.FLOW,'TZ010HKAB', SEC_OPER_AREA_COB ,SEC_OPER_AREA) FROM V_MWIPOPRDEF_SEC WHERE FACTORY = A.FACTORY AND OPER = A.OPER ), '-')   VR_13\n , NVL(TRIM(A.QTY_1), 0)   VR_14\n , NVL(TRIM(A.QTY_2), 0)   VR_15\n , 'C'     VR_16\n , F_GET_HOLD_FLAG_CODE(A.LOT_ID, A.MAT_ID, A.HOLD_FLAG, A.HOLD_CODE, 'FLAG' )    VR_17\n , F_GET_HOLD_FLAG_CODE(A.LOT_ID, A.MAT_ID, A.HOLD_FLAG, A.HOLD_CODE, 'CODE' )    VR_18\n , DECODE(A.HOLD_FLAG, 'Y', A.LAST_TRAN_TIME, ' ')    VR_19\n , NVL((SELECT ATTR_VALUE FROM MATRNAMSTS WHERE FACTORY = A.FACTORY AND ATTR_TYPE = 'LOT_SEC_INFO' AND ATTR_NAME = 'NCFCODE' AND ATTR_KEY = TRIM(A.LOT_CMF_1)), '*')   VR_20\n , NVL((SELECT ATTR_VALUE FROM MATRNAMSTS WHERE FACTORY = A.FACTORY AND ATTR_TYPE = 'LOT_SEC_INFO' AND ATTR_NAME = 'NCACODE' AND ATTR_KEY = TRIM(A.LOT_CMF_1)), '*')   VR_21\n , NVL((SELECT ATTR_VALUE FROM MATRNAMSTS WHERE FACTORY = A.FACTORY AND ATTR_TYPE = 'LOT_SEC_INFO' AND ATTR_NAME = 'NCTCODE' AND ATTR_KEY = TRIM(A.LOT_CMF_1)), '*')   VR_22\n , NVL((SELECT ATTR_VALUE FROM MATRNAMSTS WHERE FACTORY = A.FACTORY AND ATTR_TYPE = 'LOT_SEC_INFO' AND ATTR_NAME = 'NCQCODE' AND ATTR_KEY = TRIM(A.LOT_CMF_1)), '*')   VR_23\n , NVL((SELECT ATTR_VALUE FROM MATRNAMSTS WHERE FACTORY = A.FACTORY AND ATTR_TYPE = 'LOT_SEC_INFO' AND ATTR_NAME = 'OTHER' AND ATTR_KEY = TRIM(A.LOT_CMF_1)), '*')   VR_24\n , NVL((SELECT SUM(DECODE(TRAN_CODE, 'LOSS', (OLD_QTY_1 - QTY_1), QTY_1)) \n               FROM MWIPLOTHIS \n              WHERE LOT_ID = A.LOT_ID \n                AND TRAN_CODE IN ('LOSS', 'TERMINATE')\n                AND HIST_DEL_FLAG = ' '\n                AND TRAN_TIME BETWEEN F_GET_TIME(TO_CHAR(SYSDATE, 'YYYYMMDDHH24MISS'),'SE') \n                                  AND TO_CHAR(SYSDATE, 'YYYYMMDDHH24MISS')), 0)         VR_25\n , NVL((SELECT SUM(TOTAL_BONUS_QTY) \n               FROM MWIPLOTBNS \n              WHERE LOT_ID = A.LOT_ID\n                AND TRAN_TIME BETWEEN F_GET_TIME(TO_CHAR(SYSDATE, 'YYYYMMDDHH24MISS'),'SE') \n                                  AND TO_CHAR(SYSDATE, 'YYYYMMDDHH24MISS')), 0)    VR_26\n , '-'    VR_27\n , '-'    VR_28\n , TO_CHAR(SYSDATE,'YYYYMMDDHH24MISS')     VR_29\n , GET_WORK_DATE_EDI(TO_CHAR(SYSDATE, 'YYYYMMDDHH24MISS'),'D')  VR_30\n , MESMGR.PK_SEC_MES_IF.MakeInkless_OMS_WIP(A.FACTORY, A.LOT_ID)  VR_31\n  FROM MWIPLOTSTS A\n WHERE 1 = 1\n   AND FACTORY IN ('HMKT1','HMKA1') \n   AND LOT_CMF_2 = 'SE'   \n   AND OWNER_CODE = 'PROD'\n   AND LOT_TYPE = 'W'\n   AND LOT_DEL_FLAG = ' ' \n   AND CREATE_CODE <> 'FREE' \n   AND MAT_ID LIKE 'SE'||(SELECT DATA_1 FROM MGCMTBLDAT WHERE FACTORY = 'HMKA1' AND TABLE_NAME = 'H_SPECIAL_CHAR' AND KEY_1 = '1')\n   AND OPER BETWEEN 'A0000' AND 'TZ010'\n   AND MAT_ID NOT LIKE 'SEKY'||(SELECT DATA_1 FROM MGCMTBLDAT WHERE FACTORY = 'HMKA1' AND TABLE_NAME = 'H_SPECIAL_CHAR' AND KEY_1 = '1')  --- 영업  요청으로 하드코딩 170412. SEKY%\n)","CREATE_USER":"6","CREATE_DATE":"2021-11-23 04:53:33","DBTYPE":"MES"}]
2022-11-16 14:00:00 [EDI System] info: 
        SELECT * FROM (
            SELECT *
            FROM EDI_QUERY_SETTING
            WHERE 1=1
            AND SETTING_ID = (
                SELECT ID
                FROM CG_CUSTOMER 
                WHERE PARENT = (
                    SELECT ID
                    FROM CG_CUSTOMER 
                    WHERE ID=(
                        SELECT PARENT
                        FROM CG_CUSTOMER 
                        WHERE ID=(
                            SELECT PARENT 
                            FROM CG_CUSTOMER 
                            WHERE ID=:id
                        )
                    )
                )
                AND LOWER(NAME) = 'common'
            )
            AND TYPE IN ('DB','TEXT')
            AND KEY NOT IN (SELECT KEY
                            FROM EDI_QUERY_SETTING
                            WHERE 1=1
                            AND SETTING_ID = :id
                            AND TYPE IN ('DB','TEXT'))
            UNION ALL
            SELECT *
            FROM EDI_QUERY_SETTING
            WHERE 1=1
            AND SETTING_ID = :id
            AND TYPE IN ('DB','TEXT')
        )
        ORDER BY LENGTH(KEY) DESC
    
2022-11-16 14:00:00 [EDI System] info: [{"ROWNUM":2,"ID":"145","SETTING_ID":"146","KEY":null,"TYPE":"Main","QUERY":"SELECT\n  RPAD(VR_1,  5, ' ')\n, RPAD(VR_2, 30, ' ')\n, RPAD(VR_3, 15, ' ')\n, RPAD(VR_4, 15, ' ')\n, RPAD(VR_5,  2, ' ')\n, RPAD(VR_6,  2, ' ')\n, RPAD(VR_7, 20, ' ')\n, RPAD(VR_8, 30, ' ')\n, RPAD(VR_9, 16, ' ')\n, RPAD(VR_10, 24, ' ')\n, RPAD(VR_11, 14, ' ')\n, RPAD(VR_12,  4, ' ')\n, RPAD(VR_13,  4, ' ')\n, LPAD(VR_14, 10, ' ')\n, LPAD(VR_15, 10, ' ')\n, RPAD(VR_16,  1, ' ')\n, RPAD(VR_17,  2, ' ')\n, RPAD(VR_18, 10, ' ')\n, RPAD(VR_19, 14, ' ')\n, RPAD(VR_20, 20, ' ')\n, RPAD(VR_21, 20, ' ')\n, RPAD(VR_22, 20, ' ')\n, RPAD(VR_23, 20, ' ')\n, RPAD(VR_24, 20, ' ')\n, LPAD(VR_25, 10, ' ')\n, LPAD(VR_26, 10, ' ')\n, RPAD(VR_27,  1, ' ')\n, RPAD(VR_28, 65, ' ')\n, RPAD(VR_29, 14, ' ')\n, RPAD(VR_30,  8, ' ')\n, RPAD(VR_31, 1024, ' ')\nFROM \n(\nSELECT 'LS1HM'   VR_1\n , NVL((SELECT MAT_CMF_7 FROM MWIPMATDEF WHERE FACTORY = A.FACTORY AND MAT_ID = A.MAT_ID AND MAT_VER = A.MAT_VER), '-')   VR_2\n , F_GET_ASSY_RUNID(' ', A.LOT_ID, A.LOT_CMF_4)   VR_3\n , NVL(TRIM(A.LOT_CMF_1), '-')   VR_4\n , NVL(TRIM(A.LOT_CMF_5),'-')   VR_5\n , NVL((SELECT ATTR_VALUE FROM MATRNAMSTS WHERE FACTORY = A.FACTORY AND ATTR_TYPE = 'LOT_SEC_INFO' AND ATTR_NAME = 'RTN_TYPE' AND ATTR_KEY = TRIM(A.LOT_CMF_1)), '**')   VR_6\n , DECODE(A.OPER||A.FLOW,'T1300HKAB', 'HGAK','TZ010HKAB', 'BASIC',\n     DECODE(NVL((SELECT SEC_OPER FROM V_MWIPOPRDEF_SEC WHERE FACTORY = A.FACTORY AND OPER = A.OPER ), '-'),\n                  'HMK2','BASIC','HMK3','BASIC','HMK9','BASIC','HMK4','BASIC',\n                  NVL(FLOW, '-')))   VR_7\n , DECODE(A.OPER||A.FLOW,'T1300HKAB', '0008','TZ010HKAB', '0003',\n     TRIM(DECODE(NVL((SELECT SEC_OPER FROM V_MWIPOPRDEF_SEC WHERE FACTORY = A.FACTORY AND OPER = A.OPER ), '-'),\n                  'HMK2','0002','HMK3','0003','HMK9','0006','HMK4','0007',\n                  LPAD((SELECT SEQ_NUM-1 FROM MWIPFLWOPR WHERE FACTORY = A.FACTORY AND FLOW = A.FLOW AND OPER = A.OPER),4,'0'))))   VR_8\n , DECODE(A.OPER||A.FLOW,'T1300HKAB', '8','TZ010HKAB', '3',\n     NVL((SELECT SEQ_NUM-1 FROM MWIPFLWOPR WHERE FACTORY = A.FACTORY AND FLOW = A.FLOW AND OPER = A.OPER), '0'))   VR_9\n , DECODE(A.OPER||A.FLOW,'T1300HKAB', 'PACKING','TZ010HKAB', 'Assy Final Stock',\n     DECODE(NVL((SELECT SEC_OPER FROM V_MWIPOPRDEF_SEC WHERE FACTORY = A.FACTORY AND OPER = A.OPER ), '-'),\n                  'HMK2','Assy Home Stock','HMK3','Assy Final Stock','HMK9','Test Home Stock','HMK4','Test Final Stock',\n                  NVL((SELECT OPER_DESC FROM V_MWIPOPRDEF_SEC WHERE FACTORY = A.FACTORY AND OPER = A.OPER ), '-')))   VR_10\n , A.OPER_IN_TIME    VR_11\n , DECODE(A.OPER||A.FLOW,'T1300HKAB', 'ASSY','TZ010HKAB', 'ASSY', DECODE(A.FACTORY, 'HMKT1', 'TEST', 'HMKA1', 'ASSY', '-'))    VR_12\n , NVL((SELECT DECODE(A.OPER||A.FLOW,'TZ010HKAB', SEC_OPER_AREA_COB ,SEC_OPER_AREA) FROM V_MWIPOPRDEF_SEC WHERE FACTORY = A.FACTORY AND OPER = A.OPER ), '-')   VR_13\n , NVL(TRIM(A.QTY_1), 0)   VR_14\n , NVL(TRIM(A.QTY_2), 0)   VR_15\n , 'C'     VR_16\n , F_GET_HOLD_FLAG_CODE(A.LOT_ID, A.MAT_ID, A.HOLD_FLAG, A.HOLD_CODE, 'FLAG' )    VR_17\n , F_GET_HOLD_FLAG_CODE(A.LOT_ID, A.MAT_ID, A.HOLD_FLAG, A.HOLD_CODE, 'CODE' )    VR_18\n , DECODE(A.HOLD_FLAG, 'Y', A.LAST_TRAN_TIME, ' ')    VR_19\n , NVL((SELECT ATTR_VALUE FROM MATRNAMSTS WHERE FACTORY = A.FACTORY AND ATTR_TYPE = 'LOT_SEC_INFO' AND ATTR_NAME = 'NCFCODE' AND ATTR_KEY = TRIM(A.LOT_CMF_1)), '*')   VR_20\n , NVL((SELECT ATTR_VALUE FROM MATRNAMSTS WHERE FACTORY = A.FACTORY AND ATTR_TYPE = 'LOT_SEC_INFO' AND ATTR_NAME = 'NCACODE' AND ATTR_KEY = TRIM(A.LOT_CMF_1)), '*')   VR_21\n , NVL((SELECT ATTR_VALUE FROM MATRNAMSTS WHERE FACTORY = A.FACTORY AND ATTR_TYPE = 'LOT_SEC_INFO' AND ATTR_NAME = 'NCTCODE' AND ATTR_KEY = TRIM(A.LOT_CMF_1)), '*')   VR_22\n , NVL((SELECT ATTR_VALUE FROM MATRNAMSTS WHERE FACTORY = A.FACTORY AND ATTR_TYPE = 'LOT_SEC_INFO' AND ATTR_NAME = 'NCQCODE' AND ATTR_KEY = TRIM(A.LOT_CMF_1)), '*')   VR_23\n , NVL((SELECT ATTR_VALUE FROM MATRNAMSTS WHERE FACTORY = A.FACTORY AND ATTR_TYPE = 'LOT_SEC_INFO' AND ATTR_NAME = 'OTHER' AND ATTR_KEY = TRIM(A.LOT_CMF_1)), '*')   VR_24\n , NVL((SELECT SUM(DECODE(TRAN_CODE, 'LOSS', (OLD_QTY_1 - QTY_1), QTY_1)) \n               FROM MWIPLOTHIS \n              WHERE LOT_ID = A.LOT_ID \n                AND TRAN_CODE IN ('LOSS', 'TERMINATE')\n                AND HIST_DEL_FLAG = ' '\n                AND TRAN_TIME BETWEEN F_GET_TIME(TO_CHAR(SYSDATE, 'YYYYMMDDHH24MISS'),'SE') \n                                  AND TO_CHAR(SYSDATE, 'YYYYMMDDHH24MISS')), 0)         VR_25\n , NVL((SELECT SUM(TOTAL_BONUS_QTY) \n               FROM MWIPLOTBNS \n              WHERE LOT_ID = A.LOT_ID\n                AND TRAN_TIME BETWEEN F_GET_TIME(TO_CHAR(SYSDATE, 'YYYYMMDDHH24MISS'),'SE') \n                                  AND TO_CHAR(SYSDATE, 'YYYYMMDDHH24MISS')), 0)    VR_26\n , '-'    VR_27\n , '-'    VR_28\n , TO_CHAR(SYSDATE,'YYYYMMDDHH24MISS')     VR_29\n , GET_WORK_DATE_EDI(TO_CHAR(SYSDATE, 'YYYYMMDDHH24MISS'),'D')  VR_30\n , MESMGR.PK_SEC_MES_IF.MakeInkless_OMS_WIP(A.FACTORY, A.LOT_ID)  VR_31\n  FROM MWIPLOTSTS A\n WHERE 1 = 1\n   AND FACTORY IN ('HMKT1','HMKA1') \n   AND LOT_CMF_2 = 'SE'   \n   AND OWNER_CODE = 'PROD'\n   AND LOT_TYPE = 'W'\n   AND LOT_DEL_FLAG = ' ' \n   AND CREATE_CODE <> 'FREE' \n   AND MAT_ID LIKE 'SE'||(SELECT DATA_1 FROM MGCMTBLDAT WHERE FACTORY = 'HMKA1' AND TABLE_NAME = 'H_SPECIAL_CHAR' AND KEY_1 = '1')\n   AND OPER BETWEEN 'A0000' AND 'TZ010'\n   AND MAT_ID NOT LIKE 'SEKY'||(SELECT DATA_1 FROM MGCMTBLDAT WHERE FACTORY = 'HMKA1' AND TABLE_NAME = 'H_SPECIAL_CHAR' AND KEY_1 = '1')  --- 영업  요청으로 하드코딩 170412. SEKY%\n)","CREATE_USER":"6","CREATE_DATE":"2021-11-22 10:58:05","DBTYPE":"MES"}]
2022-11-16 14:00:00 [EDI System] info: [{"ROWNUM":4,"ID":"147","SETTING_ID":"143","KEY":null,"TYPE":"Main","QUERY":"SELECT \n  RPAD(VR_1,  5, ' ')\n, RPAD(VR_2, 30, ' ')\n, RPAD(VR_3, 15, ' ')\n, RPAD(VR_4, 15, ' ')\n, RPAD(VR_5,  2, ' ')\n, RPAD(VR_6,  2, ' ')\n, RPAD(VR_7, 20, ' ')\n, RPAD(VR_8, 30, ' ')\n, RPAD(VR_9, 16, ' ')\n, RPAD(VR_10, 24, ' ')\n, RPAD(VR_11, 14, ' ')\n, RPAD(VR_12,  4, ' ')\n, RPAD(VR_13,  4, ' ')\n, LPAD(VR_14, 10, ' ')\n, LPAD(VR_15, 10, ' ')\n, RPAD(VR_16,  1, ' ')\n, RPAD(VR_17,  2, ' ')\n, RPAD(VR_18, 10, ' ')\n, RPAD(VR_19, 14, ' ')\n, RPAD(VR_20, 20, ' ')\n, RPAD(VR_21, 20, ' ')\n, RPAD(VR_22, 20, ' ')\n, RPAD(VR_23, 20, ' ')\n, RPAD(VR_24, 20, ' ')\n, LPAD(VR_25, 10, ' ')\n, LPAD(VR_26, 10, ' ')\n, RPAD(VR_27,  1, ' ')\n, RPAD(VR_28, 65, ' ')\n, RPAD(VR_29, 14, ' ')\n, RPAD(VR_30,  8, ' ')\n, RPAD(VR_31, 1024, ' ')\nFROM \n(\nSELECT 'LS1HM'   VR_1\n , NVL((SELECT MAT_CMF_7 FROM MWIPMATDEF WHERE FACTORY = A.FACTORY AND MAT_ID = A.MAT_ID AND MAT_VER = A.MAT_VER), '-')   VR_2\n , F_GET_ASSY_RUNID(' ', A.LOT_ID, A.LOT_CMF_4)   VR_3\n , NVL(TRIM(A.LOT_CMF_1), '-')   VR_4\n , NVL(TRIM(A.LOT_CMF_5),'-')   VR_5\n , NVL((SELECT ATTR_VALUE FROM MATRNAMSTS WHERE FACTORY = A.FACTORY AND ATTR_TYPE = 'LOT_SEC_INFO' AND ATTR_NAME = 'RTN_TYPE' AND ATTR_KEY = TRIM(A.LOT_CMF_1)), '**')   VR_6\n , DECODE(A.OPER||A.FLOW,'T1300HKAB', 'HGAK','TZ010HKAB', 'BASIC',\n     DECODE(NVL((SELECT SEC_OPER FROM V_MWIPOPRDEF_SEC WHERE FACTORY = A.FACTORY AND OPER = A.OPER ), '-'),\n                  'HMK2','BASIC','HMK3','BASIC','HMK9','BASIC','HMK4','BASIC',\n                  NVL(FLOW, '-')))   VR_7\n , DECODE(A.OPER||A.FLOW,'T1300HKAB', '0008','TZ010HKAB', '0003',\n     TRIM(DECODE(NVL((SELECT SEC_OPER FROM V_MWIPOPRDEF_SEC WHERE FACTORY = A.FACTORY AND OPER = A.OPER ), '-'),\n                  'HMK2','0002','HMK3','0003','HMK9','0006','HMK4','0007',\n                  LPAD((SELECT SEQ_NUM-1 FROM MWIPFLWOPR WHERE FACTORY = A.FACTORY AND FLOW = A.FLOW AND OPER = A.OPER),4,'0'))))   VR_8\n , DECODE(A.OPER||A.FLOW,'T1300HKAB', '8','TZ010HKAB', '3',\n     NVL((SELECT SEQ_NUM-1 FROM MWIPFLWOPR WHERE FACTORY = A.FACTORY AND FLOW = A.FLOW AND OPER = A.OPER), '0'))   VR_9\n , DECODE(A.OPER||A.FLOW,'T1300HKAB', 'PACKING','TZ010HKAB', 'Assy Final Stock',\n     DECODE(NVL((SELECT SEC_OPER FROM V_MWIPOPRDEF_SEC WHERE FACTORY = A.FACTORY AND OPER = A.OPER ), '-'),\n                  'HMK2','Assy Home Stock','HMK3','Assy Final Stock','HMK9','Test Home Stock','HMK4','Test Final Stock',\n                  NVL((SELECT OPER_DESC FROM V_MWIPOPRDEF_SEC WHERE FACTORY = A.FACTORY AND OPER = A.OPER ), '-')))   VR_10\n , A.OPER_IN_TIME    VR_11\n , DECODE(A.OPER||A.FLOW,'T1300HKAB', 'ASSY','TZ010HKAB', 'ASSY', DECODE(A.FACTORY, 'HMKT1', 'TEST', 'HMKA1', 'ASSY', '-'))    VR_12\n , NVL((SELECT DECODE(A.OPER||A.FLOW,'TZ010HKAB', SEC_OPER_AREA_COB ,SEC_OPER_AREA) FROM V_MWIPOPRDEF_SEC WHERE FACTORY = A.FACTORY AND OPER = A.OPER ), '-')   VR_13\n , NVL(TRIM(A.QTY_1), 0)   VR_14\n , NVL(TRIM(A.QTY_2), 0)   VR_15\n , 'C'     VR_16\n , F_GET_HOLD_FLAG_CODE(A.LOT_ID, A.MAT_ID, A.HOLD_FLAG, A.HOLD_CODE, 'FLAG' )    VR_17\n , F_GET_HOLD_FLAG_CODE(A.LOT_ID, A.MAT_ID, A.HOLD_FLAG, A.HOLD_CODE, 'CODE' )    VR_18\n , DECODE(A.HOLD_FLAG, 'Y', A.LAST_TRAN_TIME, ' ')    VR_19\n , NVL((SELECT ATTR_VALUE FROM MATRNAMSTS WHERE FACTORY = A.FACTORY AND ATTR_TYPE = 'LOT_SEC_INFO' AND ATTR_NAME = 'NCFCODE' AND ATTR_KEY = TRIM(A.LOT_CMF_1)), '*')   VR_20\n , NVL((SELECT ATTR_VALUE FROM MATRNAMSTS WHERE FACTORY = A.FACTORY AND ATTR_TYPE = 'LOT_SEC_INFO' AND ATTR_NAME = 'NCACODE' AND ATTR_KEY = TRIM(A.LOT_CMF_1)), '*')   VR_21\n , NVL((SELECT ATTR_VALUE FROM MATRNAMSTS WHERE FACTORY = A.FACTORY AND ATTR_TYPE = 'LOT_SEC_INFO' AND ATTR_NAME = 'NCTCODE' AND ATTR_KEY = TRIM(A.LOT_CMF_1)), '*')   VR_22\n , NVL((SELECT ATTR_VALUE FROM MATRNAMSTS WHERE FACTORY = A.FACTORY AND ATTR_TYPE = 'LOT_SEC_INFO' AND ATTR_NAME = 'NCQCODE' AND ATTR_KEY = TRIM(A.LOT_CMF_1)), '*')   VR_23\n , NVL((SELECT ATTR_VALUE FROM MATRNAMSTS WHERE FACTORY = A.FACTORY AND ATTR_TYPE = 'LOT_SEC_INFO' AND ATTR_NAME = 'OTHER' AND ATTR_KEY = TRIM(A.LOT_CMF_1)), '*')   VR_24\n , NVL((SELECT SUM(DECODE(TRAN_CODE, 'LOSS', (OLD_QTY_1 - QTY_1), QTY_1)) \n               FROM MWIPLOTHIS \n              WHERE LOT_ID = A.LOT_ID \n                AND TRAN_CODE IN ('LOSS', 'TERMINATE')\n                AND HIST_DEL_FLAG = ' '\n                AND TRAN_TIME BETWEEN F_GET_TIME(TO_CHAR(SYSDATE, 'YYYYMMDDHH24MISS'),'SE') \n                                  AND TO_CHAR(SYSDATE, 'YYYYMMDDHH24MISS')), 0)         VR_25\n , NVL((SELECT SUM(TOTAL_BONUS_QTY) \n               FROM MWIPLOTBNS \n              WHERE LOT_ID = A.LOT_ID\n                AND TRAN_TIME BETWEEN F_GET_TIME(TO_CHAR(SYSDATE, 'YYYYMMDDHH24MISS'),'SE') \n                                  AND TO_CHAR(SYSDATE, 'YYYYMMDDHH24MISS')), 0)    VR_26\n , '-'    VR_27\n , '-'    VR_28\n , TO_CHAR(SYSDATE,'YYYYMMDDHH24MISS')     VR_29\n , GET_WORK_DATE_EDI(TO_CHAR(SYSDATE, 'YYYYMMDDHH24MISS'),'D')  VR_30\n , MESMGR.PK_SEC_MES_IF.MakeInkless_OMS_WIP(A.FACTORY, A.LOT_ID)  VR_31\n  FROM MWIPLOTSTS A\n WHERE 1 = 1\n   AND FACTORY IN ('HMKT1','HMKA1') \n   AND LOT_CMF_2 = 'SE'   \n   AND OWNER_CODE = 'PROD'\n   AND LOT_TYPE = 'W'\n   AND LOT_DEL_FLAG = ' ' \n   AND CREATE_CODE <> 'FREE' \n   AND MAT_ID LIKE 'SE'||(SELECT DATA_1 FROM MGCMTBLDAT WHERE FACTORY = 'HMKA1' AND TABLE_NAME = 'H_SPECIAL_CHAR' AND KEY_1 = '1')\n   AND OPER BETWEEN 'A0000' AND 'TZ010'\n   AND MAT_ID NOT LIKE 'SEKY'||(SELECT DATA_1 FROM MGCMTBLDAT WHERE FACTORY = 'HMKA1' AND TABLE_NAME = 'H_SPECIAL_CHAR' AND KEY_1 = '1')  --- 영업  요청으로 하드코딩 170412. SEKY%\n)","CREATE_USER":"6","CREATE_DATE":"2021-11-24 03:06:40","DBTYPE":"MES"}]
2022-11-16 14:00:00 [EDI System] info: 
        SELECT * FROM (
            SELECT *
            FROM EDI_QUERY_SETTING
            WHERE 1=1
            AND SETTING_ID = (
                SELECT ID
                FROM CG_CUSTOMER 
                WHERE PARENT = (
                    SELECT ID
                    FROM CG_CUSTOMER 
                    WHERE ID=(
                        SELECT PARENT
                        FROM CG_CUSTOMER 
                        WHERE ID=(
                            SELECT PARENT 
                            FROM CG_CUSTOMER 
                            WHERE ID=:id
                        )
                    )
                )
                AND LOWER(NAME) = 'common'
            )
            AND TYPE IN ('DB','TEXT')
            AND KEY NOT IN (SELECT KEY
                            FROM EDI_QUERY_SETTING
                            WHERE 1=1
                            AND SETTING_ID = :id
                            AND TYPE IN ('DB','TEXT'))
            UNION ALL
            SELECT *
            FROM EDI_QUERY_SETTING
            WHERE 1=1
            AND SETTING_ID = :id
            AND TYPE IN ('DB','TEXT')
        )
        ORDER BY LENGTH(KEY) DESC
    
2022-11-16 14:00:00 [EDI System] info: 
        SELECT * FROM (
            SELECT *
            FROM EDI_QUERY_SETTING
            WHERE 1=1
            AND SETTING_ID = (
                SELECT ID
                FROM CG_CUSTOMER 
                WHERE PARENT = (
                    SELECT ID
                    FROM CG_CUSTOMER 
                    WHERE ID=(
                        SELECT PARENT
                        FROM CG_CUSTOMER 
                        WHERE ID=(
                            SELECT PARENT 
                            FROM CG_CUSTOMER 
                            WHERE ID=:id
                        )
                    )
                )
                AND LOWER(NAME) = 'common'
            )
            AND TYPE IN ('DB','TEXT')
            AND KEY NOT IN (SELECT KEY
                            FROM EDI_QUERY_SETTING
                            WHERE 1=1
                            AND SETTING_ID = :id
                            AND TYPE IN ('DB','TEXT'))
            UNION ALL
            SELECT *
            FROM EDI_QUERY_SETTING
            WHERE 1=1
            AND SETTING_ID = :id
            AND TYPE IN ('DB','TEXT')
        )
        ORDER BY LENGTH(KEY) DESC
    
2022-11-16 14:00:00 [EDI System] info: [{"ID":"137","SETTING_ID":"129","KEY":"todayHH24MISS","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE,'YYYYMMDDHH24MISS') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-11-12 05:20:22","DBTYPE":"MES"},{"ID":"124","SETTING_ID":"129","KEY":"todayHH24_M1H","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE - 1/24,'YYYYMMDDHH24') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-10-15 01:40:03","DBTYPE":"MES"},{"ID":"122","SETTING_ID":"129","KEY":"todayHH24","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE,'YYYYMMDDHH24') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-10-15 11:47:10","DBTYPE":"MES"},{"ID":"115","SETTING_ID":"129","KEY":"today_yy","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE,'YYYYMMDDHH24') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-09-24 08:46:51","DBTYPE":"MES"},{"ID":"130","SETTING_ID":"129","KEY":"today","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE,'YYYYMMDD') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-11-09 03:36:41","DBTYPE":"MES"}]
2022-11-16 14:00:00 [EDI System] info: [{"ID":"137","SETTING_ID":"129","KEY":"todayHH24MISS","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE,'YYYYMMDDHH24MISS') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-11-12 05:20:22","DBTYPE":"MES"},{"ID":"124","SETTING_ID":"129","KEY":"todayHH24_M1H","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE - 1/24,'YYYYMMDDHH24') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-10-15 01:40:03","DBTYPE":"MES"},{"ID":"122","SETTING_ID":"129","KEY":"todayHH24","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE,'YYYYMMDDHH24') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-10-15 11:47:10","DBTYPE":"MES"},{"ID":"115","SETTING_ID":"129","KEY":"today_yy","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE,'YYYYMMDDHH24') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-09-24 08:46:51","DBTYPE":"MES"},{"ID":"130","SETTING_ID":"129","KEY":"today","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE,'YYYYMMDD') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-11-09 03:36:41","DBTYPE":"MES"}]
2022-11-16 14:00:00 [EDI System] info: [{"ID":"137","SETTING_ID":"129","KEY":"todayHH24MISS","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE,'YYYYMMDDHH24MISS') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-11-12 05:20:22","DBTYPE":"MES"},{"ID":"124","SETTING_ID":"129","KEY":"todayHH24_M1H","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE - 1/24,'YYYYMMDDHH24') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-10-15 01:40:03","DBTYPE":"MES"},{"ID":"122","SETTING_ID":"129","KEY":"todayHH24","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE,'YYYYMMDDHH24') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-10-15 11:47:10","DBTYPE":"MES"},{"ID":"115","SETTING_ID":"129","KEY":"today_yy","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE,'YYYYMMDDHH24') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-09-24 08:46:51","DBTYPE":"MES"},{"ID":"130","SETTING_ID":"129","KEY":"today","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE,'YYYYMMDD') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-11-09 03:36:41","DBTYPE":"MES"}]
2022-11-16 14:01:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 14:02:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 14:03:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 14:04:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 14:04:00 [EDI System] info: Job Start Time > {"min":4,"hour":14,"date":16,"month":11,"day":3}
 {"ID":100,"CFG_ID":"135","FILE_NAME":"LOTEVENT_HM:todayHH24","FILE_DESC":"SEC LOTEVENT 1/1HR","FILE_SAVE_FOLDER":"D:/HM_EDI/SEC/OUT","FILE_CHARSET":"utf-8","FILE_TYPE":"ff","DATA_TYPE":"text","FTP_ENV_ID":"100","SEND_FLAG":"Y","NODATASEND":null,"SCHEDULE_MIN":"4","SCHEDULE_HOUR":"*","SCHEDULE_DAY":"*","SCHEDULE_WEEK":"*","SCHEDULE_MONTH":"*","CM_F01":null,"CM_F02":null,"CREATE_DATE":null,"CREATE_USER":null,"UPDATE_DATE":"2021-12-16 09:23:19","UPDATE_USER":"6","DELETE_DATE":null,"DELETE_USER":null,"frequency":"4 * * * *"}
2022-11-16 14:04:00 [EDI System] info: 100 >>> makeFileText Function Execute
2022-11-16 14:04:00 [EDI System] info: SELECT EDI_LOG_SEQ.NEXTVAL AS ID FROM DUAL
2022-11-16 14:04:00 [EDI System] info: SELECT EDI_LOG_SEQ.NEXTVAL AS ID FROM DUAL
2022-11-16 14:04:00 [EDI System] info: [{"ID":11087}]
2022-11-16 14:04:00 [EDI System] info: seq : return Key [{"ID":11087}]
2022-11-16 14:04:00 [EDI System] info: saveAllLogger => ID:11087, NAME:LOTEVENT_HM:todayHH24, ProcessID:135, Description: Job Start : ID=100, CFG_ID=135, FTP_ENV_ID=100, FILE_NAME=LOTEVENT_HM:todayHH24, FILE_DESC=SEC LOTEVENT 1/1HR, FILE_CHARSET=utf-8, FILE_TYPE=ff
2022-11-16 14:04:00 [EDI System] info: INSERT INTO EDI_LOG(ID, STEP, NAME, PROCESS_ID, DESCRIPTION, CREATE_USER, CREATE_DATE)
    VALUES(:id, :stepId, :name, :process_id, :description, 'DAEMON', TO_CHAR(SYSDATE,'YYYYMMDDHH24MISS'))
2022-11-16 14:04:00 [EDI System] info: Insert successful = SQL: INSERT INTO EDI_LOG(ID, STEP, NAME, PROCESS_ID, DESCRIPTION, CREATE_USER, CREATE_DATE)
    VALUES(:id, :stepId, :name, :process_id, :description, 'DAEMON', TO_CHAR(SYSDATE,'YYYYMMDDHH24MISS')) | Params: {"id":11087,"stepId":"1","name":"LOTEVENT_HM:todayHH24","process_id":"135","description":"Job Start : ID=100, CFG_ID=135, FTP_ENV_ID=100, FILE_NAME=LOTEVENT_HM:todayHH24, FILE_DESC=SEC LOTEVENT 1/1HR, FILE_CHARSET=utf-8, FILE_TYPE=ff"} / 1
2022-11-16 14:04:00 [EDI System] info: 
    SELECT *
    FROM (
        SELECT ROWNUM,A.*
            FROM EDI_QUERY_SETTING A
            WHERE SETTING_ID = :id
            AND TYPE='Main'
            ORDER BY ID DESC
        ) 
    WHERE ROWNUM='1'
    
2022-11-16 14:04:00 [EDI System] info: [{"ROWNUM":16,"ID":"155","SETTING_ID":"135","KEY":null,"TYPE":"Main","QUERY":"SELECT     \n  RPAD(V1, 2,' ')\n, RPAD(V3 , 20,' ')\n, RPAD(NVL(decode(v35, 'N01', 'Multitransfer', V4), ' ') , 30,' ')\n, RPAD(V5 || LPAD(B.MILI_SEC,3,0) , 20,' ')\n, RPAD(V6 , 2,' ')\n, RPAD(V7 , 4,' ')\n, RPAD(V8 , 30,' ')\n, RPAD(V9  , 20,' ')\n, RPAD(V10 , 10,' ')\n, RPAD(V11 , 30,' ')\n, RPAD(V12 , 20,' ')\n, RPAD(V13 , 20,' ')\n, RPAD(V14 , 10,' ')\n, RPAD(V15 , 10,' ')\n, RPAD(V16 , 14,' ')\n, RPAD(V17 , 14,' ')\n, LPAD(V18 , 10,' ')\n, LPAD(V19 , 10,' ')\n, RPAD(V20 , 14,' ')\n, RPAD(V21 , 10,' ')\n, RPAD(V22 , 10,' ')\n, RPAD(V23 , 20,' ')\n, RPAD(nvl(V24,' ') , 20,' ')\n, RPAD(V25 , 30,' ')\n, RPAD(V26 , 30,' ')\n, RPAD(V27 , 20,' ')\n, RPAD(V28 , 20,' ')\n, RPAD(V29 , 65,' ')\n, RPAD(V30 , 10,' ')\n, RPAD(V31 , 2,' ')\n, RPAD(V32 , 20,' ')\n, RPAD(V33 , 14,' ')\n, RPAD(V34 , 10,' ')\n, RPAD(V35 , 10,' ')\n, RPAD(V36 , 255,' ')\n, RPAD(V37 , 255,' ')\n  FROM ( SELECT ROWNUM IDX, \n                        V0,V1,V2,V3,V4,V5,V6,V7,V8,V9,V10,V11,V12,V13,V14,V15,V16,V17,V18,V19,V20,V21,V22,V23,V24,V25,V26,V27,V28,V29,V30,V31,V32,V33,V34,V35,V36,V37\n           FROM (\n           select * from\n           (           -- 20200121 chulho.wee ; combine except\n                       SELECT C.IN_DTTM V0, 'HM'  V1\n                     , DECODE(A.FACTORY, 'HMKA1', 'ASSY', 'TEST') V2\n                     , NVL(TRIM(A.LOT_CMF_1), '-') V3\n                     , DECODE(B.DATA_1\n                              , 'END', NVL(TRIM(INITCAP(A.TRAN_CMF_1)),'TrackOut')\n                              --, 'Change', DECODE(A.TRAN_CMF_1,'PART_CHANGE','ChangeProduct')\n                              --, 'Receive', DECODE(A.OLD_OPER,'T0000','RECV_OY_HMK3', 'Receive')\n                              -- , 'Ship', DECODE(A.OLD_OPER,'TZ010','SHIP_HMK4_OY', 'Ship')\n                              , 'Change', DECODE(A.TRAN_CMF_1,'PART_CHANGE','ChangeProduct', DECODE(A.OLD_OPER, 'T0100', 'ChangeProduct','T0960','ChangeProduct', B.DATA_1))\n                              , 'Receive', DECODE(A.OLD_OPER||SUBSTR(A.MAT_ID,1,3),'T0000SES','RECV_OY_HMK3','A0000SES','RECV_KH_HMK2', 'Receive')\n                              --, 'Ship', DECODE(A.OLD_OPER,'TZ010','SHIP_HMK4_ASIMACS','AZ010','SHIP_HMK3_OY', 'Ship')\n                              , 'Ship', DECODE(A.OLD_OPER,'TZ010',DECODE(F_GET_HALF_FULL(A.LOT_ID, A.HIST_SEQ), 'Y','SHIP_HMKT_OY', 'SHIP_HMK4_ASIMACS'),'AZ010','SHIP_HMK3_OY', 'Ship')\n                              , B.DATA_1) V4\n                     , A.TRAN_TIME V5 \n                     , NVL(TRIM(A.LOT_CMF_5), '-')  V6\n                     , DECODE(B.DATA_1||A.OLD_FACTORY\n                              , 'ReceiveHMKT1', 'HMK3'\n                              , 'ShipHMKT1', 'HMK4'\n                              , DECODE(A.FACTORY, 'HMKA1', 'HMKA', 'HMKT'))  V7\n                     , NVL((SELECT MAT_CMF_7 FROM MWIPMATDEF WHERE FACTORY = A.FACTORY AND MAT_ID = A.MAT_ID AND MAT_VER = A.MAT_VER)\n                          , (SELECT MAT_CMF_7 FROM MWIPMATDEF WHERE FACTORY = A.OLD_FACTORY AND MAT_ID = A.OLD_MAT_ID AND MAT_VER = A.MAT_VER))  V8\n                     , A.FLOW  V9\n                     , DECODE(SUBSTRB(A.OLD_OPER,1,4),'AZ01','HMK3','T000','HMK3','TZ01','HMK4','A000','HMK2',SUBSTRB(A.OLD_OPER,1,4))  V10\n                     , NVL((SELECT OPER_DESC FROM MWIPOPRDEF WHERE FACTORY = A.FACTORY AND OPER = A.OLD_OPER AND FLOW = A.FLOW), ' ' )  V11\n                     , NVL((SELECT RES_GRP_3 FROM MRASRESDEF WHERE FACTORY = A.FACTORY AND RES_ID = A.START_RES_ID ),' ')  V12\n                     , NVL(START_RES_ID, ' ')  V13\n                     , NVL((SELECT DECODE(SUBSTRB(NVL(trim(PREV_OPER), 'A0000'),1,4),'AZ01','HMK3','T000','HMK3','TZ01','HMK4','A000','HMK2',SUBSTRB(NVL(trim(PREV_OPER), 'A0000'),1,4)) FROM MWIPFLWOPR WHERE FACTORY = A.FACTORY AND OPER = A.OPER AND FLOW = A.FLOW),' ')  V14\n                     , DECODE(SUBSTRB(A.OPER,1,4),'AZ01','HMK3','T000','HMK3','TZ01','HMK4','A000','HMK2',SUBSTRB(A.OPER,1,4))  V15\n                     , A.OPER_IN_TIME  V16\n                     , A.CREATE_TIME  V17\n                     , NVL(D.WAFERQTY,NVL(TRIM(A.QTY_2),0))  V18\n                     , NVL(\n                                    DECODE(TRAN_CODE,'MERGE',DECODE(FROM_TO_FLAG,'F',TRIM(A.QTY_1),TRIM(A.QTY_1))\n                                    ,TRIM(A.QTY_1))\n                                    , 0)  V19 -- CHIP_QTY_new-- 2010 10 07\n                     , A.TRAN_TIME  V20\n                     , NVL(D.WAFERQTY,NVL(TRIM(A.QTY_2),0))  V21\n                     , NVL(\n                                    DECODE(TRAN_CODE,'MERGE',DECODE(FROM_TO_FLAG,'F',TRIM(A.OLD_QTY_1),'T',TRIM(A.QTY_1-A.OLD_QTY_1),TRIM(A.QTY_1)) --,TRIM(A.QTY_1))\n                                                    ,'SPLIT',DECODE(FROM_TO_FLAG,'F',abs(A.OLD_QTY_1-A.QTY_1),TRIM(A.QTY_1))\n                                                    ,'LOSS',(A.OLD_QTY_1 - QTY_1)\n                                                    ,TRIM(A.QTY_1))\n                                   , 0)  V22 -- EVENT_QTY_new -- 2010 10 07\n                     , NVL((SELECT LOT_STATE FROM V_SECLOTSTS WHERE FACTORY = A.FACTORY AND LOT_ID = A.LOT_ID AND HIST_SEQ = A.HIST_SEQ ),' ')  V23\n                     , DECODE(TRAN_CODE,'SPLIT',DECODE(FROM_TO_FLAG,'T','Splitted','Split'),\n                                        'MERGE',DECODE(FROM_TO_FLAG,'T','Merge','Merged'),\n                                        'PMERGE',DECODE(FROM_TO_FLAG,'T','Merge','Merged')\n                                      )  V24\n                     , DECODE(TRAN_CODE, 'SPLIT',DECODE(FROM_TO_FLAG,'F',' ',NVL(TRIM(A.FROM_TO_LOT_ID), TRIM(A.LOT_CMF_1)))\n                                       , 'MERGE',DECODE(FROM_TO_FLAG,'F',TRIM(A.FROM_TO_LOT_ID),NVL(TRIM(A.FROM_TO_LOT_ID), TRIM(A.LOT_CMF_1)))\n                                       , DECODE(TRAN_CODE,'ADAPT',F_GET_CHG_PREV_VAL(A.LOT_ID,A.HIST_SEQ,'ADAPT','MAT_ID',-1),F_GET_CHG_PREV_VAL(A.LOT_ID,A.HIST_SEQ,TRAN_CODE,'MAT_ID',-1))\n                                       )  V25\n                     , DECODE(TRAN_CODE, 'SPLIT',DECODE(FROM_TO_FLAG,'T',' ',NVL(TRIM(A.FROM_TO_LOT_ID), TRIM(A.LOT_CMF_1)))\n                                       , 'MERGE',DECODE(FROM_TO_FLAG,'T',TRIM(A.FROM_TO_LOT_ID),NVL(TRIM(A.FROM_TO_LOT_ID), TRIM(A.LOT_CMF_1)))\n                                       , DECODE(TRAN_CODE,'ADAPT',F_GET_CHG_PREV_VAL(A.LOT_ID,A.HIST_SEQ,'ADAPT','MAT_ID',1),F_GET_CHG_PREV_VAL(A.LOT_ID,A.HIST_SEQ,TRAN_CODE,'MAT_ID',1))\n                                       )  V26\n                     , DECODE(TRAN_CODE, 'SPLIT',DECODE(FROM_TO_FLAG,'T',' ',NVL(TRIM(A.FROM_TO_LOT_ID), TRIM(A.LOT_CMF_1)))\n                                       , 'MERGE',DECODE(FROM_TO_FLAG,'F',TRIM(A.LOT_CMF_1),NVL(TRIM(A.FROM_TO_LOT_ID), TRIM(A.LOT_CMF_1)))\n                                       , ' ')  V27\n                     , DECODE(TRAN_CODE, 'SPLIT',DECODE(FROM_TO_FLAG,'F',' ',NVL(TRIM(A.FROM_TO_LOT_ID), TRIM(A.LOT_CMF_1)))\n                                       , 'MERGE',DECODE(FROM_TO_FLAG,'T',TRIM(A.LOT_CMF_1),NVL(TRIM(A.FROM_TO_LOT_ID), TRIM(A.LOT_CMF_1)))\n                                       , ' ')  V28\n                     , ' '  V29\n                     , DECODE(TRAN_CODE, 'HOLD',HOLD_CODE, ' ')  V30\n                     , F_GET_ATTR_VALUE(A.LOT_ID, 'LOT_SEC_INFO','RETURN_CODE')  V31\n                     , NVL(TRIM(A.LOT_CMF_4), '-')  V32\n                     , TO_CHAR(SYSDATE, 'YYYYMMDDHH24MISS')  V33\n                     , A.START_QTY_1  V34\n                     , NVL((SELECT MAX(LOSS_CODE_1) FROM MWIPLOTLOS WHERE FACTORY = A.FACTORY AND OPER = A.OLD_OPER AND FLOW = A.FLOW AND LOT_ID = A.LOT_ID), ' ' )  V35\n                     , NVL((SELECT ATTR_VALUE FROM MATRNAMSTS WHERE FACTORY = 'HMKA1' AND ATTR_TYPE = 'LOT_SEC_INFO' AND ATTR_NAME = 'WORDER' AND ATTR_KEY  = A.LOT_ID ), ' ') V36\n                     , NVL((SELECT ATTR_VALUE FROM MATRNAMSTS WHERE FACTORY = 'HMKA1' AND ATTR_TYPE = 'LOT_SEC_INFO' AND ATTR_NAME = 'WORDER' AND ATTR_KEY  = A.LOT_ID ), ' ') V37\n                          FROM MWIPLOTHIS A \n                             , CWIPSITDEF B\n                             , CEDILOTHIS C\n                             , V_CLOTWAFQTY D\n                         WHERE 1 = 1\n                           AND A.FACTORY IN ('HMKA1', 'HMKT1','CUSTOMER')    \n                           AND A.OWNER_CODE = 'PROD'\n                           AND A.LOT_TYPE = 'W'\n                           AND A.HIST_DEL_FLAG = ' '\n                           AND A.LOT_CMF_2 = 'SE'\n                           AND A.TRAN_TIME >= :todayHH24_M1H ||'000000'\n                           AND A.TRAN_TIME <  :todayHH24 ||'000000'\n                           AND B.TABLE_NAME='H_EDI_TRAN'\n                           AND B.KEY_1='SE'\n                           AND A.TRAN_CODE = B.KEY_2   \n                           AND B.DATA_1 <> ' '   \n                           AND B.FACTORY = 'HMKA1'\n                           AND (A.TRAN_CODE <> 'START' OR A.TRAN_CMF_1 IN ('ISSUE','CLOSE'))\n                           AND (A.TRAN_CODE <> 'ADAPT' OR A.ADD_ORDER_ID_2 NOT IN ('MULTIEQP_MOT','MULTIEQP', ' ') OR A.TRAN_CMF_1 IN ('PART_CHANGE' ))\n                           AND A.OLD_FLOW > ' '\n                           AND A.LOT_ID = C.LOT_ID\n                           AND A.HIST_SEQ = C.HIST_SEQ\n                           AND A.TRAN_TIME  = C.TRAN_TIME\n                           AND A.LOT_ID = D.LOT_ID(+)\n                           AND A.OPER NOT IN ('T000N')\n                         \n                 union all\n                       -- 20200121 chulho.wee ; combine only ; merge, multitransfer\n                       SELECT C.IN_DTTM V0, 'HM'  V1\n                     , DECODE(A.FACTORY, 'HMKA1', 'ASSY', 'TEST') V2\n                     , NVL(TRIM(A.LOT_CMF_1), '-') V3\n                     , DECODE(B.DATA_1,\n                              'END', NVL(TRIM(INITCAP(A.TRAN_CMF_1)),'TrackOut'),\n                              'Change', DECODE(A.TRAN_CMF_1,'PART_CHANGE','ChangeProduct')\n                              , B.DATA_1) V4\n                     , A.TRAN_TIME V5 \n                     , NVL(TRIM(A.LOT_CMF_5), '-')  V6\n                     , DECODE(A.FACTORY, 'HMKA1', 'HMKA', 'HMKT')  V7\n                     , NVL((SELECT MAT_CMF_7 FROM MWIPMATDEF WHERE FACTORY = A.FACTORY AND MAT_ID = A.MAT_ID AND MAT_VER = A.MAT_VER)\n                          , (SELECT MAT_CMF_7 FROM MWIPMATDEF WHERE FACTORY = A.OLD_FACTORY AND MAT_ID = A.OLD_MAT_ID AND MAT_VER = A.MAT_VER))  V8\n                     , A.FLOW  V9\n                     , DECODE(SUBSTRB(A.OLD_OPER,1,4),'AZ01','HMK3','T000','HMK3','TZ01','HMK4','A000','HMK2',SUBSTRB(A.OLD_OPER,1,4))  V10\n                     , NVL((SELECT OPER_DESC FROM MWIPOPRDEF WHERE FACTORY = A.FACTORY AND OPER = A.OLD_OPER AND FLOW = A.FLOW), ' ' )  V11\n                     , NVL((SELECT RES_GRP_3 FROM MRASRESDEF WHERE FACTORY = A.FACTORY AND RES_ID = A.START_RES_ID ),' ')  V12\n                     , NVL(START_RES_ID, ' ')  V13\n                     , NVL((SELECT DECODE(SUBSTRB(NVL(trim(PREV_OPER), 'A0000'),1,4),'AZ01','HMK3','T000','HMK3','TZ01','HMK4','A000','HMK2',SUBSTRB(NVL(trim(PREV_OPER), 'A0000'),1,4)) FROM MWIPFLWOPR WHERE FACTORY = A.FACTORY AND OPER = A.OPER AND FLOW = A.FLOW),' ')  V14\n                     , DECODE(SUBSTRB(A.OPER,1,4),'AZ01','HMK3','T000','HMK3','TZ01','HMK4','A000','HMK2',SUBSTRB(A.OPER,1,4))  V15\n                     , A.OPER_IN_TIME  V16\n                     , A.CREATE_TIME  V17\n                     , NVL(D.WAFERQTY,NVL(TRIM(A.QTY_2),0))  V18\n                     , NVL(\n                                    DECODE(TRAN_CODE, 'COMBINE',DECODE(FROM_TO_FLAG,'T',TRIM(A.QTY_1+(select max(old_qty_1) from mwiplothis where lot_id = (select from_to_lot_id from mwiplothis where lot_id = a.lot_id and hist_seq = a.hist_seq) and tran_code = 'COMBINE' and hist_del_flag = ' '))\n                                                                                       ,TRIM(A.QTY_1))\n                                                    , TRIM(A.QTY_1))\n                           , 0)  V19 \n                     , A.TRAN_TIME  V20\n                     , NVL(D.WAFERQTY,NVL(TRIM(A.QTY_2),0))  V21\n                     , NVL(\n                                    DECODE(TRAN_CODE,'COMBINE',DECODE(FROM_TO_FLAG,'F',TRIM(A.OLD_QTY_1)\n                                                                                  ,'T',(select max(old_qty_1) from mwiplothis where lot_id = (select from_to_lot_id from mwiplothis where lot_id = a.lot_id and hist_seq = a.hist_seq) and tran_code = 'COMBINE' and hist_del_flag = ' ')\n                                                                                  ,TRIM(A.QTY_1)) --,TRIM(A.QTY_1))\n                                                    ,TRIM(A.QTY_1)*2)\n                           , 0)  V22 \n                     , NVL((SELECT LOT_STATE FROM V_SECLOTSTS WHERE FACTORY = A.FACTORY AND LOT_ID = A.LOT_ID AND HIST_SEQ = A.HIST_SEQ ),' ')  V23\n                     , DECODE(TRAN_CODE,'SPLIT',DECODE(FROM_TO_FLAG,'T','Splitted','Split'),\n                                        'COMBINE',DECODE(FROM_TO_FLAG,'T','Merge','Merged'),\n                                        'PMERGE',DECODE(FROM_TO_FLAG,'T','Merge','Merged')\n                                      )  V24\n                     , DECODE(TRAN_CODE, 'COMBINE',DECODE(FROM_TO_FLAG,'F',TRIM(A.FROM_TO_LOT_ID),NVL(TRIM(A.FROM_TO_LOT_ID), TRIM(A.LOT_CMF_1)))\n                                       , ' ') V25\n                     , DECODE(TRAN_CODE, 'COMBINE',DECODE(FROM_TO_FLAG,'T',TRIM(A.FROM_TO_LOT_ID),NVL(TRIM(A.FROM_TO_LOT_ID), TRIM(A.LOT_CMF_1)))\n                                       , ' ') V26\n                     , DECODE(TRAN_CODE, 'COMBINE',DECODE(FROM_TO_FLAG,'F',TRIM(A.LOT_CMF_1),NVL(TRIM(A.FROM_TO_LOT_ID), TRIM(A.LOT_CMF_1)))\n                                       , ' ')  V27\n                     , DECODE(TRAN_CODE, 'COMBINE',DECODE(FROM_TO_FLAG,'T',TRIM(A.LOT_CMF_1),NVL(TRIM(A.FROM_TO_LOT_ID), TRIM(A.LOT_CMF_1)))\n                                       , ' ')  V28\n                     , ' '  V29\n                     , DECODE(TRAN_CODE, 'HOLD',HOLD_CODE, ' ')  V30\n                     , F_GET_ATTR_VALUE(A.LOT_ID, 'LOT_SEC_INFO','RETURN_CODE')  V31\n                     , NVL(TRIM(A.LOT_CMF_4), '-')  V32\n                     , TO_CHAR(SYSDATE, 'YYYYMMDDHH24MISS')  V33\n                     , A.START_QTY_1  V34\n                     , NVL((SELECT MAX(LOSS_CODE_1) FROM MWIPLOTLOS WHERE FACTORY = A.FACTORY AND OPER = A.OLD_OPER AND FLOW = A.FLOW AND LOT_ID = A.LOT_ID), ' ' )  V35\n                     , NVL((SELECT ATTR_VALUE FROM MATRNAMSTS WHERE FACTORY = 'HMKA1' AND ATTR_TYPE = 'LOT_SEC_INFO' AND ATTR_NAME = 'WORDER' AND ATTR_KEY  = A.LOT_ID ), ' ') V36\n                     , NVL((SELECT ATTR_VALUE FROM MATRNAMSTS WHERE FACTORY = 'HMKA1' AND ATTR_TYPE = 'LOT_SEC_INFO' AND ATTR_NAME = 'WORDER' AND ATTR_KEY  = A.LOT_ID ), ' ') V37\n                          FROM MWIPLOTHIS A \n                             , CWIPSITDEF B\n                             , CEDILOTHIS C\n                             , V_CLOTWAFQTY D\n                         WHERE 1 = 1\n                           AND A.FACTORY IN ('HMKA1', 'HMKT1') --,'CUSTOMER')    \n                           AND A.OWNER_CODE = 'PROD'\n                           AND A.LOT_TYPE = 'W'\n                           AND A.HIST_DEL_FLAG = ' '\n                           AND A.LOT_CMF_2 = 'SE'\n                           AND A.TRAN_TIME >= TO_CHAR(SYSDATE-1/24,'YYYYMMDDHH24')||'000000'\n                           AND A.TRAN_TIME <  TO_CHAR(SYSDATE,'YYYYMMDDHH24')||'000000'\n                           AND B.TABLE_NAME='H_EDI_EX_TRAN'\n                           AND B.KEY_1='SE'\n                           AND A.TRAN_CODE = B.KEY_2   \n                           AND B.DATA_1 <> ' '   \n                           AND B.FACTORY = 'HMKA1'\n                           AND (A.TRAN_CODE <> 'START' OR A.TRAN_CMF_1 IN ('ISSUE','CLOSE'))\n                           AND (A.TRAN_CODE <> 'ADAPT' OR A.ADD_ORDER_ID_2 NOT IN ('MULTIEQP_MOT','MULTIEQP', ' ') OR A.TRAN_CMF_1 IN ('PART_CHANGE' ))\n                           AND A.OLD_FLOW > ' '\n                           AND A.LOT_ID = C.LOT_ID\n                           AND A.HIST_SEQ = C.HIST_SEQ\n                           AND A.TRAN_TIME  = C.TRAN_TIME\n                           AND A.LOT_ID = D.LOT_ID(+)\n                           AND A.OPER NOT IN ('T000N')\n                           AND A.OPER LIKE 'A040_'\n              )\n              order by v0\n           )) A, \n       ( SELECT ROWNUM IDX, TRAN_TIME, MILI_SEC\n           FROM (\n                   SELECT TRAN_TIME, CNT-NUM MILI_SEC\n                    FROM (\n                    select TRAN_TIME, sum(cnt) CNT\n                      from ( \n                        SELECT A.TRAN_TIME, COUNT(*) CNT\n                          FROM MWIPLOTHIS A \n                             , CWIPSITDEF B\n                             , CEDILOTHIS C\n                             , V_CLOTWAFQTY D\n                         WHERE 1 = 1\n                           AND A.FACTORY IN ('HMKA1', 'HMKT1','CUSTOMER')   \n                           AND A.OWNER_CODE = 'PROD'\n                          AND A.LOT_TYPE = 'W'\n                           AND A.HIST_DEL_FLAG = ' '\n                           AND A.LOT_CMF_2 = 'SE'\n                           AND A.TRAN_TIME >= TO_CHAR(SYSDATE-1/24,'YYYYMMDDHH24')||'000000'\n                           AND A.TRAN_TIME <  TO_CHAR(SYSDATE,'YYYYMMDDHH24')||'000000'\n                           AND B.TABLE_NAME='H_EDI_TRAN'\n                           AND B.KEY_1='SE'\n                           AND A.TRAN_CODE = B.KEY_2   \n                           AND B.DATA_1 <> ' '   \n                           AND B.FACTORY = 'HMKA1'\n                           AND (A.TRAN_CODE <> 'START' OR A.TRAN_CMF_1 IN ('ISSUE','CLOSE'))\n                           AND (A.TRAN_CODE <> 'ADAPT' OR A.ADD_ORDER_ID_2 NOT IN ('MULTIEQP_MOT','MULTIEQP', ' ') OR A.TRAN_CMF_1 IN ('PART_CHANGE' ))\n                           AND A.OLD_FLOW > ' '\n                           AND A.LOT_ID = C.LOT_ID\n                           AND A.HIST_SEQ = C.HIST_SEQ\n                           AND A.TRAN_TIME  = C.TRAN_TIME\n                           AND A.LOT_ID = D.LOT_ID(+)\n                           AND A.OPER NOT IN ('T000N')\n                         GROUP BY A.TRAN_TIME\n                         union\n                        SELECT A.TRAN_TIME, COUNT(*) CNT\n                          FROM MWIPLOTHIS A \n                             , CWIPSITDEF B\n                             , CEDILOTHIS C\n                             , V_CLOTWAFQTY D\n                         WHERE 1 = 1\n                           AND A.FACTORY IN ('HMKA1', 'HMKT1') --,'CUSTOMER')    \n                           AND A.OWNER_CODE = 'PROD'\n                           AND A.LOT_TYPE = 'W'\n                           AND A.HIST_DEL_FLAG = ' '\n                           AND A.LOT_CMF_2 = 'SE'\n                           AND A.TRAN_TIME >= :todayHH24_M1H ||'000000'\n                           AND A.TRAN_TIME <  :todayHH24 ||'000000'\n                           AND B.TABLE_NAME='H_EDI_EX_TRAN'\n                           AND B.KEY_1='SE'\n                           AND A.TRAN_CODE = B.KEY_2   \n                           AND B.DATA_1 <> ' '   \n                           AND B.FACTORY = 'HMKA1'\n                           AND (A.TRAN_CODE <> 'START' OR A.TRAN_CMF_1 IN ('ISSUE','CLOSE'))\n                           AND (A.TRAN_CODE <> 'ADAPT' OR A.ADD_ORDER_ID_2 NOT IN ('MULTIEQP_MOT','MULTIEQP', ' ') OR A.TRAN_CMF_1 IN ('PART_CHANGE' ))\n                           AND A.OLD_FLOW > ' '\n                           AND A.LOT_ID = C.LOT_ID\n                           AND A.HIST_SEQ = C.HIST_SEQ\n                           AND A.TRAN_TIME  = C.TRAN_TIME\n                           AND A.LOT_ID = D.LOT_ID(+)\n                           AND A.OPER NOT IN ('T000N')\n                           GROUP BY A.TRAN_TIME\n                           )\n                           group by TRAN_TIME\n                         ) A, COPY_T B\n                   WHERE NUM < 26 \n                     AND NUM <= CNT\n                   ORDER BY TRAN_TIME, CNT-NUM \n                  )) B\n             WHERE A.IDX=B.IDX","CREATE_USER":"6","CREATE_DATE":"2021-12-15 11:13:15","DBTYPE":"MES"}]
2022-11-16 14:04:00 [EDI System] info: 
        SELECT * FROM (
            SELECT *
            FROM EDI_QUERY_SETTING
            WHERE 1=1
            AND SETTING_ID = (
                SELECT ID
                FROM CG_CUSTOMER 
                WHERE PARENT = (
                    SELECT ID
                    FROM CG_CUSTOMER 
                    WHERE ID=(
                        SELECT PARENT
                        FROM CG_CUSTOMER 
                        WHERE ID=(
                            SELECT PARENT 
                            FROM CG_CUSTOMER 
                            WHERE ID=:id
                        )
                    )
                )
                AND LOWER(NAME) = 'common'
            )
            AND TYPE IN ('DB','TEXT')
            AND KEY NOT IN (SELECT KEY
                            FROM EDI_QUERY_SETTING
                            WHERE 1=1
                            AND SETTING_ID = :id
                            AND TYPE IN ('DB','TEXT'))
            UNION ALL
            SELECT *
            FROM EDI_QUERY_SETTING
            WHERE 1=1
            AND SETTING_ID = :id
            AND TYPE IN ('DB','TEXT')
        )
        ORDER BY LENGTH(KEY) DESC
    
2022-11-16 14:04:00 [EDI System] info: [{"ID":"137","SETTING_ID":"129","KEY":"todayHH24MISS","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE,'YYYYMMDDHH24MISS') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-11-12 05:20:22","DBTYPE":"MES"},{"ID":"124","SETTING_ID":"129","KEY":"todayHH24_M1H","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE - 1/24,'YYYYMMDDHH24') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-10-15 01:40:03","DBTYPE":"MES"},{"ID":"122","SETTING_ID":"129","KEY":"todayHH24","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE,'YYYYMMDDHH24') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-10-15 11:47:10","DBTYPE":"MES"},{"ID":"115","SETTING_ID":"129","KEY":"today_yy","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE,'YYYYMMDDHH24') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-09-24 08:46:51","DBTYPE":"MES"},{"ID":"130","SETTING_ID":"129","KEY":"today","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE,'YYYYMMDD') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-11-09 03:36:41","DBTYPE":"MES"}]
2022-11-16 14:05:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 14:06:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 14:07:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 14:08:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 14:09:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 14:10:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 14:11:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 14:12:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 14:13:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 14:13:00 [EDI System] info: Job Start Time > {"min":13,"hour":14,"date":16,"month":11,"day":3}
 {"ID":121,"CFG_ID":"159","FILE_NAME":"CMEQPUNT_HM:today","FILE_DESC":"SEC CMEQPUNT 1/1day","FILE_SAVE_FOLDER":"D:/HM_EDI/SEC/OUT","FILE_CHARSET":"ascii","FILE_TYPE":"ff","DATA_TYPE":"text","FTP_ENV_ID":"100","SEND_FLAG":"Y","NODATASEND":"false","SCHEDULE_MIN":"13","SCHEDULE_HOUR":"*","SCHEDULE_DAY":"*","SCHEDULE_WEEK":"*","SCHEDULE_MONTH":"*","CM_F01":null,"CM_F02":null,"CREATE_DATE":"2021-12-10 09:44:41","CREATE_USER":"6","UPDATE_DATE":"2021-12-15 04:08:07","UPDATE_USER":"6","DELETE_DATE":null,"DELETE_USER":null,"frequency":"13 * * * *"}
2022-11-16 14:13:00 [EDI System] info: 121 >>> makeFileText Function Execute
2022-11-16 14:13:00 [EDI System] info: SELECT EDI_LOG_SEQ.NEXTVAL AS ID FROM DUAL
2022-11-16 14:13:00 [EDI System] info: SELECT EDI_LOG_SEQ.NEXTVAL AS ID FROM DUAL
2022-11-16 14:13:00 [EDI System] info: [{"ID":11088}]
2022-11-16 14:13:00 [EDI System] info: seq : return Key [{"ID":11088}]
2022-11-16 14:13:00 [EDI System] info: saveAllLogger => ID:11088, NAME:CMEQPUNT_HM:today, ProcessID:159, Description: Job Start : ID=121, CFG_ID=159, FTP_ENV_ID=100, FILE_NAME=CMEQPUNT_HM:today, FILE_DESC=SEC CMEQPUNT 1/1day, FILE_CHARSET=ascii, FILE_TYPE=ff
2022-11-16 14:13:00 [EDI System] info: INSERT INTO EDI_LOG(ID, STEP, NAME, PROCESS_ID, DESCRIPTION, CREATE_USER, CREATE_DATE)
    VALUES(:id, :stepId, :name, :process_id, :description, 'DAEMON', TO_CHAR(SYSDATE,'YYYYMMDDHH24MISS'))
2022-11-16 14:13:00 [EDI System] info: Insert successful = SQL: INSERT INTO EDI_LOG(ID, STEP, NAME, PROCESS_ID, DESCRIPTION, CREATE_USER, CREATE_DATE)
    VALUES(:id, :stepId, :name, :process_id, :description, 'DAEMON', TO_CHAR(SYSDATE,'YYYYMMDDHH24MISS')) | Params: {"id":11088,"stepId":"1","name":"CMEQPUNT_HM:today","process_id":"159","description":"Job Start : ID=121, CFG_ID=159, FTP_ENV_ID=100, FILE_NAME=CMEQPUNT_HM:today, FILE_DESC=SEC CMEQPUNT 1/1day, FILE_CHARSET=ascii, FILE_TYPE=ff"} / 1
2022-11-16 14:13:00 [EDI System] info: 
    SELECT *
    FROM (
        SELECT ROWNUM,A.*
            FROM EDI_QUERY_SETTING A
            WHERE SETTING_ID = :id
            AND TYPE='Main'
            ORDER BY ID DESC
        ) 
    WHERE ROWNUM='1'
    
2022-11-16 14:13:00 [EDI System] info: [{"ROWNUM":1,"ID":"157","SETTING_ID":"159","KEY":null,"TYPE":"Main","QUERY":"--//-- 20211203 chulho.wee ; CREATE\nSELECT \n  RPAD(START_TAG, 3, ' ')\n|| RPAD(OEM_CODE, 2, ' ')\n|| RPAD(MONTH, 6, ' ')\n|| RPAD(C_DATE, 8, ' ')\n|| RPAD(O_DATE, 8, ' ')\n|| RPAD(OEM_AREA, 4, ' ')\n|| RPAD(CUST_DEVICE, 30, ' ')\n|| RPAD(OPER_DESC, 15, ' ')\n|| RPAD(EQP_GROUP, 15, ' ')\n\n|| RPAD(EQP_MODEL, 30, ' ')\n|| RPAD(RES_ID, 15, ' ')\n|| RPAD(OPER, 6, ' ')\n\n|| RPAD(SUM(QTY), 10, ' ')\n|| RPAD(LOT_TYPE, 2, ' ')\n|| RPAD(PARA, 3, ' ')\n\n|| RPAD(TEST_TIME, 10, ' ')\n|| RPAD(INDEX_TIME, 10, ' ')\n|| RPAD(ATE_TIME, 10, ' ')\n\n|| RPAD(EQP_PRICE, 10, ' ')\n|| RPAD(ATE_PRICE, 10, ' ')\n|| RPAD(MVP_PRICE, 10, ' ')\n|| RPAD(PVI_PRICE, 10, ' ')\n|| RPAD(UNIT_PRICE, 10, ' ')\n\n|| RPAD(FULL_HALF, 10, ' ')\n|| RPAD(CREATE_TIME, 14, ' ')\n|| RPAD(REMARK, 200, ' ')\n  FROM\n(\n    SELECT 'LS1' START_TAG\n         , 'HM' OEM_CODE\n         , CASE\n            WHEN TO_CHAR(SYSDATE, 'DD') >= 28 THEN\n                 TO_CHAR(ADD_MONTHS(SYSDATE, +1), 'YYYYMM')\n            ELSE\n                 TO_CHAR(ADD_MONTHS(SYSDATE, -0), 'YYYYMM')\n           END AS \"MONTH\"\n         --, TO_CHAR(SYSDATE, 'DD') C_DATE\n         , TO_CHAR(SYSDATE, 'YYYYMMDD') C_DATE\n         , SUBSTR(LOT.TRAN_TIME, 1,8) AS O_DATE\n         , 'HMKT' AS OEM_AREA\n         \n         , TST.CUST_DVC CUST_DEVICE\n         , DECODE(TST.OPER ,'T0100', 'ATE', 'T0960', 'ASB', 'T0500', 'MVP', TST.OPER) OPER_DESC\n         \n         , (SELECT NVL(ATTR_VALUE, 'NULL') FROM MATRNAMSTS WHERE FACTORY = 'HMKT1' AND ATTR_TYPE = 'RESOURCE' AND ATTR_NAME = 'EQP_GROUP' AND ATTR_KEY = LOT.END_RES_ID) AS EQP_GROUP\n         , (SELECT NVL(ATTR_VALUE, 'NULL') FROM MATRNAMSTS WHERE FACTORY = 'HMKT1' AND ATTR_TYPE = 'RESOURCE' AND ATTR_NAME = 'EQP_MODEL' AND ATTR_KEY = LOT.END_RES_ID) AS EQP_MODEL\n         , LOT.OLD_OPER AS OPER\n         , LOT.END_RES_ID AS RES_ID\n         , LOT_CMF_5 LOT_TYPE\n\n         , LOT.QTY_1 AS QTY\n         , TST.PARA AS PARA\n         , TST.TEST_TIME AS TEST_TIME\n         , TST.INDEX_TIME AS INDEX_TIME\n         , TST.ATE_TIME AS ATE_TIME\n         , TST.EQP_PRICE AS EQP_PRICE\n         , TST.ATE_PRICE AS ATE_PRICE\n--         , (((TST.TEST_TIME + TST.INDEX_TIME) * TST.EQP_PRICE) / TST.PARA) AS ATE_PRICE\n         , TST.MVP_PRICE AS MVP_PRICE\n         , TST.PVI_PRICE AS PVI_PRICE\n         , TST.UNIT_PRICE AS UNIT_PRICE\n         , TST.FULL_HALF AS FULL_HALF\n         , TO_CHAR(SYSDATE, 'YYYYMMDDHH24MISS') AS CREATE_TIME\n         , ' ' AS REMARK\n      FROM MWIPLOTHIS LOT, VGCMTBLDAT_TEST_TIME_INF2 TST\n     WHERE 1=1\n       AND LOT.MAT_ID = TST.MAT_ID\n       AND LOT.OLD_OPER = TST.OPER\n       AND TST.MODEL = (SELECT NVL(ATTR_VALUE, 'NULL') FROM MATRNAMSTS WHERE FACTORY = 'HMKT1' AND ATTR_TYPE = 'RESOURCE' AND ATTR_NAME = 'EQP_MODEL' AND ATTR_KEY = LOT.END_RES_ID)\n       AND LOT.TRAN_TIME >= CASE WHEN TO_CHAR(SYSDATE, 'DD') >= 28 THEN\n                       TO_CHAR(ADD_MONTHS(SYSDATE, -0), 'YYYYMM')||'27'||'22'\n                       ELSE\n                       TO_CHAR(ADD_MONTHS(SYSDATE, -1), 'YYYYMM')||'27'||'22'\n                       END --AS PREV_MON\n\n       AND LOT.TRAN_TIME < CASE WHEN TO_CHAR(SYSDATE, 'HH24MISS') >= 220000\n                                  OR TO_CHAR(SYSDATE, 'HH24MISS') <= 235959 THEN\n                       TO_CHAR(SYSDATE -0, 'YYYYMMDD')||'22'\n                       ELSE\n                       TO_CHAR(SYSDATE -1, 'YYYYMMDD')||'22'\n                       END --AS CURR_MON\n                       \n--       AND LOT.TRAN_TIME < CASE WHEN TO_CHAR(SYSDATE, 'DD') >= 28 THEN\n--                       TO_CHAR(ADD_MONTHS(SYSDATE, +1), 'YYYYMM')||'27'||'22'\n--                       ELSE\n--                       TO_CHAR(ADD_MONTHS(SYSDATE, -0), 'YYYYMM')||'27'||'22'\n--                       END --AS CURR_MON\n       AND LOT.FACTORY = 'HMKT1'\n       AND LOT.TRAN_CODE = 'END'\n       AND LOT.OLD_OPER in ('T0100', 'T0960', 'T0500')\n--       AND TST.CUST_DVC = 'L6HD311A01-P040-A00VCD'\n--       AND LOT.MAT_ID = 'SEL6HD311A01-P040-A00KUVCD'\n)\nGROUP BY START_TAG\n, OEM_CODE\n, MONTH\n, C_DATE\n, O_DATE\n, OEM_AREA\n\n, CUST_DEVICE\n, OPER_DESC\n\n, EQP_GROUP\n, EQP_MODEL\n, OPER\n, RES_ID\n, LOT_TYPE\n\n, PARA\n, TEST_TIME\n, INDEX_TIME\n, ATE_TIME\n, EQP_PRICE\n, ATE_PRICE\n, MVP_PRICE\n, PVI_PRICE\n, UNIT_PRICE\n, FULL_HALF\n, CREATE_TIME\n, REMARK\nORDER BY 1","CREATE_USER":"6","CREATE_DATE":"2021-12-16 09:51:58","DBTYPE":"MES"}]
2022-11-16 14:13:00 [EDI System] info: 
        SELECT * FROM (
            SELECT *
            FROM EDI_QUERY_SETTING
            WHERE 1=1
            AND SETTING_ID = (
                SELECT ID
                FROM CG_CUSTOMER 
                WHERE PARENT = (
                    SELECT ID
                    FROM CG_CUSTOMER 
                    WHERE ID=(
                        SELECT PARENT
                        FROM CG_CUSTOMER 
                        WHERE ID=(
                            SELECT PARENT 
                            FROM CG_CUSTOMER 
                            WHERE ID=:id
                        )
                    )
                )
                AND LOWER(NAME) = 'common'
            )
            AND TYPE IN ('DB','TEXT')
            AND KEY NOT IN (SELECT KEY
                            FROM EDI_QUERY_SETTING
                            WHERE 1=1
                            AND SETTING_ID = :id
                            AND TYPE IN ('DB','TEXT'))
            UNION ALL
            SELECT *
            FROM EDI_QUERY_SETTING
            WHERE 1=1
            AND SETTING_ID = :id
            AND TYPE IN ('DB','TEXT')
        )
        ORDER BY LENGTH(KEY) DESC
    
2022-11-16 14:13:00 [EDI System] info: [{"ID":"137","SETTING_ID":"129","KEY":"todayHH24MISS","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE,'YYYYMMDDHH24MISS') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-11-12 05:20:22","DBTYPE":"MES"},{"ID":"124","SETTING_ID":"129","KEY":"todayHH24_M1H","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE - 1/24,'YYYYMMDDHH24') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-10-15 01:40:03","DBTYPE":"MES"},{"ID":"122","SETTING_ID":"129","KEY":"todayHH24","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE,'YYYYMMDDHH24') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-10-15 11:47:10","DBTYPE":"MES"},{"ID":"115","SETTING_ID":"129","KEY":"today_yy","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE,'YYYYMMDDHH24') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-09-24 08:46:51","DBTYPE":"MES"},{"ID":"130","SETTING_ID":"129","KEY":"today","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE,'YYYYMMDD') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-11-09 03:36:41","DBTYPE":"MES"}]
2022-11-16 14:14:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 14:15:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 14:15:00 [EDI System] info: Job Start Time > {"min":15,"hour":14,"date":16,"month":11,"day":3}
 {"ID":106,"CFG_ID":"141","FILE_NAME":"WO_INPUT_HANA_AS_:todayHH24_1","FILE_DESC":"Siliconworks input assy","FILE_SAVE_FOLDER":"D:/HM_EDI/SILICONWOKRS/OUT","FILE_CHARSET":"utf-8","FILE_TYPE":"csv","DATA_TYPE":"text","FTP_ENV_ID":"106","SEND_FLAG":"Y","NODATASEND":null,"SCHEDULE_MIN":"15","SCHEDULE_HOUR":"*","SCHEDULE_DAY":"*","SCHEDULE_WEEK":"*","SCHEDULE_MONTH":"*","CM_F01":null,"CM_F02":null,"CREATE_DATE":"2021-11-12 05:06:11","CREATE_USER":"6","UPDATE_DATE":"2022-02-16 12:18:37","UPDATE_USER":"6","DELETE_DATE":null,"DELETE_USER":null,"frequency":"15 * * * *"}
2022-11-16 14:15:00 [EDI System] info: 106 >>> makeFileText Function Execute
2022-11-16 14:15:00 [EDI System] info: Job Start Time > {"min":15,"hour":14,"date":16,"month":11,"day":3}
 {"ID":129,"CFG_ID":"166","FILE_NAME":"WO_INPUT_HANA_AS_:todayHH24_1","FILE_DESC":"Siliconworks input assy","FILE_SAVE_FOLDER":"D:/HM_EDI/SILICONWOKRS/OUT","FILE_CHARSET":"utf-8","FILE_TYPE":"csv","DATA_TYPE":"text","FTP_ENV_ID":"106","SEND_FLAG":"Y","NODATASEND":null,"SCHEDULE_MIN":"15","SCHEDULE_HOUR":"*","SCHEDULE_DAY":"*","SCHEDULE_WEEK":"*","SCHEDULE_MONTH":"*","CM_F01":null,"CM_F02":null,"CREATE_DATE":"2022-02-22 16:21:15","CREATE_USER":"6","UPDATE_DATE":null,"UPDATE_USER":null,"DELETE_DATE":null,"DELETE_USER":null,"frequency":"15 * * * *"}
2022-11-16 14:15:00 [EDI System] info: 129 >>> makeFileText Function Execute
2022-11-16 14:15:00 [EDI System] info: Job Start Time > {"min":15,"hour":14,"date":16,"month":11,"day":3}
 {"ID":127,"CFG_ID":"164","FILE_NAME":"WO_INPUT_HANA_AS_:todayHH24_1","FILE_DESC":"Siliconworks input assy","FILE_SAVE_FOLDER":"D:/HM_EDI/SILICONWOKRS/OUT","FILE_CHARSET":"utf-8","FILE_TYPE":"csv","DATA_TYPE":"text","FTP_ENV_ID":"106","SEND_FLAG":"Y","NODATASEND":null,"SCHEDULE_MIN":"15","SCHEDULE_HOUR":"*","SCHEDULE_DAY":"*","SCHEDULE_WEEK":"*","SCHEDULE_MONTH":"*","CM_F01":null,"CM_F02":null,"CREATE_DATE":"2022-02-22 16:13:42","CREATE_USER":"6","UPDATE_DATE":null,"UPDATE_USER":null,"DELETE_DATE":null,"DELETE_USER":null,"frequency":"15 * * * *"}
2022-11-16 14:15:00 [EDI System] info: 127 >>> makeFileText Function Execute
2022-11-16 14:15:00 [EDI System] info: Job Start Time > {"min":15,"hour":14,"date":16,"month":11,"day":3}
 {"ID":128,"CFG_ID":"165","FILE_NAME":"WO_INPUT_HANA_AS_:todayHH24_1","FILE_DESC":"Siliconworks input assy","FILE_SAVE_FOLDER":"D:/HM_EDI/SILICONWOKRS/OUT","FILE_CHARSET":"utf-8","FILE_TYPE":"csv","DATA_TYPE":"text","FTP_ENV_ID":"106","SEND_FLAG":"Y","NODATASEND":null,"SCHEDULE_MIN":"15","SCHEDULE_HOUR":"*","SCHEDULE_DAY":"*","SCHEDULE_WEEK":"*","SCHEDULE_MONTH":"*","CM_F01":null,"CM_F02":null,"CREATE_DATE":"2022-02-22 16:18:38","CREATE_USER":"6","UPDATE_DATE":null,"UPDATE_USER":null,"DELETE_DATE":null,"DELETE_USER":null,"frequency":"15 * * * *"}
2022-11-16 14:15:00 [EDI System] info: 128 >>> makeFileText Function Execute
2022-11-16 14:15:00 [EDI System] info: Job Start Time > {"min":15,"hour":14,"date":16,"month":11,"day":3}
 {"ID":130,"CFG_ID":"167","FILE_NAME":"WO_INPUT_HANA_AS_:todayHH24_1","FILE_DESC":"Siliconworks input assy","FILE_SAVE_FOLDER":"D:/HM_EDI/SILICONWOKRS/OUT","FILE_CHARSET":"utf-8","FILE_TYPE":"csv","DATA_TYPE":"text","FTP_ENV_ID":"106","SEND_FLAG":"Y","NODATASEND":null,"SCHEDULE_MIN":"15","SCHEDULE_HOUR":"*","SCHEDULE_DAY":"*","SCHEDULE_WEEK":"*","SCHEDULE_MONTH":"*","CM_F01":null,"CM_F02":null,"CREATE_DATE":"2022-02-22 16:23:34","CREATE_USER":"6","UPDATE_DATE":null,"UPDATE_USER":null,"DELETE_DATE":null,"DELETE_USER":null,"frequency":"15 * * * *"}
2022-11-16 14:15:00 [EDI System] info: 130 >>> makeFileText Function Execute
2022-11-16 14:15:00 [EDI System] info: SELECT EDI_LOG_SEQ.NEXTVAL AS ID FROM DUAL
2022-11-16 14:15:00 [EDI System] info: SELECT EDI_LOG_SEQ.NEXTVAL AS ID FROM DUAL
2022-11-16 14:15:00 [EDI System] info: SELECT EDI_LOG_SEQ.NEXTVAL AS ID FROM DUAL
2022-11-16 14:15:00 [EDI System] info: SELECT EDI_LOG_SEQ.NEXTVAL AS ID FROM DUAL
2022-11-16 14:15:00 [EDI System] info: SELECT EDI_LOG_SEQ.NEXTVAL AS ID FROM DUAL
2022-11-16 14:15:00 [EDI System] info: SELECT EDI_LOG_SEQ.NEXTVAL AS ID FROM DUAL
2022-11-16 14:15:00 [EDI System] info: SELECT EDI_LOG_SEQ.NEXTVAL AS ID FROM DUAL
2022-11-16 14:15:00 [EDI System] info: SELECT EDI_LOG_SEQ.NEXTVAL AS ID FROM DUAL
2022-11-16 14:15:00 [EDI System] info: SELECT EDI_LOG_SEQ.NEXTVAL AS ID FROM DUAL
2022-11-16 14:15:00 [EDI System] info: SELECT EDI_LOG_SEQ.NEXTVAL AS ID FROM DUAL
2022-11-16 14:15:00 [EDI System] info: [{"ID":11089}]
2022-11-16 14:15:00 [EDI System] info: [{"ID":11090}]
2022-11-16 14:15:00 [EDI System] info: seq : return Key [{"ID":11089}]
2022-11-16 14:15:00 [EDI System] info: saveAllLogger => ID:11089, NAME:WO_INPUT_HANA_AS_:todayHH24_1, ProcessID:166, Description: Job Start : ID=129, CFG_ID=166, FTP_ENV_ID=106, FILE_NAME=WO_INPUT_HANA_AS_:todayHH24_1, FILE_DESC=Siliconworks input assy, FILE_CHARSET=utf-8, FILE_TYPE=csv
2022-11-16 14:15:00 [EDI System] info: INSERT INTO EDI_LOG(ID, STEP, NAME, PROCESS_ID, DESCRIPTION, CREATE_USER, CREATE_DATE)
    VALUES(:id, :stepId, :name, :process_id, :description, 'DAEMON', TO_CHAR(SYSDATE,'YYYYMMDDHH24MISS'))
2022-11-16 14:15:00 [EDI System] info: seq : return Key [{"ID":11090}]
2022-11-16 14:15:00 [EDI System] info: saveAllLogger => ID:11090, NAME:WO_INPUT_HANA_AS_:todayHH24_1, ProcessID:141, Description: Job Start : ID=106, CFG_ID=141, FTP_ENV_ID=106, FILE_NAME=WO_INPUT_HANA_AS_:todayHH24_1, FILE_DESC=Siliconworks input assy, FILE_CHARSET=utf-8, FILE_TYPE=csv
2022-11-16 14:15:00 [EDI System] info: INSERT INTO EDI_LOG(ID, STEP, NAME, PROCESS_ID, DESCRIPTION, CREATE_USER, CREATE_DATE)
    VALUES(:id, :stepId, :name, :process_id, :description, 'DAEMON', TO_CHAR(SYSDATE,'YYYYMMDDHH24MISS'))
2022-11-16 14:15:00 [EDI System] info: [{"ID":11091}]
2022-11-16 14:15:00 [EDI System] info: seq : return Key [{"ID":11091}]
2022-11-16 14:15:00 [EDI System] info: saveAllLogger => ID:11091, NAME:WO_INPUT_HANA_AS_:todayHH24_1, ProcessID:164, Description: Job Start : ID=127, CFG_ID=164, FTP_ENV_ID=106, FILE_NAME=WO_INPUT_HANA_AS_:todayHH24_1, FILE_DESC=Siliconworks input assy, FILE_CHARSET=utf-8, FILE_TYPE=csv
2022-11-16 14:15:00 [EDI System] info: INSERT INTO EDI_LOG(ID, STEP, NAME, PROCESS_ID, DESCRIPTION, CREATE_USER, CREATE_DATE)
    VALUES(:id, :stepId, :name, :process_id, :description, 'DAEMON', TO_CHAR(SYSDATE,'YYYYMMDDHH24MISS'))
2022-11-16 14:15:00 [EDI System] info: [{"ID":11092}]
2022-11-16 14:15:01 [EDI System] info: seq : return Key [{"ID":11092}]
2022-11-16 14:15:01 [EDI System] info: saveAllLogger => ID:11092, NAME:WO_INPUT_HANA_AS_:todayHH24_1, ProcessID:165, Description: Job Start : ID=128, CFG_ID=165, FTP_ENV_ID=106, FILE_NAME=WO_INPUT_HANA_AS_:todayHH24_1, FILE_DESC=Siliconworks input assy, FILE_CHARSET=utf-8, FILE_TYPE=csv
2022-11-16 14:15:01 [EDI System] info: INSERT INTO EDI_LOG(ID, STEP, NAME, PROCESS_ID, DESCRIPTION, CREATE_USER, CREATE_DATE)
    VALUES(:id, :stepId, :name, :process_id, :description, 'DAEMON', TO_CHAR(SYSDATE,'YYYYMMDDHH24MISS'))
2022-11-16 14:15:01 [EDI System] info: [{"ID":11093}]
2022-11-16 14:15:01 [EDI System] info: Insert successful = SQL: INSERT INTO EDI_LOG(ID, STEP, NAME, PROCESS_ID, DESCRIPTION, CREATE_USER, CREATE_DATE)
    VALUES(:id, :stepId, :name, :process_id, :description, 'DAEMON', TO_CHAR(SYSDATE,'YYYYMMDDHH24MISS')) | Params: {"id":11089,"stepId":"1","name":"WO_INPUT_HANA_AS_:todayHH24_1","process_id":"166","description":"Job Start : ID=129, CFG_ID=166, FTP_ENV_ID=106, FILE_NAME=WO_INPUT_HANA_AS_:todayHH24_1, FILE_DESC=Siliconworks input assy, FILE_CHARSET=utf-8, FILE_TYPE=csv"} / 1
2022-11-16 14:15:01 [EDI System] info: seq : return Key [{"ID":11093}]
2022-11-16 14:15:01 [EDI System] info: saveAllLogger => ID:11093, NAME:WO_INPUT_HANA_AS_:todayHH24_1, ProcessID:167, Description: Job Start : ID=130, CFG_ID=167, FTP_ENV_ID=106, FILE_NAME=WO_INPUT_HANA_AS_:todayHH24_1, FILE_DESC=Siliconworks input assy, FILE_CHARSET=utf-8, FILE_TYPE=csv
2022-11-16 14:15:01 [EDI System] info: INSERT INTO EDI_LOG(ID, STEP, NAME, PROCESS_ID, DESCRIPTION, CREATE_USER, CREATE_DATE)
    VALUES(:id, :stepId, :name, :process_id, :description, 'DAEMON', TO_CHAR(SYSDATE,'YYYYMMDDHH24MISS'))
2022-11-16 14:15:01 [EDI System] info: 
    SELECT *
    FROM (
        SELECT ROWNUM,A.*
            FROM EDI_QUERY_SETTING A
            WHERE SETTING_ID = :id
            AND TYPE='Main'
            ORDER BY ID DESC
        ) 
    WHERE ROWNUM='1'
    
2022-11-16 14:15:01 [EDI System] info: Insert successful = SQL: INSERT INTO EDI_LOG(ID, STEP, NAME, PROCESS_ID, DESCRIPTION, CREATE_USER, CREATE_DATE)
    VALUES(:id, :stepId, :name, :process_id, :description, 'DAEMON', TO_CHAR(SYSDATE,'YYYYMMDDHH24MISS')) | Params: {"id":11090,"stepId":"1","name":"WO_INPUT_HANA_AS_:todayHH24_1","process_id":"141","description":"Job Start : ID=106, CFG_ID=141, FTP_ENV_ID=106, FILE_NAME=WO_INPUT_HANA_AS_:todayHH24_1, FILE_DESC=Siliconworks input assy, FILE_CHARSET=utf-8, FILE_TYPE=csv"} / 1
2022-11-16 14:15:01 [EDI System] info: Insert successful = SQL: INSERT INTO EDI_LOG(ID, STEP, NAME, PROCESS_ID, DESCRIPTION, CREATE_USER, CREATE_DATE)
    VALUES(:id, :stepId, :name, :process_id, :description, 'DAEMON', TO_CHAR(SYSDATE,'YYYYMMDDHH24MISS')) | Params: {"id":11091,"stepId":"1","name":"WO_INPUT_HANA_AS_:todayHH24_1","process_id":"164","description":"Job Start : ID=127, CFG_ID=164, FTP_ENV_ID=106, FILE_NAME=WO_INPUT_HANA_AS_:todayHH24_1, FILE_DESC=Siliconworks input assy, FILE_CHARSET=utf-8, FILE_TYPE=csv"} / 1
2022-11-16 14:15:01 [EDI System] info: 
    SELECT *
    FROM (
        SELECT ROWNUM,A.*
            FROM EDI_QUERY_SETTING A
            WHERE SETTING_ID = :id
            AND TYPE='Main'
            ORDER BY ID DESC
        ) 
    WHERE ROWNUM='1'
    
2022-11-16 14:15:01 [EDI System] info: 
    SELECT *
    FROM (
        SELECT ROWNUM,A.*
            FROM EDI_QUERY_SETTING A
            WHERE SETTING_ID = :id
            AND TYPE='Main'
            ORDER BY ID DESC
        ) 
    WHERE ROWNUM='1'
    
2022-11-16 14:15:01 [EDI System] info: Insert successful = SQL: INSERT INTO EDI_LOG(ID, STEP, NAME, PROCESS_ID, DESCRIPTION, CREATE_USER, CREATE_DATE)
    VALUES(:id, :stepId, :name, :process_id, :description, 'DAEMON', TO_CHAR(SYSDATE,'YYYYMMDDHH24MISS')) | Params: {"id":11092,"stepId":"1","name":"WO_INPUT_HANA_AS_:todayHH24_1","process_id":"165","description":"Job Start : ID=128, CFG_ID=165, FTP_ENV_ID=106, FILE_NAME=WO_INPUT_HANA_AS_:todayHH24_1, FILE_DESC=Siliconworks input assy, FILE_CHARSET=utf-8, FILE_TYPE=csv"} / 1
2022-11-16 14:15:01 [EDI System] info: Insert successful = SQL: INSERT INTO EDI_LOG(ID, STEP, NAME, PROCESS_ID, DESCRIPTION, CREATE_USER, CREATE_DATE)
    VALUES(:id, :stepId, :name, :process_id, :description, 'DAEMON', TO_CHAR(SYSDATE,'YYYYMMDDHH24MISS')) | Params: {"id":11093,"stepId":"1","name":"WO_INPUT_HANA_AS_:todayHH24_1","process_id":"167","description":"Job Start : ID=130, CFG_ID=167, FTP_ENV_ID=106, FILE_NAME=WO_INPUT_HANA_AS_:todayHH24_1, FILE_DESC=Siliconworks input assy, FILE_CHARSET=utf-8, FILE_TYPE=csv"} / 1
2022-11-16 14:15:01 [EDI System] info: 
    SELECT *
    FROM (
        SELECT ROWNUM,A.*
            FROM EDI_QUERY_SETTING A
            WHERE SETTING_ID = :id
            AND TYPE='Main'
            ORDER BY ID DESC
        ) 
    WHERE ROWNUM='1'
    
2022-11-16 14:15:01 [EDI System] info: 
    SELECT *
    FROM (
        SELECT ROWNUM,A.*
            FROM EDI_QUERY_SETTING A
            WHERE SETTING_ID = :id
            AND TYPE='Main'
            ORDER BY ID DESC
        ) 
    WHERE ROWNUM='1'
    
2022-11-16 14:15:01 [EDI System] info: []
2022-11-16 14:15:01 [EDI System] info: 
        SELECT * FROM (
            SELECT *
            FROM EDI_QUERY_SETTING
            WHERE 1=1
            AND SETTING_ID = (
                SELECT ID
                FROM CG_CUSTOMER 
                WHERE PARENT = (
                    SELECT ID
                    FROM CG_CUSTOMER 
                    WHERE ID=(
                        SELECT PARENT
                        FROM CG_CUSTOMER 
                        WHERE ID=(
                            SELECT PARENT 
                            FROM CG_CUSTOMER 
                            WHERE ID=:id
                        )
                    )
                )
                AND LOWER(NAME) = 'common'
            )
            AND TYPE IN ('DB','TEXT')
            AND KEY NOT IN (SELECT KEY
                            FROM EDI_QUERY_SETTING
                            WHERE 1=1
                            AND SETTING_ID = :id
                            AND TYPE IN ('DB','TEXT'))
            UNION ALL
            SELECT *
            FROM EDI_QUERY_SETTING
            WHERE 1=1
            AND SETTING_ID = :id
            AND TYPE IN ('DB','TEXT')
        )
        ORDER BY LENGTH(KEY) DESC
    
2022-11-16 14:15:01 [EDI System] info: [{"ROWNUM":4,"ID":"166","SETTING_ID":"141","KEY":null,"TYPE":"Main","QUERY":"SELECT 'Interface ID'\n || ',' || 'Interface Line ID'\n || ',' || 'SUPPLIER_CODE'\n || ',' || 'PROCESSING_CODE'\n || ',' || 'SIW_WO_NO'\n || ',' || 'SUPPLIER_WO_NO'\n || ',' || 'ASSY_ITEM_CODE'\n || ',' || 'ASSY_QTY'\n || ',' || 'UOM_CODE'\n || ',' || 'WORK_START_DATE'\n || ',' || 'COMPONENT_ITEM_CODE'\n || ',' || 'COMPONENT_LOT_ID'\n || ',' || 'COMPONENT_QTY'\n || ',' || 'REMARK1'\n || ',' || 'CANCEL_FLAG'\n || ',' || 'CREATION_DATE'\n\n  FROM IEDISIW_INPUT_INFO\n WHERE CUTOFF_DT = :todayHH24 -- TO_CHAR(SYSDATE, 'YYYYMMDDHH24')\n   AND PROCESSING_CODE = 'AS'\n   AND ROWNUM = 1\n\tAND ROWNUM = 2\n    \nUNION ALL\n\nSELECT IF_ID \n || ',' || IF_LINE_ID \n || ',' || SUPPLIER_CODE \n || ',' || PROCESSING_CODE \n || ',' || SIW_WO_NO \n || ',' || SUPPLIER_WO_NO \n || ',' || ASSY_ITEM_CODE \n || ',' || ASSY_QTY \n || ',' || UOM_CODE \n || ',' || WORK_START_DATE \n || ',' || COMPONENT_ITEM_CODE\n || ',' || COMPONENT_LOT_ID \n || ',' || COMPONENT_QTY \n || ',' || REMARK1 \n || ',' || CANCEL_FLAG \n || ',' || CREATION_DATE \n\n  FROM IEDISIW_INPUT_INFO\n WHERE CUTOFF_DT = :todayHH24 -- TO_CHAR(SYSDATE, 'YYYYMMDDHH24')\n   AND PROCESSING_CODE = 'AS'","CREATE_USER":"6","CREATE_DATE":"2022-02-16 16:42:57","DBTYPE":"MES"}]
2022-11-16 14:15:01 [EDI System] info: 
        SELECT * FROM (
            SELECT *
            FROM EDI_QUERY_SETTING
            WHERE 1=1
            AND SETTING_ID = (
                SELECT ID
                FROM CG_CUSTOMER 
                WHERE PARENT = (
                    SELECT ID
                    FROM CG_CUSTOMER 
                    WHERE ID=(
                        SELECT PARENT
                        FROM CG_CUSTOMER 
                        WHERE ID=(
                            SELECT PARENT 
                            FROM CG_CUSTOMER 
                            WHERE ID=:id
                        )
                    )
                )
                AND LOWER(NAME) = 'common'
            )
            AND TYPE IN ('DB','TEXT')
            AND KEY NOT IN (SELECT KEY
                            FROM EDI_QUERY_SETTING
                            WHERE 1=1
                            AND SETTING_ID = :id
                            AND TYPE IN ('DB','TEXT'))
            UNION ALL
            SELECT *
            FROM EDI_QUERY_SETTING
            WHERE 1=1
            AND SETTING_ID = :id
            AND TYPE IN ('DB','TEXT')
        )
        ORDER BY LENGTH(KEY) DESC
    
2022-11-16 14:15:01 [EDI System] info: []
2022-11-16 14:15:01 [EDI System] info: 
        SELECT * FROM (
            SELECT *
            FROM EDI_QUERY_SETTING
            WHERE 1=1
            AND SETTING_ID = (
                SELECT ID
                FROM CG_CUSTOMER 
                WHERE PARENT = (
                    SELECT ID
                    FROM CG_CUSTOMER 
                    WHERE ID=(
                        SELECT PARENT
                        FROM CG_CUSTOMER 
                        WHERE ID=(
                            SELECT PARENT 
                            FROM CG_CUSTOMER 
                            WHERE ID=:id
                        )
                    )
                )
                AND LOWER(NAME) = 'common'
            )
            AND TYPE IN ('DB','TEXT')
            AND KEY NOT IN (SELECT KEY
                            FROM EDI_QUERY_SETTING
                            WHERE 1=1
                            AND SETTING_ID = :id
                            AND TYPE IN ('DB','TEXT'))
            UNION ALL
            SELECT *
            FROM EDI_QUERY_SETTING
            WHERE 1=1
            AND SETTING_ID = :id
            AND TYPE IN ('DB','TEXT')
        )
        ORDER BY LENGTH(KEY) DESC
    
2022-11-16 14:15:01 [EDI System] info: [{"ROWNUM":1,"ID":"167","SETTING_ID":"165","KEY":null,"TYPE":"Main","QUERY":"SELECT 'Interface ID'\n || ',' || 'Interface Line ID'\n || ',' || 'SUPPLIER_CODE'\n || ',' || 'PROCESSING_CODE'\n || ',' || 'SIW_WO_NO'\n || ',' || 'SUPPLIER_WO_NO'\n || ',' || 'ASSY_ITEM_CODE'\n || ',' || 'ASSY_QTY'\n || ',' || 'UOM_CODE'\n || ',' || 'WORK_START_DATE'\n || ',' || 'COMPONENT_ITEM_CODE'\n || ',' || 'COMPONENT_LOT_ID'\n || ',' || 'COMPONENT_QTY'\n || ',' || 'REMARK1'\n || ',' || 'CANCEL_FLAG'\n || ',' || 'CREATION_DATE'\n\n  FROM IEDISIW_INPUT_INFO\n WHERE CUTOFF_DT = :todayHH24 -- TO_CHAR(SYSDATE, 'YYYYMMDDHH24')\n   AND PROCESSING_CODE = 'AS'\n   AND ROWNUM = 1\n\nUNION ALL\n\nSELECT IF_ID \n || ',' || IF_LINE_ID \n || ',' || SUPPLIER_CODE \n || ',' || PROCESSING_CODE \n || ',' || SIW_WO_NO \n || ',' || SUPPLIER_WO_NO \n || ',' || ASSY_ITEM_CODE \n || ',' || ASSY_QTY \n || ',' || UOM_CODE \n || ',' || WORK_START_DATE \n || ',' || COMPONENT_ITEM_CODE\n || ',' || COMPONENT_LOT_ID \n || ',' || COMPONENT_QTY \n || ',' || REMARK1 \n || ',' || CANCEL_FLAG \n || ',' || CREATION_DATE \n\n  FROM IEDISIW_INPUT_INFO\n WHERE CUTOFF_DT = :todayHH24 -- TO_CHAR(SYSDATE, 'YYYYMMDDHH24')\n   AND PROCESSING_CODE = 'AS'","CREATE_USER":"6","CREATE_DATE":"2022-02-22 16:18:38","DBTYPE":null}]
2022-11-16 14:15:01 [EDI System] info: 
        SELECT * FROM (
            SELECT *
            FROM EDI_QUERY_SETTING
            WHERE 1=1
            AND SETTING_ID = (
                SELECT ID
                FROM CG_CUSTOMER 
                WHERE PARENT = (
                    SELECT ID
                    FROM CG_CUSTOMER 
                    WHERE ID=(
                        SELECT PARENT
                        FROM CG_CUSTOMER 
                        WHERE ID=(
                            SELECT PARENT 
                            FROM CG_CUSTOMER 
                            WHERE ID=:id
                        )
                    )
                )
                AND LOWER(NAME) = 'common'
            )
            AND TYPE IN ('DB','TEXT')
            AND KEY NOT IN (SELECT KEY
                            FROM EDI_QUERY_SETTING
                            WHERE 1=1
                            AND SETTING_ID = :id
                            AND TYPE IN ('DB','TEXT'))
            UNION ALL
            SELECT *
            FROM EDI_QUERY_SETTING
            WHERE 1=1
            AND SETTING_ID = :id
            AND TYPE IN ('DB','TEXT')
        )
        ORDER BY LENGTH(KEY) DESC
    
2022-11-16 14:15:01 [EDI System] info: [{"ROWNUM":1,"ID":"169","SETTING_ID":"167","KEY":null,"TYPE":"Main","QUERY":"SELECT 'Interface ID'\n || ',' || 'Interface Line ID'\n || ',' || 'SUPPLIER_CODE'\n || ',' || 'PROCESSING_CODE'\n || ',' || 'SIW_WO_NO'\n || ',' || 'SUPPLIER_WO_NO'\n || ',' || 'ASSY_ITEM_CODE'\n || ',' || 'ASSY_QTY'\n || ',' || 'UOM_CODE'\n || ',' || 'WORK_START_DATE'\n || ',' || 'COMPONENT_ITEM_CODE'\n || ',' || 'COMPONENT_LOT_ID'\n || ',' || 'COMPONENT_QTY'\n || ',' || 'REMARK1'\n || ',' || 'CANCEL_FLAG'\n || ',' || 'CREATION_DATE'\n\n  FROM IEDISIW_INPUT_INFO\n WHERE CUTOFF_DT = :todayHH24 -- TO_CHAR(SYSDATE, 'YYYYMMDDHH24')\n   AND PROCESSING_CODE = 'AS'\n   AND ROWNUM = 1\n\tAND ROWNUM = 2\n    \nUNION ALL\n\nSELECT IF_ID \n || ',' || IF_LINE_ID \n || ',' || SUPPLIER_CODE \n || ',' || PROCESSING_CODE \n || ',' || SIW_WO_NO \n || ',' || SUPPLIER_WO_NO \n || ',' || ASSY_ITEM_CODE \n || ',' || ASSY_QTY \n || ',' || UOM_CODE \n || ',' || WORK_START_DATE \n || ',' || COMPONENT_ITEM_CODE\n || ',' || COMPONENT_LOT_ID \n || ',' || COMPONENT_QTY \n || ',' || REMARK1 \n || ',' || CANCEL_FLAG \n || ',' || CREATION_DATE \n\n  FROM IEDISIW_INPUT_INFO\n WHERE CUTOFF_DT = :todayHH24 -- TO_CHAR(SYSDATE, 'YYYYMMDDHH24')\n   AND PROCESSING_CODE = 'AS'","CREATE_USER":"6","CREATE_DATE":"2022-02-22 16:23:34","DBTYPE":"MES"}]
2022-11-16 14:15:01 [EDI System] info: 
        SELECT * FROM (
            SELECT *
            FROM EDI_QUERY_SETTING
            WHERE 1=1
            AND SETTING_ID = (
                SELECT ID
                FROM CG_CUSTOMER 
                WHERE PARENT = (
                    SELECT ID
                    FROM CG_CUSTOMER 
                    WHERE ID=(
                        SELECT PARENT
                        FROM CG_CUSTOMER 
                        WHERE ID=(
                            SELECT PARENT 
                            FROM CG_CUSTOMER 
                            WHERE ID=:id
                        )
                    )
                )
                AND LOWER(NAME) = 'common'
            )
            AND TYPE IN ('DB','TEXT')
            AND KEY NOT IN (SELECT KEY
                            FROM EDI_QUERY_SETTING
                            WHERE 1=1
                            AND SETTING_ID = :id
                            AND TYPE IN ('DB','TEXT'))
            UNION ALL
            SELECT *
            FROM EDI_QUERY_SETTING
            WHERE 1=1
            AND SETTING_ID = :id
            AND TYPE IN ('DB','TEXT')
        )
        ORDER BY LENGTH(KEY) DESC
    
2022-11-16 14:15:01 [EDI System] info: [{"ID":"133","SETTING_ID":"139","KEY":"todayHH24_M1H","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE - 1/24,'YYYYMMDDHH24') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-11-12 05:01:01","DBTYPE":"MES"},{"ID":"132","SETTING_ID":"139","KEY":"todayHH24","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE,'YYYYMMDDHH24') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-11-12 05:01:01","DBTYPE":"MES"},{"ID":"131","SETTING_ID":"139","KEY":"today_yy","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE,'YYYYMMDDHH24') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-11-12 05:01:01","DBTYPE":"MES"},{"ID":"134","SETTING_ID":"139","KEY":"today","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE,'YYYYMMDDHH24') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-11-12 05:01:01","DBTYPE":"MES"}]
2022-11-16 14:15:01 [EDI System] info: 
    SELECT *
    FROM EDI_ENV_SETTING WHERE CFG_ID=:id
    
2022-11-16 14:15:01 [EDI System] info: [{"ID":"133","SETTING_ID":"139","KEY":"todayHH24_M1H","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE - 1/24,'YYYYMMDDHH24') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-11-12 05:01:01","DBTYPE":"MES"},{"ID":"132","SETTING_ID":"139","KEY":"todayHH24","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE,'YYYYMMDDHH24') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-11-12 05:01:01","DBTYPE":"MES"},{"ID":"131","SETTING_ID":"139","KEY":"today_yy","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE,'YYYYMMDDHH24') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-11-12 05:01:01","DBTYPE":"MES"},{"ID":"134","SETTING_ID":"139","KEY":"today","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE,'YYYYMMDDHH24') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-11-12 05:01:01","DBTYPE":"MES"}]
2022-11-16 14:15:01 [EDI System] info: [{"ID":"133","SETTING_ID":"139","KEY":"todayHH24_M1H","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE - 1/24,'YYYYMMDDHH24') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-11-12 05:01:01","DBTYPE":"MES"},{"ID":"132","SETTING_ID":"139","KEY":"todayHH24","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE,'YYYYMMDDHH24') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-11-12 05:01:01","DBTYPE":"MES"},{"ID":"131","SETTING_ID":"139","KEY":"today_yy","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE,'YYYYMMDDHH24') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-11-12 05:01:01","DBTYPE":"MES"},{"ID":"134","SETTING_ID":"139","KEY":"today","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE,'YYYYMMDDHH24') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-11-12 05:01:01","DBTYPE":"MES"}]
2022-11-16 14:15:01 [EDI System] info: 
    SELECT *
    FROM EDI_ENV_SETTING WHERE CFG_ID=:id
    
2022-11-16 14:15:01 [EDI System] info: [{"ID":"133","SETTING_ID":"139","KEY":"todayHH24_M1H","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE - 1/24,'YYYYMMDDHH24') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-11-12 05:01:01","DBTYPE":"MES"},{"ID":"132","SETTING_ID":"139","KEY":"todayHH24","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE,'YYYYMMDDHH24') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-11-12 05:01:01","DBTYPE":"MES"},{"ID":"131","SETTING_ID":"139","KEY":"today_yy","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE,'YYYYMMDDHH24') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-11-12 05:01:01","DBTYPE":"MES"},{"ID":"134","SETTING_ID":"139","KEY":"today","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE,'YYYYMMDDHH24') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-11-12 05:01:01","DBTYPE":"MES"}]
2022-11-16 14:15:01 [EDI System] info: [{"ID":"133","SETTING_ID":"139","KEY":"todayHH24_M1H","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE - 1/24,'YYYYMMDDHH24') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-11-12 05:01:01","DBTYPE":"MES"},{"ID":"132","SETTING_ID":"139","KEY":"todayHH24","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE,'YYYYMMDDHH24') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-11-12 05:01:01","DBTYPE":"MES"},{"ID":"131","SETTING_ID":"139","KEY":"today_yy","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE,'YYYYMMDDHH24') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-11-12 05:01:01","DBTYPE":"MES"},{"ID":"134","SETTING_ID":"139","KEY":"today","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE,'YYYYMMDDHH24') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-11-12 05:01:01","DBTYPE":"MES"}]
2022-11-16 14:15:01 [EDI System] info: [{"ID":"139","CFG_ID":"164","ITEM":"between","SET_TYPE":null,"VALUE":"vetween","NOTE":"1","UPDATE_USER":null,"UPDATE_DATE":null,"CREATE_USER":"6","CREATE_DATE":"2022-02-22 16:13:42"}]
2022-11-16 14:15:01 [EDI System] info: 
  SELECT *
  FROM EDI_FILE_HEADNTAIL WHERE CFG_ID=:id
  
2022-11-16 14:15:01 [EDI System] info: [{"ID":"141","CFG_ID":"166","ITEM":"between","SET_TYPE":null,"VALUE":"vetween","NOTE":"1","UPDATE_USER":null,"UPDATE_DATE":null,"CREATE_USER":"6","CREATE_DATE":"2022-02-22 16:21:15"}]
2022-11-16 14:15:01 [EDI System] info: 
  SELECT *
  FROM EDI_FILE_HEADNTAIL WHERE CFG_ID=:id
  
2022-11-16 14:15:01 [EDI System] info: [{"ID":"149","CFG_ID":"164","DATA_TYPE":"h_text","NOTE":"test","VALUE":"value","CM_F01":null,"CM_F02":null,"UPDATE_USER":null,"UPDATE_DATE":null,"CREATE_USER":"6","CREATE_DATE":"2022-02-22 16:13:42","DELETE_DATE":null,"DELETE_USER":null},{"ID":"148","CFG_ID":"164","DATA_TYPE":"h_sql","NOTE":"test\\","VALUE":"select 1 from dual","CM_F01":null,"CM_F02":null,"UPDATE_USER":null,"UPDATE_DATE":null,"CREATE_USER":"6","CREATE_DATE":"2022-02-22 16:13:42","DELETE_DATE":null,"DELETE_USER":null}]
2022-11-16 14:15:01 [EDI System] info: [{"ID":"152","CFG_ID":"166","DATA_TYPE":"h_sql","NOTE":"test\\","VALUE":"select 1 from dual","CM_F01":null,"CM_F02":null,"UPDATE_USER":null,"UPDATE_DATE":null,"CREATE_USER":"6","CREATE_DATE":"2022-02-22 16:21:15","DELETE_DATE":null,"DELETE_USER":null},{"ID":"153","CFG_ID":"166","DATA_TYPE":"h_text","NOTE":"test","VALUE":"value","CM_F01":null,"CM_F02":null,"UPDATE_USER":null,"UPDATE_DATE":null,"CREATE_USER":"6","CREATE_DATE":"2022-02-22 16:21:15","DELETE_DATE":null,"DELETE_USER":null}]
2022-11-16 14:16:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 14:17:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 14:17:00 [EDI System] info: Job Start Time > {"min":17,"hour":14,"date":16,"month":11,"day":3}
 {"ID":122,"CFG_ID":"160","FILE_NAME":"CMEQPUNT_HM:today_2","FILE_DESC":"SEC CMEQPUNT 1/1day","FILE_SAVE_FOLDER":"D:/HM_EDI/SEC/OUT","FILE_CHARSET":"ascii","FILE_TYPE":"ff","DATA_TYPE":"text","FTP_ENV_ID":"100","SEND_FLAG":"Y","NODATASEND":"false","SCHEDULE_MIN":"17","SCHEDULE_HOUR":"*","SCHEDULE_DAY":"*","SCHEDULE_WEEK":"*","SCHEDULE_MONTH":"*","CM_F01":null,"CM_F02":null,"CREATE_DATE":"2021-12-14 11:47:39","CREATE_USER":"6","UPDATE_DATE":"2022-01-06 04:38:43","UPDATE_USER":"6","DELETE_DATE":null,"DELETE_USER":null,"frequency":"17 * * * *"}
2022-11-16 14:17:00 [EDI System] info: 122 >>> makeFileText Function Execute
2022-11-16 14:17:00 [EDI System] info: Job Start Time > {"min":17,"hour":14,"date":16,"month":11,"day":3}
 {"ID":123,"CFG_ID":"161","FILE_NAME":"WO_INPUT_HANA_FT_:todayHH24_1","FILE_DESC":"Siliconworks input TEST","FILE_SAVE_FOLDER":"D:/HM_EDI/SILICONWOKRS/OUT","FILE_CHARSET":"utf-8","FILE_TYPE":"csv","DATA_TYPE":"text","FTP_ENV_ID":"106","SEND_FLAG":"Y","NODATASEND":"false","SCHEDULE_MIN":"17","SCHEDULE_HOUR":"*","SCHEDULE_DAY":"*","SCHEDULE_WEEK":"*","SCHEDULE_MONTH":"*","CM_F01":null,"CM_F02":null,"CREATE_DATE":"2022-01-05 10:54:36","CREATE_USER":"6","UPDATE_DATE":"2022-02-15 11:38:03","UPDATE_USER":"6","DELETE_DATE":null,"DELETE_USER":null,"frequency":"17 * * * *"}
2022-11-16 14:17:00 [EDI System] info: 123 >>> makeFileText Function Execute
2022-11-16 14:17:00 [EDI System] info: SELECT EDI_LOG_SEQ.NEXTVAL AS ID FROM DUAL
2022-11-16 14:17:00 [EDI System] info: SELECT EDI_LOG_SEQ.NEXTVAL AS ID FROM DUAL
2022-11-16 14:17:00 [EDI System] info: SELECT EDI_LOG_SEQ.NEXTVAL AS ID FROM DUAL
2022-11-16 14:17:00 [EDI System] info: SELECT EDI_LOG_SEQ.NEXTVAL AS ID FROM DUAL
2022-11-16 14:17:00 [EDI System] info: [{"ID":11094}]
2022-11-16 14:17:00 [EDI System] info: seq : return Key [{"ID":11094}]
2022-11-16 14:17:00 [EDI System] info: saveAllLogger => ID:11094, NAME:WO_INPUT_HANA_FT_:todayHH24_1, ProcessID:161, Description: Job Start : ID=123, CFG_ID=161, FTP_ENV_ID=106, FILE_NAME=WO_INPUT_HANA_FT_:todayHH24_1, FILE_DESC=Siliconworks input TEST, FILE_CHARSET=utf-8, FILE_TYPE=csv
2022-11-16 14:17:00 [EDI System] info: INSERT INTO EDI_LOG(ID, STEP, NAME, PROCESS_ID, DESCRIPTION, CREATE_USER, CREATE_DATE)
    VALUES(:id, :stepId, :name, :process_id, :description, 'DAEMON', TO_CHAR(SYSDATE,'YYYYMMDDHH24MISS'))
2022-11-16 14:17:00 [EDI System] info: [{"ID":11095}]
2022-11-16 14:17:00 [EDI System] info: seq : return Key [{"ID":11095}]
2022-11-16 14:17:00 [EDI System] info: saveAllLogger => ID:11095, NAME:CMEQPUNT_HM:today_2, ProcessID:160, Description: Job Start : ID=122, CFG_ID=160, FTP_ENV_ID=100, FILE_NAME=CMEQPUNT_HM:today_2, FILE_DESC=SEC CMEQPUNT 1/1day, FILE_CHARSET=ascii, FILE_TYPE=ff
2022-11-16 14:17:00 [EDI System] info: INSERT INTO EDI_LOG(ID, STEP, NAME, PROCESS_ID, DESCRIPTION, CREATE_USER, CREATE_DATE)
    VALUES(:id, :stepId, :name, :process_id, :description, 'DAEMON', TO_CHAR(SYSDATE,'YYYYMMDDHH24MISS'))
2022-11-16 14:17:00 [EDI System] info: Insert successful = SQL: INSERT INTO EDI_LOG(ID, STEP, NAME, PROCESS_ID, DESCRIPTION, CREATE_USER, CREATE_DATE)
    VALUES(:id, :stepId, :name, :process_id, :description, 'DAEMON', TO_CHAR(SYSDATE,'YYYYMMDDHH24MISS')) | Params: {"id":11094,"stepId":"1","name":"WO_INPUT_HANA_FT_:todayHH24_1","process_id":"161","description":"Job Start : ID=123, CFG_ID=161, FTP_ENV_ID=106, FILE_NAME=WO_INPUT_HANA_FT_:todayHH24_1, FILE_DESC=Siliconworks input TEST, FILE_CHARSET=utf-8, FILE_TYPE=csv"} / 1
2022-11-16 14:17:00 [EDI System] info: 
    SELECT *
    FROM (
        SELECT ROWNUM,A.*
            FROM EDI_QUERY_SETTING A
            WHERE SETTING_ID = :id
            AND TYPE='Main'
            ORDER BY ID DESC
        ) 
    WHERE ROWNUM='1'
    
2022-11-16 14:17:00 [EDI System] info: Insert successful = SQL: INSERT INTO EDI_LOG(ID, STEP, NAME, PROCESS_ID, DESCRIPTION, CREATE_USER, CREATE_DATE)
    VALUES(:id, :stepId, :name, :process_id, :description, 'DAEMON', TO_CHAR(SYSDATE,'YYYYMMDDHH24MISS')) | Params: {"id":11095,"stepId":"1","name":"CMEQPUNT_HM:today_2","process_id":"160","description":"Job Start : ID=122, CFG_ID=160, FTP_ENV_ID=100, FILE_NAME=CMEQPUNT_HM:today_2, FILE_DESC=SEC CMEQPUNT 1/1day, FILE_CHARSET=ascii, FILE_TYPE=ff"} / 1
2022-11-16 14:17:00 [EDI System] info: 
    SELECT *
    FROM (
        SELECT ROWNUM,A.*
            FROM EDI_QUERY_SETTING A
            WHERE SETTING_ID = :id
            AND TYPE='Main'
            ORDER BY ID DESC
        ) 
    WHERE ROWNUM='1'
    
2022-11-16 14:17:00 [EDI System] info: [{"ROWNUM":2,"ID":"160","SETTING_ID":"161","KEY":null,"TYPE":"Main","QUERY":"SELECT 'Interface ID'\n || ',' || 'Interface Line ID'\n || ',' || 'SUPPLIER_CODE'\n || ',' || 'PROCESSING_CODE'\n || ',' || 'SIW_WO_NO'\n || ',' || 'SUPPLIER_WO_NO'\n || ',' || 'ASSY_ITEM_CODE'\n || ',' || 'ASSY_QTY'\n || ',' || 'UOM_CODE'\n || ',' || 'WORK_START_DATE'\n || ',' || 'COMPONENT_ITEM_CODE'\n || ',' || 'COMPONENT_LOT_ID'\n || ',' || 'COMPONENT_QTY'\n || ',' || 'REMARK1'\n || ',' || 'CANCEL_FLAG'\n || ',' || 'CREATION_DATE'\n\n  FROM IEDISIW_INPUT_INFO\n WHERE CUTOFF_DT = :todayHH24 -- TO_CHAR(SYSDATE, 'YYYYMMDDHH24')\n   AND PROCESSING_CODE = 'FT'\n   AND ROWNUM = 1\n\nUNION ALL\n\nSELECT IF_ID \n || ',' || IF_LINE_ID \n || ',' || SUPPLIER_CODE \n || ',' || PROCESSING_CODE \n || ',' || SIW_WO_NO \n || ',' || SUPPLIER_WO_NO \n || ',' || ASSY_ITEM_CODE \n || ',' || ASSY_QTY \n || ',' || UOM_CODE \n || ',' || WORK_START_DATE \n || ',' || COMPONENT_ITEM_CODE\n || ',' || COMPONENT_LOT_ID \n || ',' || COMPONENT_QTY \n || ',' || REMARK1 \n || ',' || CANCEL_FLAG \n || ',' || CREATION_DATE \n\n  FROM IEDISIW_INPUT_INFO\n WHERE CUTOFF_DT = :todayHH24 -- TO_CHAR(SYSDATE, 'YYYYMMDDHH24')\n   AND PROCESSING_CODE = 'FT'","CREATE_USER":"6","CREATE_DATE":"2022-01-11 05:18:23","DBTYPE":"MES"}]
2022-11-16 14:17:00 [EDI System] info: 
        SELECT * FROM (
            SELECT *
            FROM EDI_QUERY_SETTING
            WHERE 1=1
            AND SETTING_ID = (
                SELECT ID
                FROM CG_CUSTOMER 
                WHERE PARENT = (
                    SELECT ID
                    FROM CG_CUSTOMER 
                    WHERE ID=(
                        SELECT PARENT
                        FROM CG_CUSTOMER 
                        WHERE ID=(
                            SELECT PARENT 
                            FROM CG_CUSTOMER 
                            WHERE ID=:id
                        )
                    )
                )
                AND LOWER(NAME) = 'common'
            )
            AND TYPE IN ('DB','TEXT')
            AND KEY NOT IN (SELECT KEY
                            FROM EDI_QUERY_SETTING
                            WHERE 1=1
                            AND SETTING_ID = :id
                            AND TYPE IN ('DB','TEXT'))
            UNION ALL
            SELECT *
            FROM EDI_QUERY_SETTING
            WHERE 1=1
            AND SETTING_ID = :id
            AND TYPE IN ('DB','TEXT')
        )
        ORDER BY LENGTH(KEY) DESC
    
2022-11-16 14:17:00 [EDI System] info: [{"ROWNUM":1,"ID":"153","SETTING_ID":"160","KEY":null,"TYPE":"Main","QUERY":"--//-- 20211203 chulho.wee ; CREATE\nSELECT \n  RPAD(START_TAG, 3, ' ')\n|| RPAD(OEM_CODE, 2, ' ')\n|| RPAD(MONTH, 6, ' ')\n|| RPAD(C_DATE, 8, ' ')\n|| RPAD(O_DATE, 8, ' ')\n|| RPAD(OEM_AREA, 4, ' ')\n|| RPAD(CUST_DEVICE, 30, ' ')\n|| RPAD(OPER_DESC, 15, ' ')\n|| RPAD(EQP_GROUP, 15, ' ')\n\n|| RPAD(EQP_MODEL, 30, ' ')\n|| RPAD(RES_ID, 15, ' ')\n|| RPAD(OPER, 6, ' ')\n\n|| RPAD(SUM(QTY), 10, ' ')\n|| RPAD(LOT_TYPE, 2, ' ')\n|| RPAD(PARA, 3, ' ')\n\n|| RPAD(TEST_TIME, 10, ' ')\n|| RPAD(INDEX_TIME, 10, ' ')\n|| RPAD(ATE_TIME, 10, ' ')\n\n|| RPAD(EQP_PRICE, 10, ' ')\n|| RPAD(ATE_PRICE, 10, ' ')\n|| RPAD(MVP_PRICE, 10, ' ')\n|| RPAD(PVI_PRICE, 10, ' ')\n|| RPAD(UNIT_PRICE, 10, ' ')\n\n|| RPAD(FULL_HALF, 10, ' ')\n|| RPAD(CREATE_TIME, 14, ' ')\n|| RPAD(REMARK, 200, ' ')\n  FROM\n(\n    SELECT 'LS1' START_TAG\n         , 'HM' OEM_CODE\n         , CASE\n            WHEN TO_CHAR(SYSDATE, 'DD') >= 28 THEN\n                 TO_CHAR(ADD_MONTHS(SYSDATE, +1), 'YYYYMM')\n            ELSE\n                 TO_CHAR(ADD_MONTHS(SYSDATE, -0), 'YYYYMM')\n           END AS \"MONTH\"\n         --, TO_CHAR(SYSDATE, 'DD') C_DATE\n         , TO_CHAR(SYSDATE, 'YYYYMMDD') C_DATE\n         , SUBSTR(LOT.TRAN_TIME, 1,8) AS O_DATE\n         , 'HMKT' AS OEM_AREA\n         \n         , TST.CUST_DVC CUST_DEVICE\n         , DECODE(TST.OPER ,'T0100', 'ATE', 'T0960', 'ASB', 'T0500', 'MVP', TST.OPER) OPER_DESC\n         \n         , (SELECT NVL(ATTR_VALUE, 'NULL') FROM MATRNAMSTS WHERE FACTORY = 'HMKT1' AND ATTR_TYPE = 'RESOURCE' AND ATTR_NAME = 'EQP_GROUP' AND ATTR_KEY = LOT.END_RES_ID) AS EQP_GROUP\n         , (SELECT NVL(ATTR_VALUE, 'NULL') FROM MATRNAMSTS WHERE FACTORY = 'HMKT1' AND ATTR_TYPE = 'RESOURCE' AND ATTR_NAME = 'EQP_MODEL' AND ATTR_KEY = LOT.END_RES_ID) AS EQP_MODEL\n         , LOT.OLD_OPER AS OPER\n         , LOT.END_RES_ID AS RES_ID\n         , LOT_CMF_5 LOT_TYPE\n\n         , LOT.QTY_1 AS QTY\n         , TST.PARA AS PARA\n         , TST.TEST_TIME AS TEST_TIME\n         , TST.INDEX_TIME AS INDEX_TIME\n         , TST.ATE_TIME AS ATE_TIME\n         , TST.EQP_PRICE AS EQP_PRICE\n         , TST.ATE_PRICE AS ATE_PRICE\n--         , (((TST.TEST_TIME + TST.INDEX_TIME) * TST.EQP_PRICE) / TST.PARA) AS ATE_PRICE\n         , TST.MVP_PRICE AS MVP_PRICE\n         , TST.PVI_PRICE AS PVI_PRICE\n         , TST.UNIT_PRICE AS UNIT_PRICE\n         , TST.FULL_HALF AS FULL_HALF\n         , TO_CHAR(SYSDATE, 'YYYYMMDDHH24MISS') AS CREATE_TIME\n         , ' ' AS REMARK\n      FROM MWIPLOTHIS LOT, VGCMTBLDAT_TEST_TIME_INF2 TST\n     WHERE 1=1\n       AND LOT.MAT_ID = TST.MAT_ID\n       AND LOT.OLD_OPER = TST.OPER\n       AND TST.MODEL = (SELECT NVL(ATTR_VALUE, 'NULL') FROM MATRNAMSTS WHERE FACTORY = 'HMKT1' AND ATTR_TYPE = 'RESOURCE' AND ATTR_NAME = 'EQP_MODEL' AND ATTR_KEY = LOT.END_RES_ID)\n       AND LOT.TRAN_TIME >= CASE WHEN TO_CHAR(SYSDATE, 'DD') >= 28 THEN\n                       TO_CHAR(ADD_MONTHS(SYSDATE, -0), 'YYYYMM')||'27'||'22'\n                       ELSE\n                       TO_CHAR(ADD_MONTHS(SYSDATE, -1), 'YYYYMM')||'27'||'22'\n                       END --AS PREV_MON\n           \n       AND LOT.TRAN_TIME < CASE WHEN TO_CHAR(SYSDATE, 'DD') >= 28 THEN\n                       TO_CHAR(ADD_MONTHS(SYSDATE, +1), 'YYYYMM')||'27'||'22'\n                       ELSE\n                       TO_CHAR(ADD_MONTHS(SYSDATE, -0), 'YYYYMM')||'27'||'22'\n                       END --AS CURR_MON\n       AND LOT.FACTORY = 'HMKT1'\n       AND LOT.TRAN_CODE = 'END'\n       AND LOT.OLD_OPER in ('T0100', 'T0960', 'T0500')\n--       AND TST.CUST_DVC = 'L6HD311A01-P040-A00VCD'\n--       AND LOT.MAT_ID = 'SEL6HD311A01-P040-A00KUVCD'\n)\nGROUP BY START_TAG\n, OEM_CODE\n, MONTH\n, C_DATE\n, O_DATE\n, OEM_AREA\n\n, CUST_DEVICE\n, OPER_DESC\n\n, EQP_GROUP\n, EQP_MODEL\n, OPER\n, RES_ID\n, LOT_TYPE\n\n, PARA\n, TEST_TIME\n, INDEX_TIME\n, ATE_TIME\n, EQP_PRICE\n, ATE_PRICE\n, MVP_PRICE\n, PVI_PRICE\n, UNIT_PRICE\n, FULL_HALF\n, CREATE_TIME\n, REMARK\nORDER BY 1","CREATE_USER":"6","CREATE_DATE":"2021-12-14 11:47:40","DBTYPE":"MES"}]
2022-11-16 14:17:00 [EDI System] info: 
        SELECT * FROM (
            SELECT *
            FROM EDI_QUERY_SETTING
            WHERE 1=1
            AND SETTING_ID = (
                SELECT ID
                FROM CG_CUSTOMER 
                WHERE PARENT = (
                    SELECT ID
                    FROM CG_CUSTOMER 
                    WHERE ID=(
                        SELECT PARENT
                        FROM CG_CUSTOMER 
                        WHERE ID=(
                            SELECT PARENT 
                            FROM CG_CUSTOMER 
                            WHERE ID=:id
                        )
                    )
                )
                AND LOWER(NAME) = 'common'
            )
            AND TYPE IN ('DB','TEXT')
            AND KEY NOT IN (SELECT KEY
                            FROM EDI_QUERY_SETTING
                            WHERE 1=1
                            AND SETTING_ID = :id
                            AND TYPE IN ('DB','TEXT'))
            UNION ALL
            SELECT *
            FROM EDI_QUERY_SETTING
            WHERE 1=1
            AND SETTING_ID = :id
            AND TYPE IN ('DB','TEXT')
        )
        ORDER BY LENGTH(KEY) DESC
    
2022-11-16 14:17:00 [EDI System] info: [{"ID":"133","SETTING_ID":"139","KEY":"todayHH24_M1H","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE - 1/24,'YYYYMMDDHH24') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-11-12 05:01:01","DBTYPE":"MES"},{"ID":"132","SETTING_ID":"139","KEY":"todayHH24","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE,'YYYYMMDDHH24') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-11-12 05:01:01","DBTYPE":"MES"},{"ID":"131","SETTING_ID":"139","KEY":"today_yy","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE,'YYYYMMDDHH24') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-11-12 05:01:01","DBTYPE":"MES"},{"ID":"134","SETTING_ID":"139","KEY":"today","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE,'YYYYMMDDHH24') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-11-12 05:01:01","DBTYPE":"MES"}]
2022-11-16 14:17:00 [EDI System] info: [{"ID":"137","SETTING_ID":"129","KEY":"todayHH24MISS","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE,'YYYYMMDDHH24MISS') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-11-12 05:20:22","DBTYPE":"MES"},{"ID":"124","SETTING_ID":"129","KEY":"todayHH24_M1H","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE - 1/24,'YYYYMMDDHH24') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-10-15 01:40:03","DBTYPE":"MES"},{"ID":"122","SETTING_ID":"129","KEY":"todayHH24","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE,'YYYYMMDDHH24') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-10-15 11:47:10","DBTYPE":"MES"},{"ID":"115","SETTING_ID":"129","KEY":"today_yy","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE,'YYYYMMDDHH24') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-09-24 08:46:51","DBTYPE":"MES"},{"ID":"130","SETTING_ID":"129","KEY":"today","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE,'YYYYMMDD') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-11-09 03:36:41","DBTYPE":"MES"}]
2022-11-16 14:18:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 14:19:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 14:20:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 14:21:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 14:22:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 14:23:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 14:24:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 14:25:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 14:26:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 14:27:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 14:28:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 14:29:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 14:30:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 14:31:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 14:32:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 14:33:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 14:34:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 14:35:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 14:36:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 14:37:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 14:38:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 14:39:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 14:40:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 14:41:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 14:42:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 14:43:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 14:44:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 14:45:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 14:46:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 14:47:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 14:48:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 14:49:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 14:50:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 14:51:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 14:52:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 14:53:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 14:54:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 14:55:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 14:56:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 14:57:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 14:58:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 14:59:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 15:00:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 15:00:00 [EDI System] info: Job Start Time > {"min":0,"hour":15,"date":16,"month":11,"day":3}
 {"ID":107,"CFG_ID":"143","FILE_NAME":"CMWIPINF_HM:todayHH24","FILE_DESC":"SEC CMWIPINF 1/1HR","FILE_SAVE_FOLDER":"D:/HM_EDI/SEC/OUT","FILE_CHARSET":"ascii","FILE_TYPE":"ff","DATA_TYPE":"text","FTP_ENV_ID":"100","SEND_FLAG":"Y","NODATASEND":"false","SCHEDULE_MIN":"0","SCHEDULE_HOUR":"*","SCHEDULE_DAY":"*","SCHEDULE_WEEK":"*","SCHEDULE_MONTH":"*","CM_F01":null,"CM_F02":null,"CREATE_DATE":"2021-11-12 05:17:07","CREATE_USER":"6","UPDATE_DATE":"2021-12-24 04:17:35","UPDATE_USER":"6","DELETE_DATE":null,"DELETE_USER":null,"frequency":"0 * * * *"}
2022-11-16 15:00:00 [EDI System] info: 107 >>> makeFileText Function Execute
2022-11-16 15:00:00 [EDI System] info: Job Start Time > {"min":0,"hour":15,"date":16,"month":11,"day":3}
 {"ID":109,"CFG_ID":"147","FILE_NAME":"CMWIPINF_HM:todayHH24_2","FILE_DESC":"TEST 2 //// SEC CMWIPINF 1/1HR ","FILE_SAVE_FOLDER":"D:/HM_EDI/SEC/OUT","FILE_CHARSET":"ascii","FILE_TYPE":"ff","DATA_TYPE":"text","FTP_ENV_ID":"100","SEND_FLAG":"Y","NODATASEND":null,"SCHEDULE_MIN":"0","SCHEDULE_HOUR":"*","SCHEDULE_DAY":"*","SCHEDULE_WEEK":"*","SCHEDULE_MONTH":"*","CM_F01":null,"CM_F02":null,"CREATE_DATE":"2021-11-19 05:22:50","CREATE_USER":"6","UPDATE_DATE":"2021-12-24 04:17:41","UPDATE_USER":"6","DELETE_DATE":null,"DELETE_USER":null,"frequency":"0 * * * *"}
2022-11-16 15:00:00 [EDI System] info: 109 >>> makeFileText Function Execute
2022-11-16 15:00:00 [EDI System] info: Job Start Time > {"min":0,"hour":15,"date":16,"month":11,"day":3}
 {"ID":110,"CFG_ID":"146","FILE_NAME":"CMWIPINF_HM:todayHH24_1","FILE_DESC":"SEC CMWIPINF 1/1HR","FILE_SAVE_FOLDER":"D:/HM_EDI/SEC/OUT","FILE_CHARSET":"ascii","FILE_TYPE":"ff","DATA_TYPE":"text","FTP_ENV_ID":"100","SEND_FLAG":"Y","NODATASEND":null,"SCHEDULE_MIN":"0","SCHEDULE_HOUR":"*","SCHEDULE_DAY":"*","SCHEDULE_WEEK":"*","SCHEDULE_MONTH":"*","CM_F01":null,"CM_F02":null,"CREATE_DATE":"2021-11-19 05:22:51","CREATE_USER":"6","UPDATE_DATE":"2021-12-24 04:17:47","UPDATE_USER":"6","DELETE_DATE":null,"DELETE_USER":null,"frequency":"0 * * * *"}
2022-11-16 15:00:00 [EDI System] info: 110 >>> makeFileText Function Execute
2022-11-16 15:00:00 [EDI System] info: SELECT EDI_LOG_SEQ.NEXTVAL AS ID FROM DUAL
2022-11-16 15:00:00 [EDI System] info: SELECT EDI_LOG_SEQ.NEXTVAL AS ID FROM DUAL
2022-11-16 15:00:00 [EDI System] info: SELECT EDI_LOG_SEQ.NEXTVAL AS ID FROM DUAL
2022-11-16 15:00:00 [EDI System] info: SELECT EDI_LOG_SEQ.NEXTVAL AS ID FROM DUAL
2022-11-16 15:00:00 [EDI System] info: SELECT EDI_LOG_SEQ.NEXTVAL AS ID FROM DUAL
2022-11-16 15:00:00 [EDI System] info: SELECT EDI_LOG_SEQ.NEXTVAL AS ID FROM DUAL
2022-11-16 15:00:00 [EDI System] info: [{"ID":11096}]
2022-11-16 15:00:00 [EDI System] info: [{"ID":11097}]
2022-11-16 15:00:00 [EDI System] info: seq : return Key [{"ID":11096}]
2022-11-16 15:00:00 [EDI System] info: saveAllLogger => ID:11096, NAME:CMWIPINF_HM:todayHH24, ProcessID:143, Description: Job Start : ID=107, CFG_ID=143, FTP_ENV_ID=100, FILE_NAME=CMWIPINF_HM:todayHH24, FILE_DESC=SEC CMWIPINF 1/1HR, FILE_CHARSET=ascii, FILE_TYPE=ff
2022-11-16 15:00:00 [EDI System] info: INSERT INTO EDI_LOG(ID, STEP, NAME, PROCESS_ID, DESCRIPTION, CREATE_USER, CREATE_DATE)
    VALUES(:id, :stepId, :name, :process_id, :description, 'DAEMON', TO_CHAR(SYSDATE,'YYYYMMDDHH24MISS'))
2022-11-16 15:00:00 [EDI System] info: seq : return Key [{"ID":11097}]
2022-11-16 15:00:00 [EDI System] info: saveAllLogger => ID:11097, NAME:CMWIPINF_HM:todayHH24_2, ProcessID:147, Description: Job Start : ID=109, CFG_ID=147, FTP_ENV_ID=100, FILE_NAME=CMWIPINF_HM:todayHH24_2, FILE_DESC=TEST 2 //// SEC CMWIPINF 1/1HR , FILE_CHARSET=ascii, FILE_TYPE=ff
2022-11-16 15:00:00 [EDI System] info: INSERT INTO EDI_LOG(ID, STEP, NAME, PROCESS_ID, DESCRIPTION, CREATE_USER, CREATE_DATE)
    VALUES(:id, :stepId, :name, :process_id, :description, 'DAEMON', TO_CHAR(SYSDATE,'YYYYMMDDHH24MISS'))
2022-11-16 15:00:00 [EDI System] info: [{"ID":11098}]
2022-11-16 15:00:00 [EDI System] info: seq : return Key [{"ID":11098}]
2022-11-16 15:00:00 [EDI System] info: saveAllLogger => ID:11098, NAME:CMWIPINF_HM:todayHH24_1, ProcessID:146, Description: Job Start : ID=110, CFG_ID=146, FTP_ENV_ID=100, FILE_NAME=CMWIPINF_HM:todayHH24_1, FILE_DESC=SEC CMWIPINF 1/1HR, FILE_CHARSET=ascii, FILE_TYPE=ff
2022-11-16 15:00:00 [EDI System] info: INSERT INTO EDI_LOG(ID, STEP, NAME, PROCESS_ID, DESCRIPTION, CREATE_USER, CREATE_DATE)
    VALUES(:id, :stepId, :name, :process_id, :description, 'DAEMON', TO_CHAR(SYSDATE,'YYYYMMDDHH24MISS'))
2022-11-16 15:00:00 [EDI System] info: Insert successful = SQL: INSERT INTO EDI_LOG(ID, STEP, NAME, PROCESS_ID, DESCRIPTION, CREATE_USER, CREATE_DATE)
    VALUES(:id, :stepId, :name, :process_id, :description, 'DAEMON', TO_CHAR(SYSDATE,'YYYYMMDDHH24MISS')) | Params: {"id":11097,"stepId":"1","name":"CMWIPINF_HM:todayHH24_2","process_id":"147","description":"Job Start : ID=109, CFG_ID=147, FTP_ENV_ID=100, FILE_NAME=CMWIPINF_HM:todayHH24_2, FILE_DESC=TEST 2 //// SEC CMWIPINF 1/1HR , FILE_CHARSET=ascii, FILE_TYPE=ff"} / 1
2022-11-16 15:00:00 [EDI System] info: 
    SELECT *
    FROM (
        SELECT ROWNUM,A.*
            FROM EDI_QUERY_SETTING A
            WHERE SETTING_ID = :id
            AND TYPE='Main'
            ORDER BY ID DESC
        ) 
    WHERE ROWNUM='1'
    
2022-11-16 15:00:00 [EDI System] info: Insert successful = SQL: INSERT INTO EDI_LOG(ID, STEP, NAME, PROCESS_ID, DESCRIPTION, CREATE_USER, CREATE_DATE)
    VALUES(:id, :stepId, :name, :process_id, :description, 'DAEMON', TO_CHAR(SYSDATE,'YYYYMMDDHH24MISS')) | Params: {"id":11096,"stepId":"1","name":"CMWIPINF_HM:todayHH24","process_id":"143","description":"Job Start : ID=107, CFG_ID=143, FTP_ENV_ID=100, FILE_NAME=CMWIPINF_HM:todayHH24, FILE_DESC=SEC CMWIPINF 1/1HR, FILE_CHARSET=ascii, FILE_TYPE=ff"} / 1
2022-11-16 15:00:00 [EDI System] info: 
    SELECT *
    FROM (
        SELECT ROWNUM,A.*
            FROM EDI_QUERY_SETTING A
            WHERE SETTING_ID = :id
            AND TYPE='Main'
            ORDER BY ID DESC
        ) 
    WHERE ROWNUM='1'
    
2022-11-16 15:00:00 [EDI System] info: Insert successful = SQL: INSERT INTO EDI_LOG(ID, STEP, NAME, PROCESS_ID, DESCRIPTION, CREATE_USER, CREATE_DATE)
    VALUES(:id, :stepId, :name, :process_id, :description, 'DAEMON', TO_CHAR(SYSDATE,'YYYYMMDDHH24MISS')) | Params: {"id":11098,"stepId":"1","name":"CMWIPINF_HM:todayHH24_1","process_id":"146","description":"Job Start : ID=110, CFG_ID=146, FTP_ENV_ID=100, FILE_NAME=CMWIPINF_HM:todayHH24_1, FILE_DESC=SEC CMWIPINF 1/1HR, FILE_CHARSET=ascii, FILE_TYPE=ff"} / 1
2022-11-16 15:00:00 [EDI System] info: 
    SELECT *
    FROM (
        SELECT ROWNUM,A.*
            FROM EDI_QUERY_SETTING A
            WHERE SETTING_ID = :id
            AND TYPE='Main'
            ORDER BY ID DESC
        ) 
    WHERE ROWNUM='1'
    
2022-11-16 15:00:00 [EDI System] info: [{"ROWNUM":1,"ID":"146","SETTING_ID":"147","KEY":null,"TYPE":"Main","QUERY":"SELECT\n  RPAD(VR_1,  5, ' ')\n, RPAD(VR_2, 30, ' ')\n, RPAD(VR_3, 15, ' ')\n, RPAD(VR_4, 15, ' ')\n, RPAD(VR_5,  2, ' ')\n, RPAD(VR_6,  2, ' ')\n, RPAD(VR_7, 20, ' ')\n, RPAD(VR_8, 30, ' ')\n, RPAD(VR_9, 16, ' ')\n, RPAD(VR_10, 24, ' ')\n, RPAD(VR_11, 14, ' ')\n, RPAD(VR_12,  4, ' ')\n, RPAD(VR_13,  4, ' ')\n, LPAD(VR_14, 10, ' ')\n, LPAD(VR_15, 10, ' ')\n, RPAD(VR_16,  1, ' ')\n, RPAD(VR_17,  2, ' ')\n, RPAD(VR_18, 10, ' ')\n, RPAD(VR_19, 14, ' ')\n, RPAD(VR_20, 20, ' ')\n, RPAD(VR_21, 20, ' ')\n, RPAD(VR_22, 20, ' ')\n, RPAD(VR_23, 20, ' ')\n, RPAD(VR_24, 20, ' ')\n, LPAD(VR_25, 10, ' ')\n, LPAD(VR_26, 10, ' ')\n, RPAD(VR_27,  1, ' ')\n, RPAD(VR_28, 65, ' ')\n, RPAD(VR_29, 14, ' ')\n, RPAD(VR_30,  8, ' ')\n, RPAD(VR_31, 1024, ' ')\nFROM \n(\nSELECT 'LS1HM'   VR_1\n , NVL((SELECT MAT_CMF_7 FROM MWIPMATDEF WHERE FACTORY = A.FACTORY AND MAT_ID = A.MAT_ID AND MAT_VER = A.MAT_VER), '-')   VR_2\n , F_GET_ASSY_RUNID(' ', A.LOT_ID, A.LOT_CMF_4)   VR_3\n , NVL(TRIM(A.LOT_CMF_1), '-')   VR_4\n , NVL(TRIM(A.LOT_CMF_5),'-')   VR_5\n , NVL((SELECT ATTR_VALUE FROM MATRNAMSTS WHERE FACTORY = A.FACTORY AND ATTR_TYPE = 'LOT_SEC_INFO' AND ATTR_NAME = 'RTN_TYPE' AND ATTR_KEY = TRIM(A.LOT_CMF_1)), '**')   VR_6\n , DECODE(A.OPER||A.FLOW,'T1300HKAB', 'HGAK','TZ010HKAB', 'BASIC',\n     DECODE(NVL((SELECT SEC_OPER FROM V_MWIPOPRDEF_SEC WHERE FACTORY = A.FACTORY AND OPER = A.OPER ), '-'),\n                  'HMK2','BASIC','HMK3','BASIC','HMK9','BASIC','HMK4','BASIC',\n                  NVL(FLOW, '-')))   VR_7\n , DECODE(A.OPER||A.FLOW,'T1300HKAB', '0008','TZ010HKAB', '0003',\n     TRIM(DECODE(NVL((SELECT SEC_OPER FROM V_MWIPOPRDEF_SEC WHERE FACTORY = A.FACTORY AND OPER = A.OPER ), '-'),\n                  'HMK2','0002','HMK3','0003','HMK9','0006','HMK4','0007',\n                  LPAD((SELECT SEQ_NUM-1 FROM MWIPFLWOPR WHERE FACTORY = A.FACTORY AND FLOW = A.FLOW AND OPER = A.OPER),4,'0'))))   VR_8\n , DECODE(A.OPER||A.FLOW,'T1300HKAB', '8','TZ010HKAB', '3',\n     NVL((SELECT SEQ_NUM-1 FROM MWIPFLWOPR WHERE FACTORY = A.FACTORY AND FLOW = A.FLOW AND OPER = A.OPER), '0'))   VR_9\n , DECODE(A.OPER||A.FLOW,'T1300HKAB', 'PACKING','TZ010HKAB', 'Assy Final Stock',\n     DECODE(NVL((SELECT SEC_OPER FROM V_MWIPOPRDEF_SEC WHERE FACTORY = A.FACTORY AND OPER = A.OPER ), '-'),\n                  'HMK2','Assy Home Stock','HMK3','Assy Final Stock','HMK9','Test Home Stock','HMK4','Test Final Stock',\n                  NVL((SELECT OPER_DESC FROM V_MWIPOPRDEF_SEC WHERE FACTORY = A.FACTORY AND OPER = A.OPER ), '-')))   VR_10\n , A.OPER_IN_TIME    VR_11\n , DECODE(A.OPER||A.FLOW,'T1300HKAB', 'ASSY','TZ010HKAB', 'ASSY', DECODE(A.FACTORY, 'HMKT1', 'TEST', 'HMKA1', 'ASSY', '-'))    VR_12\n , NVL((SELECT DECODE(A.OPER||A.FLOW,'TZ010HKAB', SEC_OPER_AREA_COB ,SEC_OPER_AREA) FROM V_MWIPOPRDEF_SEC WHERE FACTORY = A.FACTORY AND OPER = A.OPER ), '-')   VR_13\n , NVL(TRIM(A.QTY_1), 0)   VR_14\n , NVL(TRIM(A.QTY_2), 0)   VR_15\n , 'C'     VR_16\n , F_GET_HOLD_FLAG_CODE(A.LOT_ID, A.MAT_ID, A.HOLD_FLAG, A.HOLD_CODE, 'FLAG' )    VR_17\n , F_GET_HOLD_FLAG_CODE(A.LOT_ID, A.MAT_ID, A.HOLD_FLAG, A.HOLD_CODE, 'CODE' )    VR_18\n , DECODE(A.HOLD_FLAG, 'Y', A.LAST_TRAN_TIME, ' ')    VR_19\n , NVL((SELECT ATTR_VALUE FROM MATRNAMSTS WHERE FACTORY = A.FACTORY AND ATTR_TYPE = 'LOT_SEC_INFO' AND ATTR_NAME = 'NCFCODE' AND ATTR_KEY = TRIM(A.LOT_CMF_1)), '*')   VR_20\n , NVL((SELECT ATTR_VALUE FROM MATRNAMSTS WHERE FACTORY = A.FACTORY AND ATTR_TYPE = 'LOT_SEC_INFO' AND ATTR_NAME = 'NCACODE' AND ATTR_KEY = TRIM(A.LOT_CMF_1)), '*')   VR_21\n , NVL((SELECT ATTR_VALUE FROM MATRNAMSTS WHERE FACTORY = A.FACTORY AND ATTR_TYPE = 'LOT_SEC_INFO' AND ATTR_NAME = 'NCTCODE' AND ATTR_KEY = TRIM(A.LOT_CMF_1)), '*')   VR_22\n , NVL((SELECT ATTR_VALUE FROM MATRNAMSTS WHERE FACTORY = A.FACTORY AND ATTR_TYPE = 'LOT_SEC_INFO' AND ATTR_NAME = 'NCQCODE' AND ATTR_KEY = TRIM(A.LOT_CMF_1)), '*')   VR_23\n , NVL((SELECT ATTR_VALUE FROM MATRNAMSTS WHERE FACTORY = A.FACTORY AND ATTR_TYPE = 'LOT_SEC_INFO' AND ATTR_NAME = 'OTHER' AND ATTR_KEY = TRIM(A.LOT_CMF_1)), '*')   VR_24\n , NVL((SELECT SUM(DECODE(TRAN_CODE, 'LOSS', (OLD_QTY_1 - QTY_1), QTY_1)) \n               FROM MWIPLOTHIS \n              WHERE LOT_ID = A.LOT_ID \n                AND TRAN_CODE IN ('LOSS', 'TERMINATE')\n                AND HIST_DEL_FLAG = ' '\n                AND TRAN_TIME BETWEEN F_GET_TIME(TO_CHAR(SYSDATE, 'YYYYMMDDHH24MISS'),'SE') \n                                  AND TO_CHAR(SYSDATE, 'YYYYMMDDHH24MISS')), 0)         VR_25\n , NVL((SELECT SUM(TOTAL_BONUS_QTY) \n               FROM MWIPLOTBNS \n              WHERE LOT_ID = A.LOT_ID\n                AND TRAN_TIME BETWEEN F_GET_TIME(TO_CHAR(SYSDATE, 'YYYYMMDDHH24MISS'),'SE') \n                                  AND TO_CHAR(SYSDATE, 'YYYYMMDDHH24MISS')), 0)    VR_26\n , '-'    VR_27\n , '-'    VR_28\n , TO_CHAR(SYSDATE,'YYYYMMDDHH24MISS')     VR_29\n , GET_WORK_DATE_EDI(TO_CHAR(SYSDATE, 'YYYYMMDDHH24MISS'),'D')  VR_30\n , MESMGR.PK_SEC_MES_IF.MakeInkless_OMS_WIP(A.FACTORY, A.LOT_ID)  VR_31\n  FROM MWIPLOTSTS A\n WHERE 1 = 1\n   AND FACTORY IN ('HMKT1','HMKA1') \n   AND LOT_CMF_2 = 'SE'   \n   AND OWNER_CODE = 'PROD'\n   AND LOT_TYPE = 'W'\n   AND LOT_DEL_FLAG = ' ' \n   AND CREATE_CODE <> 'FREE' \n   AND MAT_ID LIKE 'SE'||(SELECT DATA_1 FROM MGCMTBLDAT WHERE FACTORY = 'HMKA1' AND TABLE_NAME = 'H_SPECIAL_CHAR' AND KEY_1 = '1')\n   AND OPER BETWEEN 'A0000' AND 'TZ010'\n   AND MAT_ID NOT LIKE 'SEKY'||(SELECT DATA_1 FROM MGCMTBLDAT WHERE FACTORY = 'HMKA1' AND TABLE_NAME = 'H_SPECIAL_CHAR' AND KEY_1 = '1')  --- 영업  요청으로 하드코딩 170412. SEKY%\n)","CREATE_USER":"6","CREATE_DATE":"2021-11-23 04:53:33","DBTYPE":"MES"}]
2022-11-16 15:00:00 [EDI System] info: 
        SELECT * FROM (
            SELECT *
            FROM EDI_QUERY_SETTING
            WHERE 1=1
            AND SETTING_ID = (
                SELECT ID
                FROM CG_CUSTOMER 
                WHERE PARENT = (
                    SELECT ID
                    FROM CG_CUSTOMER 
                    WHERE ID=(
                        SELECT PARENT
                        FROM CG_CUSTOMER 
                        WHERE ID=(
                            SELECT PARENT 
                            FROM CG_CUSTOMER 
                            WHERE ID=:id
                        )
                    )
                )
                AND LOWER(NAME) = 'common'
            )
            AND TYPE IN ('DB','TEXT')
            AND KEY NOT IN (SELECT KEY
                            FROM EDI_QUERY_SETTING
                            WHERE 1=1
                            AND SETTING_ID = :id
                            AND TYPE IN ('DB','TEXT'))
            UNION ALL
            SELECT *
            FROM EDI_QUERY_SETTING
            WHERE 1=1
            AND SETTING_ID = :id
            AND TYPE IN ('DB','TEXT')
        )
        ORDER BY LENGTH(KEY) DESC
    
2022-11-16 15:00:00 [EDI System] info: [{"ROWNUM":4,"ID":"147","SETTING_ID":"143","KEY":null,"TYPE":"Main","QUERY":"SELECT \n  RPAD(VR_1,  5, ' ')\n, RPAD(VR_2, 30, ' ')\n, RPAD(VR_3, 15, ' ')\n, RPAD(VR_4, 15, ' ')\n, RPAD(VR_5,  2, ' ')\n, RPAD(VR_6,  2, ' ')\n, RPAD(VR_7, 20, ' ')\n, RPAD(VR_8, 30, ' ')\n, RPAD(VR_9, 16, ' ')\n, RPAD(VR_10, 24, ' ')\n, RPAD(VR_11, 14, ' ')\n, RPAD(VR_12,  4, ' ')\n, RPAD(VR_13,  4, ' ')\n, LPAD(VR_14, 10, ' ')\n, LPAD(VR_15, 10, ' ')\n, RPAD(VR_16,  1, ' ')\n, RPAD(VR_17,  2, ' ')\n, RPAD(VR_18, 10, ' ')\n, RPAD(VR_19, 14, ' ')\n, RPAD(VR_20, 20, ' ')\n, RPAD(VR_21, 20, ' ')\n, RPAD(VR_22, 20, ' ')\n, RPAD(VR_23, 20, ' ')\n, RPAD(VR_24, 20, ' ')\n, LPAD(VR_25, 10, ' ')\n, LPAD(VR_26, 10, ' ')\n, RPAD(VR_27,  1, ' ')\n, RPAD(VR_28, 65, ' ')\n, RPAD(VR_29, 14, ' ')\n, RPAD(VR_30,  8, ' ')\n, RPAD(VR_31, 1024, ' ')\nFROM \n(\nSELECT 'LS1HM'   VR_1\n , NVL((SELECT MAT_CMF_7 FROM MWIPMATDEF WHERE FACTORY = A.FACTORY AND MAT_ID = A.MAT_ID AND MAT_VER = A.MAT_VER), '-')   VR_2\n , F_GET_ASSY_RUNID(' ', A.LOT_ID, A.LOT_CMF_4)   VR_3\n , NVL(TRIM(A.LOT_CMF_1), '-')   VR_4\n , NVL(TRIM(A.LOT_CMF_5),'-')   VR_5\n , NVL((SELECT ATTR_VALUE FROM MATRNAMSTS WHERE FACTORY = A.FACTORY AND ATTR_TYPE = 'LOT_SEC_INFO' AND ATTR_NAME = 'RTN_TYPE' AND ATTR_KEY = TRIM(A.LOT_CMF_1)), '**')   VR_6\n , DECODE(A.OPER||A.FLOW,'T1300HKAB', 'HGAK','TZ010HKAB', 'BASIC',\n     DECODE(NVL((SELECT SEC_OPER FROM V_MWIPOPRDEF_SEC WHERE FACTORY = A.FACTORY AND OPER = A.OPER ), '-'),\n                  'HMK2','BASIC','HMK3','BASIC','HMK9','BASIC','HMK4','BASIC',\n                  NVL(FLOW, '-')))   VR_7\n , DECODE(A.OPER||A.FLOW,'T1300HKAB', '0008','TZ010HKAB', '0003',\n     TRIM(DECODE(NVL((SELECT SEC_OPER FROM V_MWIPOPRDEF_SEC WHERE FACTORY = A.FACTORY AND OPER = A.OPER ), '-'),\n                  'HMK2','0002','HMK3','0003','HMK9','0006','HMK4','0007',\n                  LPAD((SELECT SEQ_NUM-1 FROM MWIPFLWOPR WHERE FACTORY = A.FACTORY AND FLOW = A.FLOW AND OPER = A.OPER),4,'0'))))   VR_8\n , DECODE(A.OPER||A.FLOW,'T1300HKAB', '8','TZ010HKAB', '3',\n     NVL((SELECT SEQ_NUM-1 FROM MWIPFLWOPR WHERE FACTORY = A.FACTORY AND FLOW = A.FLOW AND OPER = A.OPER), '0'))   VR_9\n , DECODE(A.OPER||A.FLOW,'T1300HKAB', 'PACKING','TZ010HKAB', 'Assy Final Stock',\n     DECODE(NVL((SELECT SEC_OPER FROM V_MWIPOPRDEF_SEC WHERE FACTORY = A.FACTORY AND OPER = A.OPER ), '-'),\n                  'HMK2','Assy Home Stock','HMK3','Assy Final Stock','HMK9','Test Home Stock','HMK4','Test Final Stock',\n                  NVL((SELECT OPER_DESC FROM V_MWIPOPRDEF_SEC WHERE FACTORY = A.FACTORY AND OPER = A.OPER ), '-')))   VR_10\n , A.OPER_IN_TIME    VR_11\n , DECODE(A.OPER||A.FLOW,'T1300HKAB', 'ASSY','TZ010HKAB', 'ASSY', DECODE(A.FACTORY, 'HMKT1', 'TEST', 'HMKA1', 'ASSY', '-'))    VR_12\n , NVL((SELECT DECODE(A.OPER||A.FLOW,'TZ010HKAB', SEC_OPER_AREA_COB ,SEC_OPER_AREA) FROM V_MWIPOPRDEF_SEC WHERE FACTORY = A.FACTORY AND OPER = A.OPER ), '-')   VR_13\n , NVL(TRIM(A.QTY_1), 0)   VR_14\n , NVL(TRIM(A.QTY_2), 0)   VR_15\n , 'C'     VR_16\n , F_GET_HOLD_FLAG_CODE(A.LOT_ID, A.MAT_ID, A.HOLD_FLAG, A.HOLD_CODE, 'FLAG' )    VR_17\n , F_GET_HOLD_FLAG_CODE(A.LOT_ID, A.MAT_ID, A.HOLD_FLAG, A.HOLD_CODE, 'CODE' )    VR_18\n , DECODE(A.HOLD_FLAG, 'Y', A.LAST_TRAN_TIME, ' ')    VR_19\n , NVL((SELECT ATTR_VALUE FROM MATRNAMSTS WHERE FACTORY = A.FACTORY AND ATTR_TYPE = 'LOT_SEC_INFO' AND ATTR_NAME = 'NCFCODE' AND ATTR_KEY = TRIM(A.LOT_CMF_1)), '*')   VR_20\n , NVL((SELECT ATTR_VALUE FROM MATRNAMSTS WHERE FACTORY = A.FACTORY AND ATTR_TYPE = 'LOT_SEC_INFO' AND ATTR_NAME = 'NCACODE' AND ATTR_KEY = TRIM(A.LOT_CMF_1)), '*')   VR_21\n , NVL((SELECT ATTR_VALUE FROM MATRNAMSTS WHERE FACTORY = A.FACTORY AND ATTR_TYPE = 'LOT_SEC_INFO' AND ATTR_NAME = 'NCTCODE' AND ATTR_KEY = TRIM(A.LOT_CMF_1)), '*')   VR_22\n , NVL((SELECT ATTR_VALUE FROM MATRNAMSTS WHERE FACTORY = A.FACTORY AND ATTR_TYPE = 'LOT_SEC_INFO' AND ATTR_NAME = 'NCQCODE' AND ATTR_KEY = TRIM(A.LOT_CMF_1)), '*')   VR_23\n , NVL((SELECT ATTR_VALUE FROM MATRNAMSTS WHERE FACTORY = A.FACTORY AND ATTR_TYPE = 'LOT_SEC_INFO' AND ATTR_NAME = 'OTHER' AND ATTR_KEY = TRIM(A.LOT_CMF_1)), '*')   VR_24\n , NVL((SELECT SUM(DECODE(TRAN_CODE, 'LOSS', (OLD_QTY_1 - QTY_1), QTY_1)) \n               FROM MWIPLOTHIS \n              WHERE LOT_ID = A.LOT_ID \n                AND TRAN_CODE IN ('LOSS', 'TERMINATE')\n                AND HIST_DEL_FLAG = ' '\n                AND TRAN_TIME BETWEEN F_GET_TIME(TO_CHAR(SYSDATE, 'YYYYMMDDHH24MISS'),'SE') \n                                  AND TO_CHAR(SYSDATE, 'YYYYMMDDHH24MISS')), 0)         VR_25\n , NVL((SELECT SUM(TOTAL_BONUS_QTY) \n               FROM MWIPLOTBNS \n              WHERE LOT_ID = A.LOT_ID\n                AND TRAN_TIME BETWEEN F_GET_TIME(TO_CHAR(SYSDATE, 'YYYYMMDDHH24MISS'),'SE') \n                                  AND TO_CHAR(SYSDATE, 'YYYYMMDDHH24MISS')), 0)    VR_26\n , '-'    VR_27\n , '-'    VR_28\n , TO_CHAR(SYSDATE,'YYYYMMDDHH24MISS')     VR_29\n , GET_WORK_DATE_EDI(TO_CHAR(SYSDATE, 'YYYYMMDDHH24MISS'),'D')  VR_30\n , MESMGR.PK_SEC_MES_IF.MakeInkless_OMS_WIP(A.FACTORY, A.LOT_ID)  VR_31\n  FROM MWIPLOTSTS A\n WHERE 1 = 1\n   AND FACTORY IN ('HMKT1','HMKA1') \n   AND LOT_CMF_2 = 'SE'   \n   AND OWNER_CODE = 'PROD'\n   AND LOT_TYPE = 'W'\n   AND LOT_DEL_FLAG = ' ' \n   AND CREATE_CODE <> 'FREE' \n   AND MAT_ID LIKE 'SE'||(SELECT DATA_1 FROM MGCMTBLDAT WHERE FACTORY = 'HMKA1' AND TABLE_NAME = 'H_SPECIAL_CHAR' AND KEY_1 = '1')\n   AND OPER BETWEEN 'A0000' AND 'TZ010'\n   AND MAT_ID NOT LIKE 'SEKY'||(SELECT DATA_1 FROM MGCMTBLDAT WHERE FACTORY = 'HMKA1' AND TABLE_NAME = 'H_SPECIAL_CHAR' AND KEY_1 = '1')  --- 영업  요청으로 하드코딩 170412. SEKY%\n)","CREATE_USER":"6","CREATE_DATE":"2021-11-24 03:06:40","DBTYPE":"MES"}]
2022-11-16 15:00:00 [EDI System] info: 
        SELECT * FROM (
            SELECT *
            FROM EDI_QUERY_SETTING
            WHERE 1=1
            AND SETTING_ID = (
                SELECT ID
                FROM CG_CUSTOMER 
                WHERE PARENT = (
                    SELECT ID
                    FROM CG_CUSTOMER 
                    WHERE ID=(
                        SELECT PARENT
                        FROM CG_CUSTOMER 
                        WHERE ID=(
                            SELECT PARENT 
                            FROM CG_CUSTOMER 
                            WHERE ID=:id
                        )
                    )
                )
                AND LOWER(NAME) = 'common'
            )
            AND TYPE IN ('DB','TEXT')
            AND KEY NOT IN (SELECT KEY
                            FROM EDI_QUERY_SETTING
                            WHERE 1=1
                            AND SETTING_ID = :id
                            AND TYPE IN ('DB','TEXT'))
            UNION ALL
            SELECT *
            FROM EDI_QUERY_SETTING
            WHERE 1=1
            AND SETTING_ID = :id
            AND TYPE IN ('DB','TEXT')
        )
        ORDER BY LENGTH(KEY) DESC
    
2022-11-16 15:00:00 [EDI System] info: [{"ROWNUM":2,"ID":"145","SETTING_ID":"146","KEY":null,"TYPE":"Main","QUERY":"SELECT\n  RPAD(VR_1,  5, ' ')\n, RPAD(VR_2, 30, ' ')\n, RPAD(VR_3, 15, ' ')\n, RPAD(VR_4, 15, ' ')\n, RPAD(VR_5,  2, ' ')\n, RPAD(VR_6,  2, ' ')\n, RPAD(VR_7, 20, ' ')\n, RPAD(VR_8, 30, ' ')\n, RPAD(VR_9, 16, ' ')\n, RPAD(VR_10, 24, ' ')\n, RPAD(VR_11, 14, ' ')\n, RPAD(VR_12,  4, ' ')\n, RPAD(VR_13,  4, ' ')\n, LPAD(VR_14, 10, ' ')\n, LPAD(VR_15, 10, ' ')\n, RPAD(VR_16,  1, ' ')\n, RPAD(VR_17,  2, ' ')\n, RPAD(VR_18, 10, ' ')\n, RPAD(VR_19, 14, ' ')\n, RPAD(VR_20, 20, ' ')\n, RPAD(VR_21, 20, ' ')\n, RPAD(VR_22, 20, ' ')\n, RPAD(VR_23, 20, ' ')\n, RPAD(VR_24, 20, ' ')\n, LPAD(VR_25, 10, ' ')\n, LPAD(VR_26, 10, ' ')\n, RPAD(VR_27,  1, ' ')\n, RPAD(VR_28, 65, ' ')\n, RPAD(VR_29, 14, ' ')\n, RPAD(VR_30,  8, ' ')\n, RPAD(VR_31, 1024, ' ')\nFROM \n(\nSELECT 'LS1HM'   VR_1\n , NVL((SELECT MAT_CMF_7 FROM MWIPMATDEF WHERE FACTORY = A.FACTORY AND MAT_ID = A.MAT_ID AND MAT_VER = A.MAT_VER), '-')   VR_2\n , F_GET_ASSY_RUNID(' ', A.LOT_ID, A.LOT_CMF_4)   VR_3\n , NVL(TRIM(A.LOT_CMF_1), '-')   VR_4\n , NVL(TRIM(A.LOT_CMF_5),'-')   VR_5\n , NVL((SELECT ATTR_VALUE FROM MATRNAMSTS WHERE FACTORY = A.FACTORY AND ATTR_TYPE = 'LOT_SEC_INFO' AND ATTR_NAME = 'RTN_TYPE' AND ATTR_KEY = TRIM(A.LOT_CMF_1)), '**')   VR_6\n , DECODE(A.OPER||A.FLOW,'T1300HKAB', 'HGAK','TZ010HKAB', 'BASIC',\n     DECODE(NVL((SELECT SEC_OPER FROM V_MWIPOPRDEF_SEC WHERE FACTORY = A.FACTORY AND OPER = A.OPER ), '-'),\n                  'HMK2','BASIC','HMK3','BASIC','HMK9','BASIC','HMK4','BASIC',\n                  NVL(FLOW, '-')))   VR_7\n , DECODE(A.OPER||A.FLOW,'T1300HKAB', '0008','TZ010HKAB', '0003',\n     TRIM(DECODE(NVL((SELECT SEC_OPER FROM V_MWIPOPRDEF_SEC WHERE FACTORY = A.FACTORY AND OPER = A.OPER ), '-'),\n                  'HMK2','0002','HMK3','0003','HMK9','0006','HMK4','0007',\n                  LPAD((SELECT SEQ_NUM-1 FROM MWIPFLWOPR WHERE FACTORY = A.FACTORY AND FLOW = A.FLOW AND OPER = A.OPER),4,'0'))))   VR_8\n , DECODE(A.OPER||A.FLOW,'T1300HKAB', '8','TZ010HKAB', '3',\n     NVL((SELECT SEQ_NUM-1 FROM MWIPFLWOPR WHERE FACTORY = A.FACTORY AND FLOW = A.FLOW AND OPER = A.OPER), '0'))   VR_9\n , DECODE(A.OPER||A.FLOW,'T1300HKAB', 'PACKING','TZ010HKAB', 'Assy Final Stock',\n     DECODE(NVL((SELECT SEC_OPER FROM V_MWIPOPRDEF_SEC WHERE FACTORY = A.FACTORY AND OPER = A.OPER ), '-'),\n                  'HMK2','Assy Home Stock','HMK3','Assy Final Stock','HMK9','Test Home Stock','HMK4','Test Final Stock',\n                  NVL((SELECT OPER_DESC FROM V_MWIPOPRDEF_SEC WHERE FACTORY = A.FACTORY AND OPER = A.OPER ), '-')))   VR_10\n , A.OPER_IN_TIME    VR_11\n , DECODE(A.OPER||A.FLOW,'T1300HKAB', 'ASSY','TZ010HKAB', 'ASSY', DECODE(A.FACTORY, 'HMKT1', 'TEST', 'HMKA1', 'ASSY', '-'))    VR_12\n , NVL((SELECT DECODE(A.OPER||A.FLOW,'TZ010HKAB', SEC_OPER_AREA_COB ,SEC_OPER_AREA) FROM V_MWIPOPRDEF_SEC WHERE FACTORY = A.FACTORY AND OPER = A.OPER ), '-')   VR_13\n , NVL(TRIM(A.QTY_1), 0)   VR_14\n , NVL(TRIM(A.QTY_2), 0)   VR_15\n , 'C'     VR_16\n , F_GET_HOLD_FLAG_CODE(A.LOT_ID, A.MAT_ID, A.HOLD_FLAG, A.HOLD_CODE, 'FLAG' )    VR_17\n , F_GET_HOLD_FLAG_CODE(A.LOT_ID, A.MAT_ID, A.HOLD_FLAG, A.HOLD_CODE, 'CODE' )    VR_18\n , DECODE(A.HOLD_FLAG, 'Y', A.LAST_TRAN_TIME, ' ')    VR_19\n , NVL((SELECT ATTR_VALUE FROM MATRNAMSTS WHERE FACTORY = A.FACTORY AND ATTR_TYPE = 'LOT_SEC_INFO' AND ATTR_NAME = 'NCFCODE' AND ATTR_KEY = TRIM(A.LOT_CMF_1)), '*')   VR_20\n , NVL((SELECT ATTR_VALUE FROM MATRNAMSTS WHERE FACTORY = A.FACTORY AND ATTR_TYPE = 'LOT_SEC_INFO' AND ATTR_NAME = 'NCACODE' AND ATTR_KEY = TRIM(A.LOT_CMF_1)), '*')   VR_21\n , NVL((SELECT ATTR_VALUE FROM MATRNAMSTS WHERE FACTORY = A.FACTORY AND ATTR_TYPE = 'LOT_SEC_INFO' AND ATTR_NAME = 'NCTCODE' AND ATTR_KEY = TRIM(A.LOT_CMF_1)), '*')   VR_22\n , NVL((SELECT ATTR_VALUE FROM MATRNAMSTS WHERE FACTORY = A.FACTORY AND ATTR_TYPE = 'LOT_SEC_INFO' AND ATTR_NAME = 'NCQCODE' AND ATTR_KEY = TRIM(A.LOT_CMF_1)), '*')   VR_23\n , NVL((SELECT ATTR_VALUE FROM MATRNAMSTS WHERE FACTORY = A.FACTORY AND ATTR_TYPE = 'LOT_SEC_INFO' AND ATTR_NAME = 'OTHER' AND ATTR_KEY = TRIM(A.LOT_CMF_1)), '*')   VR_24\n , NVL((SELECT SUM(DECODE(TRAN_CODE, 'LOSS', (OLD_QTY_1 - QTY_1), QTY_1)) \n               FROM MWIPLOTHIS \n              WHERE LOT_ID = A.LOT_ID \n                AND TRAN_CODE IN ('LOSS', 'TERMINATE')\n                AND HIST_DEL_FLAG = ' '\n                AND TRAN_TIME BETWEEN F_GET_TIME(TO_CHAR(SYSDATE, 'YYYYMMDDHH24MISS'),'SE') \n                                  AND TO_CHAR(SYSDATE, 'YYYYMMDDHH24MISS')), 0)         VR_25\n , NVL((SELECT SUM(TOTAL_BONUS_QTY) \n               FROM MWIPLOTBNS \n              WHERE LOT_ID = A.LOT_ID\n                AND TRAN_TIME BETWEEN F_GET_TIME(TO_CHAR(SYSDATE, 'YYYYMMDDHH24MISS'),'SE') \n                                  AND TO_CHAR(SYSDATE, 'YYYYMMDDHH24MISS')), 0)    VR_26\n , '-'    VR_27\n , '-'    VR_28\n , TO_CHAR(SYSDATE,'YYYYMMDDHH24MISS')     VR_29\n , GET_WORK_DATE_EDI(TO_CHAR(SYSDATE, 'YYYYMMDDHH24MISS'),'D')  VR_30\n , MESMGR.PK_SEC_MES_IF.MakeInkless_OMS_WIP(A.FACTORY, A.LOT_ID)  VR_31\n  FROM MWIPLOTSTS A\n WHERE 1 = 1\n   AND FACTORY IN ('HMKT1','HMKA1') \n   AND LOT_CMF_2 = 'SE'   \n   AND OWNER_CODE = 'PROD'\n   AND LOT_TYPE = 'W'\n   AND LOT_DEL_FLAG = ' ' \n   AND CREATE_CODE <> 'FREE' \n   AND MAT_ID LIKE 'SE'||(SELECT DATA_1 FROM MGCMTBLDAT WHERE FACTORY = 'HMKA1' AND TABLE_NAME = 'H_SPECIAL_CHAR' AND KEY_1 = '1')\n   AND OPER BETWEEN 'A0000' AND 'TZ010'\n   AND MAT_ID NOT LIKE 'SEKY'||(SELECT DATA_1 FROM MGCMTBLDAT WHERE FACTORY = 'HMKA1' AND TABLE_NAME = 'H_SPECIAL_CHAR' AND KEY_1 = '1')  --- 영업  요청으로 하드코딩 170412. SEKY%\n)","CREATE_USER":"6","CREATE_DATE":"2021-11-22 10:58:05","DBTYPE":"MES"}]
2022-11-16 15:00:00 [EDI System] info: 
        SELECT * FROM (
            SELECT *
            FROM EDI_QUERY_SETTING
            WHERE 1=1
            AND SETTING_ID = (
                SELECT ID
                FROM CG_CUSTOMER 
                WHERE PARENT = (
                    SELECT ID
                    FROM CG_CUSTOMER 
                    WHERE ID=(
                        SELECT PARENT
                        FROM CG_CUSTOMER 
                        WHERE ID=(
                            SELECT PARENT 
                            FROM CG_CUSTOMER 
                            WHERE ID=:id
                        )
                    )
                )
                AND LOWER(NAME) = 'common'
            )
            AND TYPE IN ('DB','TEXT')
            AND KEY NOT IN (SELECT KEY
                            FROM EDI_QUERY_SETTING
                            WHERE 1=1
                            AND SETTING_ID = :id
                            AND TYPE IN ('DB','TEXT'))
            UNION ALL
            SELECT *
            FROM EDI_QUERY_SETTING
            WHERE 1=1
            AND SETTING_ID = :id
            AND TYPE IN ('DB','TEXT')
        )
        ORDER BY LENGTH(KEY) DESC
    
2022-11-16 15:00:00 [EDI System] info: [{"ID":"137","SETTING_ID":"129","KEY":"todayHH24MISS","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE,'YYYYMMDDHH24MISS') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-11-12 05:20:22","DBTYPE":"MES"},{"ID":"124","SETTING_ID":"129","KEY":"todayHH24_M1H","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE - 1/24,'YYYYMMDDHH24') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-10-15 01:40:03","DBTYPE":"MES"},{"ID":"122","SETTING_ID":"129","KEY":"todayHH24","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE,'YYYYMMDDHH24') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-10-15 11:47:10","DBTYPE":"MES"},{"ID":"115","SETTING_ID":"129","KEY":"today_yy","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE,'YYYYMMDDHH24') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-09-24 08:46:51","DBTYPE":"MES"},{"ID":"130","SETTING_ID":"129","KEY":"today","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE,'YYYYMMDD') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-11-09 03:36:41","DBTYPE":"MES"}]
2022-11-16 15:00:00 [EDI System] info: [{"ID":"137","SETTING_ID":"129","KEY":"todayHH24MISS","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE,'YYYYMMDDHH24MISS') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-11-12 05:20:22","DBTYPE":"MES"},{"ID":"124","SETTING_ID":"129","KEY":"todayHH24_M1H","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE - 1/24,'YYYYMMDDHH24') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-10-15 01:40:03","DBTYPE":"MES"},{"ID":"122","SETTING_ID":"129","KEY":"todayHH24","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE,'YYYYMMDDHH24') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-10-15 11:47:10","DBTYPE":"MES"},{"ID":"115","SETTING_ID":"129","KEY":"today_yy","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE,'YYYYMMDDHH24') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-09-24 08:46:51","DBTYPE":"MES"},{"ID":"130","SETTING_ID":"129","KEY":"today","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE,'YYYYMMDD') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-11-09 03:36:41","DBTYPE":"MES"}]
2022-11-16 15:00:00 [EDI System] info: [{"ID":"137","SETTING_ID":"129","KEY":"todayHH24MISS","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE,'YYYYMMDDHH24MISS') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-11-12 05:20:22","DBTYPE":"MES"},{"ID":"124","SETTING_ID":"129","KEY":"todayHH24_M1H","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE - 1/24,'YYYYMMDDHH24') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-10-15 01:40:03","DBTYPE":"MES"},{"ID":"122","SETTING_ID":"129","KEY":"todayHH24","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE,'YYYYMMDDHH24') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-10-15 11:47:10","DBTYPE":"MES"},{"ID":"115","SETTING_ID":"129","KEY":"today_yy","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE,'YYYYMMDDHH24') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-09-24 08:46:51","DBTYPE":"MES"},{"ID":"130","SETTING_ID":"129","KEY":"today","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE,'YYYYMMDD') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-11-09 03:36:41","DBTYPE":"MES"}]
2022-11-16 15:01:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 15:02:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 15:03:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 15:04:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 15:04:00 [EDI System] info: Job Start Time > {"min":4,"hour":15,"date":16,"month":11,"day":3}
 {"ID":100,"CFG_ID":"135","FILE_NAME":"LOTEVENT_HM:todayHH24","FILE_DESC":"SEC LOTEVENT 1/1HR","FILE_SAVE_FOLDER":"D:/HM_EDI/SEC/OUT","FILE_CHARSET":"utf-8","FILE_TYPE":"ff","DATA_TYPE":"text","FTP_ENV_ID":"100","SEND_FLAG":"Y","NODATASEND":null,"SCHEDULE_MIN":"4","SCHEDULE_HOUR":"*","SCHEDULE_DAY":"*","SCHEDULE_WEEK":"*","SCHEDULE_MONTH":"*","CM_F01":null,"CM_F02":null,"CREATE_DATE":null,"CREATE_USER":null,"UPDATE_DATE":"2021-12-16 09:23:19","UPDATE_USER":"6","DELETE_DATE":null,"DELETE_USER":null,"frequency":"4 * * * *"}
2022-11-16 15:04:00 [EDI System] info: 100 >>> makeFileText Function Execute
2022-11-16 15:04:00 [EDI System] info: SELECT EDI_LOG_SEQ.NEXTVAL AS ID FROM DUAL
2022-11-16 15:04:00 [EDI System] info: SELECT EDI_LOG_SEQ.NEXTVAL AS ID FROM DUAL
2022-11-16 15:04:00 [EDI System] info: [{"ID":11099}]
2022-11-16 15:04:00 [EDI System] info: seq : return Key [{"ID":11099}]
2022-11-16 15:04:00 [EDI System] info: saveAllLogger => ID:11099, NAME:LOTEVENT_HM:todayHH24, ProcessID:135, Description: Job Start : ID=100, CFG_ID=135, FTP_ENV_ID=100, FILE_NAME=LOTEVENT_HM:todayHH24, FILE_DESC=SEC LOTEVENT 1/1HR, FILE_CHARSET=utf-8, FILE_TYPE=ff
2022-11-16 15:04:00 [EDI System] info: INSERT INTO EDI_LOG(ID, STEP, NAME, PROCESS_ID, DESCRIPTION, CREATE_USER, CREATE_DATE)
    VALUES(:id, :stepId, :name, :process_id, :description, 'DAEMON', TO_CHAR(SYSDATE,'YYYYMMDDHH24MISS'))
2022-11-16 15:04:00 [EDI System] info: Insert successful = SQL: INSERT INTO EDI_LOG(ID, STEP, NAME, PROCESS_ID, DESCRIPTION, CREATE_USER, CREATE_DATE)
    VALUES(:id, :stepId, :name, :process_id, :description, 'DAEMON', TO_CHAR(SYSDATE,'YYYYMMDDHH24MISS')) | Params: {"id":11099,"stepId":"1","name":"LOTEVENT_HM:todayHH24","process_id":"135","description":"Job Start : ID=100, CFG_ID=135, FTP_ENV_ID=100, FILE_NAME=LOTEVENT_HM:todayHH24, FILE_DESC=SEC LOTEVENT 1/1HR, FILE_CHARSET=utf-8, FILE_TYPE=ff"} / 1
2022-11-16 15:04:00 [EDI System] info: 
    SELECT *
    FROM (
        SELECT ROWNUM,A.*
            FROM EDI_QUERY_SETTING A
            WHERE SETTING_ID = :id
            AND TYPE='Main'
            ORDER BY ID DESC
        ) 
    WHERE ROWNUM='1'
    
2022-11-16 15:04:00 [EDI System] info: [{"ROWNUM":16,"ID":"155","SETTING_ID":"135","KEY":null,"TYPE":"Main","QUERY":"SELECT     \n  RPAD(V1, 2,' ')\n, RPAD(V3 , 20,' ')\n, RPAD(NVL(decode(v35, 'N01', 'Multitransfer', V4), ' ') , 30,' ')\n, RPAD(V5 || LPAD(B.MILI_SEC,3,0) , 20,' ')\n, RPAD(V6 , 2,' ')\n, RPAD(V7 , 4,' ')\n, RPAD(V8 , 30,' ')\n, RPAD(V9  , 20,' ')\n, RPAD(V10 , 10,' ')\n, RPAD(V11 , 30,' ')\n, RPAD(V12 , 20,' ')\n, RPAD(V13 , 20,' ')\n, RPAD(V14 , 10,' ')\n, RPAD(V15 , 10,' ')\n, RPAD(V16 , 14,' ')\n, RPAD(V17 , 14,' ')\n, LPAD(V18 , 10,' ')\n, LPAD(V19 , 10,' ')\n, RPAD(V20 , 14,' ')\n, RPAD(V21 , 10,' ')\n, RPAD(V22 , 10,' ')\n, RPAD(V23 , 20,' ')\n, RPAD(nvl(V24,' ') , 20,' ')\n, RPAD(V25 , 30,' ')\n, RPAD(V26 , 30,' ')\n, RPAD(V27 , 20,' ')\n, RPAD(V28 , 20,' ')\n, RPAD(V29 , 65,' ')\n, RPAD(V30 , 10,' ')\n, RPAD(V31 , 2,' ')\n, RPAD(V32 , 20,' ')\n, RPAD(V33 , 14,' ')\n, RPAD(V34 , 10,' ')\n, RPAD(V35 , 10,' ')\n, RPAD(V36 , 255,' ')\n, RPAD(V37 , 255,' ')\n  FROM ( SELECT ROWNUM IDX, \n                        V0,V1,V2,V3,V4,V5,V6,V7,V8,V9,V10,V11,V12,V13,V14,V15,V16,V17,V18,V19,V20,V21,V22,V23,V24,V25,V26,V27,V28,V29,V30,V31,V32,V33,V34,V35,V36,V37\n           FROM (\n           select * from\n           (           -- 20200121 chulho.wee ; combine except\n                       SELECT C.IN_DTTM V0, 'HM'  V1\n                     , DECODE(A.FACTORY, 'HMKA1', 'ASSY', 'TEST') V2\n                     , NVL(TRIM(A.LOT_CMF_1), '-') V3\n                     , DECODE(B.DATA_1\n                              , 'END', NVL(TRIM(INITCAP(A.TRAN_CMF_1)),'TrackOut')\n                              --, 'Change', DECODE(A.TRAN_CMF_1,'PART_CHANGE','ChangeProduct')\n                              --, 'Receive', DECODE(A.OLD_OPER,'T0000','RECV_OY_HMK3', 'Receive')\n                              -- , 'Ship', DECODE(A.OLD_OPER,'TZ010','SHIP_HMK4_OY', 'Ship')\n                              , 'Change', DECODE(A.TRAN_CMF_1,'PART_CHANGE','ChangeProduct', DECODE(A.OLD_OPER, 'T0100', 'ChangeProduct','T0960','ChangeProduct', B.DATA_1))\n                              , 'Receive', DECODE(A.OLD_OPER||SUBSTR(A.MAT_ID,1,3),'T0000SES','RECV_OY_HMK3','A0000SES','RECV_KH_HMK2', 'Receive')\n                              --, 'Ship', DECODE(A.OLD_OPER,'TZ010','SHIP_HMK4_ASIMACS','AZ010','SHIP_HMK3_OY', 'Ship')\n                              , 'Ship', DECODE(A.OLD_OPER,'TZ010',DECODE(F_GET_HALF_FULL(A.LOT_ID, A.HIST_SEQ), 'Y','SHIP_HMKT_OY', 'SHIP_HMK4_ASIMACS'),'AZ010','SHIP_HMK3_OY', 'Ship')\n                              , B.DATA_1) V4\n                     , A.TRAN_TIME V5 \n                     , NVL(TRIM(A.LOT_CMF_5), '-')  V6\n                     , DECODE(B.DATA_1||A.OLD_FACTORY\n                              , 'ReceiveHMKT1', 'HMK3'\n                              , 'ShipHMKT1', 'HMK4'\n                              , DECODE(A.FACTORY, 'HMKA1', 'HMKA', 'HMKT'))  V7\n                     , NVL((SELECT MAT_CMF_7 FROM MWIPMATDEF WHERE FACTORY = A.FACTORY AND MAT_ID = A.MAT_ID AND MAT_VER = A.MAT_VER)\n                          , (SELECT MAT_CMF_7 FROM MWIPMATDEF WHERE FACTORY = A.OLD_FACTORY AND MAT_ID = A.OLD_MAT_ID AND MAT_VER = A.MAT_VER))  V8\n                     , A.FLOW  V9\n                     , DECODE(SUBSTRB(A.OLD_OPER,1,4),'AZ01','HMK3','T000','HMK3','TZ01','HMK4','A000','HMK2',SUBSTRB(A.OLD_OPER,1,4))  V10\n                     , NVL((SELECT OPER_DESC FROM MWIPOPRDEF WHERE FACTORY = A.FACTORY AND OPER = A.OLD_OPER AND FLOW = A.FLOW), ' ' )  V11\n                     , NVL((SELECT RES_GRP_3 FROM MRASRESDEF WHERE FACTORY = A.FACTORY AND RES_ID = A.START_RES_ID ),' ')  V12\n                     , NVL(START_RES_ID, ' ')  V13\n                     , NVL((SELECT DECODE(SUBSTRB(NVL(trim(PREV_OPER), 'A0000'),1,4),'AZ01','HMK3','T000','HMK3','TZ01','HMK4','A000','HMK2',SUBSTRB(NVL(trim(PREV_OPER), 'A0000'),1,4)) FROM MWIPFLWOPR WHERE FACTORY = A.FACTORY AND OPER = A.OPER AND FLOW = A.FLOW),' ')  V14\n                     , DECODE(SUBSTRB(A.OPER,1,4),'AZ01','HMK3','T000','HMK3','TZ01','HMK4','A000','HMK2',SUBSTRB(A.OPER,1,4))  V15\n                     , A.OPER_IN_TIME  V16\n                     , A.CREATE_TIME  V17\n                     , NVL(D.WAFERQTY,NVL(TRIM(A.QTY_2),0))  V18\n                     , NVL(\n                                    DECODE(TRAN_CODE,'MERGE',DECODE(FROM_TO_FLAG,'F',TRIM(A.QTY_1),TRIM(A.QTY_1))\n                                    ,TRIM(A.QTY_1))\n                                    , 0)  V19 -- CHIP_QTY_new-- 2010 10 07\n                     , A.TRAN_TIME  V20\n                     , NVL(D.WAFERQTY,NVL(TRIM(A.QTY_2),0))  V21\n                     , NVL(\n                                    DECODE(TRAN_CODE,'MERGE',DECODE(FROM_TO_FLAG,'F',TRIM(A.OLD_QTY_1),'T',TRIM(A.QTY_1-A.OLD_QTY_1),TRIM(A.QTY_1)) --,TRIM(A.QTY_1))\n                                                    ,'SPLIT',DECODE(FROM_TO_FLAG,'F',abs(A.OLD_QTY_1-A.QTY_1),TRIM(A.QTY_1))\n                                                    ,'LOSS',(A.OLD_QTY_1 - QTY_1)\n                                                    ,TRIM(A.QTY_1))\n                                   , 0)  V22 -- EVENT_QTY_new -- 2010 10 07\n                     , NVL((SELECT LOT_STATE FROM V_SECLOTSTS WHERE FACTORY = A.FACTORY AND LOT_ID = A.LOT_ID AND HIST_SEQ = A.HIST_SEQ ),' ')  V23\n                     , DECODE(TRAN_CODE,'SPLIT',DECODE(FROM_TO_FLAG,'T','Splitted','Split'),\n                                        'MERGE',DECODE(FROM_TO_FLAG,'T','Merge','Merged'),\n                                        'PMERGE',DECODE(FROM_TO_FLAG,'T','Merge','Merged')\n                                      )  V24\n                     , DECODE(TRAN_CODE, 'SPLIT',DECODE(FROM_TO_FLAG,'F',' ',NVL(TRIM(A.FROM_TO_LOT_ID), TRIM(A.LOT_CMF_1)))\n                                       , 'MERGE',DECODE(FROM_TO_FLAG,'F',TRIM(A.FROM_TO_LOT_ID),NVL(TRIM(A.FROM_TO_LOT_ID), TRIM(A.LOT_CMF_1)))\n                                       , DECODE(TRAN_CODE,'ADAPT',F_GET_CHG_PREV_VAL(A.LOT_ID,A.HIST_SEQ,'ADAPT','MAT_ID',-1),F_GET_CHG_PREV_VAL(A.LOT_ID,A.HIST_SEQ,TRAN_CODE,'MAT_ID',-1))\n                                       )  V25\n                     , DECODE(TRAN_CODE, 'SPLIT',DECODE(FROM_TO_FLAG,'T',' ',NVL(TRIM(A.FROM_TO_LOT_ID), TRIM(A.LOT_CMF_1)))\n                                       , 'MERGE',DECODE(FROM_TO_FLAG,'T',TRIM(A.FROM_TO_LOT_ID),NVL(TRIM(A.FROM_TO_LOT_ID), TRIM(A.LOT_CMF_1)))\n                                       , DECODE(TRAN_CODE,'ADAPT',F_GET_CHG_PREV_VAL(A.LOT_ID,A.HIST_SEQ,'ADAPT','MAT_ID',1),F_GET_CHG_PREV_VAL(A.LOT_ID,A.HIST_SEQ,TRAN_CODE,'MAT_ID',1))\n                                       )  V26\n                     , DECODE(TRAN_CODE, 'SPLIT',DECODE(FROM_TO_FLAG,'T',' ',NVL(TRIM(A.FROM_TO_LOT_ID), TRIM(A.LOT_CMF_1)))\n                                       , 'MERGE',DECODE(FROM_TO_FLAG,'F',TRIM(A.LOT_CMF_1),NVL(TRIM(A.FROM_TO_LOT_ID), TRIM(A.LOT_CMF_1)))\n                                       , ' ')  V27\n                     , DECODE(TRAN_CODE, 'SPLIT',DECODE(FROM_TO_FLAG,'F',' ',NVL(TRIM(A.FROM_TO_LOT_ID), TRIM(A.LOT_CMF_1)))\n                                       , 'MERGE',DECODE(FROM_TO_FLAG,'T',TRIM(A.LOT_CMF_1),NVL(TRIM(A.FROM_TO_LOT_ID), TRIM(A.LOT_CMF_1)))\n                                       , ' ')  V28\n                     , ' '  V29\n                     , DECODE(TRAN_CODE, 'HOLD',HOLD_CODE, ' ')  V30\n                     , F_GET_ATTR_VALUE(A.LOT_ID, 'LOT_SEC_INFO','RETURN_CODE')  V31\n                     , NVL(TRIM(A.LOT_CMF_4), '-')  V32\n                     , TO_CHAR(SYSDATE, 'YYYYMMDDHH24MISS')  V33\n                     , A.START_QTY_1  V34\n                     , NVL((SELECT MAX(LOSS_CODE_1) FROM MWIPLOTLOS WHERE FACTORY = A.FACTORY AND OPER = A.OLD_OPER AND FLOW = A.FLOW AND LOT_ID = A.LOT_ID), ' ' )  V35\n                     , NVL((SELECT ATTR_VALUE FROM MATRNAMSTS WHERE FACTORY = 'HMKA1' AND ATTR_TYPE = 'LOT_SEC_INFO' AND ATTR_NAME = 'WORDER' AND ATTR_KEY  = A.LOT_ID ), ' ') V36\n                     , NVL((SELECT ATTR_VALUE FROM MATRNAMSTS WHERE FACTORY = 'HMKA1' AND ATTR_TYPE = 'LOT_SEC_INFO' AND ATTR_NAME = 'WORDER' AND ATTR_KEY  = A.LOT_ID ), ' ') V37\n                          FROM MWIPLOTHIS A \n                             , CWIPSITDEF B\n                             , CEDILOTHIS C\n                             , V_CLOTWAFQTY D\n                         WHERE 1 = 1\n                           AND A.FACTORY IN ('HMKA1', 'HMKT1','CUSTOMER')    \n                           AND A.OWNER_CODE = 'PROD'\n                           AND A.LOT_TYPE = 'W'\n                           AND A.HIST_DEL_FLAG = ' '\n                           AND A.LOT_CMF_2 = 'SE'\n                           AND A.TRAN_TIME >= :todayHH24_M1H ||'000000'\n                           AND A.TRAN_TIME <  :todayHH24 ||'000000'\n                           AND B.TABLE_NAME='H_EDI_TRAN'\n                           AND B.KEY_1='SE'\n                           AND A.TRAN_CODE = B.KEY_2   \n                           AND B.DATA_1 <> ' '   \n                           AND B.FACTORY = 'HMKA1'\n                           AND (A.TRAN_CODE <> 'START' OR A.TRAN_CMF_1 IN ('ISSUE','CLOSE'))\n                           AND (A.TRAN_CODE <> 'ADAPT' OR A.ADD_ORDER_ID_2 NOT IN ('MULTIEQP_MOT','MULTIEQP', ' ') OR A.TRAN_CMF_1 IN ('PART_CHANGE' ))\n                           AND A.OLD_FLOW > ' '\n                           AND A.LOT_ID = C.LOT_ID\n                           AND A.HIST_SEQ = C.HIST_SEQ\n                           AND A.TRAN_TIME  = C.TRAN_TIME\n                           AND A.LOT_ID = D.LOT_ID(+)\n                           AND A.OPER NOT IN ('T000N')\n                         \n                 union all\n                       -- 20200121 chulho.wee ; combine only ; merge, multitransfer\n                       SELECT C.IN_DTTM V0, 'HM'  V1\n                     , DECODE(A.FACTORY, 'HMKA1', 'ASSY', 'TEST') V2\n                     , NVL(TRIM(A.LOT_CMF_1), '-') V3\n                     , DECODE(B.DATA_1,\n                              'END', NVL(TRIM(INITCAP(A.TRAN_CMF_1)),'TrackOut'),\n                              'Change', DECODE(A.TRAN_CMF_1,'PART_CHANGE','ChangeProduct')\n                              , B.DATA_1) V4\n                     , A.TRAN_TIME V5 \n                     , NVL(TRIM(A.LOT_CMF_5), '-')  V6\n                     , DECODE(A.FACTORY, 'HMKA1', 'HMKA', 'HMKT')  V7\n                     , NVL((SELECT MAT_CMF_7 FROM MWIPMATDEF WHERE FACTORY = A.FACTORY AND MAT_ID = A.MAT_ID AND MAT_VER = A.MAT_VER)\n                          , (SELECT MAT_CMF_7 FROM MWIPMATDEF WHERE FACTORY = A.OLD_FACTORY AND MAT_ID = A.OLD_MAT_ID AND MAT_VER = A.MAT_VER))  V8\n                     , A.FLOW  V9\n                     , DECODE(SUBSTRB(A.OLD_OPER,1,4),'AZ01','HMK3','T000','HMK3','TZ01','HMK4','A000','HMK2',SUBSTRB(A.OLD_OPER,1,4))  V10\n                     , NVL((SELECT OPER_DESC FROM MWIPOPRDEF WHERE FACTORY = A.FACTORY AND OPER = A.OLD_OPER AND FLOW = A.FLOW), ' ' )  V11\n                     , NVL((SELECT RES_GRP_3 FROM MRASRESDEF WHERE FACTORY = A.FACTORY AND RES_ID = A.START_RES_ID ),' ')  V12\n                     , NVL(START_RES_ID, ' ')  V13\n                     , NVL((SELECT DECODE(SUBSTRB(NVL(trim(PREV_OPER), 'A0000'),1,4),'AZ01','HMK3','T000','HMK3','TZ01','HMK4','A000','HMK2',SUBSTRB(NVL(trim(PREV_OPER), 'A0000'),1,4)) FROM MWIPFLWOPR WHERE FACTORY = A.FACTORY AND OPER = A.OPER AND FLOW = A.FLOW),' ')  V14\n                     , DECODE(SUBSTRB(A.OPER,1,4),'AZ01','HMK3','T000','HMK3','TZ01','HMK4','A000','HMK2',SUBSTRB(A.OPER,1,4))  V15\n                     , A.OPER_IN_TIME  V16\n                     , A.CREATE_TIME  V17\n                     , NVL(D.WAFERQTY,NVL(TRIM(A.QTY_2),0))  V18\n                     , NVL(\n                                    DECODE(TRAN_CODE, 'COMBINE',DECODE(FROM_TO_FLAG,'T',TRIM(A.QTY_1+(select max(old_qty_1) from mwiplothis where lot_id = (select from_to_lot_id from mwiplothis where lot_id = a.lot_id and hist_seq = a.hist_seq) and tran_code = 'COMBINE' and hist_del_flag = ' '))\n                                                                                       ,TRIM(A.QTY_1))\n                                                    , TRIM(A.QTY_1))\n                           , 0)  V19 \n                     , A.TRAN_TIME  V20\n                     , NVL(D.WAFERQTY,NVL(TRIM(A.QTY_2),0))  V21\n                     , NVL(\n                                    DECODE(TRAN_CODE,'COMBINE',DECODE(FROM_TO_FLAG,'F',TRIM(A.OLD_QTY_1)\n                                                                                  ,'T',(select max(old_qty_1) from mwiplothis where lot_id = (select from_to_lot_id from mwiplothis where lot_id = a.lot_id and hist_seq = a.hist_seq) and tran_code = 'COMBINE' and hist_del_flag = ' ')\n                                                                                  ,TRIM(A.QTY_1)) --,TRIM(A.QTY_1))\n                                                    ,TRIM(A.QTY_1)*2)\n                           , 0)  V22 \n                     , NVL((SELECT LOT_STATE FROM V_SECLOTSTS WHERE FACTORY = A.FACTORY AND LOT_ID = A.LOT_ID AND HIST_SEQ = A.HIST_SEQ ),' ')  V23\n                     , DECODE(TRAN_CODE,'SPLIT',DECODE(FROM_TO_FLAG,'T','Splitted','Split'),\n                                        'COMBINE',DECODE(FROM_TO_FLAG,'T','Merge','Merged'),\n                                        'PMERGE',DECODE(FROM_TO_FLAG,'T','Merge','Merged')\n                                      )  V24\n                     , DECODE(TRAN_CODE, 'COMBINE',DECODE(FROM_TO_FLAG,'F',TRIM(A.FROM_TO_LOT_ID),NVL(TRIM(A.FROM_TO_LOT_ID), TRIM(A.LOT_CMF_1)))\n                                       , ' ') V25\n                     , DECODE(TRAN_CODE, 'COMBINE',DECODE(FROM_TO_FLAG,'T',TRIM(A.FROM_TO_LOT_ID),NVL(TRIM(A.FROM_TO_LOT_ID), TRIM(A.LOT_CMF_1)))\n                                       , ' ') V26\n                     , DECODE(TRAN_CODE, 'COMBINE',DECODE(FROM_TO_FLAG,'F',TRIM(A.LOT_CMF_1),NVL(TRIM(A.FROM_TO_LOT_ID), TRIM(A.LOT_CMF_1)))\n                                       , ' ')  V27\n                     , DECODE(TRAN_CODE, 'COMBINE',DECODE(FROM_TO_FLAG,'T',TRIM(A.LOT_CMF_1),NVL(TRIM(A.FROM_TO_LOT_ID), TRIM(A.LOT_CMF_1)))\n                                       , ' ')  V28\n                     , ' '  V29\n                     , DECODE(TRAN_CODE, 'HOLD',HOLD_CODE, ' ')  V30\n                     , F_GET_ATTR_VALUE(A.LOT_ID, 'LOT_SEC_INFO','RETURN_CODE')  V31\n                     , NVL(TRIM(A.LOT_CMF_4), '-')  V32\n                     , TO_CHAR(SYSDATE, 'YYYYMMDDHH24MISS')  V33\n                     , A.START_QTY_1  V34\n                     , NVL((SELECT MAX(LOSS_CODE_1) FROM MWIPLOTLOS WHERE FACTORY = A.FACTORY AND OPER = A.OLD_OPER AND FLOW = A.FLOW AND LOT_ID = A.LOT_ID), ' ' )  V35\n                     , NVL((SELECT ATTR_VALUE FROM MATRNAMSTS WHERE FACTORY = 'HMKA1' AND ATTR_TYPE = 'LOT_SEC_INFO' AND ATTR_NAME = 'WORDER' AND ATTR_KEY  = A.LOT_ID ), ' ') V36\n                     , NVL((SELECT ATTR_VALUE FROM MATRNAMSTS WHERE FACTORY = 'HMKA1' AND ATTR_TYPE = 'LOT_SEC_INFO' AND ATTR_NAME = 'WORDER' AND ATTR_KEY  = A.LOT_ID ), ' ') V37\n                          FROM MWIPLOTHIS A \n                             , CWIPSITDEF B\n                             , CEDILOTHIS C\n                             , V_CLOTWAFQTY D\n                         WHERE 1 = 1\n                           AND A.FACTORY IN ('HMKA1', 'HMKT1') --,'CUSTOMER')    \n                           AND A.OWNER_CODE = 'PROD'\n                           AND A.LOT_TYPE = 'W'\n                           AND A.HIST_DEL_FLAG = ' '\n                           AND A.LOT_CMF_2 = 'SE'\n                           AND A.TRAN_TIME >= TO_CHAR(SYSDATE-1/24,'YYYYMMDDHH24')||'000000'\n                           AND A.TRAN_TIME <  TO_CHAR(SYSDATE,'YYYYMMDDHH24')||'000000'\n                           AND B.TABLE_NAME='H_EDI_EX_TRAN'\n                           AND B.KEY_1='SE'\n                           AND A.TRAN_CODE = B.KEY_2   \n                           AND B.DATA_1 <> ' '   \n                           AND B.FACTORY = 'HMKA1'\n                           AND (A.TRAN_CODE <> 'START' OR A.TRAN_CMF_1 IN ('ISSUE','CLOSE'))\n                           AND (A.TRAN_CODE <> 'ADAPT' OR A.ADD_ORDER_ID_2 NOT IN ('MULTIEQP_MOT','MULTIEQP', ' ') OR A.TRAN_CMF_1 IN ('PART_CHANGE' ))\n                           AND A.OLD_FLOW > ' '\n                           AND A.LOT_ID = C.LOT_ID\n                           AND A.HIST_SEQ = C.HIST_SEQ\n                           AND A.TRAN_TIME  = C.TRAN_TIME\n                           AND A.LOT_ID = D.LOT_ID(+)\n                           AND A.OPER NOT IN ('T000N')\n                           AND A.OPER LIKE 'A040_'\n              )\n              order by v0\n           )) A, \n       ( SELECT ROWNUM IDX, TRAN_TIME, MILI_SEC\n           FROM (\n                   SELECT TRAN_TIME, CNT-NUM MILI_SEC\n                    FROM (\n                    select TRAN_TIME, sum(cnt) CNT\n                      from ( \n                        SELECT A.TRAN_TIME, COUNT(*) CNT\n                          FROM MWIPLOTHIS A \n                             , CWIPSITDEF B\n                             , CEDILOTHIS C\n                             , V_CLOTWAFQTY D\n                         WHERE 1 = 1\n                           AND A.FACTORY IN ('HMKA1', 'HMKT1','CUSTOMER')   \n                           AND A.OWNER_CODE = 'PROD'\n                          AND A.LOT_TYPE = 'W'\n                           AND A.HIST_DEL_FLAG = ' '\n                           AND A.LOT_CMF_2 = 'SE'\n                           AND A.TRAN_TIME >= TO_CHAR(SYSDATE-1/24,'YYYYMMDDHH24')||'000000'\n                           AND A.TRAN_TIME <  TO_CHAR(SYSDATE,'YYYYMMDDHH24')||'000000'\n                           AND B.TABLE_NAME='H_EDI_TRAN'\n                           AND B.KEY_1='SE'\n                           AND A.TRAN_CODE = B.KEY_2   \n                           AND B.DATA_1 <> ' '   \n                           AND B.FACTORY = 'HMKA1'\n                           AND (A.TRAN_CODE <> 'START' OR A.TRAN_CMF_1 IN ('ISSUE','CLOSE'))\n                           AND (A.TRAN_CODE <> 'ADAPT' OR A.ADD_ORDER_ID_2 NOT IN ('MULTIEQP_MOT','MULTIEQP', ' ') OR A.TRAN_CMF_1 IN ('PART_CHANGE' ))\n                           AND A.OLD_FLOW > ' '\n                           AND A.LOT_ID = C.LOT_ID\n                           AND A.HIST_SEQ = C.HIST_SEQ\n                           AND A.TRAN_TIME  = C.TRAN_TIME\n                           AND A.LOT_ID = D.LOT_ID(+)\n                           AND A.OPER NOT IN ('T000N')\n                         GROUP BY A.TRAN_TIME\n                         union\n                        SELECT A.TRAN_TIME, COUNT(*) CNT\n                          FROM MWIPLOTHIS A \n                             , CWIPSITDEF B\n                             , CEDILOTHIS C\n                             , V_CLOTWAFQTY D\n                         WHERE 1 = 1\n                           AND A.FACTORY IN ('HMKA1', 'HMKT1') --,'CUSTOMER')    \n                           AND A.OWNER_CODE = 'PROD'\n                           AND A.LOT_TYPE = 'W'\n                           AND A.HIST_DEL_FLAG = ' '\n                           AND A.LOT_CMF_2 = 'SE'\n                           AND A.TRAN_TIME >= :todayHH24_M1H ||'000000'\n                           AND A.TRAN_TIME <  :todayHH24 ||'000000'\n                           AND B.TABLE_NAME='H_EDI_EX_TRAN'\n                           AND B.KEY_1='SE'\n                           AND A.TRAN_CODE = B.KEY_2   \n                           AND B.DATA_1 <> ' '   \n                           AND B.FACTORY = 'HMKA1'\n                           AND (A.TRAN_CODE <> 'START' OR A.TRAN_CMF_1 IN ('ISSUE','CLOSE'))\n                           AND (A.TRAN_CODE <> 'ADAPT' OR A.ADD_ORDER_ID_2 NOT IN ('MULTIEQP_MOT','MULTIEQP', ' ') OR A.TRAN_CMF_1 IN ('PART_CHANGE' ))\n                           AND A.OLD_FLOW > ' '\n                           AND A.LOT_ID = C.LOT_ID\n                           AND A.HIST_SEQ = C.HIST_SEQ\n                           AND A.TRAN_TIME  = C.TRAN_TIME\n                           AND A.LOT_ID = D.LOT_ID(+)\n                           AND A.OPER NOT IN ('T000N')\n                           GROUP BY A.TRAN_TIME\n                           )\n                           group by TRAN_TIME\n                         ) A, COPY_T B\n                   WHERE NUM < 26 \n                     AND NUM <= CNT\n                   ORDER BY TRAN_TIME, CNT-NUM \n                  )) B\n             WHERE A.IDX=B.IDX","CREATE_USER":"6","CREATE_DATE":"2021-12-15 11:13:15","DBTYPE":"MES"}]
2022-11-16 15:04:00 [EDI System] info: 
        SELECT * FROM (
            SELECT *
            FROM EDI_QUERY_SETTING
            WHERE 1=1
            AND SETTING_ID = (
                SELECT ID
                FROM CG_CUSTOMER 
                WHERE PARENT = (
                    SELECT ID
                    FROM CG_CUSTOMER 
                    WHERE ID=(
                        SELECT PARENT
                        FROM CG_CUSTOMER 
                        WHERE ID=(
                            SELECT PARENT 
                            FROM CG_CUSTOMER 
                            WHERE ID=:id
                        )
                    )
                )
                AND LOWER(NAME) = 'common'
            )
            AND TYPE IN ('DB','TEXT')
            AND KEY NOT IN (SELECT KEY
                            FROM EDI_QUERY_SETTING
                            WHERE 1=1
                            AND SETTING_ID = :id
                            AND TYPE IN ('DB','TEXT'))
            UNION ALL
            SELECT *
            FROM EDI_QUERY_SETTING
            WHERE 1=1
            AND SETTING_ID = :id
            AND TYPE IN ('DB','TEXT')
        )
        ORDER BY LENGTH(KEY) DESC
    
2022-11-16 15:04:00 [EDI System] info: [{"ID":"137","SETTING_ID":"129","KEY":"todayHH24MISS","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE,'YYYYMMDDHH24MISS') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-11-12 05:20:22","DBTYPE":"MES"},{"ID":"124","SETTING_ID":"129","KEY":"todayHH24_M1H","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE - 1/24,'YYYYMMDDHH24') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-10-15 01:40:03","DBTYPE":"MES"},{"ID":"122","SETTING_ID":"129","KEY":"todayHH24","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE,'YYYYMMDDHH24') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-10-15 11:47:10","DBTYPE":"MES"},{"ID":"115","SETTING_ID":"129","KEY":"today_yy","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE,'YYYYMMDDHH24') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-09-24 08:46:51","DBTYPE":"MES"},{"ID":"130","SETTING_ID":"129","KEY":"today","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE,'YYYYMMDD') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-11-09 03:36:41","DBTYPE":"MES"}]
2022-11-16 15:05:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 15:06:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 15:07:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 15:08:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 15:09:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 15:10:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 15:11:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 15:12:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 15:13:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 15:13:00 [EDI System] info: Job Start Time > {"min":13,"hour":15,"date":16,"month":11,"day":3}
 {"ID":121,"CFG_ID":"159","FILE_NAME":"CMEQPUNT_HM:today","FILE_DESC":"SEC CMEQPUNT 1/1day","FILE_SAVE_FOLDER":"D:/HM_EDI/SEC/OUT","FILE_CHARSET":"ascii","FILE_TYPE":"ff","DATA_TYPE":"text","FTP_ENV_ID":"100","SEND_FLAG":"Y","NODATASEND":"false","SCHEDULE_MIN":"13","SCHEDULE_HOUR":"*","SCHEDULE_DAY":"*","SCHEDULE_WEEK":"*","SCHEDULE_MONTH":"*","CM_F01":null,"CM_F02":null,"CREATE_DATE":"2021-12-10 09:44:41","CREATE_USER":"6","UPDATE_DATE":"2021-12-15 04:08:07","UPDATE_USER":"6","DELETE_DATE":null,"DELETE_USER":null,"frequency":"13 * * * *"}
2022-11-16 15:13:00 [EDI System] info: 121 >>> makeFileText Function Execute
2022-11-16 15:13:00 [EDI System] info: SELECT EDI_LOG_SEQ.NEXTVAL AS ID FROM DUAL
2022-11-16 15:13:00 [EDI System] info: SELECT EDI_LOG_SEQ.NEXTVAL AS ID FROM DUAL
2022-11-16 15:13:00 [EDI System] info: [{"ID":11100}]
2022-11-16 15:13:00 [EDI System] info: seq : return Key [{"ID":11100}]
2022-11-16 15:13:00 [EDI System] info: saveAllLogger => ID:11100, NAME:CMEQPUNT_HM:today, ProcessID:159, Description: Job Start : ID=121, CFG_ID=159, FTP_ENV_ID=100, FILE_NAME=CMEQPUNT_HM:today, FILE_DESC=SEC CMEQPUNT 1/1day, FILE_CHARSET=ascii, FILE_TYPE=ff
2022-11-16 15:13:00 [EDI System] info: INSERT INTO EDI_LOG(ID, STEP, NAME, PROCESS_ID, DESCRIPTION, CREATE_USER, CREATE_DATE)
    VALUES(:id, :stepId, :name, :process_id, :description, 'DAEMON', TO_CHAR(SYSDATE,'YYYYMMDDHH24MISS'))
2022-11-16 15:13:00 [EDI System] info: Insert successful = SQL: INSERT INTO EDI_LOG(ID, STEP, NAME, PROCESS_ID, DESCRIPTION, CREATE_USER, CREATE_DATE)
    VALUES(:id, :stepId, :name, :process_id, :description, 'DAEMON', TO_CHAR(SYSDATE,'YYYYMMDDHH24MISS')) | Params: {"id":11100,"stepId":"1","name":"CMEQPUNT_HM:today","process_id":"159","description":"Job Start : ID=121, CFG_ID=159, FTP_ENV_ID=100, FILE_NAME=CMEQPUNT_HM:today, FILE_DESC=SEC CMEQPUNT 1/1day, FILE_CHARSET=ascii, FILE_TYPE=ff"} / 1
2022-11-16 15:13:00 [EDI System] info: 
    SELECT *
    FROM (
        SELECT ROWNUM,A.*
            FROM EDI_QUERY_SETTING A
            WHERE SETTING_ID = :id
            AND TYPE='Main'
            ORDER BY ID DESC
        ) 
    WHERE ROWNUM='1'
    
2022-11-16 15:13:00 [EDI System] info: [{"ROWNUM":1,"ID":"157","SETTING_ID":"159","KEY":null,"TYPE":"Main","QUERY":"--//-- 20211203 chulho.wee ; CREATE\nSELECT \n  RPAD(START_TAG, 3, ' ')\n|| RPAD(OEM_CODE, 2, ' ')\n|| RPAD(MONTH, 6, ' ')\n|| RPAD(C_DATE, 8, ' ')\n|| RPAD(O_DATE, 8, ' ')\n|| RPAD(OEM_AREA, 4, ' ')\n|| RPAD(CUST_DEVICE, 30, ' ')\n|| RPAD(OPER_DESC, 15, ' ')\n|| RPAD(EQP_GROUP, 15, ' ')\n\n|| RPAD(EQP_MODEL, 30, ' ')\n|| RPAD(RES_ID, 15, ' ')\n|| RPAD(OPER, 6, ' ')\n\n|| RPAD(SUM(QTY), 10, ' ')\n|| RPAD(LOT_TYPE, 2, ' ')\n|| RPAD(PARA, 3, ' ')\n\n|| RPAD(TEST_TIME, 10, ' ')\n|| RPAD(INDEX_TIME, 10, ' ')\n|| RPAD(ATE_TIME, 10, ' ')\n\n|| RPAD(EQP_PRICE, 10, ' ')\n|| RPAD(ATE_PRICE, 10, ' ')\n|| RPAD(MVP_PRICE, 10, ' ')\n|| RPAD(PVI_PRICE, 10, ' ')\n|| RPAD(UNIT_PRICE, 10, ' ')\n\n|| RPAD(FULL_HALF, 10, ' ')\n|| RPAD(CREATE_TIME, 14, ' ')\n|| RPAD(REMARK, 200, ' ')\n  FROM\n(\n    SELECT 'LS1' START_TAG\n         , 'HM' OEM_CODE\n         , CASE\n            WHEN TO_CHAR(SYSDATE, 'DD') >= 28 THEN\n                 TO_CHAR(ADD_MONTHS(SYSDATE, +1), 'YYYYMM')\n            ELSE\n                 TO_CHAR(ADD_MONTHS(SYSDATE, -0), 'YYYYMM')\n           END AS \"MONTH\"\n         --, TO_CHAR(SYSDATE, 'DD') C_DATE\n         , TO_CHAR(SYSDATE, 'YYYYMMDD') C_DATE\n         , SUBSTR(LOT.TRAN_TIME, 1,8) AS O_DATE\n         , 'HMKT' AS OEM_AREA\n         \n         , TST.CUST_DVC CUST_DEVICE\n         , DECODE(TST.OPER ,'T0100', 'ATE', 'T0960', 'ASB', 'T0500', 'MVP', TST.OPER) OPER_DESC\n         \n         , (SELECT NVL(ATTR_VALUE, 'NULL') FROM MATRNAMSTS WHERE FACTORY = 'HMKT1' AND ATTR_TYPE = 'RESOURCE' AND ATTR_NAME = 'EQP_GROUP' AND ATTR_KEY = LOT.END_RES_ID) AS EQP_GROUP\n         , (SELECT NVL(ATTR_VALUE, 'NULL') FROM MATRNAMSTS WHERE FACTORY = 'HMKT1' AND ATTR_TYPE = 'RESOURCE' AND ATTR_NAME = 'EQP_MODEL' AND ATTR_KEY = LOT.END_RES_ID) AS EQP_MODEL\n         , LOT.OLD_OPER AS OPER\n         , LOT.END_RES_ID AS RES_ID\n         , LOT_CMF_5 LOT_TYPE\n\n         , LOT.QTY_1 AS QTY\n         , TST.PARA AS PARA\n         , TST.TEST_TIME AS TEST_TIME\n         , TST.INDEX_TIME AS INDEX_TIME\n         , TST.ATE_TIME AS ATE_TIME\n         , TST.EQP_PRICE AS EQP_PRICE\n         , TST.ATE_PRICE AS ATE_PRICE\n--         , (((TST.TEST_TIME + TST.INDEX_TIME) * TST.EQP_PRICE) / TST.PARA) AS ATE_PRICE\n         , TST.MVP_PRICE AS MVP_PRICE\n         , TST.PVI_PRICE AS PVI_PRICE\n         , TST.UNIT_PRICE AS UNIT_PRICE\n         , TST.FULL_HALF AS FULL_HALF\n         , TO_CHAR(SYSDATE, 'YYYYMMDDHH24MISS') AS CREATE_TIME\n         , ' ' AS REMARK\n      FROM MWIPLOTHIS LOT, VGCMTBLDAT_TEST_TIME_INF2 TST\n     WHERE 1=1\n       AND LOT.MAT_ID = TST.MAT_ID\n       AND LOT.OLD_OPER = TST.OPER\n       AND TST.MODEL = (SELECT NVL(ATTR_VALUE, 'NULL') FROM MATRNAMSTS WHERE FACTORY = 'HMKT1' AND ATTR_TYPE = 'RESOURCE' AND ATTR_NAME = 'EQP_MODEL' AND ATTR_KEY = LOT.END_RES_ID)\n       AND LOT.TRAN_TIME >= CASE WHEN TO_CHAR(SYSDATE, 'DD') >= 28 THEN\n                       TO_CHAR(ADD_MONTHS(SYSDATE, -0), 'YYYYMM')||'27'||'22'\n                       ELSE\n                       TO_CHAR(ADD_MONTHS(SYSDATE, -1), 'YYYYMM')||'27'||'22'\n                       END --AS PREV_MON\n\n       AND LOT.TRAN_TIME < CASE WHEN TO_CHAR(SYSDATE, 'HH24MISS') >= 220000\n                                  OR TO_CHAR(SYSDATE, 'HH24MISS') <= 235959 THEN\n                       TO_CHAR(SYSDATE -0, 'YYYYMMDD')||'22'\n                       ELSE\n                       TO_CHAR(SYSDATE -1, 'YYYYMMDD')||'22'\n                       END --AS CURR_MON\n                       \n--       AND LOT.TRAN_TIME < CASE WHEN TO_CHAR(SYSDATE, 'DD') >= 28 THEN\n--                       TO_CHAR(ADD_MONTHS(SYSDATE, +1), 'YYYYMM')||'27'||'22'\n--                       ELSE\n--                       TO_CHAR(ADD_MONTHS(SYSDATE, -0), 'YYYYMM')||'27'||'22'\n--                       END --AS CURR_MON\n       AND LOT.FACTORY = 'HMKT1'\n       AND LOT.TRAN_CODE = 'END'\n       AND LOT.OLD_OPER in ('T0100', 'T0960', 'T0500')\n--       AND TST.CUST_DVC = 'L6HD311A01-P040-A00VCD'\n--       AND LOT.MAT_ID = 'SEL6HD311A01-P040-A00KUVCD'\n)\nGROUP BY START_TAG\n, OEM_CODE\n, MONTH\n, C_DATE\n, O_DATE\n, OEM_AREA\n\n, CUST_DEVICE\n, OPER_DESC\n\n, EQP_GROUP\n, EQP_MODEL\n, OPER\n, RES_ID\n, LOT_TYPE\n\n, PARA\n, TEST_TIME\n, INDEX_TIME\n, ATE_TIME\n, EQP_PRICE\n, ATE_PRICE\n, MVP_PRICE\n, PVI_PRICE\n, UNIT_PRICE\n, FULL_HALF\n, CREATE_TIME\n, REMARK\nORDER BY 1","CREATE_USER":"6","CREATE_DATE":"2021-12-16 09:51:58","DBTYPE":"MES"}]
2022-11-16 15:13:00 [EDI System] info: 
        SELECT * FROM (
            SELECT *
            FROM EDI_QUERY_SETTING
            WHERE 1=1
            AND SETTING_ID = (
                SELECT ID
                FROM CG_CUSTOMER 
                WHERE PARENT = (
                    SELECT ID
                    FROM CG_CUSTOMER 
                    WHERE ID=(
                        SELECT PARENT
                        FROM CG_CUSTOMER 
                        WHERE ID=(
                            SELECT PARENT 
                            FROM CG_CUSTOMER 
                            WHERE ID=:id
                        )
                    )
                )
                AND LOWER(NAME) = 'common'
            )
            AND TYPE IN ('DB','TEXT')
            AND KEY NOT IN (SELECT KEY
                            FROM EDI_QUERY_SETTING
                            WHERE 1=1
                            AND SETTING_ID = :id
                            AND TYPE IN ('DB','TEXT'))
            UNION ALL
            SELECT *
            FROM EDI_QUERY_SETTING
            WHERE 1=1
            AND SETTING_ID = :id
            AND TYPE IN ('DB','TEXT')
        )
        ORDER BY LENGTH(KEY) DESC
    
2022-11-16 15:13:00 [EDI System] info: [{"ID":"137","SETTING_ID":"129","KEY":"todayHH24MISS","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE,'YYYYMMDDHH24MISS') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-11-12 05:20:22","DBTYPE":"MES"},{"ID":"124","SETTING_ID":"129","KEY":"todayHH24_M1H","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE - 1/24,'YYYYMMDDHH24') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-10-15 01:40:03","DBTYPE":"MES"},{"ID":"122","SETTING_ID":"129","KEY":"todayHH24","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE,'YYYYMMDDHH24') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-10-15 11:47:10","DBTYPE":"MES"},{"ID":"115","SETTING_ID":"129","KEY":"today_yy","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE,'YYYYMMDDHH24') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-09-24 08:46:51","DBTYPE":"MES"},{"ID":"130","SETTING_ID":"129","KEY":"today","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE,'YYYYMMDD') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-11-09 03:36:41","DBTYPE":"MES"}]
2022-11-16 15:14:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 15:15:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 15:15:00 [EDI System] info: Job Start Time > {"min":15,"hour":15,"date":16,"month":11,"day":3}
 {"ID":106,"CFG_ID":"141","FILE_NAME":"WO_INPUT_HANA_AS_:todayHH24_1","FILE_DESC":"Siliconworks input assy","FILE_SAVE_FOLDER":"D:/HM_EDI/SILICONWOKRS/OUT","FILE_CHARSET":"utf-8","FILE_TYPE":"csv","DATA_TYPE":"text","FTP_ENV_ID":"106","SEND_FLAG":"Y","NODATASEND":null,"SCHEDULE_MIN":"15","SCHEDULE_HOUR":"*","SCHEDULE_DAY":"*","SCHEDULE_WEEK":"*","SCHEDULE_MONTH":"*","CM_F01":null,"CM_F02":null,"CREATE_DATE":"2021-11-12 05:06:11","CREATE_USER":"6","UPDATE_DATE":"2022-02-16 12:18:37","UPDATE_USER":"6","DELETE_DATE":null,"DELETE_USER":null,"frequency":"15 * * * *"}
2022-11-16 15:15:00 [EDI System] info: 106 >>> makeFileText Function Execute
2022-11-16 15:15:00 [EDI System] info: Job Start Time > {"min":15,"hour":15,"date":16,"month":11,"day":3}
 {"ID":129,"CFG_ID":"166","FILE_NAME":"WO_INPUT_HANA_AS_:todayHH24_1","FILE_DESC":"Siliconworks input assy","FILE_SAVE_FOLDER":"D:/HM_EDI/SILICONWOKRS/OUT","FILE_CHARSET":"utf-8","FILE_TYPE":"csv","DATA_TYPE":"text","FTP_ENV_ID":"106","SEND_FLAG":"Y","NODATASEND":null,"SCHEDULE_MIN":"15","SCHEDULE_HOUR":"*","SCHEDULE_DAY":"*","SCHEDULE_WEEK":"*","SCHEDULE_MONTH":"*","CM_F01":null,"CM_F02":null,"CREATE_DATE":"2022-02-22 16:21:15","CREATE_USER":"6","UPDATE_DATE":null,"UPDATE_USER":null,"DELETE_DATE":null,"DELETE_USER":null,"frequency":"15 * * * *"}
2022-11-16 15:15:00 [EDI System] info: 129 >>> makeFileText Function Execute
2022-11-16 15:15:00 [EDI System] info: Job Start Time > {"min":15,"hour":15,"date":16,"month":11,"day":3}
 {"ID":127,"CFG_ID":"164","FILE_NAME":"WO_INPUT_HANA_AS_:todayHH24_1","FILE_DESC":"Siliconworks input assy","FILE_SAVE_FOLDER":"D:/HM_EDI/SILICONWOKRS/OUT","FILE_CHARSET":"utf-8","FILE_TYPE":"csv","DATA_TYPE":"text","FTP_ENV_ID":"106","SEND_FLAG":"Y","NODATASEND":null,"SCHEDULE_MIN":"15","SCHEDULE_HOUR":"*","SCHEDULE_DAY":"*","SCHEDULE_WEEK":"*","SCHEDULE_MONTH":"*","CM_F01":null,"CM_F02":null,"CREATE_DATE":"2022-02-22 16:13:42","CREATE_USER":"6","UPDATE_DATE":null,"UPDATE_USER":null,"DELETE_DATE":null,"DELETE_USER":null,"frequency":"15 * * * *"}
2022-11-16 15:15:00 [EDI System] info: 127 >>> makeFileText Function Execute
2022-11-16 15:15:00 [EDI System] info: Job Start Time > {"min":15,"hour":15,"date":16,"month":11,"day":3}
 {"ID":128,"CFG_ID":"165","FILE_NAME":"WO_INPUT_HANA_AS_:todayHH24_1","FILE_DESC":"Siliconworks input assy","FILE_SAVE_FOLDER":"D:/HM_EDI/SILICONWOKRS/OUT","FILE_CHARSET":"utf-8","FILE_TYPE":"csv","DATA_TYPE":"text","FTP_ENV_ID":"106","SEND_FLAG":"Y","NODATASEND":null,"SCHEDULE_MIN":"15","SCHEDULE_HOUR":"*","SCHEDULE_DAY":"*","SCHEDULE_WEEK":"*","SCHEDULE_MONTH":"*","CM_F01":null,"CM_F02":null,"CREATE_DATE":"2022-02-22 16:18:38","CREATE_USER":"6","UPDATE_DATE":null,"UPDATE_USER":null,"DELETE_DATE":null,"DELETE_USER":null,"frequency":"15 * * * *"}
2022-11-16 15:15:00 [EDI System] info: 128 >>> makeFileText Function Execute
2022-11-16 15:15:00 [EDI System] info: Job Start Time > {"min":15,"hour":15,"date":16,"month":11,"day":3}
 {"ID":130,"CFG_ID":"167","FILE_NAME":"WO_INPUT_HANA_AS_:todayHH24_1","FILE_DESC":"Siliconworks input assy","FILE_SAVE_FOLDER":"D:/HM_EDI/SILICONWOKRS/OUT","FILE_CHARSET":"utf-8","FILE_TYPE":"csv","DATA_TYPE":"text","FTP_ENV_ID":"106","SEND_FLAG":"Y","NODATASEND":null,"SCHEDULE_MIN":"15","SCHEDULE_HOUR":"*","SCHEDULE_DAY":"*","SCHEDULE_WEEK":"*","SCHEDULE_MONTH":"*","CM_F01":null,"CM_F02":null,"CREATE_DATE":"2022-02-22 16:23:34","CREATE_USER":"6","UPDATE_DATE":null,"UPDATE_USER":null,"DELETE_DATE":null,"DELETE_USER":null,"frequency":"15 * * * *"}
2022-11-16 15:15:00 [EDI System] info: 130 >>> makeFileText Function Execute
2022-11-16 15:15:00 [EDI System] info: SELECT EDI_LOG_SEQ.NEXTVAL AS ID FROM DUAL
2022-11-16 15:15:00 [EDI System] info: SELECT EDI_LOG_SEQ.NEXTVAL AS ID FROM DUAL
2022-11-16 15:15:00 [EDI System] info: SELECT EDI_LOG_SEQ.NEXTVAL AS ID FROM DUAL
2022-11-16 15:15:00 [EDI System] info: SELECT EDI_LOG_SEQ.NEXTVAL AS ID FROM DUAL
2022-11-16 15:15:00 [EDI System] info: SELECT EDI_LOG_SEQ.NEXTVAL AS ID FROM DUAL
2022-11-16 15:15:00 [EDI System] info: SELECT EDI_LOG_SEQ.NEXTVAL AS ID FROM DUAL
2022-11-16 15:15:00 [EDI System] info: SELECT EDI_LOG_SEQ.NEXTVAL AS ID FROM DUAL
2022-11-16 15:15:00 [EDI System] info: SELECT EDI_LOG_SEQ.NEXTVAL AS ID FROM DUAL
2022-11-16 15:15:00 [EDI System] info: SELECT EDI_LOG_SEQ.NEXTVAL AS ID FROM DUAL
2022-11-16 15:15:00 [EDI System] info: SELECT EDI_LOG_SEQ.NEXTVAL AS ID FROM DUAL
2022-11-16 15:15:00 [EDI System] info: [{"ID":11101}]
2022-11-16 15:15:00 [EDI System] info: [{"ID":11102}]
2022-11-16 15:15:00 [EDI System] info: seq : return Key [{"ID":11101}]
2022-11-16 15:15:00 [EDI System] info: saveAllLogger => ID:11101, NAME:WO_INPUT_HANA_AS_:todayHH24_1, ProcessID:164, Description: Job Start : ID=127, CFG_ID=164, FTP_ENV_ID=106, FILE_NAME=WO_INPUT_HANA_AS_:todayHH24_1, FILE_DESC=Siliconworks input assy, FILE_CHARSET=utf-8, FILE_TYPE=csv
2022-11-16 15:15:00 [EDI System] info: INSERT INTO EDI_LOG(ID, STEP, NAME, PROCESS_ID, DESCRIPTION, CREATE_USER, CREATE_DATE)
    VALUES(:id, :stepId, :name, :process_id, :description, 'DAEMON', TO_CHAR(SYSDATE,'YYYYMMDDHH24MISS'))
2022-11-16 15:15:00 [EDI System] info: seq : return Key [{"ID":11102}]
2022-11-16 15:15:00 [EDI System] info: saveAllLogger => ID:11102, NAME:WO_INPUT_HANA_AS_:todayHH24_1, ProcessID:165, Description: Job Start : ID=128, CFG_ID=165, FTP_ENV_ID=106, FILE_NAME=WO_INPUT_HANA_AS_:todayHH24_1, FILE_DESC=Siliconworks input assy, FILE_CHARSET=utf-8, FILE_TYPE=csv
2022-11-16 15:15:00 [EDI System] info: INSERT INTO EDI_LOG(ID, STEP, NAME, PROCESS_ID, DESCRIPTION, CREATE_USER, CREATE_DATE)
    VALUES(:id, :stepId, :name, :process_id, :description, 'DAEMON', TO_CHAR(SYSDATE,'YYYYMMDDHH24MISS'))
2022-11-16 15:15:00 [EDI System] info: [{"ID":11103}]
2022-11-16 15:15:00 [EDI System] info: [{"ID":11104}]
2022-11-16 15:15:00 [EDI System] info: seq : return Key [{"ID":11103}]
2022-11-16 15:15:00 [EDI System] info: saveAllLogger => ID:11103, NAME:WO_INPUT_HANA_AS_:todayHH24_1, ProcessID:166, Description: Job Start : ID=129, CFG_ID=166, FTP_ENV_ID=106, FILE_NAME=WO_INPUT_HANA_AS_:todayHH24_1, FILE_DESC=Siliconworks input assy, FILE_CHARSET=utf-8, FILE_TYPE=csv
2022-11-16 15:15:00 [EDI System] info: INSERT INTO EDI_LOG(ID, STEP, NAME, PROCESS_ID, DESCRIPTION, CREATE_USER, CREATE_DATE)
    VALUES(:id, :stepId, :name, :process_id, :description, 'DAEMON', TO_CHAR(SYSDATE,'YYYYMMDDHH24MISS'))
2022-11-16 15:15:00 [EDI System] info: seq : return Key [{"ID":11104}]
2022-11-16 15:15:00 [EDI System] info: saveAllLogger => ID:11104, NAME:WO_INPUT_HANA_AS_:todayHH24_1, ProcessID:141, Description: Job Start : ID=106, CFG_ID=141, FTP_ENV_ID=106, FILE_NAME=WO_INPUT_HANA_AS_:todayHH24_1, FILE_DESC=Siliconworks input assy, FILE_CHARSET=utf-8, FILE_TYPE=csv
2022-11-16 15:15:00 [EDI System] info: INSERT INTO EDI_LOG(ID, STEP, NAME, PROCESS_ID, DESCRIPTION, CREATE_USER, CREATE_DATE)
    VALUES(:id, :stepId, :name, :process_id, :description, 'DAEMON', TO_CHAR(SYSDATE,'YYYYMMDDHH24MISS'))
2022-11-16 15:15:00 [EDI System] info: [{"ID":11105}]
2022-11-16 15:15:00 [EDI System] info: Insert successful = SQL: INSERT INTO EDI_LOG(ID, STEP, NAME, PROCESS_ID, DESCRIPTION, CREATE_USER, CREATE_DATE)
    VALUES(:id, :stepId, :name, :process_id, :description, 'DAEMON', TO_CHAR(SYSDATE,'YYYYMMDDHH24MISS')) | Params: {"id":11101,"stepId":"1","name":"WO_INPUT_HANA_AS_:todayHH24_1","process_id":"164","description":"Job Start : ID=127, CFG_ID=164, FTP_ENV_ID=106, FILE_NAME=WO_INPUT_HANA_AS_:todayHH24_1, FILE_DESC=Siliconworks input assy, FILE_CHARSET=utf-8, FILE_TYPE=csv"} / 1
2022-11-16 15:15:00 [EDI System] info: seq : return Key [{"ID":11105}]
2022-11-16 15:15:00 [EDI System] info: saveAllLogger => ID:11105, NAME:WO_INPUT_HANA_AS_:todayHH24_1, ProcessID:167, Description: Job Start : ID=130, CFG_ID=167, FTP_ENV_ID=106, FILE_NAME=WO_INPUT_HANA_AS_:todayHH24_1, FILE_DESC=Siliconworks input assy, FILE_CHARSET=utf-8, FILE_TYPE=csv
2022-11-16 15:15:00 [EDI System] info: INSERT INTO EDI_LOG(ID, STEP, NAME, PROCESS_ID, DESCRIPTION, CREATE_USER, CREATE_DATE)
    VALUES(:id, :stepId, :name, :process_id, :description, 'DAEMON', TO_CHAR(SYSDATE,'YYYYMMDDHH24MISS'))
2022-11-16 15:15:00 [EDI System] info: 
    SELECT *
    FROM (
        SELECT ROWNUM,A.*
            FROM EDI_QUERY_SETTING A
            WHERE SETTING_ID = :id
            AND TYPE='Main'
            ORDER BY ID DESC
        ) 
    WHERE ROWNUM='1'
    
2022-11-16 15:15:00 [EDI System] info: Insert successful = SQL: INSERT INTO EDI_LOG(ID, STEP, NAME, PROCESS_ID, DESCRIPTION, CREATE_USER, CREATE_DATE)
    VALUES(:id, :stepId, :name, :process_id, :description, 'DAEMON', TO_CHAR(SYSDATE,'YYYYMMDDHH24MISS')) | Params: {"id":11102,"stepId":"1","name":"WO_INPUT_HANA_AS_:todayHH24_1","process_id":"165","description":"Job Start : ID=128, CFG_ID=165, FTP_ENV_ID=106, FILE_NAME=WO_INPUT_HANA_AS_:todayHH24_1, FILE_DESC=Siliconworks input assy, FILE_CHARSET=utf-8, FILE_TYPE=csv"} / 1
2022-11-16 15:15:00 [EDI System] info: Insert successful = SQL: INSERT INTO EDI_LOG(ID, STEP, NAME, PROCESS_ID, DESCRIPTION, CREATE_USER, CREATE_DATE)
    VALUES(:id, :stepId, :name, :process_id, :description, 'DAEMON', TO_CHAR(SYSDATE,'YYYYMMDDHH24MISS')) | Params: {"id":11104,"stepId":"1","name":"WO_INPUT_HANA_AS_:todayHH24_1","process_id":"141","description":"Job Start : ID=106, CFG_ID=141, FTP_ENV_ID=106, FILE_NAME=WO_INPUT_HANA_AS_:todayHH24_1, FILE_DESC=Siliconworks input assy, FILE_CHARSET=utf-8, FILE_TYPE=csv"} / 1
2022-11-16 15:15:00 [EDI System] info: 
    SELECT *
    FROM (
        SELECT ROWNUM,A.*
            FROM EDI_QUERY_SETTING A
            WHERE SETTING_ID = :id
            AND TYPE='Main'
            ORDER BY ID DESC
        ) 
    WHERE ROWNUM='1'
    
2022-11-16 15:15:00 [EDI System] info: 
    SELECT *
    FROM (
        SELECT ROWNUM,A.*
            FROM EDI_QUERY_SETTING A
            WHERE SETTING_ID = :id
            AND TYPE='Main'
            ORDER BY ID DESC
        ) 
    WHERE ROWNUM='1'
    
2022-11-16 15:15:00 [EDI System] info: Insert successful = SQL: INSERT INTO EDI_LOG(ID, STEP, NAME, PROCESS_ID, DESCRIPTION, CREATE_USER, CREATE_DATE)
    VALUES(:id, :stepId, :name, :process_id, :description, 'DAEMON', TO_CHAR(SYSDATE,'YYYYMMDDHH24MISS')) | Params: {"id":11103,"stepId":"1","name":"WO_INPUT_HANA_AS_:todayHH24_1","process_id":"166","description":"Job Start : ID=129, CFG_ID=166, FTP_ENV_ID=106, FILE_NAME=WO_INPUT_HANA_AS_:todayHH24_1, FILE_DESC=Siliconworks input assy, FILE_CHARSET=utf-8, FILE_TYPE=csv"} / 1
2022-11-16 15:15:00 [EDI System] info: Insert successful = SQL: INSERT INTO EDI_LOG(ID, STEP, NAME, PROCESS_ID, DESCRIPTION, CREATE_USER, CREATE_DATE)
    VALUES(:id, :stepId, :name, :process_id, :description, 'DAEMON', TO_CHAR(SYSDATE,'YYYYMMDDHH24MISS')) | Params: {"id":11105,"stepId":"1","name":"WO_INPUT_HANA_AS_:todayHH24_1","process_id":"167","description":"Job Start : ID=130, CFG_ID=167, FTP_ENV_ID=106, FILE_NAME=WO_INPUT_HANA_AS_:todayHH24_1, FILE_DESC=Siliconworks input assy, FILE_CHARSET=utf-8, FILE_TYPE=csv"} / 1
2022-11-16 15:15:00 [EDI System] info: 
    SELECT *
    FROM (
        SELECT ROWNUM,A.*
            FROM EDI_QUERY_SETTING A
            WHERE SETTING_ID = :id
            AND TYPE='Main'
            ORDER BY ID DESC
        ) 
    WHERE ROWNUM='1'
    
2022-11-16 15:15:00 [EDI System] info: 
    SELECT *
    FROM (
        SELECT ROWNUM,A.*
            FROM EDI_QUERY_SETTING A
            WHERE SETTING_ID = :id
            AND TYPE='Main'
            ORDER BY ID DESC
        ) 
    WHERE ROWNUM='1'
    
2022-11-16 15:15:00 [EDI System] info: []
2022-11-16 15:15:00 [EDI System] info: 
        SELECT * FROM (
            SELECT *
            FROM EDI_QUERY_SETTING
            WHERE 1=1
            AND SETTING_ID = (
                SELECT ID
                FROM CG_CUSTOMER 
                WHERE PARENT = (
                    SELECT ID
                    FROM CG_CUSTOMER 
                    WHERE ID=(
                        SELECT PARENT
                        FROM CG_CUSTOMER 
                        WHERE ID=(
                            SELECT PARENT 
                            FROM CG_CUSTOMER 
                            WHERE ID=:id
                        )
                    )
                )
                AND LOWER(NAME) = 'common'
            )
            AND TYPE IN ('DB','TEXT')
            AND KEY NOT IN (SELECT KEY
                            FROM EDI_QUERY_SETTING
                            WHERE 1=1
                            AND SETTING_ID = :id
                            AND TYPE IN ('DB','TEXT'))
            UNION ALL
            SELECT *
            FROM EDI_QUERY_SETTING
            WHERE 1=1
            AND SETTING_ID = :id
            AND TYPE IN ('DB','TEXT')
        )
        ORDER BY LENGTH(KEY) DESC
    
2022-11-16 15:15:00 [EDI System] info: [{"ROWNUM":1,"ID":"167","SETTING_ID":"165","KEY":null,"TYPE":"Main","QUERY":"SELECT 'Interface ID'\n || ',' || 'Interface Line ID'\n || ',' || 'SUPPLIER_CODE'\n || ',' || 'PROCESSING_CODE'\n || ',' || 'SIW_WO_NO'\n || ',' || 'SUPPLIER_WO_NO'\n || ',' || 'ASSY_ITEM_CODE'\n || ',' || 'ASSY_QTY'\n || ',' || 'UOM_CODE'\n || ',' || 'WORK_START_DATE'\n || ',' || 'COMPONENT_ITEM_CODE'\n || ',' || 'COMPONENT_LOT_ID'\n || ',' || 'COMPONENT_QTY'\n || ',' || 'REMARK1'\n || ',' || 'CANCEL_FLAG'\n || ',' || 'CREATION_DATE'\n\n  FROM IEDISIW_INPUT_INFO\n WHERE CUTOFF_DT = :todayHH24 -- TO_CHAR(SYSDATE, 'YYYYMMDDHH24')\n   AND PROCESSING_CODE = 'AS'\n   AND ROWNUM = 1\n\nUNION ALL\n\nSELECT IF_ID \n || ',' || IF_LINE_ID \n || ',' || SUPPLIER_CODE \n || ',' || PROCESSING_CODE \n || ',' || SIW_WO_NO \n || ',' || SUPPLIER_WO_NO \n || ',' || ASSY_ITEM_CODE \n || ',' || ASSY_QTY \n || ',' || UOM_CODE \n || ',' || WORK_START_DATE \n || ',' || COMPONENT_ITEM_CODE\n || ',' || COMPONENT_LOT_ID \n || ',' || COMPONENT_QTY \n || ',' || REMARK1 \n || ',' || CANCEL_FLAG \n || ',' || CREATION_DATE \n\n  FROM IEDISIW_INPUT_INFO\n WHERE CUTOFF_DT = :todayHH24 -- TO_CHAR(SYSDATE, 'YYYYMMDDHH24')\n   AND PROCESSING_CODE = 'AS'","CREATE_USER":"6","CREATE_DATE":"2022-02-22 16:18:38","DBTYPE":null}]
2022-11-16 15:15:00 [EDI System] info: 
        SELECT * FROM (
            SELECT *
            FROM EDI_QUERY_SETTING
            WHERE 1=1
            AND SETTING_ID = (
                SELECT ID
                FROM CG_CUSTOMER 
                WHERE PARENT = (
                    SELECT ID
                    FROM CG_CUSTOMER 
                    WHERE ID=(
                        SELECT PARENT
                        FROM CG_CUSTOMER 
                        WHERE ID=(
                            SELECT PARENT 
                            FROM CG_CUSTOMER 
                            WHERE ID=:id
                        )
                    )
                )
                AND LOWER(NAME) = 'common'
            )
            AND TYPE IN ('DB','TEXT')
            AND KEY NOT IN (SELECT KEY
                            FROM EDI_QUERY_SETTING
                            WHERE 1=1
                            AND SETTING_ID = :id
                            AND TYPE IN ('DB','TEXT'))
            UNION ALL
            SELECT *
            FROM EDI_QUERY_SETTING
            WHERE 1=1
            AND SETTING_ID = :id
            AND TYPE IN ('DB','TEXT')
        )
        ORDER BY LENGTH(KEY) DESC
    
2022-11-16 15:15:00 [EDI System] info: [{"ROWNUM":4,"ID":"166","SETTING_ID":"141","KEY":null,"TYPE":"Main","QUERY":"SELECT 'Interface ID'\n || ',' || 'Interface Line ID'\n || ',' || 'SUPPLIER_CODE'\n || ',' || 'PROCESSING_CODE'\n || ',' || 'SIW_WO_NO'\n || ',' || 'SUPPLIER_WO_NO'\n || ',' || 'ASSY_ITEM_CODE'\n || ',' || 'ASSY_QTY'\n || ',' || 'UOM_CODE'\n || ',' || 'WORK_START_DATE'\n || ',' || 'COMPONENT_ITEM_CODE'\n || ',' || 'COMPONENT_LOT_ID'\n || ',' || 'COMPONENT_QTY'\n || ',' || 'REMARK1'\n || ',' || 'CANCEL_FLAG'\n || ',' || 'CREATION_DATE'\n\n  FROM IEDISIW_INPUT_INFO\n WHERE CUTOFF_DT = :todayHH24 -- TO_CHAR(SYSDATE, 'YYYYMMDDHH24')\n   AND PROCESSING_CODE = 'AS'\n   AND ROWNUM = 1\n\tAND ROWNUM = 2\n    \nUNION ALL\n\nSELECT IF_ID \n || ',' || IF_LINE_ID \n || ',' || SUPPLIER_CODE \n || ',' || PROCESSING_CODE \n || ',' || SIW_WO_NO \n || ',' || SUPPLIER_WO_NO \n || ',' || ASSY_ITEM_CODE \n || ',' || ASSY_QTY \n || ',' || UOM_CODE \n || ',' || WORK_START_DATE \n || ',' || COMPONENT_ITEM_CODE\n || ',' || COMPONENT_LOT_ID \n || ',' || COMPONENT_QTY \n || ',' || REMARK1 \n || ',' || CANCEL_FLAG \n || ',' || CREATION_DATE \n\n  FROM IEDISIW_INPUT_INFO\n WHERE CUTOFF_DT = :todayHH24 -- TO_CHAR(SYSDATE, 'YYYYMMDDHH24')\n   AND PROCESSING_CODE = 'AS'","CREATE_USER":"6","CREATE_DATE":"2022-02-16 16:42:57","DBTYPE":"MES"}]
2022-11-16 15:15:00 [EDI System] info: 
        SELECT * FROM (
            SELECT *
            FROM EDI_QUERY_SETTING
            WHERE 1=1
            AND SETTING_ID = (
                SELECT ID
                FROM CG_CUSTOMER 
                WHERE PARENT = (
                    SELECT ID
                    FROM CG_CUSTOMER 
                    WHERE ID=(
                        SELECT PARENT
                        FROM CG_CUSTOMER 
                        WHERE ID=(
                            SELECT PARENT 
                            FROM CG_CUSTOMER 
                            WHERE ID=:id
                        )
                    )
                )
                AND LOWER(NAME) = 'common'
            )
            AND TYPE IN ('DB','TEXT')
            AND KEY NOT IN (SELECT KEY
                            FROM EDI_QUERY_SETTING
                            WHERE 1=1
                            AND SETTING_ID = :id
                            AND TYPE IN ('DB','TEXT'))
            UNION ALL
            SELECT *
            FROM EDI_QUERY_SETTING
            WHERE 1=1
            AND SETTING_ID = :id
            AND TYPE IN ('DB','TEXT')
        )
        ORDER BY LENGTH(KEY) DESC
    
2022-11-16 15:15:00 [EDI System] info: []
2022-11-16 15:15:00 [EDI System] info: 
        SELECT * FROM (
            SELECT *
            FROM EDI_QUERY_SETTING
            WHERE 1=1
            AND SETTING_ID = (
                SELECT ID
                FROM CG_CUSTOMER 
                WHERE PARENT = (
                    SELECT ID
                    FROM CG_CUSTOMER 
                    WHERE ID=(
                        SELECT PARENT
                        FROM CG_CUSTOMER 
                        WHERE ID=(
                            SELECT PARENT 
                            FROM CG_CUSTOMER 
                            WHERE ID=:id
                        )
                    )
                )
                AND LOWER(NAME) = 'common'
            )
            AND TYPE IN ('DB','TEXT')
            AND KEY NOT IN (SELECT KEY
                            FROM EDI_QUERY_SETTING
                            WHERE 1=1
                            AND SETTING_ID = :id
                            AND TYPE IN ('DB','TEXT'))
            UNION ALL
            SELECT *
            FROM EDI_QUERY_SETTING
            WHERE 1=1
            AND SETTING_ID = :id
            AND TYPE IN ('DB','TEXT')
        )
        ORDER BY LENGTH(KEY) DESC
    
2022-11-16 15:15:00 [EDI System] info: [{"ROWNUM":1,"ID":"169","SETTING_ID":"167","KEY":null,"TYPE":"Main","QUERY":"SELECT 'Interface ID'\n || ',' || 'Interface Line ID'\n || ',' || 'SUPPLIER_CODE'\n || ',' || 'PROCESSING_CODE'\n || ',' || 'SIW_WO_NO'\n || ',' || 'SUPPLIER_WO_NO'\n || ',' || 'ASSY_ITEM_CODE'\n || ',' || 'ASSY_QTY'\n || ',' || 'UOM_CODE'\n || ',' || 'WORK_START_DATE'\n || ',' || 'COMPONENT_ITEM_CODE'\n || ',' || 'COMPONENT_LOT_ID'\n || ',' || 'COMPONENT_QTY'\n || ',' || 'REMARK1'\n || ',' || 'CANCEL_FLAG'\n || ',' || 'CREATION_DATE'\n\n  FROM IEDISIW_INPUT_INFO\n WHERE CUTOFF_DT = :todayHH24 -- TO_CHAR(SYSDATE, 'YYYYMMDDHH24')\n   AND PROCESSING_CODE = 'AS'\n   AND ROWNUM = 1\n\tAND ROWNUM = 2\n    \nUNION ALL\n\nSELECT IF_ID \n || ',' || IF_LINE_ID \n || ',' || SUPPLIER_CODE \n || ',' || PROCESSING_CODE \n || ',' || SIW_WO_NO \n || ',' || SUPPLIER_WO_NO \n || ',' || ASSY_ITEM_CODE \n || ',' || ASSY_QTY \n || ',' || UOM_CODE \n || ',' || WORK_START_DATE \n || ',' || COMPONENT_ITEM_CODE\n || ',' || COMPONENT_LOT_ID \n || ',' || COMPONENT_QTY \n || ',' || REMARK1 \n || ',' || CANCEL_FLAG \n || ',' || CREATION_DATE \n\n  FROM IEDISIW_INPUT_INFO\n WHERE CUTOFF_DT = :todayHH24 -- TO_CHAR(SYSDATE, 'YYYYMMDDHH24')\n   AND PROCESSING_CODE = 'AS'","CREATE_USER":"6","CREATE_DATE":"2022-02-22 16:23:34","DBTYPE":"MES"}]
2022-11-16 15:15:00 [EDI System] info: 
        SELECT * FROM (
            SELECT *
            FROM EDI_QUERY_SETTING
            WHERE 1=1
            AND SETTING_ID = (
                SELECT ID
                FROM CG_CUSTOMER 
                WHERE PARENT = (
                    SELECT ID
                    FROM CG_CUSTOMER 
                    WHERE ID=(
                        SELECT PARENT
                        FROM CG_CUSTOMER 
                        WHERE ID=(
                            SELECT PARENT 
                            FROM CG_CUSTOMER 
                            WHERE ID=:id
                        )
                    )
                )
                AND LOWER(NAME) = 'common'
            )
            AND TYPE IN ('DB','TEXT')
            AND KEY NOT IN (SELECT KEY
                            FROM EDI_QUERY_SETTING
                            WHERE 1=1
                            AND SETTING_ID = :id
                            AND TYPE IN ('DB','TEXT'))
            UNION ALL
            SELECT *
            FROM EDI_QUERY_SETTING
            WHERE 1=1
            AND SETTING_ID = :id
            AND TYPE IN ('DB','TEXT')
        )
        ORDER BY LENGTH(KEY) DESC
    
2022-11-16 15:15:00 [EDI System] info: [{"ID":"133","SETTING_ID":"139","KEY":"todayHH24_M1H","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE - 1/24,'YYYYMMDDHH24') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-11-12 05:01:01","DBTYPE":"MES"},{"ID":"132","SETTING_ID":"139","KEY":"todayHH24","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE,'YYYYMMDDHH24') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-11-12 05:01:01","DBTYPE":"MES"},{"ID":"131","SETTING_ID":"139","KEY":"today_yy","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE,'YYYYMMDDHH24') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-11-12 05:01:01","DBTYPE":"MES"},{"ID":"134","SETTING_ID":"139","KEY":"today","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE,'YYYYMMDDHH24') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-11-12 05:01:01","DBTYPE":"MES"}]
2022-11-16 15:15:00 [EDI System] info: 
    SELECT *
    FROM EDI_ENV_SETTING WHERE CFG_ID=:id
    
2022-11-16 15:15:00 [EDI System] info: [{"ID":"133","SETTING_ID":"139","KEY":"todayHH24_M1H","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE - 1/24,'YYYYMMDDHH24') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-11-12 05:01:01","DBTYPE":"MES"},{"ID":"132","SETTING_ID":"139","KEY":"todayHH24","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE,'YYYYMMDDHH24') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-11-12 05:01:01","DBTYPE":"MES"},{"ID":"131","SETTING_ID":"139","KEY":"today_yy","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE,'YYYYMMDDHH24') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-11-12 05:01:01","DBTYPE":"MES"},{"ID":"134","SETTING_ID":"139","KEY":"today","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE,'YYYYMMDDHH24') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-11-12 05:01:01","DBTYPE":"MES"}]
2022-11-16 15:15:00 [EDI System] info: [{"ID":"133","SETTING_ID":"139","KEY":"todayHH24_M1H","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE - 1/24,'YYYYMMDDHH24') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-11-12 05:01:01","DBTYPE":"MES"},{"ID":"132","SETTING_ID":"139","KEY":"todayHH24","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE,'YYYYMMDDHH24') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-11-12 05:01:01","DBTYPE":"MES"},{"ID":"131","SETTING_ID":"139","KEY":"today_yy","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE,'YYYYMMDDHH24') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-11-12 05:01:01","DBTYPE":"MES"},{"ID":"134","SETTING_ID":"139","KEY":"today","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE,'YYYYMMDDHH24') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-11-12 05:01:01","DBTYPE":"MES"}]
2022-11-16 15:15:00 [EDI System] info: [{"ID":"133","SETTING_ID":"139","KEY":"todayHH24_M1H","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE - 1/24,'YYYYMMDDHH24') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-11-12 05:01:01","DBTYPE":"MES"},{"ID":"132","SETTING_ID":"139","KEY":"todayHH24","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE,'YYYYMMDDHH24') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-11-12 05:01:01","DBTYPE":"MES"},{"ID":"131","SETTING_ID":"139","KEY":"today_yy","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE,'YYYYMMDDHH24') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-11-12 05:01:01","DBTYPE":"MES"},{"ID":"134","SETTING_ID":"139","KEY":"today","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE,'YYYYMMDDHH24') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-11-12 05:01:01","DBTYPE":"MES"}]
2022-11-16 15:15:00 [EDI System] info: 
    SELECT *
    FROM EDI_ENV_SETTING WHERE CFG_ID=:id
    
2022-11-16 15:15:00 [EDI System] info: [{"ID":"133","SETTING_ID":"139","KEY":"todayHH24_M1H","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE - 1/24,'YYYYMMDDHH24') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-11-12 05:01:01","DBTYPE":"MES"},{"ID":"132","SETTING_ID":"139","KEY":"todayHH24","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE,'YYYYMMDDHH24') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-11-12 05:01:01","DBTYPE":"MES"},{"ID":"131","SETTING_ID":"139","KEY":"today_yy","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE,'YYYYMMDDHH24') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-11-12 05:01:01","DBTYPE":"MES"},{"ID":"134","SETTING_ID":"139","KEY":"today","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE,'YYYYMMDDHH24') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-11-12 05:01:01","DBTYPE":"MES"}]
2022-11-16 15:15:00 [EDI System] info: [{"ID":"139","CFG_ID":"164","ITEM":"between","SET_TYPE":null,"VALUE":"vetween","NOTE":"1","UPDATE_USER":null,"UPDATE_DATE":null,"CREATE_USER":"6","CREATE_DATE":"2022-02-22 16:13:42"}]
2022-11-16 15:15:00 [EDI System] info: 
  SELECT *
  FROM EDI_FILE_HEADNTAIL WHERE CFG_ID=:id
  
2022-11-16 15:15:00 [EDI System] info: [{"ID":"141","CFG_ID":"166","ITEM":"between","SET_TYPE":null,"VALUE":"vetween","NOTE":"1","UPDATE_USER":null,"UPDATE_DATE":null,"CREATE_USER":"6","CREATE_DATE":"2022-02-22 16:21:15"}]
2022-11-16 15:15:00 [EDI System] info: 
  SELECT *
  FROM EDI_FILE_HEADNTAIL WHERE CFG_ID=:id
  
2022-11-16 15:15:00 [EDI System] info: [{"ID":"149","CFG_ID":"164","DATA_TYPE":"h_text","NOTE":"test","VALUE":"value","CM_F01":null,"CM_F02":null,"UPDATE_USER":null,"UPDATE_DATE":null,"CREATE_USER":"6","CREATE_DATE":"2022-02-22 16:13:42","DELETE_DATE":null,"DELETE_USER":null},{"ID":"148","CFG_ID":"164","DATA_TYPE":"h_sql","NOTE":"test\\","VALUE":"select 1 from dual","CM_F01":null,"CM_F02":null,"UPDATE_USER":null,"UPDATE_DATE":null,"CREATE_USER":"6","CREATE_DATE":"2022-02-22 16:13:42","DELETE_DATE":null,"DELETE_USER":null}]
2022-11-16 15:15:00 [EDI System] info: [{"ID":"152","CFG_ID":"166","DATA_TYPE":"h_sql","NOTE":"test\\","VALUE":"select 1 from dual","CM_F01":null,"CM_F02":null,"UPDATE_USER":null,"UPDATE_DATE":null,"CREATE_USER":"6","CREATE_DATE":"2022-02-22 16:21:15","DELETE_DATE":null,"DELETE_USER":null},{"ID":"153","CFG_ID":"166","DATA_TYPE":"h_text","NOTE":"test","VALUE":"value","CM_F01":null,"CM_F02":null,"UPDATE_USER":null,"UPDATE_DATE":null,"CREATE_USER":"6","CREATE_DATE":"2022-02-22 16:21:15","DELETE_DATE":null,"DELETE_USER":null}]
2022-11-16 15:16:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 15:17:30 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 15:17:30 [EDI System] info: Job Start Time > {"min":17,"hour":15,"date":16,"month":11,"day":3}
 {"ID":122,"CFG_ID":"160","FILE_NAME":"CMEQPUNT_HM:today_2","FILE_DESC":"SEC CMEQPUNT 1/1day","FILE_SAVE_FOLDER":"D:/HM_EDI/SEC/OUT","FILE_CHARSET":"ascii","FILE_TYPE":"ff","DATA_TYPE":"text","FTP_ENV_ID":"100","SEND_FLAG":"Y","NODATASEND":"false","SCHEDULE_MIN":"17","SCHEDULE_HOUR":"*","SCHEDULE_DAY":"*","SCHEDULE_WEEK":"*","SCHEDULE_MONTH":"*","CM_F01":null,"CM_F02":null,"CREATE_DATE":"2021-12-14 11:47:39","CREATE_USER":"6","UPDATE_DATE":"2022-01-06 04:38:43","UPDATE_USER":"6","DELETE_DATE":null,"DELETE_USER":null,"frequency":"17 * * * *"}
2022-11-16 15:17:30 [EDI System] info: 122 >>> makeFileText Function Execute
2022-11-16 15:17:30 [EDI System] info: Job Start Time > {"min":17,"hour":15,"date":16,"month":11,"day":3}
 {"ID":123,"CFG_ID":"161","FILE_NAME":"WO_INPUT_HANA_FT_:todayHH24_1","FILE_DESC":"Siliconworks input TEST","FILE_SAVE_FOLDER":"D:/HM_EDI/SILICONWOKRS/OUT","FILE_CHARSET":"utf-8","FILE_TYPE":"csv","DATA_TYPE":"text","FTP_ENV_ID":"106","SEND_FLAG":"Y","NODATASEND":"false","SCHEDULE_MIN":"17","SCHEDULE_HOUR":"*","SCHEDULE_DAY":"*","SCHEDULE_WEEK":"*","SCHEDULE_MONTH":"*","CM_F01":null,"CM_F02":null,"CREATE_DATE":"2022-01-05 10:54:36","CREATE_USER":"6","UPDATE_DATE":"2022-02-15 11:38:03","UPDATE_USER":"6","DELETE_DATE":null,"DELETE_USER":null,"frequency":"17 * * * *"}
2022-11-16 15:17:30 [EDI System] info: 123 >>> makeFileText Function Execute
2022-11-16 15:17:30 [EDI System] info: SELECT EDI_LOG_SEQ.NEXTVAL AS ID FROM DUAL
2022-11-16 15:17:30 [EDI System] info: SELECT EDI_LOG_SEQ.NEXTVAL AS ID FROM DUAL
2022-11-16 15:17:30 [EDI System] info: SELECT EDI_LOG_SEQ.NEXTVAL AS ID FROM DUAL
2022-11-16 15:17:30 [EDI System] info: SELECT EDI_LOG_SEQ.NEXTVAL AS ID FROM DUAL
2022-11-16 15:17:30 [EDI System] info: [{"ID":11106}]
2022-11-16 15:17:30 [EDI System] info: seq : return Key [{"ID":11106}]
2022-11-16 15:17:30 [EDI System] info: saveAllLogger => ID:11106, NAME:CMEQPUNT_HM:today_2, ProcessID:160, Description: Job Start : ID=122, CFG_ID=160, FTP_ENV_ID=100, FILE_NAME=CMEQPUNT_HM:today_2, FILE_DESC=SEC CMEQPUNT 1/1day, FILE_CHARSET=ascii, FILE_TYPE=ff
2022-11-16 15:17:30 [EDI System] info: INSERT INTO EDI_LOG(ID, STEP, NAME, PROCESS_ID, DESCRIPTION, CREATE_USER, CREATE_DATE)
    VALUES(:id, :stepId, :name, :process_id, :description, 'DAEMON', TO_CHAR(SYSDATE,'YYYYMMDDHH24MISS'))
2022-11-16 15:17:30 [EDI System] info: [{"ID":11107}]
2022-11-16 15:17:30 [EDI System] info: seq : return Key [{"ID":11107}]
2022-11-16 15:17:30 [EDI System] info: saveAllLogger => ID:11107, NAME:WO_INPUT_HANA_FT_:todayHH24_1, ProcessID:161, Description: Job Start : ID=123, CFG_ID=161, FTP_ENV_ID=106, FILE_NAME=WO_INPUT_HANA_FT_:todayHH24_1, FILE_DESC=Siliconworks input TEST, FILE_CHARSET=utf-8, FILE_TYPE=csv
2022-11-16 15:17:30 [EDI System] info: INSERT INTO EDI_LOG(ID, STEP, NAME, PROCESS_ID, DESCRIPTION, CREATE_USER, CREATE_DATE)
    VALUES(:id, :stepId, :name, :process_id, :description, 'DAEMON', TO_CHAR(SYSDATE,'YYYYMMDDHH24MISS'))
2022-11-16 15:17:30 [EDI System] info: Insert successful = SQL: INSERT INTO EDI_LOG(ID, STEP, NAME, PROCESS_ID, DESCRIPTION, CREATE_USER, CREATE_DATE)
    VALUES(:id, :stepId, :name, :process_id, :description, 'DAEMON', TO_CHAR(SYSDATE,'YYYYMMDDHH24MISS')) | Params: {"id":11106,"stepId":"1","name":"CMEQPUNT_HM:today_2","process_id":"160","description":"Job Start : ID=122, CFG_ID=160, FTP_ENV_ID=100, FILE_NAME=CMEQPUNT_HM:today_2, FILE_DESC=SEC CMEQPUNT 1/1day, FILE_CHARSET=ascii, FILE_TYPE=ff"} / 1
2022-11-16 15:17:30 [EDI System] info: 
    SELECT *
    FROM (
        SELECT ROWNUM,A.*
            FROM EDI_QUERY_SETTING A
            WHERE SETTING_ID = :id
            AND TYPE='Main'
            ORDER BY ID DESC
        ) 
    WHERE ROWNUM='1'
    
2022-11-16 15:17:30 [EDI System] info: Insert successful = SQL: INSERT INTO EDI_LOG(ID, STEP, NAME, PROCESS_ID, DESCRIPTION, CREATE_USER, CREATE_DATE)
    VALUES(:id, :stepId, :name, :process_id, :description, 'DAEMON', TO_CHAR(SYSDATE,'YYYYMMDDHH24MISS')) | Params: {"id":11107,"stepId":"1","name":"WO_INPUT_HANA_FT_:todayHH24_1","process_id":"161","description":"Job Start : ID=123, CFG_ID=161, FTP_ENV_ID=106, FILE_NAME=WO_INPUT_HANA_FT_:todayHH24_1, FILE_DESC=Siliconworks input TEST, FILE_CHARSET=utf-8, FILE_TYPE=csv"} / 1
2022-11-16 15:17:30 [EDI System] info: 
    SELECT *
    FROM (
        SELECT ROWNUM,A.*
            FROM EDI_QUERY_SETTING A
            WHERE SETTING_ID = :id
            AND TYPE='Main'
            ORDER BY ID DESC
        ) 
    WHERE ROWNUM='1'
    
2022-11-16 15:17:30 [EDI System] info: [{"ROWNUM":2,"ID":"160","SETTING_ID":"161","KEY":null,"TYPE":"Main","QUERY":"SELECT 'Interface ID'\n || ',' || 'Interface Line ID'\n || ',' || 'SUPPLIER_CODE'\n || ',' || 'PROCESSING_CODE'\n || ',' || 'SIW_WO_NO'\n || ',' || 'SUPPLIER_WO_NO'\n || ',' || 'ASSY_ITEM_CODE'\n || ',' || 'ASSY_QTY'\n || ',' || 'UOM_CODE'\n || ',' || 'WORK_START_DATE'\n || ',' || 'COMPONENT_ITEM_CODE'\n || ',' || 'COMPONENT_LOT_ID'\n || ',' || 'COMPONENT_QTY'\n || ',' || 'REMARK1'\n || ',' || 'CANCEL_FLAG'\n || ',' || 'CREATION_DATE'\n\n  FROM IEDISIW_INPUT_INFO\n WHERE CUTOFF_DT = :todayHH24 -- TO_CHAR(SYSDATE, 'YYYYMMDDHH24')\n   AND PROCESSING_CODE = 'FT'\n   AND ROWNUM = 1\n\nUNION ALL\n\nSELECT IF_ID \n || ',' || IF_LINE_ID \n || ',' || SUPPLIER_CODE \n || ',' || PROCESSING_CODE \n || ',' || SIW_WO_NO \n || ',' || SUPPLIER_WO_NO \n || ',' || ASSY_ITEM_CODE \n || ',' || ASSY_QTY \n || ',' || UOM_CODE \n || ',' || WORK_START_DATE \n || ',' || COMPONENT_ITEM_CODE\n || ',' || COMPONENT_LOT_ID \n || ',' || COMPONENT_QTY \n || ',' || REMARK1 \n || ',' || CANCEL_FLAG \n || ',' || CREATION_DATE \n\n  FROM IEDISIW_INPUT_INFO\n WHERE CUTOFF_DT = :todayHH24 -- TO_CHAR(SYSDATE, 'YYYYMMDDHH24')\n   AND PROCESSING_CODE = 'FT'","CREATE_USER":"6","CREATE_DATE":"2022-01-11 05:18:23","DBTYPE":"MES"}]
2022-11-16 15:17:30 [EDI System] info: 
        SELECT * FROM (
            SELECT *
            FROM EDI_QUERY_SETTING
            WHERE 1=1
            AND SETTING_ID = (
                SELECT ID
                FROM CG_CUSTOMER 
                WHERE PARENT = (
                    SELECT ID
                    FROM CG_CUSTOMER 
                    WHERE ID=(
                        SELECT PARENT
                        FROM CG_CUSTOMER 
                        WHERE ID=(
                            SELECT PARENT 
                            FROM CG_CUSTOMER 
                            WHERE ID=:id
                        )
                    )
                )
                AND LOWER(NAME) = 'common'
            )
            AND TYPE IN ('DB','TEXT')
            AND KEY NOT IN (SELECT KEY
                            FROM EDI_QUERY_SETTING
                            WHERE 1=1
                            AND SETTING_ID = :id
                            AND TYPE IN ('DB','TEXT'))
            UNION ALL
            SELECT *
            FROM EDI_QUERY_SETTING
            WHERE 1=1
            AND SETTING_ID = :id
            AND TYPE IN ('DB','TEXT')
        )
        ORDER BY LENGTH(KEY) DESC
    
2022-11-16 15:17:30 [EDI System] info: [{"ROWNUM":1,"ID":"153","SETTING_ID":"160","KEY":null,"TYPE":"Main","QUERY":"--//-- 20211203 chulho.wee ; CREATE\nSELECT \n  RPAD(START_TAG, 3, ' ')\n|| RPAD(OEM_CODE, 2, ' ')\n|| RPAD(MONTH, 6, ' ')\n|| RPAD(C_DATE, 8, ' ')\n|| RPAD(O_DATE, 8, ' ')\n|| RPAD(OEM_AREA, 4, ' ')\n|| RPAD(CUST_DEVICE, 30, ' ')\n|| RPAD(OPER_DESC, 15, ' ')\n|| RPAD(EQP_GROUP, 15, ' ')\n\n|| RPAD(EQP_MODEL, 30, ' ')\n|| RPAD(RES_ID, 15, ' ')\n|| RPAD(OPER, 6, ' ')\n\n|| RPAD(SUM(QTY), 10, ' ')\n|| RPAD(LOT_TYPE, 2, ' ')\n|| RPAD(PARA, 3, ' ')\n\n|| RPAD(TEST_TIME, 10, ' ')\n|| RPAD(INDEX_TIME, 10, ' ')\n|| RPAD(ATE_TIME, 10, ' ')\n\n|| RPAD(EQP_PRICE, 10, ' ')\n|| RPAD(ATE_PRICE, 10, ' ')\n|| RPAD(MVP_PRICE, 10, ' ')\n|| RPAD(PVI_PRICE, 10, ' ')\n|| RPAD(UNIT_PRICE, 10, ' ')\n\n|| RPAD(FULL_HALF, 10, ' ')\n|| RPAD(CREATE_TIME, 14, ' ')\n|| RPAD(REMARK, 200, ' ')\n  FROM\n(\n    SELECT 'LS1' START_TAG\n         , 'HM' OEM_CODE\n         , CASE\n            WHEN TO_CHAR(SYSDATE, 'DD') >= 28 THEN\n                 TO_CHAR(ADD_MONTHS(SYSDATE, +1), 'YYYYMM')\n            ELSE\n                 TO_CHAR(ADD_MONTHS(SYSDATE, -0), 'YYYYMM')\n           END AS \"MONTH\"\n         --, TO_CHAR(SYSDATE, 'DD') C_DATE\n         , TO_CHAR(SYSDATE, 'YYYYMMDD') C_DATE\n         , SUBSTR(LOT.TRAN_TIME, 1,8) AS O_DATE\n         , 'HMKT' AS OEM_AREA\n         \n         , TST.CUST_DVC CUST_DEVICE\n         , DECODE(TST.OPER ,'T0100', 'ATE', 'T0960', 'ASB', 'T0500', 'MVP', TST.OPER) OPER_DESC\n         \n         , (SELECT NVL(ATTR_VALUE, 'NULL') FROM MATRNAMSTS WHERE FACTORY = 'HMKT1' AND ATTR_TYPE = 'RESOURCE' AND ATTR_NAME = 'EQP_GROUP' AND ATTR_KEY = LOT.END_RES_ID) AS EQP_GROUP\n         , (SELECT NVL(ATTR_VALUE, 'NULL') FROM MATRNAMSTS WHERE FACTORY = 'HMKT1' AND ATTR_TYPE = 'RESOURCE' AND ATTR_NAME = 'EQP_MODEL' AND ATTR_KEY = LOT.END_RES_ID) AS EQP_MODEL\n         , LOT.OLD_OPER AS OPER\n         , LOT.END_RES_ID AS RES_ID\n         , LOT_CMF_5 LOT_TYPE\n\n         , LOT.QTY_1 AS QTY\n         , TST.PARA AS PARA\n         , TST.TEST_TIME AS TEST_TIME\n         , TST.INDEX_TIME AS INDEX_TIME\n         , TST.ATE_TIME AS ATE_TIME\n         , TST.EQP_PRICE AS EQP_PRICE\n         , TST.ATE_PRICE AS ATE_PRICE\n--         , (((TST.TEST_TIME + TST.INDEX_TIME) * TST.EQP_PRICE) / TST.PARA) AS ATE_PRICE\n         , TST.MVP_PRICE AS MVP_PRICE\n         , TST.PVI_PRICE AS PVI_PRICE\n         , TST.UNIT_PRICE AS UNIT_PRICE\n         , TST.FULL_HALF AS FULL_HALF\n         , TO_CHAR(SYSDATE, 'YYYYMMDDHH24MISS') AS CREATE_TIME\n         , ' ' AS REMARK\n      FROM MWIPLOTHIS LOT, VGCMTBLDAT_TEST_TIME_INF2 TST\n     WHERE 1=1\n       AND LOT.MAT_ID = TST.MAT_ID\n       AND LOT.OLD_OPER = TST.OPER\n       AND TST.MODEL = (SELECT NVL(ATTR_VALUE, 'NULL') FROM MATRNAMSTS WHERE FACTORY = 'HMKT1' AND ATTR_TYPE = 'RESOURCE' AND ATTR_NAME = 'EQP_MODEL' AND ATTR_KEY = LOT.END_RES_ID)\n       AND LOT.TRAN_TIME >= CASE WHEN TO_CHAR(SYSDATE, 'DD') >= 28 THEN\n                       TO_CHAR(ADD_MONTHS(SYSDATE, -0), 'YYYYMM')||'27'||'22'\n                       ELSE\n                       TO_CHAR(ADD_MONTHS(SYSDATE, -1), 'YYYYMM')||'27'||'22'\n                       END --AS PREV_MON\n           \n       AND LOT.TRAN_TIME < CASE WHEN TO_CHAR(SYSDATE, 'DD') >= 28 THEN\n                       TO_CHAR(ADD_MONTHS(SYSDATE, +1), 'YYYYMM')||'27'||'22'\n                       ELSE\n                       TO_CHAR(ADD_MONTHS(SYSDATE, -0), 'YYYYMM')||'27'||'22'\n                       END --AS CURR_MON\n       AND LOT.FACTORY = 'HMKT1'\n       AND LOT.TRAN_CODE = 'END'\n       AND LOT.OLD_OPER in ('T0100', 'T0960', 'T0500')\n--       AND TST.CUST_DVC = 'L6HD311A01-P040-A00VCD'\n--       AND LOT.MAT_ID = 'SEL6HD311A01-P040-A00KUVCD'\n)\nGROUP BY START_TAG\n, OEM_CODE\n, MONTH\n, C_DATE\n, O_DATE\n, OEM_AREA\n\n, CUST_DEVICE\n, OPER_DESC\n\n, EQP_GROUP\n, EQP_MODEL\n, OPER\n, RES_ID\n, LOT_TYPE\n\n, PARA\n, TEST_TIME\n, INDEX_TIME\n, ATE_TIME\n, EQP_PRICE\n, ATE_PRICE\n, MVP_PRICE\n, PVI_PRICE\n, UNIT_PRICE\n, FULL_HALF\n, CREATE_TIME\n, REMARK\nORDER BY 1","CREATE_USER":"6","CREATE_DATE":"2021-12-14 11:47:40","DBTYPE":"MES"}]
2022-11-16 15:17:30 [EDI System] info: 
        SELECT * FROM (
            SELECT *
            FROM EDI_QUERY_SETTING
            WHERE 1=1
            AND SETTING_ID = (
                SELECT ID
                FROM CG_CUSTOMER 
                WHERE PARENT = (
                    SELECT ID
                    FROM CG_CUSTOMER 
                    WHERE ID=(
                        SELECT PARENT
                        FROM CG_CUSTOMER 
                        WHERE ID=(
                            SELECT PARENT 
                            FROM CG_CUSTOMER 
                            WHERE ID=:id
                        )
                    )
                )
                AND LOWER(NAME) = 'common'
            )
            AND TYPE IN ('DB','TEXT')
            AND KEY NOT IN (SELECT KEY
                            FROM EDI_QUERY_SETTING
                            WHERE 1=1
                            AND SETTING_ID = :id
                            AND TYPE IN ('DB','TEXT'))
            UNION ALL
            SELECT *
            FROM EDI_QUERY_SETTING
            WHERE 1=1
            AND SETTING_ID = :id
            AND TYPE IN ('DB','TEXT')
        )
        ORDER BY LENGTH(KEY) DESC
    
2022-11-16 15:17:30 [EDI System] info: [{"ID":"133","SETTING_ID":"139","KEY":"todayHH24_M1H","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE - 1/24,'YYYYMMDDHH24') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-11-12 05:01:01","DBTYPE":"MES"},{"ID":"132","SETTING_ID":"139","KEY":"todayHH24","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE,'YYYYMMDDHH24') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-11-12 05:01:01","DBTYPE":"MES"},{"ID":"131","SETTING_ID":"139","KEY":"today_yy","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE,'YYYYMMDDHH24') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-11-12 05:01:01","DBTYPE":"MES"},{"ID":"134","SETTING_ID":"139","KEY":"today","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE,'YYYYMMDDHH24') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-11-12 05:01:01","DBTYPE":"MES"}]
2022-11-16 15:17:30 [EDI System] info: [{"ID":"137","SETTING_ID":"129","KEY":"todayHH24MISS","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE,'YYYYMMDDHH24MISS') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-11-12 05:20:22","DBTYPE":"MES"},{"ID":"124","SETTING_ID":"129","KEY":"todayHH24_M1H","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE - 1/24,'YYYYMMDDHH24') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-10-15 01:40:03","DBTYPE":"MES"},{"ID":"122","SETTING_ID":"129","KEY":"todayHH24","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE,'YYYYMMDDHH24') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-10-15 11:47:10","DBTYPE":"MES"},{"ID":"115","SETTING_ID":"129","KEY":"today_yy","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE,'YYYYMMDDHH24') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-09-24 08:46:51","DBTYPE":"MES"},{"ID":"130","SETTING_ID":"129","KEY":"today","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE,'YYYYMMDD') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-11-09 03:36:41","DBTYPE":"MES"}]
2022-11-16 15:18:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 15:19:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 15:20:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 15:21:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 15:22:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 15:23:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 15:24:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 15:25:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 15:26:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 15:27:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 15:28:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 15:29:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 15:30:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 15:31:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 15:32:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 15:33:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 15:34:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 15:35:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 15:36:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 15:37:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 15:38:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 15:39:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 15:40:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 15:41:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 15:42:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 15:43:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 15:44:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 15:45:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 15:46:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 15:47:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 15:48:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 15:49:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 15:50:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 15:51:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 15:52:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 15:53:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 15:54:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 15:55:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 15:56:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 15:57:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 15:58:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 15:59:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 16:00:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 16:00:00 [EDI System] info: Job Start Time > {"min":0,"hour":16,"date":16,"month":11,"day":3}
 {"ID":107,"CFG_ID":"143","FILE_NAME":"CMWIPINF_HM:todayHH24","FILE_DESC":"SEC CMWIPINF 1/1HR","FILE_SAVE_FOLDER":"D:/HM_EDI/SEC/OUT","FILE_CHARSET":"ascii","FILE_TYPE":"ff","DATA_TYPE":"text","FTP_ENV_ID":"100","SEND_FLAG":"Y","NODATASEND":"false","SCHEDULE_MIN":"0","SCHEDULE_HOUR":"*","SCHEDULE_DAY":"*","SCHEDULE_WEEK":"*","SCHEDULE_MONTH":"*","CM_F01":null,"CM_F02":null,"CREATE_DATE":"2021-11-12 05:17:07","CREATE_USER":"6","UPDATE_DATE":"2021-12-24 04:17:35","UPDATE_USER":"6","DELETE_DATE":null,"DELETE_USER":null,"frequency":"0 * * * *"}
2022-11-16 16:00:00 [EDI System] info: 107 >>> makeFileText Function Execute
2022-11-16 16:00:00 [EDI System] info: Job Start Time > {"min":0,"hour":16,"date":16,"month":11,"day":3}
 {"ID":109,"CFG_ID":"147","FILE_NAME":"CMWIPINF_HM:todayHH24_2","FILE_DESC":"TEST 2 //// SEC CMWIPINF 1/1HR ","FILE_SAVE_FOLDER":"D:/HM_EDI/SEC/OUT","FILE_CHARSET":"ascii","FILE_TYPE":"ff","DATA_TYPE":"text","FTP_ENV_ID":"100","SEND_FLAG":"Y","NODATASEND":null,"SCHEDULE_MIN":"0","SCHEDULE_HOUR":"*","SCHEDULE_DAY":"*","SCHEDULE_WEEK":"*","SCHEDULE_MONTH":"*","CM_F01":null,"CM_F02":null,"CREATE_DATE":"2021-11-19 05:22:50","CREATE_USER":"6","UPDATE_DATE":"2021-12-24 04:17:41","UPDATE_USER":"6","DELETE_DATE":null,"DELETE_USER":null,"frequency":"0 * * * *"}
2022-11-16 16:00:00 [EDI System] info: 109 >>> makeFileText Function Execute
2022-11-16 16:00:00 [EDI System] info: Job Start Time > {"min":0,"hour":16,"date":16,"month":11,"day":3}
 {"ID":110,"CFG_ID":"146","FILE_NAME":"CMWIPINF_HM:todayHH24_1","FILE_DESC":"SEC CMWIPINF 1/1HR","FILE_SAVE_FOLDER":"D:/HM_EDI/SEC/OUT","FILE_CHARSET":"ascii","FILE_TYPE":"ff","DATA_TYPE":"text","FTP_ENV_ID":"100","SEND_FLAG":"Y","NODATASEND":null,"SCHEDULE_MIN":"0","SCHEDULE_HOUR":"*","SCHEDULE_DAY":"*","SCHEDULE_WEEK":"*","SCHEDULE_MONTH":"*","CM_F01":null,"CM_F02":null,"CREATE_DATE":"2021-11-19 05:22:51","CREATE_USER":"6","UPDATE_DATE":"2021-12-24 04:17:47","UPDATE_USER":"6","DELETE_DATE":null,"DELETE_USER":null,"frequency":"0 * * * *"}
2022-11-16 16:00:00 [EDI System] info: 110 >>> makeFileText Function Execute
2022-11-16 16:00:00 [EDI System] info: SELECT EDI_LOG_SEQ.NEXTVAL AS ID FROM DUAL
2022-11-16 16:00:00 [EDI System] info: SELECT EDI_LOG_SEQ.NEXTVAL AS ID FROM DUAL
2022-11-16 16:00:00 [EDI System] info: SELECT EDI_LOG_SEQ.NEXTVAL AS ID FROM DUAL
2022-11-16 16:00:00 [EDI System] info: SELECT EDI_LOG_SEQ.NEXTVAL AS ID FROM DUAL
2022-11-16 16:00:00 [EDI System] info: SELECT EDI_LOG_SEQ.NEXTVAL AS ID FROM DUAL
2022-11-16 16:00:00 [EDI System] info: SELECT EDI_LOG_SEQ.NEXTVAL AS ID FROM DUAL
2022-11-16 16:00:00 [EDI System] info: [{"ID":11108}]
2022-11-16 16:00:00 [EDI System] info: seq : return Key [{"ID":11108}]
2022-11-16 16:00:00 [EDI System] info: saveAllLogger => ID:11108, NAME:CMWIPINF_HM:todayHH24_1, ProcessID:146, Description: Job Start : ID=110, CFG_ID=146, FTP_ENV_ID=100, FILE_NAME=CMWIPINF_HM:todayHH24_1, FILE_DESC=SEC CMWIPINF 1/1HR, FILE_CHARSET=ascii, FILE_TYPE=ff
2022-11-16 16:00:00 [EDI System] info: INSERT INTO EDI_LOG(ID, STEP, NAME, PROCESS_ID, DESCRIPTION, CREATE_USER, CREATE_DATE)
    VALUES(:id, :stepId, :name, :process_id, :description, 'DAEMON', TO_CHAR(SYSDATE,'YYYYMMDDHH24MISS'))
2022-11-16 16:00:00 [EDI System] info: [{"ID":11109}]
2022-11-16 16:00:00 [EDI System] info: seq : return Key [{"ID":11109}]
2022-11-16 16:00:00 [EDI System] info: saveAllLogger => ID:11109, NAME:CMWIPINF_HM:todayHH24, ProcessID:143, Description: Job Start : ID=107, CFG_ID=143, FTP_ENV_ID=100, FILE_NAME=CMWIPINF_HM:todayHH24, FILE_DESC=SEC CMWIPINF 1/1HR, FILE_CHARSET=ascii, FILE_TYPE=ff
2022-11-16 16:00:00 [EDI System] info: INSERT INTO EDI_LOG(ID, STEP, NAME, PROCESS_ID, DESCRIPTION, CREATE_USER, CREATE_DATE)
    VALUES(:id, :stepId, :name, :process_id, :description, 'DAEMON', TO_CHAR(SYSDATE,'YYYYMMDDHH24MISS'))
2022-11-16 16:00:00 [EDI System] info: [{"ID":11110}]
2022-11-16 16:00:00 [EDI System] info: seq : return Key [{"ID":11110}]
2022-11-16 16:00:00 [EDI System] info: saveAllLogger => ID:11110, NAME:CMWIPINF_HM:todayHH24_2, ProcessID:147, Description: Job Start : ID=109, CFG_ID=147, FTP_ENV_ID=100, FILE_NAME=CMWIPINF_HM:todayHH24_2, FILE_DESC=TEST 2 //// SEC CMWIPINF 1/1HR , FILE_CHARSET=ascii, FILE_TYPE=ff
2022-11-16 16:00:00 [EDI System] info: INSERT INTO EDI_LOG(ID, STEP, NAME, PROCESS_ID, DESCRIPTION, CREATE_USER, CREATE_DATE)
    VALUES(:id, :stepId, :name, :process_id, :description, 'DAEMON', TO_CHAR(SYSDATE,'YYYYMMDDHH24MISS'))
2022-11-16 16:00:00 [EDI System] info: Insert successful = SQL: INSERT INTO EDI_LOG(ID, STEP, NAME, PROCESS_ID, DESCRIPTION, CREATE_USER, CREATE_DATE)
    VALUES(:id, :stepId, :name, :process_id, :description, 'DAEMON', TO_CHAR(SYSDATE,'YYYYMMDDHH24MISS')) | Params: {"id":11108,"stepId":"1","name":"CMWIPINF_HM:todayHH24_1","process_id":"146","description":"Job Start : ID=110, CFG_ID=146, FTP_ENV_ID=100, FILE_NAME=CMWIPINF_HM:todayHH24_1, FILE_DESC=SEC CMWIPINF 1/1HR, FILE_CHARSET=ascii, FILE_TYPE=ff"} / 1
2022-11-16 16:00:00 [EDI System] info: 
    SELECT *
    FROM (
        SELECT ROWNUM,A.*
            FROM EDI_QUERY_SETTING A
            WHERE SETTING_ID = :id
            AND TYPE='Main'
            ORDER BY ID DESC
        ) 
    WHERE ROWNUM='1'
    
2022-11-16 16:00:00 [EDI System] info: Insert successful = SQL: INSERT INTO EDI_LOG(ID, STEP, NAME, PROCESS_ID, DESCRIPTION, CREATE_USER, CREATE_DATE)
    VALUES(:id, :stepId, :name, :process_id, :description, 'DAEMON', TO_CHAR(SYSDATE,'YYYYMMDDHH24MISS')) | Params: {"id":11109,"stepId":"1","name":"CMWIPINF_HM:todayHH24","process_id":"143","description":"Job Start : ID=107, CFG_ID=143, FTP_ENV_ID=100, FILE_NAME=CMWIPINF_HM:todayHH24, FILE_DESC=SEC CMWIPINF 1/1HR, FILE_CHARSET=ascii, FILE_TYPE=ff"} / 1
2022-11-16 16:00:00 [EDI System] info: 
    SELECT *
    FROM (
        SELECT ROWNUM,A.*
            FROM EDI_QUERY_SETTING A
            WHERE SETTING_ID = :id
            AND TYPE='Main'
            ORDER BY ID DESC
        ) 
    WHERE ROWNUM='1'
    
2022-11-16 16:00:01 [EDI System] info: Insert successful = SQL: INSERT INTO EDI_LOG(ID, STEP, NAME, PROCESS_ID, DESCRIPTION, CREATE_USER, CREATE_DATE)
    VALUES(:id, :stepId, :name, :process_id, :description, 'DAEMON', TO_CHAR(SYSDATE,'YYYYMMDDHH24MISS')) | Params: {"id":11110,"stepId":"1","name":"CMWIPINF_HM:todayHH24_2","process_id":"147","description":"Job Start : ID=109, CFG_ID=147, FTP_ENV_ID=100, FILE_NAME=CMWIPINF_HM:todayHH24_2, FILE_DESC=TEST 2 //// SEC CMWIPINF 1/1HR , FILE_CHARSET=ascii, FILE_TYPE=ff"} / 1
2022-11-16 16:00:01 [EDI System] info: [{"ROWNUM":2,"ID":"145","SETTING_ID":"146","KEY":null,"TYPE":"Main","QUERY":"SELECT\n  RPAD(VR_1,  5, ' ')\n, RPAD(VR_2, 30, ' ')\n, RPAD(VR_3, 15, ' ')\n, RPAD(VR_4, 15, ' ')\n, RPAD(VR_5,  2, ' ')\n, RPAD(VR_6,  2, ' ')\n, RPAD(VR_7, 20, ' ')\n, RPAD(VR_8, 30, ' ')\n, RPAD(VR_9, 16, ' ')\n, RPAD(VR_10, 24, ' ')\n, RPAD(VR_11, 14, ' ')\n, RPAD(VR_12,  4, ' ')\n, RPAD(VR_13,  4, ' ')\n, LPAD(VR_14, 10, ' ')\n, LPAD(VR_15, 10, ' ')\n, RPAD(VR_16,  1, ' ')\n, RPAD(VR_17,  2, ' ')\n, RPAD(VR_18, 10, ' ')\n, RPAD(VR_19, 14, ' ')\n, RPAD(VR_20, 20, ' ')\n, RPAD(VR_21, 20, ' ')\n, RPAD(VR_22, 20, ' ')\n, RPAD(VR_23, 20, ' ')\n, RPAD(VR_24, 20, ' ')\n, LPAD(VR_25, 10, ' ')\n, LPAD(VR_26, 10, ' ')\n, RPAD(VR_27,  1, ' ')\n, RPAD(VR_28, 65, ' ')\n, RPAD(VR_29, 14, ' ')\n, RPAD(VR_30,  8, ' ')\n, RPAD(VR_31, 1024, ' ')\nFROM \n(\nSELECT 'LS1HM'   VR_1\n , NVL((SELECT MAT_CMF_7 FROM MWIPMATDEF WHERE FACTORY = A.FACTORY AND MAT_ID = A.MAT_ID AND MAT_VER = A.MAT_VER), '-')   VR_2\n , F_GET_ASSY_RUNID(' ', A.LOT_ID, A.LOT_CMF_4)   VR_3\n , NVL(TRIM(A.LOT_CMF_1), '-')   VR_4\n , NVL(TRIM(A.LOT_CMF_5),'-')   VR_5\n , NVL((SELECT ATTR_VALUE FROM MATRNAMSTS WHERE FACTORY = A.FACTORY AND ATTR_TYPE = 'LOT_SEC_INFO' AND ATTR_NAME = 'RTN_TYPE' AND ATTR_KEY = TRIM(A.LOT_CMF_1)), '**')   VR_6\n , DECODE(A.OPER||A.FLOW,'T1300HKAB', 'HGAK','TZ010HKAB', 'BASIC',\n     DECODE(NVL((SELECT SEC_OPER FROM V_MWIPOPRDEF_SEC WHERE FACTORY = A.FACTORY AND OPER = A.OPER ), '-'),\n                  'HMK2','BASIC','HMK3','BASIC','HMK9','BASIC','HMK4','BASIC',\n                  NVL(FLOW, '-')))   VR_7\n , DECODE(A.OPER||A.FLOW,'T1300HKAB', '0008','TZ010HKAB', '0003',\n     TRIM(DECODE(NVL((SELECT SEC_OPER FROM V_MWIPOPRDEF_SEC WHERE FACTORY = A.FACTORY AND OPER = A.OPER ), '-'),\n                  'HMK2','0002','HMK3','0003','HMK9','0006','HMK4','0007',\n                  LPAD((SELECT SEQ_NUM-1 FROM MWIPFLWOPR WHERE FACTORY = A.FACTORY AND FLOW = A.FLOW AND OPER = A.OPER),4,'0'))))   VR_8\n , DECODE(A.OPER||A.FLOW,'T1300HKAB', '8','TZ010HKAB', '3',\n     NVL((SELECT SEQ_NUM-1 FROM MWIPFLWOPR WHERE FACTORY = A.FACTORY AND FLOW = A.FLOW AND OPER = A.OPER), '0'))   VR_9\n , DECODE(A.OPER||A.FLOW,'T1300HKAB', 'PACKING','TZ010HKAB', 'Assy Final Stock',\n     DECODE(NVL((SELECT SEC_OPER FROM V_MWIPOPRDEF_SEC WHERE FACTORY = A.FACTORY AND OPER = A.OPER ), '-'),\n                  'HMK2','Assy Home Stock','HMK3','Assy Final Stock','HMK9','Test Home Stock','HMK4','Test Final Stock',\n                  NVL((SELECT OPER_DESC FROM V_MWIPOPRDEF_SEC WHERE FACTORY = A.FACTORY AND OPER = A.OPER ), '-')))   VR_10\n , A.OPER_IN_TIME    VR_11\n , DECODE(A.OPER||A.FLOW,'T1300HKAB', 'ASSY','TZ010HKAB', 'ASSY', DECODE(A.FACTORY, 'HMKT1', 'TEST', 'HMKA1', 'ASSY', '-'))    VR_12\n , NVL((SELECT DECODE(A.OPER||A.FLOW,'TZ010HKAB', SEC_OPER_AREA_COB ,SEC_OPER_AREA) FROM V_MWIPOPRDEF_SEC WHERE FACTORY = A.FACTORY AND OPER = A.OPER ), '-')   VR_13\n , NVL(TRIM(A.QTY_1), 0)   VR_14\n , NVL(TRIM(A.QTY_2), 0)   VR_15\n , 'C'     VR_16\n , F_GET_HOLD_FLAG_CODE(A.LOT_ID, A.MAT_ID, A.HOLD_FLAG, A.HOLD_CODE, 'FLAG' )    VR_17\n , F_GET_HOLD_FLAG_CODE(A.LOT_ID, A.MAT_ID, A.HOLD_FLAG, A.HOLD_CODE, 'CODE' )    VR_18\n , DECODE(A.HOLD_FLAG, 'Y', A.LAST_TRAN_TIME, ' ')    VR_19\n , NVL((SELECT ATTR_VALUE FROM MATRNAMSTS WHERE FACTORY = A.FACTORY AND ATTR_TYPE = 'LOT_SEC_INFO' AND ATTR_NAME = 'NCFCODE' AND ATTR_KEY = TRIM(A.LOT_CMF_1)), '*')   VR_20\n , NVL((SELECT ATTR_VALUE FROM MATRNAMSTS WHERE FACTORY = A.FACTORY AND ATTR_TYPE = 'LOT_SEC_INFO' AND ATTR_NAME = 'NCACODE' AND ATTR_KEY = TRIM(A.LOT_CMF_1)), '*')   VR_21\n , NVL((SELECT ATTR_VALUE FROM MATRNAMSTS WHERE FACTORY = A.FACTORY AND ATTR_TYPE = 'LOT_SEC_INFO' AND ATTR_NAME = 'NCTCODE' AND ATTR_KEY = TRIM(A.LOT_CMF_1)), '*')   VR_22\n , NVL((SELECT ATTR_VALUE FROM MATRNAMSTS WHERE FACTORY = A.FACTORY AND ATTR_TYPE = 'LOT_SEC_INFO' AND ATTR_NAME = 'NCQCODE' AND ATTR_KEY = TRIM(A.LOT_CMF_1)), '*')   VR_23\n , NVL((SELECT ATTR_VALUE FROM MATRNAMSTS WHERE FACTORY = A.FACTORY AND ATTR_TYPE = 'LOT_SEC_INFO' AND ATTR_NAME = 'OTHER' AND ATTR_KEY = TRIM(A.LOT_CMF_1)), '*')   VR_24\n , NVL((SELECT SUM(DECODE(TRAN_CODE, 'LOSS', (OLD_QTY_1 - QTY_1), QTY_1)) \n               FROM MWIPLOTHIS \n              WHERE LOT_ID = A.LOT_ID \n                AND TRAN_CODE IN ('LOSS', 'TERMINATE')\n                AND HIST_DEL_FLAG = ' '\n                AND TRAN_TIME BETWEEN F_GET_TIME(TO_CHAR(SYSDATE, 'YYYYMMDDHH24MISS'),'SE') \n                                  AND TO_CHAR(SYSDATE, 'YYYYMMDDHH24MISS')), 0)         VR_25\n , NVL((SELECT SUM(TOTAL_BONUS_QTY) \n               FROM MWIPLOTBNS \n              WHERE LOT_ID = A.LOT_ID\n                AND TRAN_TIME BETWEEN F_GET_TIME(TO_CHAR(SYSDATE, 'YYYYMMDDHH24MISS'),'SE') \n                                  AND TO_CHAR(SYSDATE, 'YYYYMMDDHH24MISS')), 0)    VR_26\n , '-'    VR_27\n , '-'    VR_28\n , TO_CHAR(SYSDATE,'YYYYMMDDHH24MISS')     VR_29\n , GET_WORK_DATE_EDI(TO_CHAR(SYSDATE, 'YYYYMMDDHH24MISS'),'D')  VR_30\n , MESMGR.PK_SEC_MES_IF.MakeInkless_OMS_WIP(A.FACTORY, A.LOT_ID)  VR_31\n  FROM MWIPLOTSTS A\n WHERE 1 = 1\n   AND FACTORY IN ('HMKT1','HMKA1') \n   AND LOT_CMF_2 = 'SE'   \n   AND OWNER_CODE = 'PROD'\n   AND LOT_TYPE = 'W'\n   AND LOT_DEL_FLAG = ' ' \n   AND CREATE_CODE <> 'FREE' \n   AND MAT_ID LIKE 'SE'||(SELECT DATA_1 FROM MGCMTBLDAT WHERE FACTORY = 'HMKA1' AND TABLE_NAME = 'H_SPECIAL_CHAR' AND KEY_1 = '1')\n   AND OPER BETWEEN 'A0000' AND 'TZ010'\n   AND MAT_ID NOT LIKE 'SEKY'||(SELECT DATA_1 FROM MGCMTBLDAT WHERE FACTORY = 'HMKA1' AND TABLE_NAME = 'H_SPECIAL_CHAR' AND KEY_1 = '1')  --- 영업  요청으로 하드코딩 170412. SEKY%\n)","CREATE_USER":"6","CREATE_DATE":"2021-11-22 10:58:05","DBTYPE":"MES"}]
2022-11-16 16:00:01 [EDI System] info: 
    SELECT *
    FROM (
        SELECT ROWNUM,A.*
            FROM EDI_QUERY_SETTING A
            WHERE SETTING_ID = :id
            AND TYPE='Main'
            ORDER BY ID DESC
        ) 
    WHERE ROWNUM='1'
    
2022-11-16 16:00:01 [EDI System] info: 
        SELECT * FROM (
            SELECT *
            FROM EDI_QUERY_SETTING
            WHERE 1=1
            AND SETTING_ID = (
                SELECT ID
                FROM CG_CUSTOMER 
                WHERE PARENT = (
                    SELECT ID
                    FROM CG_CUSTOMER 
                    WHERE ID=(
                        SELECT PARENT
                        FROM CG_CUSTOMER 
                        WHERE ID=(
                            SELECT PARENT 
                            FROM CG_CUSTOMER 
                            WHERE ID=:id
                        )
                    )
                )
                AND LOWER(NAME) = 'common'
            )
            AND TYPE IN ('DB','TEXT')
            AND KEY NOT IN (SELECT KEY
                            FROM EDI_QUERY_SETTING
                            WHERE 1=1
                            AND SETTING_ID = :id
                            AND TYPE IN ('DB','TEXT'))
            UNION ALL
            SELECT *
            FROM EDI_QUERY_SETTING
            WHERE 1=1
            AND SETTING_ID = :id
            AND TYPE IN ('DB','TEXT')
        )
        ORDER BY LENGTH(KEY) DESC
    
2022-11-16 16:00:01 [EDI System] info: [{"ROWNUM":4,"ID":"147","SETTING_ID":"143","KEY":null,"TYPE":"Main","QUERY":"SELECT \n  RPAD(VR_1,  5, ' ')\n, RPAD(VR_2, 30, ' ')\n, RPAD(VR_3, 15, ' ')\n, RPAD(VR_4, 15, ' ')\n, RPAD(VR_5,  2, ' ')\n, RPAD(VR_6,  2, ' ')\n, RPAD(VR_7, 20, ' ')\n, RPAD(VR_8, 30, ' ')\n, RPAD(VR_9, 16, ' ')\n, RPAD(VR_10, 24, ' ')\n, RPAD(VR_11, 14, ' ')\n, RPAD(VR_12,  4, ' ')\n, RPAD(VR_13,  4, ' ')\n, LPAD(VR_14, 10, ' ')\n, LPAD(VR_15, 10, ' ')\n, RPAD(VR_16,  1, ' ')\n, RPAD(VR_17,  2, ' ')\n, RPAD(VR_18, 10, ' ')\n, RPAD(VR_19, 14, ' ')\n, RPAD(VR_20, 20, ' ')\n, RPAD(VR_21, 20, ' ')\n, RPAD(VR_22, 20, ' ')\n, RPAD(VR_23, 20, ' ')\n, RPAD(VR_24, 20, ' ')\n, LPAD(VR_25, 10, ' ')\n, LPAD(VR_26, 10, ' ')\n, RPAD(VR_27,  1, ' ')\n, RPAD(VR_28, 65, ' ')\n, RPAD(VR_29, 14, ' ')\n, RPAD(VR_30,  8, ' ')\n, RPAD(VR_31, 1024, ' ')\nFROM \n(\nSELECT 'LS1HM'   VR_1\n , NVL((SELECT MAT_CMF_7 FROM MWIPMATDEF WHERE FACTORY = A.FACTORY AND MAT_ID = A.MAT_ID AND MAT_VER = A.MAT_VER), '-')   VR_2\n , F_GET_ASSY_RUNID(' ', A.LOT_ID, A.LOT_CMF_4)   VR_3\n , NVL(TRIM(A.LOT_CMF_1), '-')   VR_4\n , NVL(TRIM(A.LOT_CMF_5),'-')   VR_5\n , NVL((SELECT ATTR_VALUE FROM MATRNAMSTS WHERE FACTORY = A.FACTORY AND ATTR_TYPE = 'LOT_SEC_INFO' AND ATTR_NAME = 'RTN_TYPE' AND ATTR_KEY = TRIM(A.LOT_CMF_1)), '**')   VR_6\n , DECODE(A.OPER||A.FLOW,'T1300HKAB', 'HGAK','TZ010HKAB', 'BASIC',\n     DECODE(NVL((SELECT SEC_OPER FROM V_MWIPOPRDEF_SEC WHERE FACTORY = A.FACTORY AND OPER = A.OPER ), '-'),\n                  'HMK2','BASIC','HMK3','BASIC','HMK9','BASIC','HMK4','BASIC',\n                  NVL(FLOW, '-')))   VR_7\n , DECODE(A.OPER||A.FLOW,'T1300HKAB', '0008','TZ010HKAB', '0003',\n     TRIM(DECODE(NVL((SELECT SEC_OPER FROM V_MWIPOPRDEF_SEC WHERE FACTORY = A.FACTORY AND OPER = A.OPER ), '-'),\n                  'HMK2','0002','HMK3','0003','HMK9','0006','HMK4','0007',\n                  LPAD((SELECT SEQ_NUM-1 FROM MWIPFLWOPR WHERE FACTORY = A.FACTORY AND FLOW = A.FLOW AND OPER = A.OPER),4,'0'))))   VR_8\n , DECODE(A.OPER||A.FLOW,'T1300HKAB', '8','TZ010HKAB', '3',\n     NVL((SELECT SEQ_NUM-1 FROM MWIPFLWOPR WHERE FACTORY = A.FACTORY AND FLOW = A.FLOW AND OPER = A.OPER), '0'))   VR_9\n , DECODE(A.OPER||A.FLOW,'T1300HKAB', 'PACKING','TZ010HKAB', 'Assy Final Stock',\n     DECODE(NVL((SELECT SEC_OPER FROM V_MWIPOPRDEF_SEC WHERE FACTORY = A.FACTORY AND OPER = A.OPER ), '-'),\n                  'HMK2','Assy Home Stock','HMK3','Assy Final Stock','HMK9','Test Home Stock','HMK4','Test Final Stock',\n                  NVL((SELECT OPER_DESC FROM V_MWIPOPRDEF_SEC WHERE FACTORY = A.FACTORY AND OPER = A.OPER ), '-')))   VR_10\n , A.OPER_IN_TIME    VR_11\n , DECODE(A.OPER||A.FLOW,'T1300HKAB', 'ASSY','TZ010HKAB', 'ASSY', DECODE(A.FACTORY, 'HMKT1', 'TEST', 'HMKA1', 'ASSY', '-'))    VR_12\n , NVL((SELECT DECODE(A.OPER||A.FLOW,'TZ010HKAB', SEC_OPER_AREA_COB ,SEC_OPER_AREA) FROM V_MWIPOPRDEF_SEC WHERE FACTORY = A.FACTORY AND OPER = A.OPER ), '-')   VR_13\n , NVL(TRIM(A.QTY_1), 0)   VR_14\n , NVL(TRIM(A.QTY_2), 0)   VR_15\n , 'C'     VR_16\n , F_GET_HOLD_FLAG_CODE(A.LOT_ID, A.MAT_ID, A.HOLD_FLAG, A.HOLD_CODE, 'FLAG' )    VR_17\n , F_GET_HOLD_FLAG_CODE(A.LOT_ID, A.MAT_ID, A.HOLD_FLAG, A.HOLD_CODE, 'CODE' )    VR_18\n , DECODE(A.HOLD_FLAG, 'Y', A.LAST_TRAN_TIME, ' ')    VR_19\n , NVL((SELECT ATTR_VALUE FROM MATRNAMSTS WHERE FACTORY = A.FACTORY AND ATTR_TYPE = 'LOT_SEC_INFO' AND ATTR_NAME = 'NCFCODE' AND ATTR_KEY = TRIM(A.LOT_CMF_1)), '*')   VR_20\n , NVL((SELECT ATTR_VALUE FROM MATRNAMSTS WHERE FACTORY = A.FACTORY AND ATTR_TYPE = 'LOT_SEC_INFO' AND ATTR_NAME = 'NCACODE' AND ATTR_KEY = TRIM(A.LOT_CMF_1)), '*')   VR_21\n , NVL((SELECT ATTR_VALUE FROM MATRNAMSTS WHERE FACTORY = A.FACTORY AND ATTR_TYPE = 'LOT_SEC_INFO' AND ATTR_NAME = 'NCTCODE' AND ATTR_KEY = TRIM(A.LOT_CMF_1)), '*')   VR_22\n , NVL((SELECT ATTR_VALUE FROM MATRNAMSTS WHERE FACTORY = A.FACTORY AND ATTR_TYPE = 'LOT_SEC_INFO' AND ATTR_NAME = 'NCQCODE' AND ATTR_KEY = TRIM(A.LOT_CMF_1)), '*')   VR_23\n , NVL((SELECT ATTR_VALUE FROM MATRNAMSTS WHERE FACTORY = A.FACTORY AND ATTR_TYPE = 'LOT_SEC_INFO' AND ATTR_NAME = 'OTHER' AND ATTR_KEY = TRIM(A.LOT_CMF_1)), '*')   VR_24\n , NVL((SELECT SUM(DECODE(TRAN_CODE, 'LOSS', (OLD_QTY_1 - QTY_1), QTY_1)) \n               FROM MWIPLOTHIS \n              WHERE LOT_ID = A.LOT_ID \n                AND TRAN_CODE IN ('LOSS', 'TERMINATE')\n                AND HIST_DEL_FLAG = ' '\n                AND TRAN_TIME BETWEEN F_GET_TIME(TO_CHAR(SYSDATE, 'YYYYMMDDHH24MISS'),'SE') \n                                  AND TO_CHAR(SYSDATE, 'YYYYMMDDHH24MISS')), 0)         VR_25\n , NVL((SELECT SUM(TOTAL_BONUS_QTY) \n               FROM MWIPLOTBNS \n              WHERE LOT_ID = A.LOT_ID\n                AND TRAN_TIME BETWEEN F_GET_TIME(TO_CHAR(SYSDATE, 'YYYYMMDDHH24MISS'),'SE') \n                                  AND TO_CHAR(SYSDATE, 'YYYYMMDDHH24MISS')), 0)    VR_26\n , '-'    VR_27\n , '-'    VR_28\n , TO_CHAR(SYSDATE,'YYYYMMDDHH24MISS')     VR_29\n , GET_WORK_DATE_EDI(TO_CHAR(SYSDATE, 'YYYYMMDDHH24MISS'),'D')  VR_30\n , MESMGR.PK_SEC_MES_IF.MakeInkless_OMS_WIP(A.FACTORY, A.LOT_ID)  VR_31\n  FROM MWIPLOTSTS A\n WHERE 1 = 1\n   AND FACTORY IN ('HMKT1','HMKA1') \n   AND LOT_CMF_2 = 'SE'   \n   AND OWNER_CODE = 'PROD'\n   AND LOT_TYPE = 'W'\n   AND LOT_DEL_FLAG = ' ' \n   AND CREATE_CODE <> 'FREE' \n   AND MAT_ID LIKE 'SE'||(SELECT DATA_1 FROM MGCMTBLDAT WHERE FACTORY = 'HMKA1' AND TABLE_NAME = 'H_SPECIAL_CHAR' AND KEY_1 = '1')\n   AND OPER BETWEEN 'A0000' AND 'TZ010'\n   AND MAT_ID NOT LIKE 'SEKY'||(SELECT DATA_1 FROM MGCMTBLDAT WHERE FACTORY = 'HMKA1' AND TABLE_NAME = 'H_SPECIAL_CHAR' AND KEY_1 = '1')  --- 영업  요청으로 하드코딩 170412. SEKY%\n)","CREATE_USER":"6","CREATE_DATE":"2021-11-24 03:06:40","DBTYPE":"MES"}]
2022-11-16 16:00:01 [EDI System] info: 
        SELECT * FROM (
            SELECT *
            FROM EDI_QUERY_SETTING
            WHERE 1=1
            AND SETTING_ID = (
                SELECT ID
                FROM CG_CUSTOMER 
                WHERE PARENT = (
                    SELECT ID
                    FROM CG_CUSTOMER 
                    WHERE ID=(
                        SELECT PARENT
                        FROM CG_CUSTOMER 
                        WHERE ID=(
                            SELECT PARENT 
                            FROM CG_CUSTOMER 
                            WHERE ID=:id
                        )
                    )
                )
                AND LOWER(NAME) = 'common'
            )
            AND TYPE IN ('DB','TEXT')
            AND KEY NOT IN (SELECT KEY
                            FROM EDI_QUERY_SETTING
                            WHERE 1=1
                            AND SETTING_ID = :id
                            AND TYPE IN ('DB','TEXT'))
            UNION ALL
            SELECT *
            FROM EDI_QUERY_SETTING
            WHERE 1=1
            AND SETTING_ID = :id
            AND TYPE IN ('DB','TEXT')
        )
        ORDER BY LENGTH(KEY) DESC
    
2022-11-16 16:00:01 [EDI System] info: [{"ROWNUM":1,"ID":"146","SETTING_ID":"147","KEY":null,"TYPE":"Main","QUERY":"SELECT\n  RPAD(VR_1,  5, ' ')\n, RPAD(VR_2, 30, ' ')\n, RPAD(VR_3, 15, ' ')\n, RPAD(VR_4, 15, ' ')\n, RPAD(VR_5,  2, ' ')\n, RPAD(VR_6,  2, ' ')\n, RPAD(VR_7, 20, ' ')\n, RPAD(VR_8, 30, ' ')\n, RPAD(VR_9, 16, ' ')\n, RPAD(VR_10, 24, ' ')\n, RPAD(VR_11, 14, ' ')\n, RPAD(VR_12,  4, ' ')\n, RPAD(VR_13,  4, ' ')\n, LPAD(VR_14, 10, ' ')\n, LPAD(VR_15, 10, ' ')\n, RPAD(VR_16,  1, ' ')\n, RPAD(VR_17,  2, ' ')\n, RPAD(VR_18, 10, ' ')\n, RPAD(VR_19, 14, ' ')\n, RPAD(VR_20, 20, ' ')\n, RPAD(VR_21, 20, ' ')\n, RPAD(VR_22, 20, ' ')\n, RPAD(VR_23, 20, ' ')\n, RPAD(VR_24, 20, ' ')\n, LPAD(VR_25, 10, ' ')\n, LPAD(VR_26, 10, ' ')\n, RPAD(VR_27,  1, ' ')\n, RPAD(VR_28, 65, ' ')\n, RPAD(VR_29, 14, ' ')\n, RPAD(VR_30,  8, ' ')\n, RPAD(VR_31, 1024, ' ')\nFROM \n(\nSELECT 'LS1HM'   VR_1\n , NVL((SELECT MAT_CMF_7 FROM MWIPMATDEF WHERE FACTORY = A.FACTORY AND MAT_ID = A.MAT_ID AND MAT_VER = A.MAT_VER), '-')   VR_2\n , F_GET_ASSY_RUNID(' ', A.LOT_ID, A.LOT_CMF_4)   VR_3\n , NVL(TRIM(A.LOT_CMF_1), '-')   VR_4\n , NVL(TRIM(A.LOT_CMF_5),'-')   VR_5\n , NVL((SELECT ATTR_VALUE FROM MATRNAMSTS WHERE FACTORY = A.FACTORY AND ATTR_TYPE = 'LOT_SEC_INFO' AND ATTR_NAME = 'RTN_TYPE' AND ATTR_KEY = TRIM(A.LOT_CMF_1)), '**')   VR_6\n , DECODE(A.OPER||A.FLOW,'T1300HKAB', 'HGAK','TZ010HKAB', 'BASIC',\n     DECODE(NVL((SELECT SEC_OPER FROM V_MWIPOPRDEF_SEC WHERE FACTORY = A.FACTORY AND OPER = A.OPER ), '-'),\n                  'HMK2','BASIC','HMK3','BASIC','HMK9','BASIC','HMK4','BASIC',\n                  NVL(FLOW, '-')))   VR_7\n , DECODE(A.OPER||A.FLOW,'T1300HKAB', '0008','TZ010HKAB', '0003',\n     TRIM(DECODE(NVL((SELECT SEC_OPER FROM V_MWIPOPRDEF_SEC WHERE FACTORY = A.FACTORY AND OPER = A.OPER ), '-'),\n                  'HMK2','0002','HMK3','0003','HMK9','0006','HMK4','0007',\n                  LPAD((SELECT SEQ_NUM-1 FROM MWIPFLWOPR WHERE FACTORY = A.FACTORY AND FLOW = A.FLOW AND OPER = A.OPER),4,'0'))))   VR_8\n , DECODE(A.OPER||A.FLOW,'T1300HKAB', '8','TZ010HKAB', '3',\n     NVL((SELECT SEQ_NUM-1 FROM MWIPFLWOPR WHERE FACTORY = A.FACTORY AND FLOW = A.FLOW AND OPER = A.OPER), '0'))   VR_9\n , DECODE(A.OPER||A.FLOW,'T1300HKAB', 'PACKING','TZ010HKAB', 'Assy Final Stock',\n     DECODE(NVL((SELECT SEC_OPER FROM V_MWIPOPRDEF_SEC WHERE FACTORY = A.FACTORY AND OPER = A.OPER ), '-'),\n                  'HMK2','Assy Home Stock','HMK3','Assy Final Stock','HMK9','Test Home Stock','HMK4','Test Final Stock',\n                  NVL((SELECT OPER_DESC FROM V_MWIPOPRDEF_SEC WHERE FACTORY = A.FACTORY AND OPER = A.OPER ), '-')))   VR_10\n , A.OPER_IN_TIME    VR_11\n , DECODE(A.OPER||A.FLOW,'T1300HKAB', 'ASSY','TZ010HKAB', 'ASSY', DECODE(A.FACTORY, 'HMKT1', 'TEST', 'HMKA1', 'ASSY', '-'))    VR_12\n , NVL((SELECT DECODE(A.OPER||A.FLOW,'TZ010HKAB', SEC_OPER_AREA_COB ,SEC_OPER_AREA) FROM V_MWIPOPRDEF_SEC WHERE FACTORY = A.FACTORY AND OPER = A.OPER ), '-')   VR_13\n , NVL(TRIM(A.QTY_1), 0)   VR_14\n , NVL(TRIM(A.QTY_2), 0)   VR_15\n , 'C'     VR_16\n , F_GET_HOLD_FLAG_CODE(A.LOT_ID, A.MAT_ID, A.HOLD_FLAG, A.HOLD_CODE, 'FLAG' )    VR_17\n , F_GET_HOLD_FLAG_CODE(A.LOT_ID, A.MAT_ID, A.HOLD_FLAG, A.HOLD_CODE, 'CODE' )    VR_18\n , DECODE(A.HOLD_FLAG, 'Y', A.LAST_TRAN_TIME, ' ')    VR_19\n , NVL((SELECT ATTR_VALUE FROM MATRNAMSTS WHERE FACTORY = A.FACTORY AND ATTR_TYPE = 'LOT_SEC_INFO' AND ATTR_NAME = 'NCFCODE' AND ATTR_KEY = TRIM(A.LOT_CMF_1)), '*')   VR_20\n , NVL((SELECT ATTR_VALUE FROM MATRNAMSTS WHERE FACTORY = A.FACTORY AND ATTR_TYPE = 'LOT_SEC_INFO' AND ATTR_NAME = 'NCACODE' AND ATTR_KEY = TRIM(A.LOT_CMF_1)), '*')   VR_21\n , NVL((SELECT ATTR_VALUE FROM MATRNAMSTS WHERE FACTORY = A.FACTORY AND ATTR_TYPE = 'LOT_SEC_INFO' AND ATTR_NAME = 'NCTCODE' AND ATTR_KEY = TRIM(A.LOT_CMF_1)), '*')   VR_22\n , NVL((SELECT ATTR_VALUE FROM MATRNAMSTS WHERE FACTORY = A.FACTORY AND ATTR_TYPE = 'LOT_SEC_INFO' AND ATTR_NAME = 'NCQCODE' AND ATTR_KEY = TRIM(A.LOT_CMF_1)), '*')   VR_23\n , NVL((SELECT ATTR_VALUE FROM MATRNAMSTS WHERE FACTORY = A.FACTORY AND ATTR_TYPE = 'LOT_SEC_INFO' AND ATTR_NAME = 'OTHER' AND ATTR_KEY = TRIM(A.LOT_CMF_1)), '*')   VR_24\n , NVL((SELECT SUM(DECODE(TRAN_CODE, 'LOSS', (OLD_QTY_1 - QTY_1), QTY_1)) \n               FROM MWIPLOTHIS \n              WHERE LOT_ID = A.LOT_ID \n                AND TRAN_CODE IN ('LOSS', 'TERMINATE')\n                AND HIST_DEL_FLAG = ' '\n                AND TRAN_TIME BETWEEN F_GET_TIME(TO_CHAR(SYSDATE, 'YYYYMMDDHH24MISS'),'SE') \n                                  AND TO_CHAR(SYSDATE, 'YYYYMMDDHH24MISS')), 0)         VR_25\n , NVL((SELECT SUM(TOTAL_BONUS_QTY) \n               FROM MWIPLOTBNS \n              WHERE LOT_ID = A.LOT_ID\n                AND TRAN_TIME BETWEEN F_GET_TIME(TO_CHAR(SYSDATE, 'YYYYMMDDHH24MISS'),'SE') \n                                  AND TO_CHAR(SYSDATE, 'YYYYMMDDHH24MISS')), 0)    VR_26\n , '-'    VR_27\n , '-'    VR_28\n , TO_CHAR(SYSDATE,'YYYYMMDDHH24MISS')     VR_29\n , GET_WORK_DATE_EDI(TO_CHAR(SYSDATE, 'YYYYMMDDHH24MISS'),'D')  VR_30\n , MESMGR.PK_SEC_MES_IF.MakeInkless_OMS_WIP(A.FACTORY, A.LOT_ID)  VR_31\n  FROM MWIPLOTSTS A\n WHERE 1 = 1\n   AND FACTORY IN ('HMKT1','HMKA1') \n   AND LOT_CMF_2 = 'SE'   \n   AND OWNER_CODE = 'PROD'\n   AND LOT_TYPE = 'W'\n   AND LOT_DEL_FLAG = ' ' \n   AND CREATE_CODE <> 'FREE' \n   AND MAT_ID LIKE 'SE'||(SELECT DATA_1 FROM MGCMTBLDAT WHERE FACTORY = 'HMKA1' AND TABLE_NAME = 'H_SPECIAL_CHAR' AND KEY_1 = '1')\n   AND OPER BETWEEN 'A0000' AND 'TZ010'\n   AND MAT_ID NOT LIKE 'SEKY'||(SELECT DATA_1 FROM MGCMTBLDAT WHERE FACTORY = 'HMKA1' AND TABLE_NAME = 'H_SPECIAL_CHAR' AND KEY_1 = '1')  --- 영업  요청으로 하드코딩 170412. SEKY%\n)","CREATE_USER":"6","CREATE_DATE":"2021-11-23 04:53:33","DBTYPE":"MES"}]
2022-11-16 16:00:01 [EDI System] info: [{"ID":"137","SETTING_ID":"129","KEY":"todayHH24MISS","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE,'YYYYMMDDHH24MISS') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-11-12 05:20:22","DBTYPE":"MES"},{"ID":"124","SETTING_ID":"129","KEY":"todayHH24_M1H","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE - 1/24,'YYYYMMDDHH24') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-10-15 01:40:03","DBTYPE":"MES"},{"ID":"122","SETTING_ID":"129","KEY":"todayHH24","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE,'YYYYMMDDHH24') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-10-15 11:47:10","DBTYPE":"MES"},{"ID":"115","SETTING_ID":"129","KEY":"today_yy","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE,'YYYYMMDDHH24') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-09-24 08:46:51","DBTYPE":"MES"},{"ID":"130","SETTING_ID":"129","KEY":"today","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE,'YYYYMMDD') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-11-09 03:36:41","DBTYPE":"MES"}]
2022-11-16 16:00:01 [EDI System] info: 
        SELECT * FROM (
            SELECT *
            FROM EDI_QUERY_SETTING
            WHERE 1=1
            AND SETTING_ID = (
                SELECT ID
                FROM CG_CUSTOMER 
                WHERE PARENT = (
                    SELECT ID
                    FROM CG_CUSTOMER 
                    WHERE ID=(
                        SELECT PARENT
                        FROM CG_CUSTOMER 
                        WHERE ID=(
                            SELECT PARENT 
                            FROM CG_CUSTOMER 
                            WHERE ID=:id
                        )
                    )
                )
                AND LOWER(NAME) = 'common'
            )
            AND TYPE IN ('DB','TEXT')
            AND KEY NOT IN (SELECT KEY
                            FROM EDI_QUERY_SETTING
                            WHERE 1=1
                            AND SETTING_ID = :id
                            AND TYPE IN ('DB','TEXT'))
            UNION ALL
            SELECT *
            FROM EDI_QUERY_SETTING
            WHERE 1=1
            AND SETTING_ID = :id
            AND TYPE IN ('DB','TEXT')
        )
        ORDER BY LENGTH(KEY) DESC
    
2022-11-16 16:00:01 [EDI System] info: [{"ID":"137","SETTING_ID":"129","KEY":"todayHH24MISS","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE,'YYYYMMDDHH24MISS') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-11-12 05:20:22","DBTYPE":"MES"},{"ID":"124","SETTING_ID":"129","KEY":"todayHH24_M1H","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE - 1/24,'YYYYMMDDHH24') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-10-15 01:40:03","DBTYPE":"MES"},{"ID":"122","SETTING_ID":"129","KEY":"todayHH24","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE,'YYYYMMDDHH24') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-10-15 11:47:10","DBTYPE":"MES"},{"ID":"115","SETTING_ID":"129","KEY":"today_yy","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE,'YYYYMMDDHH24') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-09-24 08:46:51","DBTYPE":"MES"},{"ID":"130","SETTING_ID":"129","KEY":"today","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE,'YYYYMMDD') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-11-09 03:36:41","DBTYPE":"MES"}]
2022-11-16 16:00:01 [EDI System] info: [{"ID":"137","SETTING_ID":"129","KEY":"todayHH24MISS","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE,'YYYYMMDDHH24MISS') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-11-12 05:20:22","DBTYPE":"MES"},{"ID":"124","SETTING_ID":"129","KEY":"todayHH24_M1H","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE - 1/24,'YYYYMMDDHH24') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-10-15 01:40:03","DBTYPE":"MES"},{"ID":"122","SETTING_ID":"129","KEY":"todayHH24","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE,'YYYYMMDDHH24') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-10-15 11:47:10","DBTYPE":"MES"},{"ID":"115","SETTING_ID":"129","KEY":"today_yy","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE,'YYYYMMDDHH24') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-09-24 08:46:51","DBTYPE":"MES"},{"ID":"130","SETTING_ID":"129","KEY":"today","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE,'YYYYMMDD') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-11-09 03:36:41","DBTYPE":"MES"}]
2022-11-16 16:01:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 16:02:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 16:03:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 16:04:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 16:04:00 [EDI System] info: Job Start Time > {"min":4,"hour":16,"date":16,"month":11,"day":3}
 {"ID":100,"CFG_ID":"135","FILE_NAME":"LOTEVENT_HM:todayHH24","FILE_DESC":"SEC LOTEVENT 1/1HR","FILE_SAVE_FOLDER":"D:/HM_EDI/SEC/OUT","FILE_CHARSET":"utf-8","FILE_TYPE":"ff","DATA_TYPE":"text","FTP_ENV_ID":"100","SEND_FLAG":"Y","NODATASEND":null,"SCHEDULE_MIN":"4","SCHEDULE_HOUR":"*","SCHEDULE_DAY":"*","SCHEDULE_WEEK":"*","SCHEDULE_MONTH":"*","CM_F01":null,"CM_F02":null,"CREATE_DATE":null,"CREATE_USER":null,"UPDATE_DATE":"2021-12-16 09:23:19","UPDATE_USER":"6","DELETE_DATE":null,"DELETE_USER":null,"frequency":"4 * * * *"}
2022-11-16 16:04:00 [EDI System] info: 100 >>> makeFileText Function Execute
2022-11-16 16:04:00 [EDI System] info: SELECT EDI_LOG_SEQ.NEXTVAL AS ID FROM DUAL
2022-11-16 16:04:00 [EDI System] info: SELECT EDI_LOG_SEQ.NEXTVAL AS ID FROM DUAL
2022-11-16 16:04:00 [EDI System] info: [{"ID":11111}]
2022-11-16 16:04:00 [EDI System] info: seq : return Key [{"ID":11111}]
2022-11-16 16:04:00 [EDI System] info: saveAllLogger => ID:11111, NAME:LOTEVENT_HM:todayHH24, ProcessID:135, Description: Job Start : ID=100, CFG_ID=135, FTP_ENV_ID=100, FILE_NAME=LOTEVENT_HM:todayHH24, FILE_DESC=SEC LOTEVENT 1/1HR, FILE_CHARSET=utf-8, FILE_TYPE=ff
2022-11-16 16:04:00 [EDI System] info: INSERT INTO EDI_LOG(ID, STEP, NAME, PROCESS_ID, DESCRIPTION, CREATE_USER, CREATE_DATE)
    VALUES(:id, :stepId, :name, :process_id, :description, 'DAEMON', TO_CHAR(SYSDATE,'YYYYMMDDHH24MISS'))
2022-11-16 16:04:00 [EDI System] info: Insert successful = SQL: INSERT INTO EDI_LOG(ID, STEP, NAME, PROCESS_ID, DESCRIPTION, CREATE_USER, CREATE_DATE)
    VALUES(:id, :stepId, :name, :process_id, :description, 'DAEMON', TO_CHAR(SYSDATE,'YYYYMMDDHH24MISS')) | Params: {"id":11111,"stepId":"1","name":"LOTEVENT_HM:todayHH24","process_id":"135","description":"Job Start : ID=100, CFG_ID=135, FTP_ENV_ID=100, FILE_NAME=LOTEVENT_HM:todayHH24, FILE_DESC=SEC LOTEVENT 1/1HR, FILE_CHARSET=utf-8, FILE_TYPE=ff"} / 1
2022-11-16 16:04:00 [EDI System] info: 
    SELECT *
    FROM (
        SELECT ROWNUM,A.*
            FROM EDI_QUERY_SETTING A
            WHERE SETTING_ID = :id
            AND TYPE='Main'
            ORDER BY ID DESC
        ) 
    WHERE ROWNUM='1'
    
2022-11-16 16:04:00 [EDI System] info: [{"ROWNUM":16,"ID":"155","SETTING_ID":"135","KEY":null,"TYPE":"Main","QUERY":"SELECT     \n  RPAD(V1, 2,' ')\n, RPAD(V3 , 20,' ')\n, RPAD(NVL(decode(v35, 'N01', 'Multitransfer', V4), ' ') , 30,' ')\n, RPAD(V5 || LPAD(B.MILI_SEC,3,0) , 20,' ')\n, RPAD(V6 , 2,' ')\n, RPAD(V7 , 4,' ')\n, RPAD(V8 , 30,' ')\n, RPAD(V9  , 20,' ')\n, RPAD(V10 , 10,' ')\n, RPAD(V11 , 30,' ')\n, RPAD(V12 , 20,' ')\n, RPAD(V13 , 20,' ')\n, RPAD(V14 , 10,' ')\n, RPAD(V15 , 10,' ')\n, RPAD(V16 , 14,' ')\n, RPAD(V17 , 14,' ')\n, LPAD(V18 , 10,' ')\n, LPAD(V19 , 10,' ')\n, RPAD(V20 , 14,' ')\n, RPAD(V21 , 10,' ')\n, RPAD(V22 , 10,' ')\n, RPAD(V23 , 20,' ')\n, RPAD(nvl(V24,' ') , 20,' ')\n, RPAD(V25 , 30,' ')\n, RPAD(V26 , 30,' ')\n, RPAD(V27 , 20,' ')\n, RPAD(V28 , 20,' ')\n, RPAD(V29 , 65,' ')\n, RPAD(V30 , 10,' ')\n, RPAD(V31 , 2,' ')\n, RPAD(V32 , 20,' ')\n, RPAD(V33 , 14,' ')\n, RPAD(V34 , 10,' ')\n, RPAD(V35 , 10,' ')\n, RPAD(V36 , 255,' ')\n, RPAD(V37 , 255,' ')\n  FROM ( SELECT ROWNUM IDX, \n                        V0,V1,V2,V3,V4,V5,V6,V7,V8,V9,V10,V11,V12,V13,V14,V15,V16,V17,V18,V19,V20,V21,V22,V23,V24,V25,V26,V27,V28,V29,V30,V31,V32,V33,V34,V35,V36,V37\n           FROM (\n           select * from\n           (           -- 20200121 chulho.wee ; combine except\n                       SELECT C.IN_DTTM V0, 'HM'  V1\n                     , DECODE(A.FACTORY, 'HMKA1', 'ASSY', 'TEST') V2\n                     , NVL(TRIM(A.LOT_CMF_1), '-') V3\n                     , DECODE(B.DATA_1\n                              , 'END', NVL(TRIM(INITCAP(A.TRAN_CMF_1)),'TrackOut')\n                              --, 'Change', DECODE(A.TRAN_CMF_1,'PART_CHANGE','ChangeProduct')\n                              --, 'Receive', DECODE(A.OLD_OPER,'T0000','RECV_OY_HMK3', 'Receive')\n                              -- , 'Ship', DECODE(A.OLD_OPER,'TZ010','SHIP_HMK4_OY', 'Ship')\n                              , 'Change', DECODE(A.TRAN_CMF_1,'PART_CHANGE','ChangeProduct', DECODE(A.OLD_OPER, 'T0100', 'ChangeProduct','T0960','ChangeProduct', B.DATA_1))\n                              , 'Receive', DECODE(A.OLD_OPER||SUBSTR(A.MAT_ID,1,3),'T0000SES','RECV_OY_HMK3','A0000SES','RECV_KH_HMK2', 'Receive')\n                              --, 'Ship', DECODE(A.OLD_OPER,'TZ010','SHIP_HMK4_ASIMACS','AZ010','SHIP_HMK3_OY', 'Ship')\n                              , 'Ship', DECODE(A.OLD_OPER,'TZ010',DECODE(F_GET_HALF_FULL(A.LOT_ID, A.HIST_SEQ), 'Y','SHIP_HMKT_OY', 'SHIP_HMK4_ASIMACS'),'AZ010','SHIP_HMK3_OY', 'Ship')\n                              , B.DATA_1) V4\n                     , A.TRAN_TIME V5 \n                     , NVL(TRIM(A.LOT_CMF_5), '-')  V6\n                     , DECODE(B.DATA_1||A.OLD_FACTORY\n                              , 'ReceiveHMKT1', 'HMK3'\n                              , 'ShipHMKT1', 'HMK4'\n                              , DECODE(A.FACTORY, 'HMKA1', 'HMKA', 'HMKT'))  V7\n                     , NVL((SELECT MAT_CMF_7 FROM MWIPMATDEF WHERE FACTORY = A.FACTORY AND MAT_ID = A.MAT_ID AND MAT_VER = A.MAT_VER)\n                          , (SELECT MAT_CMF_7 FROM MWIPMATDEF WHERE FACTORY = A.OLD_FACTORY AND MAT_ID = A.OLD_MAT_ID AND MAT_VER = A.MAT_VER))  V8\n                     , A.FLOW  V9\n                     , DECODE(SUBSTRB(A.OLD_OPER,1,4),'AZ01','HMK3','T000','HMK3','TZ01','HMK4','A000','HMK2',SUBSTRB(A.OLD_OPER,1,4))  V10\n                     , NVL((SELECT OPER_DESC FROM MWIPOPRDEF WHERE FACTORY = A.FACTORY AND OPER = A.OLD_OPER AND FLOW = A.FLOW), ' ' )  V11\n                     , NVL((SELECT RES_GRP_3 FROM MRASRESDEF WHERE FACTORY = A.FACTORY AND RES_ID = A.START_RES_ID ),' ')  V12\n                     , NVL(START_RES_ID, ' ')  V13\n                     , NVL((SELECT DECODE(SUBSTRB(NVL(trim(PREV_OPER), 'A0000'),1,4),'AZ01','HMK3','T000','HMK3','TZ01','HMK4','A000','HMK2',SUBSTRB(NVL(trim(PREV_OPER), 'A0000'),1,4)) FROM MWIPFLWOPR WHERE FACTORY = A.FACTORY AND OPER = A.OPER AND FLOW = A.FLOW),' ')  V14\n                     , DECODE(SUBSTRB(A.OPER,1,4),'AZ01','HMK3','T000','HMK3','TZ01','HMK4','A000','HMK2',SUBSTRB(A.OPER,1,4))  V15\n                     , A.OPER_IN_TIME  V16\n                     , A.CREATE_TIME  V17\n                     , NVL(D.WAFERQTY,NVL(TRIM(A.QTY_2),0))  V18\n                     , NVL(\n                                    DECODE(TRAN_CODE,'MERGE',DECODE(FROM_TO_FLAG,'F',TRIM(A.QTY_1),TRIM(A.QTY_1))\n                                    ,TRIM(A.QTY_1))\n                                    , 0)  V19 -- CHIP_QTY_new-- 2010 10 07\n                     , A.TRAN_TIME  V20\n                     , NVL(D.WAFERQTY,NVL(TRIM(A.QTY_2),0))  V21\n                     , NVL(\n                                    DECODE(TRAN_CODE,'MERGE',DECODE(FROM_TO_FLAG,'F',TRIM(A.OLD_QTY_1),'T',TRIM(A.QTY_1-A.OLD_QTY_1),TRIM(A.QTY_1)) --,TRIM(A.QTY_1))\n                                                    ,'SPLIT',DECODE(FROM_TO_FLAG,'F',abs(A.OLD_QTY_1-A.QTY_1),TRIM(A.QTY_1))\n                                                    ,'LOSS',(A.OLD_QTY_1 - QTY_1)\n                                                    ,TRIM(A.QTY_1))\n                                   , 0)  V22 -- EVENT_QTY_new -- 2010 10 07\n                     , NVL((SELECT LOT_STATE FROM V_SECLOTSTS WHERE FACTORY = A.FACTORY AND LOT_ID = A.LOT_ID AND HIST_SEQ = A.HIST_SEQ ),' ')  V23\n                     , DECODE(TRAN_CODE,'SPLIT',DECODE(FROM_TO_FLAG,'T','Splitted','Split'),\n                                        'MERGE',DECODE(FROM_TO_FLAG,'T','Merge','Merged'),\n                                        'PMERGE',DECODE(FROM_TO_FLAG,'T','Merge','Merged')\n                                      )  V24\n                     , DECODE(TRAN_CODE, 'SPLIT',DECODE(FROM_TO_FLAG,'F',' ',NVL(TRIM(A.FROM_TO_LOT_ID), TRIM(A.LOT_CMF_1)))\n                                       , 'MERGE',DECODE(FROM_TO_FLAG,'F',TRIM(A.FROM_TO_LOT_ID),NVL(TRIM(A.FROM_TO_LOT_ID), TRIM(A.LOT_CMF_1)))\n                                       , DECODE(TRAN_CODE,'ADAPT',F_GET_CHG_PREV_VAL(A.LOT_ID,A.HIST_SEQ,'ADAPT','MAT_ID',-1),F_GET_CHG_PREV_VAL(A.LOT_ID,A.HIST_SEQ,TRAN_CODE,'MAT_ID',-1))\n                                       )  V25\n                     , DECODE(TRAN_CODE, 'SPLIT',DECODE(FROM_TO_FLAG,'T',' ',NVL(TRIM(A.FROM_TO_LOT_ID), TRIM(A.LOT_CMF_1)))\n                                       , 'MERGE',DECODE(FROM_TO_FLAG,'T',TRIM(A.FROM_TO_LOT_ID),NVL(TRIM(A.FROM_TO_LOT_ID), TRIM(A.LOT_CMF_1)))\n                                       , DECODE(TRAN_CODE,'ADAPT',F_GET_CHG_PREV_VAL(A.LOT_ID,A.HIST_SEQ,'ADAPT','MAT_ID',1),F_GET_CHG_PREV_VAL(A.LOT_ID,A.HIST_SEQ,TRAN_CODE,'MAT_ID',1))\n                                       )  V26\n                     , DECODE(TRAN_CODE, 'SPLIT',DECODE(FROM_TO_FLAG,'T',' ',NVL(TRIM(A.FROM_TO_LOT_ID), TRIM(A.LOT_CMF_1)))\n                                       , 'MERGE',DECODE(FROM_TO_FLAG,'F',TRIM(A.LOT_CMF_1),NVL(TRIM(A.FROM_TO_LOT_ID), TRIM(A.LOT_CMF_1)))\n                                       , ' ')  V27\n                     , DECODE(TRAN_CODE, 'SPLIT',DECODE(FROM_TO_FLAG,'F',' ',NVL(TRIM(A.FROM_TO_LOT_ID), TRIM(A.LOT_CMF_1)))\n                                       , 'MERGE',DECODE(FROM_TO_FLAG,'T',TRIM(A.LOT_CMF_1),NVL(TRIM(A.FROM_TO_LOT_ID), TRIM(A.LOT_CMF_1)))\n                                       , ' ')  V28\n                     , ' '  V29\n                     , DECODE(TRAN_CODE, 'HOLD',HOLD_CODE, ' ')  V30\n                     , F_GET_ATTR_VALUE(A.LOT_ID, 'LOT_SEC_INFO','RETURN_CODE')  V31\n                     , NVL(TRIM(A.LOT_CMF_4), '-')  V32\n                     , TO_CHAR(SYSDATE, 'YYYYMMDDHH24MISS')  V33\n                     , A.START_QTY_1  V34\n                     , NVL((SELECT MAX(LOSS_CODE_1) FROM MWIPLOTLOS WHERE FACTORY = A.FACTORY AND OPER = A.OLD_OPER AND FLOW = A.FLOW AND LOT_ID = A.LOT_ID), ' ' )  V35\n                     , NVL((SELECT ATTR_VALUE FROM MATRNAMSTS WHERE FACTORY = 'HMKA1' AND ATTR_TYPE = 'LOT_SEC_INFO' AND ATTR_NAME = 'WORDER' AND ATTR_KEY  = A.LOT_ID ), ' ') V36\n                     , NVL((SELECT ATTR_VALUE FROM MATRNAMSTS WHERE FACTORY = 'HMKA1' AND ATTR_TYPE = 'LOT_SEC_INFO' AND ATTR_NAME = 'WORDER' AND ATTR_KEY  = A.LOT_ID ), ' ') V37\n                          FROM MWIPLOTHIS A \n                             , CWIPSITDEF B\n                             , CEDILOTHIS C\n                             , V_CLOTWAFQTY D\n                         WHERE 1 = 1\n                           AND A.FACTORY IN ('HMKA1', 'HMKT1','CUSTOMER')    \n                           AND A.OWNER_CODE = 'PROD'\n                           AND A.LOT_TYPE = 'W'\n                           AND A.HIST_DEL_FLAG = ' '\n                           AND A.LOT_CMF_2 = 'SE'\n                           AND A.TRAN_TIME >= :todayHH24_M1H ||'000000'\n                           AND A.TRAN_TIME <  :todayHH24 ||'000000'\n                           AND B.TABLE_NAME='H_EDI_TRAN'\n                           AND B.KEY_1='SE'\n                           AND A.TRAN_CODE = B.KEY_2   \n                           AND B.DATA_1 <> ' '   \n                           AND B.FACTORY = 'HMKA1'\n                           AND (A.TRAN_CODE <> 'START' OR A.TRAN_CMF_1 IN ('ISSUE','CLOSE'))\n                           AND (A.TRAN_CODE <> 'ADAPT' OR A.ADD_ORDER_ID_2 NOT IN ('MULTIEQP_MOT','MULTIEQP', ' ') OR A.TRAN_CMF_1 IN ('PART_CHANGE' ))\n                           AND A.OLD_FLOW > ' '\n                           AND A.LOT_ID = C.LOT_ID\n                           AND A.HIST_SEQ = C.HIST_SEQ\n                           AND A.TRAN_TIME  = C.TRAN_TIME\n                           AND A.LOT_ID = D.LOT_ID(+)\n                           AND A.OPER NOT IN ('T000N')\n                         \n                 union all\n                       -- 20200121 chulho.wee ; combine only ; merge, multitransfer\n                       SELECT C.IN_DTTM V0, 'HM'  V1\n                     , DECODE(A.FACTORY, 'HMKA1', 'ASSY', 'TEST') V2\n                     , NVL(TRIM(A.LOT_CMF_1), '-') V3\n                     , DECODE(B.DATA_1,\n                              'END', NVL(TRIM(INITCAP(A.TRAN_CMF_1)),'TrackOut'),\n                              'Change', DECODE(A.TRAN_CMF_1,'PART_CHANGE','ChangeProduct')\n                              , B.DATA_1) V4\n                     , A.TRAN_TIME V5 \n                     , NVL(TRIM(A.LOT_CMF_5), '-')  V6\n                     , DECODE(A.FACTORY, 'HMKA1', 'HMKA', 'HMKT')  V7\n                     , NVL((SELECT MAT_CMF_7 FROM MWIPMATDEF WHERE FACTORY = A.FACTORY AND MAT_ID = A.MAT_ID AND MAT_VER = A.MAT_VER)\n                          , (SELECT MAT_CMF_7 FROM MWIPMATDEF WHERE FACTORY = A.OLD_FACTORY AND MAT_ID = A.OLD_MAT_ID AND MAT_VER = A.MAT_VER))  V8\n                     , A.FLOW  V9\n                     , DECODE(SUBSTRB(A.OLD_OPER,1,4),'AZ01','HMK3','T000','HMK3','TZ01','HMK4','A000','HMK2',SUBSTRB(A.OLD_OPER,1,4))  V10\n                     , NVL((SELECT OPER_DESC FROM MWIPOPRDEF WHERE FACTORY = A.FACTORY AND OPER = A.OLD_OPER AND FLOW = A.FLOW), ' ' )  V11\n                     , NVL((SELECT RES_GRP_3 FROM MRASRESDEF WHERE FACTORY = A.FACTORY AND RES_ID = A.START_RES_ID ),' ')  V12\n                     , NVL(START_RES_ID, ' ')  V13\n                     , NVL((SELECT DECODE(SUBSTRB(NVL(trim(PREV_OPER), 'A0000'),1,4),'AZ01','HMK3','T000','HMK3','TZ01','HMK4','A000','HMK2',SUBSTRB(NVL(trim(PREV_OPER), 'A0000'),1,4)) FROM MWIPFLWOPR WHERE FACTORY = A.FACTORY AND OPER = A.OPER AND FLOW = A.FLOW),' ')  V14\n                     , DECODE(SUBSTRB(A.OPER,1,4),'AZ01','HMK3','T000','HMK3','TZ01','HMK4','A000','HMK2',SUBSTRB(A.OPER,1,4))  V15\n                     , A.OPER_IN_TIME  V16\n                     , A.CREATE_TIME  V17\n                     , NVL(D.WAFERQTY,NVL(TRIM(A.QTY_2),0))  V18\n                     , NVL(\n                                    DECODE(TRAN_CODE, 'COMBINE',DECODE(FROM_TO_FLAG,'T',TRIM(A.QTY_1+(select max(old_qty_1) from mwiplothis where lot_id = (select from_to_lot_id from mwiplothis where lot_id = a.lot_id and hist_seq = a.hist_seq) and tran_code = 'COMBINE' and hist_del_flag = ' '))\n                                                                                       ,TRIM(A.QTY_1))\n                                                    , TRIM(A.QTY_1))\n                           , 0)  V19 \n                     , A.TRAN_TIME  V20\n                     , NVL(D.WAFERQTY,NVL(TRIM(A.QTY_2),0))  V21\n                     , NVL(\n                                    DECODE(TRAN_CODE,'COMBINE',DECODE(FROM_TO_FLAG,'F',TRIM(A.OLD_QTY_1)\n                                                                                  ,'T',(select max(old_qty_1) from mwiplothis where lot_id = (select from_to_lot_id from mwiplothis where lot_id = a.lot_id and hist_seq = a.hist_seq) and tran_code = 'COMBINE' and hist_del_flag = ' ')\n                                                                                  ,TRIM(A.QTY_1)) --,TRIM(A.QTY_1))\n                                                    ,TRIM(A.QTY_1)*2)\n                           , 0)  V22 \n                     , NVL((SELECT LOT_STATE FROM V_SECLOTSTS WHERE FACTORY = A.FACTORY AND LOT_ID = A.LOT_ID AND HIST_SEQ = A.HIST_SEQ ),' ')  V23\n                     , DECODE(TRAN_CODE,'SPLIT',DECODE(FROM_TO_FLAG,'T','Splitted','Split'),\n                                        'COMBINE',DECODE(FROM_TO_FLAG,'T','Merge','Merged'),\n                                        'PMERGE',DECODE(FROM_TO_FLAG,'T','Merge','Merged')\n                                      )  V24\n                     , DECODE(TRAN_CODE, 'COMBINE',DECODE(FROM_TO_FLAG,'F',TRIM(A.FROM_TO_LOT_ID),NVL(TRIM(A.FROM_TO_LOT_ID), TRIM(A.LOT_CMF_1)))\n                                       , ' ') V25\n                     , DECODE(TRAN_CODE, 'COMBINE',DECODE(FROM_TO_FLAG,'T',TRIM(A.FROM_TO_LOT_ID),NVL(TRIM(A.FROM_TO_LOT_ID), TRIM(A.LOT_CMF_1)))\n                                       , ' ') V26\n                     , DECODE(TRAN_CODE, 'COMBINE',DECODE(FROM_TO_FLAG,'F',TRIM(A.LOT_CMF_1),NVL(TRIM(A.FROM_TO_LOT_ID), TRIM(A.LOT_CMF_1)))\n                                       , ' ')  V27\n                     , DECODE(TRAN_CODE, 'COMBINE',DECODE(FROM_TO_FLAG,'T',TRIM(A.LOT_CMF_1),NVL(TRIM(A.FROM_TO_LOT_ID), TRIM(A.LOT_CMF_1)))\n                                       , ' ')  V28\n                     , ' '  V29\n                     , DECODE(TRAN_CODE, 'HOLD',HOLD_CODE, ' ')  V30\n                     , F_GET_ATTR_VALUE(A.LOT_ID, 'LOT_SEC_INFO','RETURN_CODE')  V31\n                     , NVL(TRIM(A.LOT_CMF_4), '-')  V32\n                     , TO_CHAR(SYSDATE, 'YYYYMMDDHH24MISS')  V33\n                     , A.START_QTY_1  V34\n                     , NVL((SELECT MAX(LOSS_CODE_1) FROM MWIPLOTLOS WHERE FACTORY = A.FACTORY AND OPER = A.OLD_OPER AND FLOW = A.FLOW AND LOT_ID = A.LOT_ID), ' ' )  V35\n                     , NVL((SELECT ATTR_VALUE FROM MATRNAMSTS WHERE FACTORY = 'HMKA1' AND ATTR_TYPE = 'LOT_SEC_INFO' AND ATTR_NAME = 'WORDER' AND ATTR_KEY  = A.LOT_ID ), ' ') V36\n                     , NVL((SELECT ATTR_VALUE FROM MATRNAMSTS WHERE FACTORY = 'HMKA1' AND ATTR_TYPE = 'LOT_SEC_INFO' AND ATTR_NAME = 'WORDER' AND ATTR_KEY  = A.LOT_ID ), ' ') V37\n                          FROM MWIPLOTHIS A \n                             , CWIPSITDEF B\n                             , CEDILOTHIS C\n                             , V_CLOTWAFQTY D\n                         WHERE 1 = 1\n                           AND A.FACTORY IN ('HMKA1', 'HMKT1') --,'CUSTOMER')    \n                           AND A.OWNER_CODE = 'PROD'\n                           AND A.LOT_TYPE = 'W'\n                           AND A.HIST_DEL_FLAG = ' '\n                           AND A.LOT_CMF_2 = 'SE'\n                           AND A.TRAN_TIME >= TO_CHAR(SYSDATE-1/24,'YYYYMMDDHH24')||'000000'\n                           AND A.TRAN_TIME <  TO_CHAR(SYSDATE,'YYYYMMDDHH24')||'000000'\n                           AND B.TABLE_NAME='H_EDI_EX_TRAN'\n                           AND B.KEY_1='SE'\n                           AND A.TRAN_CODE = B.KEY_2   \n                           AND B.DATA_1 <> ' '   \n                           AND B.FACTORY = 'HMKA1'\n                           AND (A.TRAN_CODE <> 'START' OR A.TRAN_CMF_1 IN ('ISSUE','CLOSE'))\n                           AND (A.TRAN_CODE <> 'ADAPT' OR A.ADD_ORDER_ID_2 NOT IN ('MULTIEQP_MOT','MULTIEQP', ' ') OR A.TRAN_CMF_1 IN ('PART_CHANGE' ))\n                           AND A.OLD_FLOW > ' '\n                           AND A.LOT_ID = C.LOT_ID\n                           AND A.HIST_SEQ = C.HIST_SEQ\n                           AND A.TRAN_TIME  = C.TRAN_TIME\n                           AND A.LOT_ID = D.LOT_ID(+)\n                           AND A.OPER NOT IN ('T000N')\n                           AND A.OPER LIKE 'A040_'\n              )\n              order by v0\n           )) A, \n       ( SELECT ROWNUM IDX, TRAN_TIME, MILI_SEC\n           FROM (\n                   SELECT TRAN_TIME, CNT-NUM MILI_SEC\n                    FROM (\n                    select TRAN_TIME, sum(cnt) CNT\n                      from ( \n                        SELECT A.TRAN_TIME, COUNT(*) CNT\n                          FROM MWIPLOTHIS A \n                             , CWIPSITDEF B\n                             , CEDILOTHIS C\n                             , V_CLOTWAFQTY D\n                         WHERE 1 = 1\n                           AND A.FACTORY IN ('HMKA1', 'HMKT1','CUSTOMER')   \n                           AND A.OWNER_CODE = 'PROD'\n                          AND A.LOT_TYPE = 'W'\n                           AND A.HIST_DEL_FLAG = ' '\n                           AND A.LOT_CMF_2 = 'SE'\n                           AND A.TRAN_TIME >= TO_CHAR(SYSDATE-1/24,'YYYYMMDDHH24')||'000000'\n                           AND A.TRAN_TIME <  TO_CHAR(SYSDATE,'YYYYMMDDHH24')||'000000'\n                           AND B.TABLE_NAME='H_EDI_TRAN'\n                           AND B.KEY_1='SE'\n                           AND A.TRAN_CODE = B.KEY_2   \n                           AND B.DATA_1 <> ' '   \n                           AND B.FACTORY = 'HMKA1'\n                           AND (A.TRAN_CODE <> 'START' OR A.TRAN_CMF_1 IN ('ISSUE','CLOSE'))\n                           AND (A.TRAN_CODE <> 'ADAPT' OR A.ADD_ORDER_ID_2 NOT IN ('MULTIEQP_MOT','MULTIEQP', ' ') OR A.TRAN_CMF_1 IN ('PART_CHANGE' ))\n                           AND A.OLD_FLOW > ' '\n                           AND A.LOT_ID = C.LOT_ID\n                           AND A.HIST_SEQ = C.HIST_SEQ\n                           AND A.TRAN_TIME  = C.TRAN_TIME\n                           AND A.LOT_ID = D.LOT_ID(+)\n                           AND A.OPER NOT IN ('T000N')\n                         GROUP BY A.TRAN_TIME\n                         union\n                        SELECT A.TRAN_TIME, COUNT(*) CNT\n                          FROM MWIPLOTHIS A \n                             , CWIPSITDEF B\n                             , CEDILOTHIS C\n                             , V_CLOTWAFQTY D\n                         WHERE 1 = 1\n                           AND A.FACTORY IN ('HMKA1', 'HMKT1') --,'CUSTOMER')    \n                           AND A.OWNER_CODE = 'PROD'\n                           AND A.LOT_TYPE = 'W'\n                           AND A.HIST_DEL_FLAG = ' '\n                           AND A.LOT_CMF_2 = 'SE'\n                           AND A.TRAN_TIME >= :todayHH24_M1H ||'000000'\n                           AND A.TRAN_TIME <  :todayHH24 ||'000000'\n                           AND B.TABLE_NAME='H_EDI_EX_TRAN'\n                           AND B.KEY_1='SE'\n                           AND A.TRAN_CODE = B.KEY_2   \n                           AND B.DATA_1 <> ' '   \n                           AND B.FACTORY = 'HMKA1'\n                           AND (A.TRAN_CODE <> 'START' OR A.TRAN_CMF_1 IN ('ISSUE','CLOSE'))\n                           AND (A.TRAN_CODE <> 'ADAPT' OR A.ADD_ORDER_ID_2 NOT IN ('MULTIEQP_MOT','MULTIEQP', ' ') OR A.TRAN_CMF_1 IN ('PART_CHANGE' ))\n                           AND A.OLD_FLOW > ' '\n                           AND A.LOT_ID = C.LOT_ID\n                           AND A.HIST_SEQ = C.HIST_SEQ\n                           AND A.TRAN_TIME  = C.TRAN_TIME\n                           AND A.LOT_ID = D.LOT_ID(+)\n                           AND A.OPER NOT IN ('T000N')\n                           GROUP BY A.TRAN_TIME\n                           )\n                           group by TRAN_TIME\n                         ) A, COPY_T B\n                   WHERE NUM < 26 \n                     AND NUM <= CNT\n                   ORDER BY TRAN_TIME, CNT-NUM \n                  )) B\n             WHERE A.IDX=B.IDX","CREATE_USER":"6","CREATE_DATE":"2021-12-15 11:13:15","DBTYPE":"MES"}]
2022-11-16 16:04:00 [EDI System] info: 
        SELECT * FROM (
            SELECT *
            FROM EDI_QUERY_SETTING
            WHERE 1=1
            AND SETTING_ID = (
                SELECT ID
                FROM CG_CUSTOMER 
                WHERE PARENT = (
                    SELECT ID
                    FROM CG_CUSTOMER 
                    WHERE ID=(
                        SELECT PARENT
                        FROM CG_CUSTOMER 
                        WHERE ID=(
                            SELECT PARENT 
                            FROM CG_CUSTOMER 
                            WHERE ID=:id
                        )
                    )
                )
                AND LOWER(NAME) = 'common'
            )
            AND TYPE IN ('DB','TEXT')
            AND KEY NOT IN (SELECT KEY
                            FROM EDI_QUERY_SETTING
                            WHERE 1=1
                            AND SETTING_ID = :id
                            AND TYPE IN ('DB','TEXT'))
            UNION ALL
            SELECT *
            FROM EDI_QUERY_SETTING
            WHERE 1=1
            AND SETTING_ID = :id
            AND TYPE IN ('DB','TEXT')
        )
        ORDER BY LENGTH(KEY) DESC
    
2022-11-16 16:04:00 [EDI System] info: [{"ID":"137","SETTING_ID":"129","KEY":"todayHH24MISS","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE,'YYYYMMDDHH24MISS') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-11-12 05:20:22","DBTYPE":"MES"},{"ID":"124","SETTING_ID":"129","KEY":"todayHH24_M1H","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE - 1/24,'YYYYMMDDHH24') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-10-15 01:40:03","DBTYPE":"MES"},{"ID":"122","SETTING_ID":"129","KEY":"todayHH24","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE,'YYYYMMDDHH24') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-10-15 11:47:10","DBTYPE":"MES"},{"ID":"115","SETTING_ID":"129","KEY":"today_yy","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE,'YYYYMMDDHH24') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-09-24 08:46:51","DBTYPE":"MES"},{"ID":"130","SETTING_ID":"129","KEY":"today","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE,'YYYYMMDD') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-11-09 03:36:41","DBTYPE":"MES"}]
2022-11-16 16:05:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 16:06:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 16:07:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 16:08:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 16:09:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 16:10:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 16:11:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 16:12:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 16:13:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 16:13:00 [EDI System] info: Job Start Time > {"min":13,"hour":16,"date":16,"month":11,"day":3}
 {"ID":121,"CFG_ID":"159","FILE_NAME":"CMEQPUNT_HM:today","FILE_DESC":"SEC CMEQPUNT 1/1day","FILE_SAVE_FOLDER":"D:/HM_EDI/SEC/OUT","FILE_CHARSET":"ascii","FILE_TYPE":"ff","DATA_TYPE":"text","FTP_ENV_ID":"100","SEND_FLAG":"Y","NODATASEND":"false","SCHEDULE_MIN":"13","SCHEDULE_HOUR":"*","SCHEDULE_DAY":"*","SCHEDULE_WEEK":"*","SCHEDULE_MONTH":"*","CM_F01":null,"CM_F02":null,"CREATE_DATE":"2021-12-10 09:44:41","CREATE_USER":"6","UPDATE_DATE":"2021-12-15 04:08:07","UPDATE_USER":"6","DELETE_DATE":null,"DELETE_USER":null,"frequency":"13 * * * *"}
2022-11-16 16:13:00 [EDI System] info: 121 >>> makeFileText Function Execute
2022-11-16 16:13:00 [EDI System] info: SELECT EDI_LOG_SEQ.NEXTVAL AS ID FROM DUAL
2022-11-16 16:13:00 [EDI System] info: SELECT EDI_LOG_SEQ.NEXTVAL AS ID FROM DUAL
2022-11-16 16:13:00 [EDI System] info: [{"ID":11112}]
2022-11-16 16:13:00 [EDI System] info: seq : return Key [{"ID":11112}]
2022-11-16 16:13:00 [EDI System] info: saveAllLogger => ID:11112, NAME:CMEQPUNT_HM:today, ProcessID:159, Description: Job Start : ID=121, CFG_ID=159, FTP_ENV_ID=100, FILE_NAME=CMEQPUNT_HM:today, FILE_DESC=SEC CMEQPUNT 1/1day, FILE_CHARSET=ascii, FILE_TYPE=ff
2022-11-16 16:13:00 [EDI System] info: INSERT INTO EDI_LOG(ID, STEP, NAME, PROCESS_ID, DESCRIPTION, CREATE_USER, CREATE_DATE)
    VALUES(:id, :stepId, :name, :process_id, :description, 'DAEMON', TO_CHAR(SYSDATE,'YYYYMMDDHH24MISS'))
2022-11-16 16:13:00 [EDI System] info: Insert successful = SQL: INSERT INTO EDI_LOG(ID, STEP, NAME, PROCESS_ID, DESCRIPTION, CREATE_USER, CREATE_DATE)
    VALUES(:id, :stepId, :name, :process_id, :description, 'DAEMON', TO_CHAR(SYSDATE,'YYYYMMDDHH24MISS')) | Params: {"id":11112,"stepId":"1","name":"CMEQPUNT_HM:today","process_id":"159","description":"Job Start : ID=121, CFG_ID=159, FTP_ENV_ID=100, FILE_NAME=CMEQPUNT_HM:today, FILE_DESC=SEC CMEQPUNT 1/1day, FILE_CHARSET=ascii, FILE_TYPE=ff"} / 1
2022-11-16 16:13:00 [EDI System] info: 
    SELECT *
    FROM (
        SELECT ROWNUM,A.*
            FROM EDI_QUERY_SETTING A
            WHERE SETTING_ID = :id
            AND TYPE='Main'
            ORDER BY ID DESC
        ) 
    WHERE ROWNUM='1'
    
2022-11-16 16:13:00 [EDI System] info: [{"ROWNUM":1,"ID":"157","SETTING_ID":"159","KEY":null,"TYPE":"Main","QUERY":"--//-- 20211203 chulho.wee ; CREATE\nSELECT \n  RPAD(START_TAG, 3, ' ')\n|| RPAD(OEM_CODE, 2, ' ')\n|| RPAD(MONTH, 6, ' ')\n|| RPAD(C_DATE, 8, ' ')\n|| RPAD(O_DATE, 8, ' ')\n|| RPAD(OEM_AREA, 4, ' ')\n|| RPAD(CUST_DEVICE, 30, ' ')\n|| RPAD(OPER_DESC, 15, ' ')\n|| RPAD(EQP_GROUP, 15, ' ')\n\n|| RPAD(EQP_MODEL, 30, ' ')\n|| RPAD(RES_ID, 15, ' ')\n|| RPAD(OPER, 6, ' ')\n\n|| RPAD(SUM(QTY), 10, ' ')\n|| RPAD(LOT_TYPE, 2, ' ')\n|| RPAD(PARA, 3, ' ')\n\n|| RPAD(TEST_TIME, 10, ' ')\n|| RPAD(INDEX_TIME, 10, ' ')\n|| RPAD(ATE_TIME, 10, ' ')\n\n|| RPAD(EQP_PRICE, 10, ' ')\n|| RPAD(ATE_PRICE, 10, ' ')\n|| RPAD(MVP_PRICE, 10, ' ')\n|| RPAD(PVI_PRICE, 10, ' ')\n|| RPAD(UNIT_PRICE, 10, ' ')\n\n|| RPAD(FULL_HALF, 10, ' ')\n|| RPAD(CREATE_TIME, 14, ' ')\n|| RPAD(REMARK, 200, ' ')\n  FROM\n(\n    SELECT 'LS1' START_TAG\n         , 'HM' OEM_CODE\n         , CASE\n            WHEN TO_CHAR(SYSDATE, 'DD') >= 28 THEN\n                 TO_CHAR(ADD_MONTHS(SYSDATE, +1), 'YYYYMM')\n            ELSE\n                 TO_CHAR(ADD_MONTHS(SYSDATE, -0), 'YYYYMM')\n           END AS \"MONTH\"\n         --, TO_CHAR(SYSDATE, 'DD') C_DATE\n         , TO_CHAR(SYSDATE, 'YYYYMMDD') C_DATE\n         , SUBSTR(LOT.TRAN_TIME, 1,8) AS O_DATE\n         , 'HMKT' AS OEM_AREA\n         \n         , TST.CUST_DVC CUST_DEVICE\n         , DECODE(TST.OPER ,'T0100', 'ATE', 'T0960', 'ASB', 'T0500', 'MVP', TST.OPER) OPER_DESC\n         \n         , (SELECT NVL(ATTR_VALUE, 'NULL') FROM MATRNAMSTS WHERE FACTORY = 'HMKT1' AND ATTR_TYPE = 'RESOURCE' AND ATTR_NAME = 'EQP_GROUP' AND ATTR_KEY = LOT.END_RES_ID) AS EQP_GROUP\n         , (SELECT NVL(ATTR_VALUE, 'NULL') FROM MATRNAMSTS WHERE FACTORY = 'HMKT1' AND ATTR_TYPE = 'RESOURCE' AND ATTR_NAME = 'EQP_MODEL' AND ATTR_KEY = LOT.END_RES_ID) AS EQP_MODEL\n         , LOT.OLD_OPER AS OPER\n         , LOT.END_RES_ID AS RES_ID\n         , LOT_CMF_5 LOT_TYPE\n\n         , LOT.QTY_1 AS QTY\n         , TST.PARA AS PARA\n         , TST.TEST_TIME AS TEST_TIME\n         , TST.INDEX_TIME AS INDEX_TIME\n         , TST.ATE_TIME AS ATE_TIME\n         , TST.EQP_PRICE AS EQP_PRICE\n         , TST.ATE_PRICE AS ATE_PRICE\n--         , (((TST.TEST_TIME + TST.INDEX_TIME) * TST.EQP_PRICE) / TST.PARA) AS ATE_PRICE\n         , TST.MVP_PRICE AS MVP_PRICE\n         , TST.PVI_PRICE AS PVI_PRICE\n         , TST.UNIT_PRICE AS UNIT_PRICE\n         , TST.FULL_HALF AS FULL_HALF\n         , TO_CHAR(SYSDATE, 'YYYYMMDDHH24MISS') AS CREATE_TIME\n         , ' ' AS REMARK\n      FROM MWIPLOTHIS LOT, VGCMTBLDAT_TEST_TIME_INF2 TST\n     WHERE 1=1\n       AND LOT.MAT_ID = TST.MAT_ID\n       AND LOT.OLD_OPER = TST.OPER\n       AND TST.MODEL = (SELECT NVL(ATTR_VALUE, 'NULL') FROM MATRNAMSTS WHERE FACTORY = 'HMKT1' AND ATTR_TYPE = 'RESOURCE' AND ATTR_NAME = 'EQP_MODEL' AND ATTR_KEY = LOT.END_RES_ID)\n       AND LOT.TRAN_TIME >= CASE WHEN TO_CHAR(SYSDATE, 'DD') >= 28 THEN\n                       TO_CHAR(ADD_MONTHS(SYSDATE, -0), 'YYYYMM')||'27'||'22'\n                       ELSE\n                       TO_CHAR(ADD_MONTHS(SYSDATE, -1), 'YYYYMM')||'27'||'22'\n                       END --AS PREV_MON\n\n       AND LOT.TRAN_TIME < CASE WHEN TO_CHAR(SYSDATE, 'HH24MISS') >= 220000\n                                  OR TO_CHAR(SYSDATE, 'HH24MISS') <= 235959 THEN\n                       TO_CHAR(SYSDATE -0, 'YYYYMMDD')||'22'\n                       ELSE\n                       TO_CHAR(SYSDATE -1, 'YYYYMMDD')||'22'\n                       END --AS CURR_MON\n                       \n--       AND LOT.TRAN_TIME < CASE WHEN TO_CHAR(SYSDATE, 'DD') >= 28 THEN\n--                       TO_CHAR(ADD_MONTHS(SYSDATE, +1), 'YYYYMM')||'27'||'22'\n--                       ELSE\n--                       TO_CHAR(ADD_MONTHS(SYSDATE, -0), 'YYYYMM')||'27'||'22'\n--                       END --AS CURR_MON\n       AND LOT.FACTORY = 'HMKT1'\n       AND LOT.TRAN_CODE = 'END'\n       AND LOT.OLD_OPER in ('T0100', 'T0960', 'T0500')\n--       AND TST.CUST_DVC = 'L6HD311A01-P040-A00VCD'\n--       AND LOT.MAT_ID = 'SEL6HD311A01-P040-A00KUVCD'\n)\nGROUP BY START_TAG\n, OEM_CODE\n, MONTH\n, C_DATE\n, O_DATE\n, OEM_AREA\n\n, CUST_DEVICE\n, OPER_DESC\n\n, EQP_GROUP\n, EQP_MODEL\n, OPER\n, RES_ID\n, LOT_TYPE\n\n, PARA\n, TEST_TIME\n, INDEX_TIME\n, ATE_TIME\n, EQP_PRICE\n, ATE_PRICE\n, MVP_PRICE\n, PVI_PRICE\n, UNIT_PRICE\n, FULL_HALF\n, CREATE_TIME\n, REMARK\nORDER BY 1","CREATE_USER":"6","CREATE_DATE":"2021-12-16 09:51:58","DBTYPE":"MES"}]
2022-11-16 16:13:00 [EDI System] info: 
        SELECT * FROM (
            SELECT *
            FROM EDI_QUERY_SETTING
            WHERE 1=1
            AND SETTING_ID = (
                SELECT ID
                FROM CG_CUSTOMER 
                WHERE PARENT = (
                    SELECT ID
                    FROM CG_CUSTOMER 
                    WHERE ID=(
                        SELECT PARENT
                        FROM CG_CUSTOMER 
                        WHERE ID=(
                            SELECT PARENT 
                            FROM CG_CUSTOMER 
                            WHERE ID=:id
                        )
                    )
                )
                AND LOWER(NAME) = 'common'
            )
            AND TYPE IN ('DB','TEXT')
            AND KEY NOT IN (SELECT KEY
                            FROM EDI_QUERY_SETTING
                            WHERE 1=1
                            AND SETTING_ID = :id
                            AND TYPE IN ('DB','TEXT'))
            UNION ALL
            SELECT *
            FROM EDI_QUERY_SETTING
            WHERE 1=1
            AND SETTING_ID = :id
            AND TYPE IN ('DB','TEXT')
        )
        ORDER BY LENGTH(KEY) DESC
    
2022-11-16 16:13:00 [EDI System] info: [{"ID":"137","SETTING_ID":"129","KEY":"todayHH24MISS","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE,'YYYYMMDDHH24MISS') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-11-12 05:20:22","DBTYPE":"MES"},{"ID":"124","SETTING_ID":"129","KEY":"todayHH24_M1H","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE - 1/24,'YYYYMMDDHH24') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-10-15 01:40:03","DBTYPE":"MES"},{"ID":"122","SETTING_ID":"129","KEY":"todayHH24","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE,'YYYYMMDDHH24') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-10-15 11:47:10","DBTYPE":"MES"},{"ID":"115","SETTING_ID":"129","KEY":"today_yy","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE,'YYYYMMDDHH24') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-09-24 08:46:51","DBTYPE":"MES"},{"ID":"130","SETTING_ID":"129","KEY":"today","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE,'YYYYMMDD') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-11-09 03:36:41","DBTYPE":"MES"}]
2022-11-16 16:14:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 16:15:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 16:15:01 [EDI System] info: Job Start Time > {"min":15,"hour":16,"date":16,"month":11,"day":3}
 {"ID":106,"CFG_ID":"141","FILE_NAME":"WO_INPUT_HANA_AS_:todayHH24_1","FILE_DESC":"Siliconworks input assy","FILE_SAVE_FOLDER":"D:/HM_EDI/SILICONWOKRS/OUT","FILE_CHARSET":"utf-8","FILE_TYPE":"csv","DATA_TYPE":"text","FTP_ENV_ID":"106","SEND_FLAG":"Y","NODATASEND":null,"SCHEDULE_MIN":"15","SCHEDULE_HOUR":"*","SCHEDULE_DAY":"*","SCHEDULE_WEEK":"*","SCHEDULE_MONTH":"*","CM_F01":null,"CM_F02":null,"CREATE_DATE":"2021-11-12 05:06:11","CREATE_USER":"6","UPDATE_DATE":"2022-02-16 12:18:37","UPDATE_USER":"6","DELETE_DATE":null,"DELETE_USER":null,"frequency":"15 * * * *"}
2022-11-16 16:15:01 [EDI System] info: 106 >>> makeFileText Function Execute
2022-11-16 16:15:01 [EDI System] info: Job Start Time > {"min":15,"hour":16,"date":16,"month":11,"day":3}
 {"ID":129,"CFG_ID":"166","FILE_NAME":"WO_INPUT_HANA_AS_:todayHH24_1","FILE_DESC":"Siliconworks input assy","FILE_SAVE_FOLDER":"D:/HM_EDI/SILICONWOKRS/OUT","FILE_CHARSET":"utf-8","FILE_TYPE":"csv","DATA_TYPE":"text","FTP_ENV_ID":"106","SEND_FLAG":"Y","NODATASEND":null,"SCHEDULE_MIN":"15","SCHEDULE_HOUR":"*","SCHEDULE_DAY":"*","SCHEDULE_WEEK":"*","SCHEDULE_MONTH":"*","CM_F01":null,"CM_F02":null,"CREATE_DATE":"2022-02-22 16:21:15","CREATE_USER":"6","UPDATE_DATE":null,"UPDATE_USER":null,"DELETE_DATE":null,"DELETE_USER":null,"frequency":"15 * * * *"}
2022-11-16 16:15:01 [EDI System] info: 129 >>> makeFileText Function Execute
2022-11-16 16:15:01 [EDI System] info: Job Start Time > {"min":15,"hour":16,"date":16,"month":11,"day":3}
 {"ID":127,"CFG_ID":"164","FILE_NAME":"WO_INPUT_HANA_AS_:todayHH24_1","FILE_DESC":"Siliconworks input assy","FILE_SAVE_FOLDER":"D:/HM_EDI/SILICONWOKRS/OUT","FILE_CHARSET":"utf-8","FILE_TYPE":"csv","DATA_TYPE":"text","FTP_ENV_ID":"106","SEND_FLAG":"Y","NODATASEND":null,"SCHEDULE_MIN":"15","SCHEDULE_HOUR":"*","SCHEDULE_DAY":"*","SCHEDULE_WEEK":"*","SCHEDULE_MONTH":"*","CM_F01":null,"CM_F02":null,"CREATE_DATE":"2022-02-22 16:13:42","CREATE_USER":"6","UPDATE_DATE":null,"UPDATE_USER":null,"DELETE_DATE":null,"DELETE_USER":null,"frequency":"15 * * * *"}
2022-11-16 16:15:01 [EDI System] info: 127 >>> makeFileText Function Execute
2022-11-16 16:15:01 [EDI System] info: Job Start Time > {"min":15,"hour":16,"date":16,"month":11,"day":3}
 {"ID":128,"CFG_ID":"165","FILE_NAME":"WO_INPUT_HANA_AS_:todayHH24_1","FILE_DESC":"Siliconworks input assy","FILE_SAVE_FOLDER":"D:/HM_EDI/SILICONWOKRS/OUT","FILE_CHARSET":"utf-8","FILE_TYPE":"csv","DATA_TYPE":"text","FTP_ENV_ID":"106","SEND_FLAG":"Y","NODATASEND":null,"SCHEDULE_MIN":"15","SCHEDULE_HOUR":"*","SCHEDULE_DAY":"*","SCHEDULE_WEEK":"*","SCHEDULE_MONTH":"*","CM_F01":null,"CM_F02":null,"CREATE_DATE":"2022-02-22 16:18:38","CREATE_USER":"6","UPDATE_DATE":null,"UPDATE_USER":null,"DELETE_DATE":null,"DELETE_USER":null,"frequency":"15 * * * *"}
2022-11-16 16:15:01 [EDI System] info: 128 >>> makeFileText Function Execute
2022-11-16 16:15:01 [EDI System] info: Job Start Time > {"min":15,"hour":16,"date":16,"month":11,"day":3}
 {"ID":130,"CFG_ID":"167","FILE_NAME":"WO_INPUT_HANA_AS_:todayHH24_1","FILE_DESC":"Siliconworks input assy","FILE_SAVE_FOLDER":"D:/HM_EDI/SILICONWOKRS/OUT","FILE_CHARSET":"utf-8","FILE_TYPE":"csv","DATA_TYPE":"text","FTP_ENV_ID":"106","SEND_FLAG":"Y","NODATASEND":null,"SCHEDULE_MIN":"15","SCHEDULE_HOUR":"*","SCHEDULE_DAY":"*","SCHEDULE_WEEK":"*","SCHEDULE_MONTH":"*","CM_F01":null,"CM_F02":null,"CREATE_DATE":"2022-02-22 16:23:34","CREATE_USER":"6","UPDATE_DATE":null,"UPDATE_USER":null,"DELETE_DATE":null,"DELETE_USER":null,"frequency":"15 * * * *"}
2022-11-16 16:15:01 [EDI System] info: 130 >>> makeFileText Function Execute
2022-11-16 16:15:01 [EDI System] info: SELECT EDI_LOG_SEQ.NEXTVAL AS ID FROM DUAL
2022-11-16 16:15:01 [EDI System] info: SELECT EDI_LOG_SEQ.NEXTVAL AS ID FROM DUAL
2022-11-16 16:15:01 [EDI System] info: SELECT EDI_LOG_SEQ.NEXTVAL AS ID FROM DUAL
2022-11-16 16:15:01 [EDI System] info: SELECT EDI_LOG_SEQ.NEXTVAL AS ID FROM DUAL
2022-11-16 16:15:01 [EDI System] info: SELECT EDI_LOG_SEQ.NEXTVAL AS ID FROM DUAL
2022-11-16 16:15:01 [EDI System] info: SELECT EDI_LOG_SEQ.NEXTVAL AS ID FROM DUAL
2022-11-16 16:15:01 [EDI System] info: SELECT EDI_LOG_SEQ.NEXTVAL AS ID FROM DUAL
2022-11-16 16:15:01 [EDI System] info: SELECT EDI_LOG_SEQ.NEXTVAL AS ID FROM DUAL
2022-11-16 16:15:01 [EDI System] info: SELECT EDI_LOG_SEQ.NEXTVAL AS ID FROM DUAL
2022-11-16 16:15:01 [EDI System] info: SELECT EDI_LOG_SEQ.NEXTVAL AS ID FROM DUAL
2022-11-16 16:15:01 [EDI System] info: [{"ID":11113}]
2022-11-16 16:15:01 [EDI System] info: [{"ID":11114}]
2022-11-16 16:15:01 [EDI System] info: seq : return Key [{"ID":11113}]
2022-11-16 16:15:01 [EDI System] info: saveAllLogger => ID:11113, NAME:WO_INPUT_HANA_AS_:todayHH24_1, ProcessID:165, Description: Job Start : ID=128, CFG_ID=165, FTP_ENV_ID=106, FILE_NAME=WO_INPUT_HANA_AS_:todayHH24_1, FILE_DESC=Siliconworks input assy, FILE_CHARSET=utf-8, FILE_TYPE=csv
2022-11-16 16:15:01 [EDI System] info: INSERT INTO EDI_LOG(ID, STEP, NAME, PROCESS_ID, DESCRIPTION, CREATE_USER, CREATE_DATE)
    VALUES(:id, :stepId, :name, :process_id, :description, 'DAEMON', TO_CHAR(SYSDATE,'YYYYMMDDHH24MISS'))
2022-11-16 16:15:01 [EDI System] info: seq : return Key [{"ID":11114}]
2022-11-16 16:15:01 [EDI System] info: saveAllLogger => ID:11114, NAME:WO_INPUT_HANA_AS_:todayHH24_1, ProcessID:164, Description: Job Start : ID=127, CFG_ID=164, FTP_ENV_ID=106, FILE_NAME=WO_INPUT_HANA_AS_:todayHH24_1, FILE_DESC=Siliconworks input assy, FILE_CHARSET=utf-8, FILE_TYPE=csv
2022-11-16 16:15:01 [EDI System] info: INSERT INTO EDI_LOG(ID, STEP, NAME, PROCESS_ID, DESCRIPTION, CREATE_USER, CREATE_DATE)
    VALUES(:id, :stepId, :name, :process_id, :description, 'DAEMON', TO_CHAR(SYSDATE,'YYYYMMDDHH24MISS'))
2022-11-16 16:15:01 [EDI System] info: [{"ID":11115}]
2022-11-16 16:15:01 [EDI System] info: [{"ID":11116}]
2022-11-16 16:15:01 [EDI System] info: seq : return Key [{"ID":11115}]
2022-11-16 16:15:01 [EDI System] info: saveAllLogger => ID:11115, NAME:WO_INPUT_HANA_AS_:todayHH24_1, ProcessID:166, Description: Job Start : ID=129, CFG_ID=166, FTP_ENV_ID=106, FILE_NAME=WO_INPUT_HANA_AS_:todayHH24_1, FILE_DESC=Siliconworks input assy, FILE_CHARSET=utf-8, FILE_TYPE=csv
2022-11-16 16:15:01 [EDI System] info: INSERT INTO EDI_LOG(ID, STEP, NAME, PROCESS_ID, DESCRIPTION, CREATE_USER, CREATE_DATE)
    VALUES(:id, :stepId, :name, :process_id, :description, 'DAEMON', TO_CHAR(SYSDATE,'YYYYMMDDHH24MISS'))
2022-11-16 16:15:01 [EDI System] info: seq : return Key [{"ID":11116}]
2022-11-16 16:15:01 [EDI System] info: saveAllLogger => ID:11116, NAME:WO_INPUT_HANA_AS_:todayHH24_1, ProcessID:141, Description: Job Start : ID=106, CFG_ID=141, FTP_ENV_ID=106, FILE_NAME=WO_INPUT_HANA_AS_:todayHH24_1, FILE_DESC=Siliconworks input assy, FILE_CHARSET=utf-8, FILE_TYPE=csv
2022-11-16 16:15:01 [EDI System] info: INSERT INTO EDI_LOG(ID, STEP, NAME, PROCESS_ID, DESCRIPTION, CREATE_USER, CREATE_DATE)
    VALUES(:id, :stepId, :name, :process_id, :description, 'DAEMON', TO_CHAR(SYSDATE,'YYYYMMDDHH24MISS'))
2022-11-16 16:15:01 [EDI System] info: Insert successful = SQL: INSERT INTO EDI_LOG(ID, STEP, NAME, PROCESS_ID, DESCRIPTION, CREATE_USER, CREATE_DATE)
    VALUES(:id, :stepId, :name, :process_id, :description, 'DAEMON', TO_CHAR(SYSDATE,'YYYYMMDDHH24MISS')) | Params: {"id":11113,"stepId":"1","name":"WO_INPUT_HANA_AS_:todayHH24_1","process_id":"165","description":"Job Start : ID=128, CFG_ID=165, FTP_ENV_ID=106, FILE_NAME=WO_INPUT_HANA_AS_:todayHH24_1, FILE_DESC=Siliconworks input assy, FILE_CHARSET=utf-8, FILE_TYPE=csv"} / 1
2022-11-16 16:15:01 [EDI System] info: [{"ID":11117}]
2022-11-16 16:15:01 [EDI System] info: seq : return Key [{"ID":11117}]
2022-11-16 16:15:01 [EDI System] info: saveAllLogger => ID:11117, NAME:WO_INPUT_HANA_AS_:todayHH24_1, ProcessID:167, Description: Job Start : ID=130, CFG_ID=167, FTP_ENV_ID=106, FILE_NAME=WO_INPUT_HANA_AS_:todayHH24_1, FILE_DESC=Siliconworks input assy, FILE_CHARSET=utf-8, FILE_TYPE=csv
2022-11-16 16:15:01 [EDI System] info: INSERT INTO EDI_LOG(ID, STEP, NAME, PROCESS_ID, DESCRIPTION, CREATE_USER, CREATE_DATE)
    VALUES(:id, :stepId, :name, :process_id, :description, 'DAEMON', TO_CHAR(SYSDATE,'YYYYMMDDHH24MISS'))
2022-11-16 16:15:01 [EDI System] info: 
    SELECT *
    FROM (
        SELECT ROWNUM,A.*
            FROM EDI_QUERY_SETTING A
            WHERE SETTING_ID = :id
            AND TYPE='Main'
            ORDER BY ID DESC
        ) 
    WHERE ROWNUM='1'
    
2022-11-16 16:15:01 [EDI System] info: Insert successful = SQL: INSERT INTO EDI_LOG(ID, STEP, NAME, PROCESS_ID, DESCRIPTION, CREATE_USER, CREATE_DATE)
    VALUES(:id, :stepId, :name, :process_id, :description, 'DAEMON', TO_CHAR(SYSDATE,'YYYYMMDDHH24MISS')) | Params: {"id":11114,"stepId":"1","name":"WO_INPUT_HANA_AS_:todayHH24_1","process_id":"164","description":"Job Start : ID=127, CFG_ID=164, FTP_ENV_ID=106, FILE_NAME=WO_INPUT_HANA_AS_:todayHH24_1, FILE_DESC=Siliconworks input assy, FILE_CHARSET=utf-8, FILE_TYPE=csv"} / 1
2022-11-16 16:15:01 [EDI System] info: Insert successful = SQL: INSERT INTO EDI_LOG(ID, STEP, NAME, PROCESS_ID, DESCRIPTION, CREATE_USER, CREATE_DATE)
    VALUES(:id, :stepId, :name, :process_id, :description, 'DAEMON', TO_CHAR(SYSDATE,'YYYYMMDDHH24MISS')) | Params: {"id":11116,"stepId":"1","name":"WO_INPUT_HANA_AS_:todayHH24_1","process_id":"141","description":"Job Start : ID=106, CFG_ID=141, FTP_ENV_ID=106, FILE_NAME=WO_INPUT_HANA_AS_:todayHH24_1, FILE_DESC=Siliconworks input assy, FILE_CHARSET=utf-8, FILE_TYPE=csv"} / 1
2022-11-16 16:15:01 [EDI System] info: 
    SELECT *
    FROM (
        SELECT ROWNUM,A.*
            FROM EDI_QUERY_SETTING A
            WHERE SETTING_ID = :id
            AND TYPE='Main'
            ORDER BY ID DESC
        ) 
    WHERE ROWNUM='1'
    
2022-11-16 16:15:01 [EDI System] info: Insert successful = SQL: INSERT INTO EDI_LOG(ID, STEP, NAME, PROCESS_ID, DESCRIPTION, CREATE_USER, CREATE_DATE)
    VALUES(:id, :stepId, :name, :process_id, :description, 'DAEMON', TO_CHAR(SYSDATE,'YYYYMMDDHH24MISS')) | Params: {"id":11115,"stepId":"1","name":"WO_INPUT_HANA_AS_:todayHH24_1","process_id":"166","description":"Job Start : ID=129, CFG_ID=166, FTP_ENV_ID=106, FILE_NAME=WO_INPUT_HANA_AS_:todayHH24_1, FILE_DESC=Siliconworks input assy, FILE_CHARSET=utf-8, FILE_TYPE=csv"} / 1
2022-11-16 16:15:01 [EDI System] info: 
    SELECT *
    FROM (
        SELECT ROWNUM,A.*
            FROM EDI_QUERY_SETTING A
            WHERE SETTING_ID = :id
            AND TYPE='Main'
            ORDER BY ID DESC
        ) 
    WHERE ROWNUM='1'
    
2022-11-16 16:15:01 [EDI System] info: 
    SELECT *
    FROM (
        SELECT ROWNUM,A.*
            FROM EDI_QUERY_SETTING A
            WHERE SETTING_ID = :id
            AND TYPE='Main'
            ORDER BY ID DESC
        ) 
    WHERE ROWNUM='1'
    
2022-11-16 16:15:01 [EDI System] info: Insert successful = SQL: INSERT INTO EDI_LOG(ID, STEP, NAME, PROCESS_ID, DESCRIPTION, CREATE_USER, CREATE_DATE)
    VALUES(:id, :stepId, :name, :process_id, :description, 'DAEMON', TO_CHAR(SYSDATE,'YYYYMMDDHH24MISS')) | Params: {"id":11117,"stepId":"1","name":"WO_INPUT_HANA_AS_:todayHH24_1","process_id":"167","description":"Job Start : ID=130, CFG_ID=167, FTP_ENV_ID=106, FILE_NAME=WO_INPUT_HANA_AS_:todayHH24_1, FILE_DESC=Siliconworks input assy, FILE_CHARSET=utf-8, FILE_TYPE=csv"} / 1
2022-11-16 16:15:01 [EDI System] info: 
    SELECT *
    FROM (
        SELECT ROWNUM,A.*
            FROM EDI_QUERY_SETTING A
            WHERE SETTING_ID = :id
            AND TYPE='Main'
            ORDER BY ID DESC
        ) 
    WHERE ROWNUM='1'
    
2022-11-16 16:15:01 [EDI System] info: [{"ROWNUM":1,"ID":"167","SETTING_ID":"165","KEY":null,"TYPE":"Main","QUERY":"SELECT 'Interface ID'\n || ',' || 'Interface Line ID'\n || ',' || 'SUPPLIER_CODE'\n || ',' || 'PROCESSING_CODE'\n || ',' || 'SIW_WO_NO'\n || ',' || 'SUPPLIER_WO_NO'\n || ',' || 'ASSY_ITEM_CODE'\n || ',' || 'ASSY_QTY'\n || ',' || 'UOM_CODE'\n || ',' || 'WORK_START_DATE'\n || ',' || 'COMPONENT_ITEM_CODE'\n || ',' || 'COMPONENT_LOT_ID'\n || ',' || 'COMPONENT_QTY'\n || ',' || 'REMARK1'\n || ',' || 'CANCEL_FLAG'\n || ',' || 'CREATION_DATE'\n\n  FROM IEDISIW_INPUT_INFO\n WHERE CUTOFF_DT = :todayHH24 -- TO_CHAR(SYSDATE, 'YYYYMMDDHH24')\n   AND PROCESSING_CODE = 'AS'\n   AND ROWNUM = 1\n\nUNION ALL\n\nSELECT IF_ID \n || ',' || IF_LINE_ID \n || ',' || SUPPLIER_CODE \n || ',' || PROCESSING_CODE \n || ',' || SIW_WO_NO \n || ',' || SUPPLIER_WO_NO \n || ',' || ASSY_ITEM_CODE \n || ',' || ASSY_QTY \n || ',' || UOM_CODE \n || ',' || WORK_START_DATE \n || ',' || COMPONENT_ITEM_CODE\n || ',' || COMPONENT_LOT_ID \n || ',' || COMPONENT_QTY \n || ',' || REMARK1 \n || ',' || CANCEL_FLAG \n || ',' || CREATION_DATE \n\n  FROM IEDISIW_INPUT_INFO\n WHERE CUTOFF_DT = :todayHH24 -- TO_CHAR(SYSDATE, 'YYYYMMDDHH24')\n   AND PROCESSING_CODE = 'AS'","CREATE_USER":"6","CREATE_DATE":"2022-02-22 16:18:38","DBTYPE":null}]
2022-11-16 16:15:01 [EDI System] info: 
        SELECT * FROM (
            SELECT *
            FROM EDI_QUERY_SETTING
            WHERE 1=1
            AND SETTING_ID = (
                SELECT ID
                FROM CG_CUSTOMER 
                WHERE PARENT = (
                    SELECT ID
                    FROM CG_CUSTOMER 
                    WHERE ID=(
                        SELECT PARENT
                        FROM CG_CUSTOMER 
                        WHERE ID=(
                            SELECT PARENT 
                            FROM CG_CUSTOMER 
                            WHERE ID=:id
                        )
                    )
                )
                AND LOWER(NAME) = 'common'
            )
            AND TYPE IN ('DB','TEXT')
            AND KEY NOT IN (SELECT KEY
                            FROM EDI_QUERY_SETTING
                            WHERE 1=1
                            AND SETTING_ID = :id
                            AND TYPE IN ('DB','TEXT'))
            UNION ALL
            SELECT *
            FROM EDI_QUERY_SETTING
            WHERE 1=1
            AND SETTING_ID = :id
            AND TYPE IN ('DB','TEXT')
        )
        ORDER BY LENGTH(KEY) DESC
    
2022-11-16 16:15:01 [EDI System] info: []
2022-11-16 16:15:01 [EDI System] info: 
        SELECT * FROM (
            SELECT *
            FROM EDI_QUERY_SETTING
            WHERE 1=1
            AND SETTING_ID = (
                SELECT ID
                FROM CG_CUSTOMER 
                WHERE PARENT = (
                    SELECT ID
                    FROM CG_CUSTOMER 
                    WHERE ID=(
                        SELECT PARENT
                        FROM CG_CUSTOMER 
                        WHERE ID=(
                            SELECT PARENT 
                            FROM CG_CUSTOMER 
                            WHERE ID=:id
                        )
                    )
                )
                AND LOWER(NAME) = 'common'
            )
            AND TYPE IN ('DB','TEXT')
            AND KEY NOT IN (SELECT KEY
                            FROM EDI_QUERY_SETTING
                            WHERE 1=1
                            AND SETTING_ID = :id
                            AND TYPE IN ('DB','TEXT'))
            UNION ALL
            SELECT *
            FROM EDI_QUERY_SETTING
            WHERE 1=1
            AND SETTING_ID = :id
            AND TYPE IN ('DB','TEXT')
        )
        ORDER BY LENGTH(KEY) DESC
    
2022-11-16 16:15:01 [EDI System] info: [{"ROWNUM":4,"ID":"166","SETTING_ID":"141","KEY":null,"TYPE":"Main","QUERY":"SELECT 'Interface ID'\n || ',' || 'Interface Line ID'\n || ',' || 'SUPPLIER_CODE'\n || ',' || 'PROCESSING_CODE'\n || ',' || 'SIW_WO_NO'\n || ',' || 'SUPPLIER_WO_NO'\n || ',' || 'ASSY_ITEM_CODE'\n || ',' || 'ASSY_QTY'\n || ',' || 'UOM_CODE'\n || ',' || 'WORK_START_DATE'\n || ',' || 'COMPONENT_ITEM_CODE'\n || ',' || 'COMPONENT_LOT_ID'\n || ',' || 'COMPONENT_QTY'\n || ',' || 'REMARK1'\n || ',' || 'CANCEL_FLAG'\n || ',' || 'CREATION_DATE'\n\n  FROM IEDISIW_INPUT_INFO\n WHERE CUTOFF_DT = :todayHH24 -- TO_CHAR(SYSDATE, 'YYYYMMDDHH24')\n   AND PROCESSING_CODE = 'AS'\n   AND ROWNUM = 1\n\tAND ROWNUM = 2\n    \nUNION ALL\n\nSELECT IF_ID \n || ',' || IF_LINE_ID \n || ',' || SUPPLIER_CODE \n || ',' || PROCESSING_CODE \n || ',' || SIW_WO_NO \n || ',' || SUPPLIER_WO_NO \n || ',' || ASSY_ITEM_CODE \n || ',' || ASSY_QTY \n || ',' || UOM_CODE \n || ',' || WORK_START_DATE \n || ',' || COMPONENT_ITEM_CODE\n || ',' || COMPONENT_LOT_ID \n || ',' || COMPONENT_QTY \n || ',' || REMARK1 \n || ',' || CANCEL_FLAG \n || ',' || CREATION_DATE \n\n  FROM IEDISIW_INPUT_INFO\n WHERE CUTOFF_DT = :todayHH24 -- TO_CHAR(SYSDATE, 'YYYYMMDDHH24')\n   AND PROCESSING_CODE = 'AS'","CREATE_USER":"6","CREATE_DATE":"2022-02-16 16:42:57","DBTYPE":"MES"}]
2022-11-16 16:15:01 [EDI System] info: 
        SELECT * FROM (
            SELECT *
            FROM EDI_QUERY_SETTING
            WHERE 1=1
            AND SETTING_ID = (
                SELECT ID
                FROM CG_CUSTOMER 
                WHERE PARENT = (
                    SELECT ID
                    FROM CG_CUSTOMER 
                    WHERE ID=(
                        SELECT PARENT
                        FROM CG_CUSTOMER 
                        WHERE ID=(
                            SELECT PARENT 
                            FROM CG_CUSTOMER 
                            WHERE ID=:id
                        )
                    )
                )
                AND LOWER(NAME) = 'common'
            )
            AND TYPE IN ('DB','TEXT')
            AND KEY NOT IN (SELECT KEY
                            FROM EDI_QUERY_SETTING
                            WHERE 1=1
                            AND SETTING_ID = :id
                            AND TYPE IN ('DB','TEXT'))
            UNION ALL
            SELECT *
            FROM EDI_QUERY_SETTING
            WHERE 1=1
            AND SETTING_ID = :id
            AND TYPE IN ('DB','TEXT')
        )
        ORDER BY LENGTH(KEY) DESC
    
2022-11-16 16:15:01 [EDI System] info: []
2022-11-16 16:15:01 [EDI System] info: 
        SELECT * FROM (
            SELECT *
            FROM EDI_QUERY_SETTING
            WHERE 1=1
            AND SETTING_ID = (
                SELECT ID
                FROM CG_CUSTOMER 
                WHERE PARENT = (
                    SELECT ID
                    FROM CG_CUSTOMER 
                    WHERE ID=(
                        SELECT PARENT
                        FROM CG_CUSTOMER 
                        WHERE ID=(
                            SELECT PARENT 
                            FROM CG_CUSTOMER 
                            WHERE ID=:id
                        )
                    )
                )
                AND LOWER(NAME) = 'common'
            )
            AND TYPE IN ('DB','TEXT')
            AND KEY NOT IN (SELECT KEY
                            FROM EDI_QUERY_SETTING
                            WHERE 1=1
                            AND SETTING_ID = :id
                            AND TYPE IN ('DB','TEXT'))
            UNION ALL
            SELECT *
            FROM EDI_QUERY_SETTING
            WHERE 1=1
            AND SETTING_ID = :id
            AND TYPE IN ('DB','TEXT')
        )
        ORDER BY LENGTH(KEY) DESC
    
2022-11-16 16:15:01 [EDI System] info: [{"ROWNUM":1,"ID":"169","SETTING_ID":"167","KEY":null,"TYPE":"Main","QUERY":"SELECT 'Interface ID'\n || ',' || 'Interface Line ID'\n || ',' || 'SUPPLIER_CODE'\n || ',' || 'PROCESSING_CODE'\n || ',' || 'SIW_WO_NO'\n || ',' || 'SUPPLIER_WO_NO'\n || ',' || 'ASSY_ITEM_CODE'\n || ',' || 'ASSY_QTY'\n || ',' || 'UOM_CODE'\n || ',' || 'WORK_START_DATE'\n || ',' || 'COMPONENT_ITEM_CODE'\n || ',' || 'COMPONENT_LOT_ID'\n || ',' || 'COMPONENT_QTY'\n || ',' || 'REMARK1'\n || ',' || 'CANCEL_FLAG'\n || ',' || 'CREATION_DATE'\n\n  FROM IEDISIW_INPUT_INFO\n WHERE CUTOFF_DT = :todayHH24 -- TO_CHAR(SYSDATE, 'YYYYMMDDHH24')\n   AND PROCESSING_CODE = 'AS'\n   AND ROWNUM = 1\n\tAND ROWNUM = 2\n    \nUNION ALL\n\nSELECT IF_ID \n || ',' || IF_LINE_ID \n || ',' || SUPPLIER_CODE \n || ',' || PROCESSING_CODE \n || ',' || SIW_WO_NO \n || ',' || SUPPLIER_WO_NO \n || ',' || ASSY_ITEM_CODE \n || ',' || ASSY_QTY \n || ',' || UOM_CODE \n || ',' || WORK_START_DATE \n || ',' || COMPONENT_ITEM_CODE\n || ',' || COMPONENT_LOT_ID \n || ',' || COMPONENT_QTY \n || ',' || REMARK1 \n || ',' || CANCEL_FLAG \n || ',' || CREATION_DATE \n\n  FROM IEDISIW_INPUT_INFO\n WHERE CUTOFF_DT = :todayHH24 -- TO_CHAR(SYSDATE, 'YYYYMMDDHH24')\n   AND PROCESSING_CODE = 'AS'","CREATE_USER":"6","CREATE_DATE":"2022-02-22 16:23:34","DBTYPE":"MES"}]
2022-11-16 16:15:01 [EDI System] info: 
        SELECT * FROM (
            SELECT *
            FROM EDI_QUERY_SETTING
            WHERE 1=1
            AND SETTING_ID = (
                SELECT ID
                FROM CG_CUSTOMER 
                WHERE PARENT = (
                    SELECT ID
                    FROM CG_CUSTOMER 
                    WHERE ID=(
                        SELECT PARENT
                        FROM CG_CUSTOMER 
                        WHERE ID=(
                            SELECT PARENT 
                            FROM CG_CUSTOMER 
                            WHERE ID=:id
                        )
                    )
                )
                AND LOWER(NAME) = 'common'
            )
            AND TYPE IN ('DB','TEXT')
            AND KEY NOT IN (SELECT KEY
                            FROM EDI_QUERY_SETTING
                            WHERE 1=1
                            AND SETTING_ID = :id
                            AND TYPE IN ('DB','TEXT'))
            UNION ALL
            SELECT *
            FROM EDI_QUERY_SETTING
            WHERE 1=1
            AND SETTING_ID = :id
            AND TYPE IN ('DB','TEXT')
        )
        ORDER BY LENGTH(KEY) DESC
    
2022-11-16 16:15:01 [EDI System] info: [{"ID":"133","SETTING_ID":"139","KEY":"todayHH24_M1H","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE - 1/24,'YYYYMMDDHH24') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-11-12 05:01:01","DBTYPE":"MES"},{"ID":"132","SETTING_ID":"139","KEY":"todayHH24","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE,'YYYYMMDDHH24') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-11-12 05:01:01","DBTYPE":"MES"},{"ID":"131","SETTING_ID":"139","KEY":"today_yy","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE,'YYYYMMDDHH24') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-11-12 05:01:01","DBTYPE":"MES"},{"ID":"134","SETTING_ID":"139","KEY":"today","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE,'YYYYMMDDHH24') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-11-12 05:01:01","DBTYPE":"MES"}]
2022-11-16 16:15:01 [EDI System] info: [{"ID":"133","SETTING_ID":"139","KEY":"todayHH24_M1H","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE - 1/24,'YYYYMMDDHH24') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-11-12 05:01:01","DBTYPE":"MES"},{"ID":"132","SETTING_ID":"139","KEY":"todayHH24","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE,'YYYYMMDDHH24') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-11-12 05:01:01","DBTYPE":"MES"},{"ID":"131","SETTING_ID":"139","KEY":"today_yy","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE,'YYYYMMDDHH24') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-11-12 05:01:01","DBTYPE":"MES"},{"ID":"134","SETTING_ID":"139","KEY":"today","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE,'YYYYMMDDHH24') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-11-12 05:01:01","DBTYPE":"MES"}]
2022-11-16 16:15:01 [EDI System] info: [{"ID":"133","SETTING_ID":"139","KEY":"todayHH24_M1H","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE - 1/24,'YYYYMMDDHH24') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-11-12 05:01:01","DBTYPE":"MES"},{"ID":"132","SETTING_ID":"139","KEY":"todayHH24","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE,'YYYYMMDDHH24') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-11-12 05:01:01","DBTYPE":"MES"},{"ID":"131","SETTING_ID":"139","KEY":"today_yy","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE,'YYYYMMDDHH24') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-11-12 05:01:01","DBTYPE":"MES"},{"ID":"134","SETTING_ID":"139","KEY":"today","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE,'YYYYMMDDHH24') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-11-12 05:01:01","DBTYPE":"MES"}]
2022-11-16 16:15:01 [EDI System] info: 
    SELECT *
    FROM EDI_ENV_SETTING WHERE CFG_ID=:id
    
2022-11-16 16:15:01 [EDI System] info: [{"ID":"133","SETTING_ID":"139","KEY":"todayHH24_M1H","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE - 1/24,'YYYYMMDDHH24') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-11-12 05:01:01","DBTYPE":"MES"},{"ID":"132","SETTING_ID":"139","KEY":"todayHH24","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE,'YYYYMMDDHH24') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-11-12 05:01:01","DBTYPE":"MES"},{"ID":"131","SETTING_ID":"139","KEY":"today_yy","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE,'YYYYMMDDHH24') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-11-12 05:01:01","DBTYPE":"MES"},{"ID":"134","SETTING_ID":"139","KEY":"today","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE,'YYYYMMDDHH24') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-11-12 05:01:01","DBTYPE":"MES"}]
2022-11-16 16:15:01 [EDI System] info: 
    SELECT *
    FROM EDI_ENV_SETTING WHERE CFG_ID=:id
    
2022-11-16 16:15:01 [EDI System] info: [{"ID":"133","SETTING_ID":"139","KEY":"todayHH24_M1H","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE - 1/24,'YYYYMMDDHH24') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-11-12 05:01:01","DBTYPE":"MES"},{"ID":"132","SETTING_ID":"139","KEY":"todayHH24","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE,'YYYYMMDDHH24') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-11-12 05:01:01","DBTYPE":"MES"},{"ID":"131","SETTING_ID":"139","KEY":"today_yy","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE,'YYYYMMDDHH24') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-11-12 05:01:01","DBTYPE":"MES"},{"ID":"134","SETTING_ID":"139","KEY":"today","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE,'YYYYMMDDHH24') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-11-12 05:01:01","DBTYPE":"MES"}]
2022-11-16 16:15:01 [EDI System] info: [{"ID":"139","CFG_ID":"164","ITEM":"between","SET_TYPE":null,"VALUE":"vetween","NOTE":"1","UPDATE_USER":null,"UPDATE_DATE":null,"CREATE_USER":"6","CREATE_DATE":"2022-02-22 16:13:42"}]
2022-11-16 16:15:01 [EDI System] info: 
  SELECT *
  FROM EDI_FILE_HEADNTAIL WHERE CFG_ID=:id
  
2022-11-16 16:15:01 [EDI System] info: [{"ID":"141","CFG_ID":"166","ITEM":"between","SET_TYPE":null,"VALUE":"vetween","NOTE":"1","UPDATE_USER":null,"UPDATE_DATE":null,"CREATE_USER":"6","CREATE_DATE":"2022-02-22 16:21:15"}]
2022-11-16 16:15:01 [EDI System] info: 
  SELECT *
  FROM EDI_FILE_HEADNTAIL WHERE CFG_ID=:id
  
2022-11-16 16:15:01 [EDI System] info: [{"ID":"149","CFG_ID":"164","DATA_TYPE":"h_text","NOTE":"test","VALUE":"value","CM_F01":null,"CM_F02":null,"UPDATE_USER":null,"UPDATE_DATE":null,"CREATE_USER":"6","CREATE_DATE":"2022-02-22 16:13:42","DELETE_DATE":null,"DELETE_USER":null},{"ID":"148","CFG_ID":"164","DATA_TYPE":"h_sql","NOTE":"test\\","VALUE":"select 1 from dual","CM_F01":null,"CM_F02":null,"UPDATE_USER":null,"UPDATE_DATE":null,"CREATE_USER":"6","CREATE_DATE":"2022-02-22 16:13:42","DELETE_DATE":null,"DELETE_USER":null}]
2022-11-16 16:15:01 [EDI System] info: [{"ID":"152","CFG_ID":"166","DATA_TYPE":"h_sql","NOTE":"test\\","VALUE":"select 1 from dual","CM_F01":null,"CM_F02":null,"UPDATE_USER":null,"UPDATE_DATE":null,"CREATE_USER":"6","CREATE_DATE":"2022-02-22 16:21:15","DELETE_DATE":null,"DELETE_USER":null},{"ID":"153","CFG_ID":"166","DATA_TYPE":"h_text","NOTE":"test","VALUE":"value","CM_F01":null,"CM_F02":null,"UPDATE_USER":null,"UPDATE_DATE":null,"CREATE_USER":"6","CREATE_DATE":"2022-02-22 16:21:15","DELETE_DATE":null,"DELETE_USER":null}]
2022-11-16 16:16:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 16:17:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 16:17:00 [EDI System] info: Job Start Time > {"min":17,"hour":16,"date":16,"month":11,"day":3}
 {"ID":122,"CFG_ID":"160","FILE_NAME":"CMEQPUNT_HM:today_2","FILE_DESC":"SEC CMEQPUNT 1/1day","FILE_SAVE_FOLDER":"D:/HM_EDI/SEC/OUT","FILE_CHARSET":"ascii","FILE_TYPE":"ff","DATA_TYPE":"text","FTP_ENV_ID":"100","SEND_FLAG":"Y","NODATASEND":"false","SCHEDULE_MIN":"17","SCHEDULE_HOUR":"*","SCHEDULE_DAY":"*","SCHEDULE_WEEK":"*","SCHEDULE_MONTH":"*","CM_F01":null,"CM_F02":null,"CREATE_DATE":"2021-12-14 11:47:39","CREATE_USER":"6","UPDATE_DATE":"2022-01-06 04:38:43","UPDATE_USER":"6","DELETE_DATE":null,"DELETE_USER":null,"frequency":"17 * * * *"}
2022-11-16 16:17:00 [EDI System] info: 122 >>> makeFileText Function Execute
2022-11-16 16:17:00 [EDI System] info: Job Start Time > {"min":17,"hour":16,"date":16,"month":11,"day":3}
 {"ID":123,"CFG_ID":"161","FILE_NAME":"WO_INPUT_HANA_FT_:todayHH24_1","FILE_DESC":"Siliconworks input TEST","FILE_SAVE_FOLDER":"D:/HM_EDI/SILICONWOKRS/OUT","FILE_CHARSET":"utf-8","FILE_TYPE":"csv","DATA_TYPE":"text","FTP_ENV_ID":"106","SEND_FLAG":"Y","NODATASEND":"false","SCHEDULE_MIN":"17","SCHEDULE_HOUR":"*","SCHEDULE_DAY":"*","SCHEDULE_WEEK":"*","SCHEDULE_MONTH":"*","CM_F01":null,"CM_F02":null,"CREATE_DATE":"2022-01-05 10:54:36","CREATE_USER":"6","UPDATE_DATE":"2022-02-15 11:38:03","UPDATE_USER":"6","DELETE_DATE":null,"DELETE_USER":null,"frequency":"17 * * * *"}
2022-11-16 16:17:00 [EDI System] info: 123 >>> makeFileText Function Execute
2022-11-16 16:17:00 [EDI System] info: SELECT EDI_LOG_SEQ.NEXTVAL AS ID FROM DUAL
2022-11-16 16:17:00 [EDI System] info: SELECT EDI_LOG_SEQ.NEXTVAL AS ID FROM DUAL
2022-11-16 16:17:00 [EDI System] info: SELECT EDI_LOG_SEQ.NEXTVAL AS ID FROM DUAL
2022-11-16 16:17:00 [EDI System] info: SELECT EDI_LOG_SEQ.NEXTVAL AS ID FROM DUAL
2022-11-16 16:17:00 [EDI System] info: [{"ID":11118}]
2022-11-16 16:17:00 [EDI System] info: seq : return Key [{"ID":11118}]
2022-11-16 16:17:00 [EDI System] info: saveAllLogger => ID:11118, NAME:CMEQPUNT_HM:today_2, ProcessID:160, Description: Job Start : ID=122, CFG_ID=160, FTP_ENV_ID=100, FILE_NAME=CMEQPUNT_HM:today_2, FILE_DESC=SEC CMEQPUNT 1/1day, FILE_CHARSET=ascii, FILE_TYPE=ff
2022-11-16 16:17:00 [EDI System] info: INSERT INTO EDI_LOG(ID, STEP, NAME, PROCESS_ID, DESCRIPTION, CREATE_USER, CREATE_DATE)
    VALUES(:id, :stepId, :name, :process_id, :description, 'DAEMON', TO_CHAR(SYSDATE,'YYYYMMDDHH24MISS'))
2022-11-16 16:17:00 [EDI System] info: [{"ID":11119}]
2022-11-16 16:17:00 [EDI System] info: seq : return Key [{"ID":11119}]
2022-11-16 16:17:00 [EDI System] info: saveAllLogger => ID:11119, NAME:WO_INPUT_HANA_FT_:todayHH24_1, ProcessID:161, Description: Job Start : ID=123, CFG_ID=161, FTP_ENV_ID=106, FILE_NAME=WO_INPUT_HANA_FT_:todayHH24_1, FILE_DESC=Siliconworks input TEST, FILE_CHARSET=utf-8, FILE_TYPE=csv
2022-11-16 16:17:00 [EDI System] info: INSERT INTO EDI_LOG(ID, STEP, NAME, PROCESS_ID, DESCRIPTION, CREATE_USER, CREATE_DATE)
    VALUES(:id, :stepId, :name, :process_id, :description, 'DAEMON', TO_CHAR(SYSDATE,'YYYYMMDDHH24MISS'))
2022-11-16 16:17:00 [EDI System] info: Insert successful = SQL: INSERT INTO EDI_LOG(ID, STEP, NAME, PROCESS_ID, DESCRIPTION, CREATE_USER, CREATE_DATE)
    VALUES(:id, :stepId, :name, :process_id, :description, 'DAEMON', TO_CHAR(SYSDATE,'YYYYMMDDHH24MISS')) | Params: {"id":11118,"stepId":"1","name":"CMEQPUNT_HM:today_2","process_id":"160","description":"Job Start : ID=122, CFG_ID=160, FTP_ENV_ID=100, FILE_NAME=CMEQPUNT_HM:today_2, FILE_DESC=SEC CMEQPUNT 1/1day, FILE_CHARSET=ascii, FILE_TYPE=ff"} / 1
2022-11-16 16:17:00 [EDI System] info: 
    SELECT *
    FROM (
        SELECT ROWNUM,A.*
            FROM EDI_QUERY_SETTING A
            WHERE SETTING_ID = :id
            AND TYPE='Main'
            ORDER BY ID DESC
        ) 
    WHERE ROWNUM='1'
    
2022-11-16 16:17:00 [EDI System] info: Insert successful = SQL: INSERT INTO EDI_LOG(ID, STEP, NAME, PROCESS_ID, DESCRIPTION, CREATE_USER, CREATE_DATE)
    VALUES(:id, :stepId, :name, :process_id, :description, 'DAEMON', TO_CHAR(SYSDATE,'YYYYMMDDHH24MISS')) | Params: {"id":11119,"stepId":"1","name":"WO_INPUT_HANA_FT_:todayHH24_1","process_id":"161","description":"Job Start : ID=123, CFG_ID=161, FTP_ENV_ID=106, FILE_NAME=WO_INPUT_HANA_FT_:todayHH24_1, FILE_DESC=Siliconworks input TEST, FILE_CHARSET=utf-8, FILE_TYPE=csv"} / 1
2022-11-16 16:17:00 [EDI System] info: 
    SELECT *
    FROM (
        SELECT ROWNUM,A.*
            FROM EDI_QUERY_SETTING A
            WHERE SETTING_ID = :id
            AND TYPE='Main'
            ORDER BY ID DESC
        ) 
    WHERE ROWNUM='1'
    
2022-11-16 16:17:00 [EDI System] info: [{"ROWNUM":1,"ID":"153","SETTING_ID":"160","KEY":null,"TYPE":"Main","QUERY":"--//-- 20211203 chulho.wee ; CREATE\nSELECT \n  RPAD(START_TAG, 3, ' ')\n|| RPAD(OEM_CODE, 2, ' ')\n|| RPAD(MONTH, 6, ' ')\n|| RPAD(C_DATE, 8, ' ')\n|| RPAD(O_DATE, 8, ' ')\n|| RPAD(OEM_AREA, 4, ' ')\n|| RPAD(CUST_DEVICE, 30, ' ')\n|| RPAD(OPER_DESC, 15, ' ')\n|| RPAD(EQP_GROUP, 15, ' ')\n\n|| RPAD(EQP_MODEL, 30, ' ')\n|| RPAD(RES_ID, 15, ' ')\n|| RPAD(OPER, 6, ' ')\n\n|| RPAD(SUM(QTY), 10, ' ')\n|| RPAD(LOT_TYPE, 2, ' ')\n|| RPAD(PARA, 3, ' ')\n\n|| RPAD(TEST_TIME, 10, ' ')\n|| RPAD(INDEX_TIME, 10, ' ')\n|| RPAD(ATE_TIME, 10, ' ')\n\n|| RPAD(EQP_PRICE, 10, ' ')\n|| RPAD(ATE_PRICE, 10, ' ')\n|| RPAD(MVP_PRICE, 10, ' ')\n|| RPAD(PVI_PRICE, 10, ' ')\n|| RPAD(UNIT_PRICE, 10, ' ')\n\n|| RPAD(FULL_HALF, 10, ' ')\n|| RPAD(CREATE_TIME, 14, ' ')\n|| RPAD(REMARK, 200, ' ')\n  FROM\n(\n    SELECT 'LS1' START_TAG\n         , 'HM' OEM_CODE\n         , CASE\n            WHEN TO_CHAR(SYSDATE, 'DD') >= 28 THEN\n                 TO_CHAR(ADD_MONTHS(SYSDATE, +1), 'YYYYMM')\n            ELSE\n                 TO_CHAR(ADD_MONTHS(SYSDATE, -0), 'YYYYMM')\n           END AS \"MONTH\"\n         --, TO_CHAR(SYSDATE, 'DD') C_DATE\n         , TO_CHAR(SYSDATE, 'YYYYMMDD') C_DATE\n         , SUBSTR(LOT.TRAN_TIME, 1,8) AS O_DATE\n         , 'HMKT' AS OEM_AREA\n         \n         , TST.CUST_DVC CUST_DEVICE\n         , DECODE(TST.OPER ,'T0100', 'ATE', 'T0960', 'ASB', 'T0500', 'MVP', TST.OPER) OPER_DESC\n         \n         , (SELECT NVL(ATTR_VALUE, 'NULL') FROM MATRNAMSTS WHERE FACTORY = 'HMKT1' AND ATTR_TYPE = 'RESOURCE' AND ATTR_NAME = 'EQP_GROUP' AND ATTR_KEY = LOT.END_RES_ID) AS EQP_GROUP\n         , (SELECT NVL(ATTR_VALUE, 'NULL') FROM MATRNAMSTS WHERE FACTORY = 'HMKT1' AND ATTR_TYPE = 'RESOURCE' AND ATTR_NAME = 'EQP_MODEL' AND ATTR_KEY = LOT.END_RES_ID) AS EQP_MODEL\n         , LOT.OLD_OPER AS OPER\n         , LOT.END_RES_ID AS RES_ID\n         , LOT_CMF_5 LOT_TYPE\n\n         , LOT.QTY_1 AS QTY\n         , TST.PARA AS PARA\n         , TST.TEST_TIME AS TEST_TIME\n         , TST.INDEX_TIME AS INDEX_TIME\n         , TST.ATE_TIME AS ATE_TIME\n         , TST.EQP_PRICE AS EQP_PRICE\n         , TST.ATE_PRICE AS ATE_PRICE\n--         , (((TST.TEST_TIME + TST.INDEX_TIME) * TST.EQP_PRICE) / TST.PARA) AS ATE_PRICE\n         , TST.MVP_PRICE AS MVP_PRICE\n         , TST.PVI_PRICE AS PVI_PRICE\n         , TST.UNIT_PRICE AS UNIT_PRICE\n         , TST.FULL_HALF AS FULL_HALF\n         , TO_CHAR(SYSDATE, 'YYYYMMDDHH24MISS') AS CREATE_TIME\n         , ' ' AS REMARK\n      FROM MWIPLOTHIS LOT, VGCMTBLDAT_TEST_TIME_INF2 TST\n     WHERE 1=1\n       AND LOT.MAT_ID = TST.MAT_ID\n       AND LOT.OLD_OPER = TST.OPER\n       AND TST.MODEL = (SELECT NVL(ATTR_VALUE, 'NULL') FROM MATRNAMSTS WHERE FACTORY = 'HMKT1' AND ATTR_TYPE = 'RESOURCE' AND ATTR_NAME = 'EQP_MODEL' AND ATTR_KEY = LOT.END_RES_ID)\n       AND LOT.TRAN_TIME >= CASE WHEN TO_CHAR(SYSDATE, 'DD') >= 28 THEN\n                       TO_CHAR(ADD_MONTHS(SYSDATE, -0), 'YYYYMM')||'27'||'22'\n                       ELSE\n                       TO_CHAR(ADD_MONTHS(SYSDATE, -1), 'YYYYMM')||'27'||'22'\n                       END --AS PREV_MON\n           \n       AND LOT.TRAN_TIME < CASE WHEN TO_CHAR(SYSDATE, 'DD') >= 28 THEN\n                       TO_CHAR(ADD_MONTHS(SYSDATE, +1), 'YYYYMM')||'27'||'22'\n                       ELSE\n                       TO_CHAR(ADD_MONTHS(SYSDATE, -0), 'YYYYMM')||'27'||'22'\n                       END --AS CURR_MON\n       AND LOT.FACTORY = 'HMKT1'\n       AND LOT.TRAN_CODE = 'END'\n       AND LOT.OLD_OPER in ('T0100', 'T0960', 'T0500')\n--       AND TST.CUST_DVC = 'L6HD311A01-P040-A00VCD'\n--       AND LOT.MAT_ID = 'SEL6HD311A01-P040-A00KUVCD'\n)\nGROUP BY START_TAG\n, OEM_CODE\n, MONTH\n, C_DATE\n, O_DATE\n, OEM_AREA\n\n, CUST_DEVICE\n, OPER_DESC\n\n, EQP_GROUP\n, EQP_MODEL\n, OPER\n, RES_ID\n, LOT_TYPE\n\n, PARA\n, TEST_TIME\n, INDEX_TIME\n, ATE_TIME\n, EQP_PRICE\n, ATE_PRICE\n, MVP_PRICE\n, PVI_PRICE\n, UNIT_PRICE\n, FULL_HALF\n, CREATE_TIME\n, REMARK\nORDER BY 1","CREATE_USER":"6","CREATE_DATE":"2021-12-14 11:47:40","DBTYPE":"MES"}]
2022-11-16 16:17:00 [EDI System] info: 
        SELECT * FROM (
            SELECT *
            FROM EDI_QUERY_SETTING
            WHERE 1=1
            AND SETTING_ID = (
                SELECT ID
                FROM CG_CUSTOMER 
                WHERE PARENT = (
                    SELECT ID
                    FROM CG_CUSTOMER 
                    WHERE ID=(
                        SELECT PARENT
                        FROM CG_CUSTOMER 
                        WHERE ID=(
                            SELECT PARENT 
                            FROM CG_CUSTOMER 
                            WHERE ID=:id
                        )
                    )
                )
                AND LOWER(NAME) = 'common'
            )
            AND TYPE IN ('DB','TEXT')
            AND KEY NOT IN (SELECT KEY
                            FROM EDI_QUERY_SETTING
                            WHERE 1=1
                            AND SETTING_ID = :id
                            AND TYPE IN ('DB','TEXT'))
            UNION ALL
            SELECT *
            FROM EDI_QUERY_SETTING
            WHERE 1=1
            AND SETTING_ID = :id
            AND TYPE IN ('DB','TEXT')
        )
        ORDER BY LENGTH(KEY) DESC
    
2022-11-16 16:17:00 [EDI System] info: [{"ROWNUM":2,"ID":"160","SETTING_ID":"161","KEY":null,"TYPE":"Main","QUERY":"SELECT 'Interface ID'\n || ',' || 'Interface Line ID'\n || ',' || 'SUPPLIER_CODE'\n || ',' || 'PROCESSING_CODE'\n || ',' || 'SIW_WO_NO'\n || ',' || 'SUPPLIER_WO_NO'\n || ',' || 'ASSY_ITEM_CODE'\n || ',' || 'ASSY_QTY'\n || ',' || 'UOM_CODE'\n || ',' || 'WORK_START_DATE'\n || ',' || 'COMPONENT_ITEM_CODE'\n || ',' || 'COMPONENT_LOT_ID'\n || ',' || 'COMPONENT_QTY'\n || ',' || 'REMARK1'\n || ',' || 'CANCEL_FLAG'\n || ',' || 'CREATION_DATE'\n\n  FROM IEDISIW_INPUT_INFO\n WHERE CUTOFF_DT = :todayHH24 -- TO_CHAR(SYSDATE, 'YYYYMMDDHH24')\n   AND PROCESSING_CODE = 'FT'\n   AND ROWNUM = 1\n\nUNION ALL\n\nSELECT IF_ID \n || ',' || IF_LINE_ID \n || ',' || SUPPLIER_CODE \n || ',' || PROCESSING_CODE \n || ',' || SIW_WO_NO \n || ',' || SUPPLIER_WO_NO \n || ',' || ASSY_ITEM_CODE \n || ',' || ASSY_QTY \n || ',' || UOM_CODE \n || ',' || WORK_START_DATE \n || ',' || COMPONENT_ITEM_CODE\n || ',' || COMPONENT_LOT_ID \n || ',' || COMPONENT_QTY \n || ',' || REMARK1 \n || ',' || CANCEL_FLAG \n || ',' || CREATION_DATE \n\n  FROM IEDISIW_INPUT_INFO\n WHERE CUTOFF_DT = :todayHH24 -- TO_CHAR(SYSDATE, 'YYYYMMDDHH24')\n   AND PROCESSING_CODE = 'FT'","CREATE_USER":"6","CREATE_DATE":"2022-01-11 05:18:23","DBTYPE":"MES"}]
2022-11-16 16:17:00 [EDI System] info: 
        SELECT * FROM (
            SELECT *
            FROM EDI_QUERY_SETTING
            WHERE 1=1
            AND SETTING_ID = (
                SELECT ID
                FROM CG_CUSTOMER 
                WHERE PARENT = (
                    SELECT ID
                    FROM CG_CUSTOMER 
                    WHERE ID=(
                        SELECT PARENT
                        FROM CG_CUSTOMER 
                        WHERE ID=(
                            SELECT PARENT 
                            FROM CG_CUSTOMER 
                            WHERE ID=:id
                        )
                    )
                )
                AND LOWER(NAME) = 'common'
            )
            AND TYPE IN ('DB','TEXT')
            AND KEY NOT IN (SELECT KEY
                            FROM EDI_QUERY_SETTING
                            WHERE 1=1
                            AND SETTING_ID = :id
                            AND TYPE IN ('DB','TEXT'))
            UNION ALL
            SELECT *
            FROM EDI_QUERY_SETTING
            WHERE 1=1
            AND SETTING_ID = :id
            AND TYPE IN ('DB','TEXT')
        )
        ORDER BY LENGTH(KEY) DESC
    
2022-11-16 16:17:01 [EDI System] info: [{"ID":"137","SETTING_ID":"129","KEY":"todayHH24MISS","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE,'YYYYMMDDHH24MISS') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-11-12 05:20:22","DBTYPE":"MES"},{"ID":"124","SETTING_ID":"129","KEY":"todayHH24_M1H","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE - 1/24,'YYYYMMDDHH24') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-10-15 01:40:03","DBTYPE":"MES"},{"ID":"122","SETTING_ID":"129","KEY":"todayHH24","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE,'YYYYMMDDHH24') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-10-15 11:47:10","DBTYPE":"MES"},{"ID":"115","SETTING_ID":"129","KEY":"today_yy","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE,'YYYYMMDDHH24') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-09-24 08:46:51","DBTYPE":"MES"},{"ID":"130","SETTING_ID":"129","KEY":"today","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE,'YYYYMMDD') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-11-09 03:36:41","DBTYPE":"MES"}]
2022-11-16 16:17:01 [EDI System] info: [{"ID":"133","SETTING_ID":"139","KEY":"todayHH24_M1H","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE - 1/24,'YYYYMMDDHH24') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-11-12 05:01:01","DBTYPE":"MES"},{"ID":"132","SETTING_ID":"139","KEY":"todayHH24","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE,'YYYYMMDDHH24') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-11-12 05:01:01","DBTYPE":"MES"},{"ID":"131","SETTING_ID":"139","KEY":"today_yy","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE,'YYYYMMDDHH24') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-11-12 05:01:01","DBTYPE":"MES"},{"ID":"134","SETTING_ID":"139","KEY":"today","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE,'YYYYMMDDHH24') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-11-12 05:01:01","DBTYPE":"MES"}]
2022-11-16 16:18:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 16:19:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 16:20:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 16:21:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 16:22:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 16:23:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 16:24:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 16:25:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 16:26:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 16:27:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 16:28:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 16:29:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 16:30:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 16:31:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 16:32:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 16:33:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 16:34:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 16:35:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 16:36:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 16:37:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 16:38:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 16:39:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 16:40:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 16:41:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 16:42:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 16:43:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 16:44:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 16:45:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 16:46:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 16:47:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 16:48:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 16:49:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 16:50:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 16:51:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 16:52:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 16:53:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 16:54:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 16:55:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 16:56:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 16:57:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 16:58:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 16:59:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 17:00:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 17:00:00 [EDI System] info: Job Start Time > {"min":0,"hour":17,"date":16,"month":11,"day":3}
 {"ID":107,"CFG_ID":"143","FILE_NAME":"CMWIPINF_HM:todayHH24","FILE_DESC":"SEC CMWIPINF 1/1HR","FILE_SAVE_FOLDER":"D:/HM_EDI/SEC/OUT","FILE_CHARSET":"ascii","FILE_TYPE":"ff","DATA_TYPE":"text","FTP_ENV_ID":"100","SEND_FLAG":"Y","NODATASEND":"false","SCHEDULE_MIN":"0","SCHEDULE_HOUR":"*","SCHEDULE_DAY":"*","SCHEDULE_WEEK":"*","SCHEDULE_MONTH":"*","CM_F01":null,"CM_F02":null,"CREATE_DATE":"2021-11-12 05:17:07","CREATE_USER":"6","UPDATE_DATE":"2021-12-24 04:17:35","UPDATE_USER":"6","DELETE_DATE":null,"DELETE_USER":null,"frequency":"0 * * * *"}
2022-11-16 17:00:00 [EDI System] info: 107 >>> makeFileText Function Execute
2022-11-16 17:00:00 [EDI System] info: Job Start Time > {"min":0,"hour":17,"date":16,"month":11,"day":3}
 {"ID":109,"CFG_ID":"147","FILE_NAME":"CMWIPINF_HM:todayHH24_2","FILE_DESC":"TEST 2 //// SEC CMWIPINF 1/1HR ","FILE_SAVE_FOLDER":"D:/HM_EDI/SEC/OUT","FILE_CHARSET":"ascii","FILE_TYPE":"ff","DATA_TYPE":"text","FTP_ENV_ID":"100","SEND_FLAG":"Y","NODATASEND":null,"SCHEDULE_MIN":"0","SCHEDULE_HOUR":"*","SCHEDULE_DAY":"*","SCHEDULE_WEEK":"*","SCHEDULE_MONTH":"*","CM_F01":null,"CM_F02":null,"CREATE_DATE":"2021-11-19 05:22:50","CREATE_USER":"6","UPDATE_DATE":"2021-12-24 04:17:41","UPDATE_USER":"6","DELETE_DATE":null,"DELETE_USER":null,"frequency":"0 * * * *"}
2022-11-16 17:00:00 [EDI System] info: 109 >>> makeFileText Function Execute
2022-11-16 17:00:00 [EDI System] info: Job Start Time > {"min":0,"hour":17,"date":16,"month":11,"day":3}
 {"ID":110,"CFG_ID":"146","FILE_NAME":"CMWIPINF_HM:todayHH24_1","FILE_DESC":"SEC CMWIPINF 1/1HR","FILE_SAVE_FOLDER":"D:/HM_EDI/SEC/OUT","FILE_CHARSET":"ascii","FILE_TYPE":"ff","DATA_TYPE":"text","FTP_ENV_ID":"100","SEND_FLAG":"Y","NODATASEND":null,"SCHEDULE_MIN":"0","SCHEDULE_HOUR":"*","SCHEDULE_DAY":"*","SCHEDULE_WEEK":"*","SCHEDULE_MONTH":"*","CM_F01":null,"CM_F02":null,"CREATE_DATE":"2021-11-19 05:22:51","CREATE_USER":"6","UPDATE_DATE":"2021-12-24 04:17:47","UPDATE_USER":"6","DELETE_DATE":null,"DELETE_USER":null,"frequency":"0 * * * *"}
2022-11-16 17:00:00 [EDI System] info: 110 >>> makeFileText Function Execute
2022-11-16 17:00:00 [EDI System] info: SELECT EDI_LOG_SEQ.NEXTVAL AS ID FROM DUAL
2022-11-16 17:00:00 [EDI System] info: SELECT EDI_LOG_SEQ.NEXTVAL AS ID FROM DUAL
2022-11-16 17:00:00 [EDI System] info: SELECT EDI_LOG_SEQ.NEXTVAL AS ID FROM DUAL
2022-11-16 17:00:00 [EDI System] info: SELECT EDI_LOG_SEQ.NEXTVAL AS ID FROM DUAL
2022-11-16 17:00:00 [EDI System] info: SELECT EDI_LOG_SEQ.NEXTVAL AS ID FROM DUAL
2022-11-16 17:00:00 [EDI System] info: SELECT EDI_LOG_SEQ.NEXTVAL AS ID FROM DUAL
2022-11-16 17:00:00 [EDI System] info: [{"ID":11120}]
2022-11-16 17:00:00 [EDI System] info: seq : return Key [{"ID":11120}]
2022-11-16 17:00:00 [EDI System] info: saveAllLogger => ID:11120, NAME:CMWIPINF_HM:todayHH24, ProcessID:143, Description: Job Start : ID=107, CFG_ID=143, FTP_ENV_ID=100, FILE_NAME=CMWIPINF_HM:todayHH24, FILE_DESC=SEC CMWIPINF 1/1HR, FILE_CHARSET=ascii, FILE_TYPE=ff
2022-11-16 17:00:00 [EDI System] info: INSERT INTO EDI_LOG(ID, STEP, NAME, PROCESS_ID, DESCRIPTION, CREATE_USER, CREATE_DATE)
    VALUES(:id, :stepId, :name, :process_id, :description, 'DAEMON', TO_CHAR(SYSDATE,'YYYYMMDDHH24MISS'))
2022-11-16 17:00:00 [EDI System] info: [{"ID":11121}]
2022-11-16 17:00:00 [EDI System] info: seq : return Key [{"ID":11121}]
2022-11-16 17:00:00 [EDI System] info: saveAllLogger => ID:11121, NAME:CMWIPINF_HM:todayHH24_1, ProcessID:146, Description: Job Start : ID=110, CFG_ID=146, FTP_ENV_ID=100, FILE_NAME=CMWIPINF_HM:todayHH24_1, FILE_DESC=SEC CMWIPINF 1/1HR, FILE_CHARSET=ascii, FILE_TYPE=ff
2022-11-16 17:00:00 [EDI System] info: INSERT INTO EDI_LOG(ID, STEP, NAME, PROCESS_ID, DESCRIPTION, CREATE_USER, CREATE_DATE)
    VALUES(:id, :stepId, :name, :process_id, :description, 'DAEMON', TO_CHAR(SYSDATE,'YYYYMMDDHH24MISS'))
2022-11-16 17:00:00 [EDI System] info: [{"ID":11122}]
2022-11-16 17:00:00 [EDI System] info: seq : return Key [{"ID":11122}]
2022-11-16 17:00:00 [EDI System] info: saveAllLogger => ID:11122, NAME:CMWIPINF_HM:todayHH24_2, ProcessID:147, Description: Job Start : ID=109, CFG_ID=147, FTP_ENV_ID=100, FILE_NAME=CMWIPINF_HM:todayHH24_2, FILE_DESC=TEST 2 //// SEC CMWIPINF 1/1HR , FILE_CHARSET=ascii, FILE_TYPE=ff
2022-11-16 17:00:00 [EDI System] info: INSERT INTO EDI_LOG(ID, STEP, NAME, PROCESS_ID, DESCRIPTION, CREATE_USER, CREATE_DATE)
    VALUES(:id, :stepId, :name, :process_id, :description, 'DAEMON', TO_CHAR(SYSDATE,'YYYYMMDDHH24MISS'))
2022-11-16 17:00:00 [EDI System] info: Insert successful = SQL: INSERT INTO EDI_LOG(ID, STEP, NAME, PROCESS_ID, DESCRIPTION, CREATE_USER, CREATE_DATE)
    VALUES(:id, :stepId, :name, :process_id, :description, 'DAEMON', TO_CHAR(SYSDATE,'YYYYMMDDHH24MISS')) | Params: {"id":11120,"stepId":"1","name":"CMWIPINF_HM:todayHH24","process_id":"143","description":"Job Start : ID=107, CFG_ID=143, FTP_ENV_ID=100, FILE_NAME=CMWIPINF_HM:todayHH24, FILE_DESC=SEC CMWIPINF 1/1HR, FILE_CHARSET=ascii, FILE_TYPE=ff"} / 1
2022-11-16 17:00:00 [EDI System] info: 
    SELECT *
    FROM (
        SELECT ROWNUM,A.*
            FROM EDI_QUERY_SETTING A
            WHERE SETTING_ID = :id
            AND TYPE='Main'
            ORDER BY ID DESC
        ) 
    WHERE ROWNUM='1'
    
2022-11-16 17:00:00 [EDI System] info: Insert successful = SQL: INSERT INTO EDI_LOG(ID, STEP, NAME, PROCESS_ID, DESCRIPTION, CREATE_USER, CREATE_DATE)
    VALUES(:id, :stepId, :name, :process_id, :description, 'DAEMON', TO_CHAR(SYSDATE,'YYYYMMDDHH24MISS')) | Params: {"id":11121,"stepId":"1","name":"CMWIPINF_HM:todayHH24_1","process_id":"146","description":"Job Start : ID=110, CFG_ID=146, FTP_ENV_ID=100, FILE_NAME=CMWIPINF_HM:todayHH24_1, FILE_DESC=SEC CMWIPINF 1/1HR, FILE_CHARSET=ascii, FILE_TYPE=ff"} / 1
2022-11-16 17:00:00 [EDI System] info: 
    SELECT *
    FROM (
        SELECT ROWNUM,A.*
            FROM EDI_QUERY_SETTING A
            WHERE SETTING_ID = :id
            AND TYPE='Main'
            ORDER BY ID DESC
        ) 
    WHERE ROWNUM='1'
    
2022-11-16 17:00:00 [EDI System] info: Insert successful = SQL: INSERT INTO EDI_LOG(ID, STEP, NAME, PROCESS_ID, DESCRIPTION, CREATE_USER, CREATE_DATE)
    VALUES(:id, :stepId, :name, :process_id, :description, 'DAEMON', TO_CHAR(SYSDATE,'YYYYMMDDHH24MISS')) | Params: {"id":11122,"stepId":"1","name":"CMWIPINF_HM:todayHH24_2","process_id":"147","description":"Job Start : ID=109, CFG_ID=147, FTP_ENV_ID=100, FILE_NAME=CMWIPINF_HM:todayHH24_2, FILE_DESC=TEST 2 //// SEC CMWIPINF 1/1HR , FILE_CHARSET=ascii, FILE_TYPE=ff"} / 1
2022-11-16 17:00:00 [EDI System] info: 
    SELECT *
    FROM (
        SELECT ROWNUM,A.*
            FROM EDI_QUERY_SETTING A
            WHERE SETTING_ID = :id
            AND TYPE='Main'
            ORDER BY ID DESC
        ) 
    WHERE ROWNUM='1'
    
2022-11-16 17:00:00 [EDI System] info: [{"ROWNUM":4,"ID":"147","SETTING_ID":"143","KEY":null,"TYPE":"Main","QUERY":"SELECT \n  RPAD(VR_1,  5, ' ')\n, RPAD(VR_2, 30, ' ')\n, RPAD(VR_3, 15, ' ')\n, RPAD(VR_4, 15, ' ')\n, RPAD(VR_5,  2, ' ')\n, RPAD(VR_6,  2, ' ')\n, RPAD(VR_7, 20, ' ')\n, RPAD(VR_8, 30, ' ')\n, RPAD(VR_9, 16, ' ')\n, RPAD(VR_10, 24, ' ')\n, RPAD(VR_11, 14, ' ')\n, RPAD(VR_12,  4, ' ')\n, RPAD(VR_13,  4, ' ')\n, LPAD(VR_14, 10, ' ')\n, LPAD(VR_15, 10, ' ')\n, RPAD(VR_16,  1, ' ')\n, RPAD(VR_17,  2, ' ')\n, RPAD(VR_18, 10, ' ')\n, RPAD(VR_19, 14, ' ')\n, RPAD(VR_20, 20, ' ')\n, RPAD(VR_21, 20, ' ')\n, RPAD(VR_22, 20, ' ')\n, RPAD(VR_23, 20, ' ')\n, RPAD(VR_24, 20, ' ')\n, LPAD(VR_25, 10, ' ')\n, LPAD(VR_26, 10, ' ')\n, RPAD(VR_27,  1, ' ')\n, RPAD(VR_28, 65, ' ')\n, RPAD(VR_29, 14, ' ')\n, RPAD(VR_30,  8, ' ')\n, RPAD(VR_31, 1024, ' ')\nFROM \n(\nSELECT 'LS1HM'   VR_1\n , NVL((SELECT MAT_CMF_7 FROM MWIPMATDEF WHERE FACTORY = A.FACTORY AND MAT_ID = A.MAT_ID AND MAT_VER = A.MAT_VER), '-')   VR_2\n , F_GET_ASSY_RUNID(' ', A.LOT_ID, A.LOT_CMF_4)   VR_3\n , NVL(TRIM(A.LOT_CMF_1), '-')   VR_4\n , NVL(TRIM(A.LOT_CMF_5),'-')   VR_5\n , NVL((SELECT ATTR_VALUE FROM MATRNAMSTS WHERE FACTORY = A.FACTORY AND ATTR_TYPE = 'LOT_SEC_INFO' AND ATTR_NAME = 'RTN_TYPE' AND ATTR_KEY = TRIM(A.LOT_CMF_1)), '**')   VR_6\n , DECODE(A.OPER||A.FLOW,'T1300HKAB', 'HGAK','TZ010HKAB', 'BASIC',\n     DECODE(NVL((SELECT SEC_OPER FROM V_MWIPOPRDEF_SEC WHERE FACTORY = A.FACTORY AND OPER = A.OPER ), '-'),\n                  'HMK2','BASIC','HMK3','BASIC','HMK9','BASIC','HMK4','BASIC',\n                  NVL(FLOW, '-')))   VR_7\n , DECODE(A.OPER||A.FLOW,'T1300HKAB', '0008','TZ010HKAB', '0003',\n     TRIM(DECODE(NVL((SELECT SEC_OPER FROM V_MWIPOPRDEF_SEC WHERE FACTORY = A.FACTORY AND OPER = A.OPER ), '-'),\n                  'HMK2','0002','HMK3','0003','HMK9','0006','HMK4','0007',\n                  LPAD((SELECT SEQ_NUM-1 FROM MWIPFLWOPR WHERE FACTORY = A.FACTORY AND FLOW = A.FLOW AND OPER = A.OPER),4,'0'))))   VR_8\n , DECODE(A.OPER||A.FLOW,'T1300HKAB', '8','TZ010HKAB', '3',\n     NVL((SELECT SEQ_NUM-1 FROM MWIPFLWOPR WHERE FACTORY = A.FACTORY AND FLOW = A.FLOW AND OPER = A.OPER), '0'))   VR_9\n , DECODE(A.OPER||A.FLOW,'T1300HKAB', 'PACKING','TZ010HKAB', 'Assy Final Stock',\n     DECODE(NVL((SELECT SEC_OPER FROM V_MWIPOPRDEF_SEC WHERE FACTORY = A.FACTORY AND OPER = A.OPER ), '-'),\n                  'HMK2','Assy Home Stock','HMK3','Assy Final Stock','HMK9','Test Home Stock','HMK4','Test Final Stock',\n                  NVL((SELECT OPER_DESC FROM V_MWIPOPRDEF_SEC WHERE FACTORY = A.FACTORY AND OPER = A.OPER ), '-')))   VR_10\n , A.OPER_IN_TIME    VR_11\n , DECODE(A.OPER||A.FLOW,'T1300HKAB', 'ASSY','TZ010HKAB', 'ASSY', DECODE(A.FACTORY, 'HMKT1', 'TEST', 'HMKA1', 'ASSY', '-'))    VR_12\n , NVL((SELECT DECODE(A.OPER||A.FLOW,'TZ010HKAB', SEC_OPER_AREA_COB ,SEC_OPER_AREA) FROM V_MWIPOPRDEF_SEC WHERE FACTORY = A.FACTORY AND OPER = A.OPER ), '-')   VR_13\n , NVL(TRIM(A.QTY_1), 0)   VR_14\n , NVL(TRIM(A.QTY_2), 0)   VR_15\n , 'C'     VR_16\n , F_GET_HOLD_FLAG_CODE(A.LOT_ID, A.MAT_ID, A.HOLD_FLAG, A.HOLD_CODE, 'FLAG' )    VR_17\n , F_GET_HOLD_FLAG_CODE(A.LOT_ID, A.MAT_ID, A.HOLD_FLAG, A.HOLD_CODE, 'CODE' )    VR_18\n , DECODE(A.HOLD_FLAG, 'Y', A.LAST_TRAN_TIME, ' ')    VR_19\n , NVL((SELECT ATTR_VALUE FROM MATRNAMSTS WHERE FACTORY = A.FACTORY AND ATTR_TYPE = 'LOT_SEC_INFO' AND ATTR_NAME = 'NCFCODE' AND ATTR_KEY = TRIM(A.LOT_CMF_1)), '*')   VR_20\n , NVL((SELECT ATTR_VALUE FROM MATRNAMSTS WHERE FACTORY = A.FACTORY AND ATTR_TYPE = 'LOT_SEC_INFO' AND ATTR_NAME = 'NCACODE' AND ATTR_KEY = TRIM(A.LOT_CMF_1)), '*')   VR_21\n , NVL((SELECT ATTR_VALUE FROM MATRNAMSTS WHERE FACTORY = A.FACTORY AND ATTR_TYPE = 'LOT_SEC_INFO' AND ATTR_NAME = 'NCTCODE' AND ATTR_KEY = TRIM(A.LOT_CMF_1)), '*')   VR_22\n , NVL((SELECT ATTR_VALUE FROM MATRNAMSTS WHERE FACTORY = A.FACTORY AND ATTR_TYPE = 'LOT_SEC_INFO' AND ATTR_NAME = 'NCQCODE' AND ATTR_KEY = TRIM(A.LOT_CMF_1)), '*')   VR_23\n , NVL((SELECT ATTR_VALUE FROM MATRNAMSTS WHERE FACTORY = A.FACTORY AND ATTR_TYPE = 'LOT_SEC_INFO' AND ATTR_NAME = 'OTHER' AND ATTR_KEY = TRIM(A.LOT_CMF_1)), '*')   VR_24\n , NVL((SELECT SUM(DECODE(TRAN_CODE, 'LOSS', (OLD_QTY_1 - QTY_1), QTY_1)) \n               FROM MWIPLOTHIS \n              WHERE LOT_ID = A.LOT_ID \n                AND TRAN_CODE IN ('LOSS', 'TERMINATE')\n                AND HIST_DEL_FLAG = ' '\n                AND TRAN_TIME BETWEEN F_GET_TIME(TO_CHAR(SYSDATE, 'YYYYMMDDHH24MISS'),'SE') \n                                  AND TO_CHAR(SYSDATE, 'YYYYMMDDHH24MISS')), 0)         VR_25\n , NVL((SELECT SUM(TOTAL_BONUS_QTY) \n               FROM MWIPLOTBNS \n              WHERE LOT_ID = A.LOT_ID\n                AND TRAN_TIME BETWEEN F_GET_TIME(TO_CHAR(SYSDATE, 'YYYYMMDDHH24MISS'),'SE') \n                                  AND TO_CHAR(SYSDATE, 'YYYYMMDDHH24MISS')), 0)    VR_26\n , '-'    VR_27\n , '-'    VR_28\n , TO_CHAR(SYSDATE,'YYYYMMDDHH24MISS')     VR_29\n , GET_WORK_DATE_EDI(TO_CHAR(SYSDATE, 'YYYYMMDDHH24MISS'),'D')  VR_30\n , MESMGR.PK_SEC_MES_IF.MakeInkless_OMS_WIP(A.FACTORY, A.LOT_ID)  VR_31\n  FROM MWIPLOTSTS A\n WHERE 1 = 1\n   AND FACTORY IN ('HMKT1','HMKA1') \n   AND LOT_CMF_2 = 'SE'   \n   AND OWNER_CODE = 'PROD'\n   AND LOT_TYPE = 'W'\n   AND LOT_DEL_FLAG = ' ' \n   AND CREATE_CODE <> 'FREE' \n   AND MAT_ID LIKE 'SE'||(SELECT DATA_1 FROM MGCMTBLDAT WHERE FACTORY = 'HMKA1' AND TABLE_NAME = 'H_SPECIAL_CHAR' AND KEY_1 = '1')\n   AND OPER BETWEEN 'A0000' AND 'TZ010'\n   AND MAT_ID NOT LIKE 'SEKY'||(SELECT DATA_1 FROM MGCMTBLDAT WHERE FACTORY = 'HMKA1' AND TABLE_NAME = 'H_SPECIAL_CHAR' AND KEY_1 = '1')  --- 영업  요청으로 하드코딩 170412. SEKY%\n)","CREATE_USER":"6","CREATE_DATE":"2021-11-24 03:06:40","DBTYPE":"MES"}]
2022-11-16 17:00:00 [EDI System] info: 
        SELECT * FROM (
            SELECT *
            FROM EDI_QUERY_SETTING
            WHERE 1=1
            AND SETTING_ID = (
                SELECT ID
                FROM CG_CUSTOMER 
                WHERE PARENT = (
                    SELECT ID
                    FROM CG_CUSTOMER 
                    WHERE ID=(
                        SELECT PARENT
                        FROM CG_CUSTOMER 
                        WHERE ID=(
                            SELECT PARENT 
                            FROM CG_CUSTOMER 
                            WHERE ID=:id
                        )
                    )
                )
                AND LOWER(NAME) = 'common'
            )
            AND TYPE IN ('DB','TEXT')
            AND KEY NOT IN (SELECT KEY
                            FROM EDI_QUERY_SETTING
                            WHERE 1=1
                            AND SETTING_ID = :id
                            AND TYPE IN ('DB','TEXT'))
            UNION ALL
            SELECT *
            FROM EDI_QUERY_SETTING
            WHERE 1=1
            AND SETTING_ID = :id
            AND TYPE IN ('DB','TEXT')
        )
        ORDER BY LENGTH(KEY) DESC
    
2022-11-16 17:00:00 [EDI System] info: [{"ROWNUM":2,"ID":"145","SETTING_ID":"146","KEY":null,"TYPE":"Main","QUERY":"SELECT\n  RPAD(VR_1,  5, ' ')\n, RPAD(VR_2, 30, ' ')\n, RPAD(VR_3, 15, ' ')\n, RPAD(VR_4, 15, ' ')\n, RPAD(VR_5,  2, ' ')\n, RPAD(VR_6,  2, ' ')\n, RPAD(VR_7, 20, ' ')\n, RPAD(VR_8, 30, ' ')\n, RPAD(VR_9, 16, ' ')\n, RPAD(VR_10, 24, ' ')\n, RPAD(VR_11, 14, ' ')\n, RPAD(VR_12,  4, ' ')\n, RPAD(VR_13,  4, ' ')\n, LPAD(VR_14, 10, ' ')\n, LPAD(VR_15, 10, ' ')\n, RPAD(VR_16,  1, ' ')\n, RPAD(VR_17,  2, ' ')\n, RPAD(VR_18, 10, ' ')\n, RPAD(VR_19, 14, ' ')\n, RPAD(VR_20, 20, ' ')\n, RPAD(VR_21, 20, ' ')\n, RPAD(VR_22, 20, ' ')\n, RPAD(VR_23, 20, ' ')\n, RPAD(VR_24, 20, ' ')\n, LPAD(VR_25, 10, ' ')\n, LPAD(VR_26, 10, ' ')\n, RPAD(VR_27,  1, ' ')\n, RPAD(VR_28, 65, ' ')\n, RPAD(VR_29, 14, ' ')\n, RPAD(VR_30,  8, ' ')\n, RPAD(VR_31, 1024, ' ')\nFROM \n(\nSELECT 'LS1HM'   VR_1\n , NVL((SELECT MAT_CMF_7 FROM MWIPMATDEF WHERE FACTORY = A.FACTORY AND MAT_ID = A.MAT_ID AND MAT_VER = A.MAT_VER), '-')   VR_2\n , F_GET_ASSY_RUNID(' ', A.LOT_ID, A.LOT_CMF_4)   VR_3\n , NVL(TRIM(A.LOT_CMF_1), '-')   VR_4\n , NVL(TRIM(A.LOT_CMF_5),'-')   VR_5\n , NVL((SELECT ATTR_VALUE FROM MATRNAMSTS WHERE FACTORY = A.FACTORY AND ATTR_TYPE = 'LOT_SEC_INFO' AND ATTR_NAME = 'RTN_TYPE' AND ATTR_KEY = TRIM(A.LOT_CMF_1)), '**')   VR_6\n , DECODE(A.OPER||A.FLOW,'T1300HKAB', 'HGAK','TZ010HKAB', 'BASIC',\n     DECODE(NVL((SELECT SEC_OPER FROM V_MWIPOPRDEF_SEC WHERE FACTORY = A.FACTORY AND OPER = A.OPER ), '-'),\n                  'HMK2','BASIC','HMK3','BASIC','HMK9','BASIC','HMK4','BASIC',\n                  NVL(FLOW, '-')))   VR_7\n , DECODE(A.OPER||A.FLOW,'T1300HKAB', '0008','TZ010HKAB', '0003',\n     TRIM(DECODE(NVL((SELECT SEC_OPER FROM V_MWIPOPRDEF_SEC WHERE FACTORY = A.FACTORY AND OPER = A.OPER ), '-'),\n                  'HMK2','0002','HMK3','0003','HMK9','0006','HMK4','0007',\n                  LPAD((SELECT SEQ_NUM-1 FROM MWIPFLWOPR WHERE FACTORY = A.FACTORY AND FLOW = A.FLOW AND OPER = A.OPER),4,'0'))))   VR_8\n , DECODE(A.OPER||A.FLOW,'T1300HKAB', '8','TZ010HKAB', '3',\n     NVL((SELECT SEQ_NUM-1 FROM MWIPFLWOPR WHERE FACTORY = A.FACTORY AND FLOW = A.FLOW AND OPER = A.OPER), '0'))   VR_9\n , DECODE(A.OPER||A.FLOW,'T1300HKAB', 'PACKING','TZ010HKAB', 'Assy Final Stock',\n     DECODE(NVL((SELECT SEC_OPER FROM V_MWIPOPRDEF_SEC WHERE FACTORY = A.FACTORY AND OPER = A.OPER ), '-'),\n                  'HMK2','Assy Home Stock','HMK3','Assy Final Stock','HMK9','Test Home Stock','HMK4','Test Final Stock',\n                  NVL((SELECT OPER_DESC FROM V_MWIPOPRDEF_SEC WHERE FACTORY = A.FACTORY AND OPER = A.OPER ), '-')))   VR_10\n , A.OPER_IN_TIME    VR_11\n , DECODE(A.OPER||A.FLOW,'T1300HKAB', 'ASSY','TZ010HKAB', 'ASSY', DECODE(A.FACTORY, 'HMKT1', 'TEST', 'HMKA1', 'ASSY', '-'))    VR_12\n , NVL((SELECT DECODE(A.OPER||A.FLOW,'TZ010HKAB', SEC_OPER_AREA_COB ,SEC_OPER_AREA) FROM V_MWIPOPRDEF_SEC WHERE FACTORY = A.FACTORY AND OPER = A.OPER ), '-')   VR_13\n , NVL(TRIM(A.QTY_1), 0)   VR_14\n , NVL(TRIM(A.QTY_2), 0)   VR_15\n , 'C'     VR_16\n , F_GET_HOLD_FLAG_CODE(A.LOT_ID, A.MAT_ID, A.HOLD_FLAG, A.HOLD_CODE, 'FLAG' )    VR_17\n , F_GET_HOLD_FLAG_CODE(A.LOT_ID, A.MAT_ID, A.HOLD_FLAG, A.HOLD_CODE, 'CODE' )    VR_18\n , DECODE(A.HOLD_FLAG, 'Y', A.LAST_TRAN_TIME, ' ')    VR_19\n , NVL((SELECT ATTR_VALUE FROM MATRNAMSTS WHERE FACTORY = A.FACTORY AND ATTR_TYPE = 'LOT_SEC_INFO' AND ATTR_NAME = 'NCFCODE' AND ATTR_KEY = TRIM(A.LOT_CMF_1)), '*')   VR_20\n , NVL((SELECT ATTR_VALUE FROM MATRNAMSTS WHERE FACTORY = A.FACTORY AND ATTR_TYPE = 'LOT_SEC_INFO' AND ATTR_NAME = 'NCACODE' AND ATTR_KEY = TRIM(A.LOT_CMF_1)), '*')   VR_21\n , NVL((SELECT ATTR_VALUE FROM MATRNAMSTS WHERE FACTORY = A.FACTORY AND ATTR_TYPE = 'LOT_SEC_INFO' AND ATTR_NAME = 'NCTCODE' AND ATTR_KEY = TRIM(A.LOT_CMF_1)), '*')   VR_22\n , NVL((SELECT ATTR_VALUE FROM MATRNAMSTS WHERE FACTORY = A.FACTORY AND ATTR_TYPE = 'LOT_SEC_INFO' AND ATTR_NAME = 'NCQCODE' AND ATTR_KEY = TRIM(A.LOT_CMF_1)), '*')   VR_23\n , NVL((SELECT ATTR_VALUE FROM MATRNAMSTS WHERE FACTORY = A.FACTORY AND ATTR_TYPE = 'LOT_SEC_INFO' AND ATTR_NAME = 'OTHER' AND ATTR_KEY = TRIM(A.LOT_CMF_1)), '*')   VR_24\n , NVL((SELECT SUM(DECODE(TRAN_CODE, 'LOSS', (OLD_QTY_1 - QTY_1), QTY_1)) \n               FROM MWIPLOTHIS \n              WHERE LOT_ID = A.LOT_ID \n                AND TRAN_CODE IN ('LOSS', 'TERMINATE')\n                AND HIST_DEL_FLAG = ' '\n                AND TRAN_TIME BETWEEN F_GET_TIME(TO_CHAR(SYSDATE, 'YYYYMMDDHH24MISS'),'SE') \n                                  AND TO_CHAR(SYSDATE, 'YYYYMMDDHH24MISS')), 0)         VR_25\n , NVL((SELECT SUM(TOTAL_BONUS_QTY) \n               FROM MWIPLOTBNS \n              WHERE LOT_ID = A.LOT_ID\n                AND TRAN_TIME BETWEEN F_GET_TIME(TO_CHAR(SYSDATE, 'YYYYMMDDHH24MISS'),'SE') \n                                  AND TO_CHAR(SYSDATE, 'YYYYMMDDHH24MISS')), 0)    VR_26\n , '-'    VR_27\n , '-'    VR_28\n , TO_CHAR(SYSDATE,'YYYYMMDDHH24MISS')     VR_29\n , GET_WORK_DATE_EDI(TO_CHAR(SYSDATE, 'YYYYMMDDHH24MISS'),'D')  VR_30\n , MESMGR.PK_SEC_MES_IF.MakeInkless_OMS_WIP(A.FACTORY, A.LOT_ID)  VR_31\n  FROM MWIPLOTSTS A\n WHERE 1 = 1\n   AND FACTORY IN ('HMKT1','HMKA1') \n   AND LOT_CMF_2 = 'SE'   \n   AND OWNER_CODE = 'PROD'\n   AND LOT_TYPE = 'W'\n   AND LOT_DEL_FLAG = ' ' \n   AND CREATE_CODE <> 'FREE' \n   AND MAT_ID LIKE 'SE'||(SELECT DATA_1 FROM MGCMTBLDAT WHERE FACTORY = 'HMKA1' AND TABLE_NAME = 'H_SPECIAL_CHAR' AND KEY_1 = '1')\n   AND OPER BETWEEN 'A0000' AND 'TZ010'\n   AND MAT_ID NOT LIKE 'SEKY'||(SELECT DATA_1 FROM MGCMTBLDAT WHERE FACTORY = 'HMKA1' AND TABLE_NAME = 'H_SPECIAL_CHAR' AND KEY_1 = '1')  --- 영업  요청으로 하드코딩 170412. SEKY%\n)","CREATE_USER":"6","CREATE_DATE":"2021-11-22 10:58:05","DBTYPE":"MES"}]
2022-11-16 17:00:00 [EDI System] info: 
        SELECT * FROM (
            SELECT *
            FROM EDI_QUERY_SETTING
            WHERE 1=1
            AND SETTING_ID = (
                SELECT ID
                FROM CG_CUSTOMER 
                WHERE PARENT = (
                    SELECT ID
                    FROM CG_CUSTOMER 
                    WHERE ID=(
                        SELECT PARENT
                        FROM CG_CUSTOMER 
                        WHERE ID=(
                            SELECT PARENT 
                            FROM CG_CUSTOMER 
                            WHERE ID=:id
                        )
                    )
                )
                AND LOWER(NAME) = 'common'
            )
            AND TYPE IN ('DB','TEXT')
            AND KEY NOT IN (SELECT KEY
                            FROM EDI_QUERY_SETTING
                            WHERE 1=1
                            AND SETTING_ID = :id
                            AND TYPE IN ('DB','TEXT'))
            UNION ALL
            SELECT *
            FROM EDI_QUERY_SETTING
            WHERE 1=1
            AND SETTING_ID = :id
            AND TYPE IN ('DB','TEXT')
        )
        ORDER BY LENGTH(KEY) DESC
    
2022-11-16 17:00:00 [EDI System] info: [{"ROWNUM":1,"ID":"146","SETTING_ID":"147","KEY":null,"TYPE":"Main","QUERY":"SELECT\n  RPAD(VR_1,  5, ' ')\n, RPAD(VR_2, 30, ' ')\n, RPAD(VR_3, 15, ' ')\n, RPAD(VR_4, 15, ' ')\n, RPAD(VR_5,  2, ' ')\n, RPAD(VR_6,  2, ' ')\n, RPAD(VR_7, 20, ' ')\n, RPAD(VR_8, 30, ' ')\n, RPAD(VR_9, 16, ' ')\n, RPAD(VR_10, 24, ' ')\n, RPAD(VR_11, 14, ' ')\n, RPAD(VR_12,  4, ' ')\n, RPAD(VR_13,  4, ' ')\n, LPAD(VR_14, 10, ' ')\n, LPAD(VR_15, 10, ' ')\n, RPAD(VR_16,  1, ' ')\n, RPAD(VR_17,  2, ' ')\n, RPAD(VR_18, 10, ' ')\n, RPAD(VR_19, 14, ' ')\n, RPAD(VR_20, 20, ' ')\n, RPAD(VR_21, 20, ' ')\n, RPAD(VR_22, 20, ' ')\n, RPAD(VR_23, 20, ' ')\n, RPAD(VR_24, 20, ' ')\n, LPAD(VR_25, 10, ' ')\n, LPAD(VR_26, 10, ' ')\n, RPAD(VR_27,  1, ' ')\n, RPAD(VR_28, 65, ' ')\n, RPAD(VR_29, 14, ' ')\n, RPAD(VR_30,  8, ' ')\n, RPAD(VR_31, 1024, ' ')\nFROM \n(\nSELECT 'LS1HM'   VR_1\n , NVL((SELECT MAT_CMF_7 FROM MWIPMATDEF WHERE FACTORY = A.FACTORY AND MAT_ID = A.MAT_ID AND MAT_VER = A.MAT_VER), '-')   VR_2\n , F_GET_ASSY_RUNID(' ', A.LOT_ID, A.LOT_CMF_4)   VR_3\n , NVL(TRIM(A.LOT_CMF_1), '-')   VR_4\n , NVL(TRIM(A.LOT_CMF_5),'-')   VR_5\n , NVL((SELECT ATTR_VALUE FROM MATRNAMSTS WHERE FACTORY = A.FACTORY AND ATTR_TYPE = 'LOT_SEC_INFO' AND ATTR_NAME = 'RTN_TYPE' AND ATTR_KEY = TRIM(A.LOT_CMF_1)), '**')   VR_6\n , DECODE(A.OPER||A.FLOW,'T1300HKAB', 'HGAK','TZ010HKAB', 'BASIC',\n     DECODE(NVL((SELECT SEC_OPER FROM V_MWIPOPRDEF_SEC WHERE FACTORY = A.FACTORY AND OPER = A.OPER ), '-'),\n                  'HMK2','BASIC','HMK3','BASIC','HMK9','BASIC','HMK4','BASIC',\n                  NVL(FLOW, '-')))   VR_7\n , DECODE(A.OPER||A.FLOW,'T1300HKAB', '0008','TZ010HKAB', '0003',\n     TRIM(DECODE(NVL((SELECT SEC_OPER FROM V_MWIPOPRDEF_SEC WHERE FACTORY = A.FACTORY AND OPER = A.OPER ), '-'),\n                  'HMK2','0002','HMK3','0003','HMK9','0006','HMK4','0007',\n                  LPAD((SELECT SEQ_NUM-1 FROM MWIPFLWOPR WHERE FACTORY = A.FACTORY AND FLOW = A.FLOW AND OPER = A.OPER),4,'0'))))   VR_8\n , DECODE(A.OPER||A.FLOW,'T1300HKAB', '8','TZ010HKAB', '3',\n     NVL((SELECT SEQ_NUM-1 FROM MWIPFLWOPR WHERE FACTORY = A.FACTORY AND FLOW = A.FLOW AND OPER = A.OPER), '0'))   VR_9\n , DECODE(A.OPER||A.FLOW,'T1300HKAB', 'PACKING','TZ010HKAB', 'Assy Final Stock',\n     DECODE(NVL((SELECT SEC_OPER FROM V_MWIPOPRDEF_SEC WHERE FACTORY = A.FACTORY AND OPER = A.OPER ), '-'),\n                  'HMK2','Assy Home Stock','HMK3','Assy Final Stock','HMK9','Test Home Stock','HMK4','Test Final Stock',\n                  NVL((SELECT OPER_DESC FROM V_MWIPOPRDEF_SEC WHERE FACTORY = A.FACTORY AND OPER = A.OPER ), '-')))   VR_10\n , A.OPER_IN_TIME    VR_11\n , DECODE(A.OPER||A.FLOW,'T1300HKAB', 'ASSY','TZ010HKAB', 'ASSY', DECODE(A.FACTORY, 'HMKT1', 'TEST', 'HMKA1', 'ASSY', '-'))    VR_12\n , NVL((SELECT DECODE(A.OPER||A.FLOW,'TZ010HKAB', SEC_OPER_AREA_COB ,SEC_OPER_AREA) FROM V_MWIPOPRDEF_SEC WHERE FACTORY = A.FACTORY AND OPER = A.OPER ), '-')   VR_13\n , NVL(TRIM(A.QTY_1), 0)   VR_14\n , NVL(TRIM(A.QTY_2), 0)   VR_15\n , 'C'     VR_16\n , F_GET_HOLD_FLAG_CODE(A.LOT_ID, A.MAT_ID, A.HOLD_FLAG, A.HOLD_CODE, 'FLAG' )    VR_17\n , F_GET_HOLD_FLAG_CODE(A.LOT_ID, A.MAT_ID, A.HOLD_FLAG, A.HOLD_CODE, 'CODE' )    VR_18\n , DECODE(A.HOLD_FLAG, 'Y', A.LAST_TRAN_TIME, ' ')    VR_19\n , NVL((SELECT ATTR_VALUE FROM MATRNAMSTS WHERE FACTORY = A.FACTORY AND ATTR_TYPE = 'LOT_SEC_INFO' AND ATTR_NAME = 'NCFCODE' AND ATTR_KEY = TRIM(A.LOT_CMF_1)), '*')   VR_20\n , NVL((SELECT ATTR_VALUE FROM MATRNAMSTS WHERE FACTORY = A.FACTORY AND ATTR_TYPE = 'LOT_SEC_INFO' AND ATTR_NAME = 'NCACODE' AND ATTR_KEY = TRIM(A.LOT_CMF_1)), '*')   VR_21\n , NVL((SELECT ATTR_VALUE FROM MATRNAMSTS WHERE FACTORY = A.FACTORY AND ATTR_TYPE = 'LOT_SEC_INFO' AND ATTR_NAME = 'NCTCODE' AND ATTR_KEY = TRIM(A.LOT_CMF_1)), '*')   VR_22\n , NVL((SELECT ATTR_VALUE FROM MATRNAMSTS WHERE FACTORY = A.FACTORY AND ATTR_TYPE = 'LOT_SEC_INFO' AND ATTR_NAME = 'NCQCODE' AND ATTR_KEY = TRIM(A.LOT_CMF_1)), '*')   VR_23\n , NVL((SELECT ATTR_VALUE FROM MATRNAMSTS WHERE FACTORY = A.FACTORY AND ATTR_TYPE = 'LOT_SEC_INFO' AND ATTR_NAME = 'OTHER' AND ATTR_KEY = TRIM(A.LOT_CMF_1)), '*')   VR_24\n , NVL((SELECT SUM(DECODE(TRAN_CODE, 'LOSS', (OLD_QTY_1 - QTY_1), QTY_1)) \n               FROM MWIPLOTHIS \n              WHERE LOT_ID = A.LOT_ID \n                AND TRAN_CODE IN ('LOSS', 'TERMINATE')\n                AND HIST_DEL_FLAG = ' '\n                AND TRAN_TIME BETWEEN F_GET_TIME(TO_CHAR(SYSDATE, 'YYYYMMDDHH24MISS'),'SE') \n                                  AND TO_CHAR(SYSDATE, 'YYYYMMDDHH24MISS')), 0)         VR_25\n , NVL((SELECT SUM(TOTAL_BONUS_QTY) \n               FROM MWIPLOTBNS \n              WHERE LOT_ID = A.LOT_ID\n                AND TRAN_TIME BETWEEN F_GET_TIME(TO_CHAR(SYSDATE, 'YYYYMMDDHH24MISS'),'SE') \n                                  AND TO_CHAR(SYSDATE, 'YYYYMMDDHH24MISS')), 0)    VR_26\n , '-'    VR_27\n , '-'    VR_28\n , TO_CHAR(SYSDATE,'YYYYMMDDHH24MISS')     VR_29\n , GET_WORK_DATE_EDI(TO_CHAR(SYSDATE, 'YYYYMMDDHH24MISS'),'D')  VR_30\n , MESMGR.PK_SEC_MES_IF.MakeInkless_OMS_WIP(A.FACTORY, A.LOT_ID)  VR_31\n  FROM MWIPLOTSTS A\n WHERE 1 = 1\n   AND FACTORY IN ('HMKT1','HMKA1') \n   AND LOT_CMF_2 = 'SE'   \n   AND OWNER_CODE = 'PROD'\n   AND LOT_TYPE = 'W'\n   AND LOT_DEL_FLAG = ' ' \n   AND CREATE_CODE <> 'FREE' \n   AND MAT_ID LIKE 'SE'||(SELECT DATA_1 FROM MGCMTBLDAT WHERE FACTORY = 'HMKA1' AND TABLE_NAME = 'H_SPECIAL_CHAR' AND KEY_1 = '1')\n   AND OPER BETWEEN 'A0000' AND 'TZ010'\n   AND MAT_ID NOT LIKE 'SEKY'||(SELECT DATA_1 FROM MGCMTBLDAT WHERE FACTORY = 'HMKA1' AND TABLE_NAME = 'H_SPECIAL_CHAR' AND KEY_1 = '1')  --- 영업  요청으로 하드코딩 170412. SEKY%\n)","CREATE_USER":"6","CREATE_DATE":"2021-11-23 04:53:33","DBTYPE":"MES"}]
2022-11-16 17:00:00 [EDI System] info: 
        SELECT * FROM (
            SELECT *
            FROM EDI_QUERY_SETTING
            WHERE 1=1
            AND SETTING_ID = (
                SELECT ID
                FROM CG_CUSTOMER 
                WHERE PARENT = (
                    SELECT ID
                    FROM CG_CUSTOMER 
                    WHERE ID=(
                        SELECT PARENT
                        FROM CG_CUSTOMER 
                        WHERE ID=(
                            SELECT PARENT 
                            FROM CG_CUSTOMER 
                            WHERE ID=:id
                        )
                    )
                )
                AND LOWER(NAME) = 'common'
            )
            AND TYPE IN ('DB','TEXT')
            AND KEY NOT IN (SELECT KEY
                            FROM EDI_QUERY_SETTING
                            WHERE 1=1
                            AND SETTING_ID = :id
                            AND TYPE IN ('DB','TEXT'))
            UNION ALL
            SELECT *
            FROM EDI_QUERY_SETTING
            WHERE 1=1
            AND SETTING_ID = :id
            AND TYPE IN ('DB','TEXT')
        )
        ORDER BY LENGTH(KEY) DESC
    
2022-11-16 17:00:00 [EDI System] info: [{"ID":"137","SETTING_ID":"129","KEY":"todayHH24MISS","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE,'YYYYMMDDHH24MISS') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-11-12 05:20:22","DBTYPE":"MES"},{"ID":"124","SETTING_ID":"129","KEY":"todayHH24_M1H","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE - 1/24,'YYYYMMDDHH24') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-10-15 01:40:03","DBTYPE":"MES"},{"ID":"122","SETTING_ID":"129","KEY":"todayHH24","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE,'YYYYMMDDHH24') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-10-15 11:47:10","DBTYPE":"MES"},{"ID":"115","SETTING_ID":"129","KEY":"today_yy","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE,'YYYYMMDDHH24') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-09-24 08:46:51","DBTYPE":"MES"},{"ID":"130","SETTING_ID":"129","KEY":"today","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE,'YYYYMMDD') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-11-09 03:36:41","DBTYPE":"MES"}]
2022-11-16 17:00:00 [EDI System] info: [{"ID":"137","SETTING_ID":"129","KEY":"todayHH24MISS","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE,'YYYYMMDDHH24MISS') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-11-12 05:20:22","DBTYPE":"MES"},{"ID":"124","SETTING_ID":"129","KEY":"todayHH24_M1H","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE - 1/24,'YYYYMMDDHH24') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-10-15 01:40:03","DBTYPE":"MES"},{"ID":"122","SETTING_ID":"129","KEY":"todayHH24","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE,'YYYYMMDDHH24') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-10-15 11:47:10","DBTYPE":"MES"},{"ID":"115","SETTING_ID":"129","KEY":"today_yy","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE,'YYYYMMDDHH24') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-09-24 08:46:51","DBTYPE":"MES"},{"ID":"130","SETTING_ID":"129","KEY":"today","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE,'YYYYMMDD') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-11-09 03:36:41","DBTYPE":"MES"}]
2022-11-16 17:00:00 [EDI System] info: [{"ID":"137","SETTING_ID":"129","KEY":"todayHH24MISS","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE,'YYYYMMDDHH24MISS') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-11-12 05:20:22","DBTYPE":"MES"},{"ID":"124","SETTING_ID":"129","KEY":"todayHH24_M1H","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE - 1/24,'YYYYMMDDHH24') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-10-15 01:40:03","DBTYPE":"MES"},{"ID":"122","SETTING_ID":"129","KEY":"todayHH24","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE,'YYYYMMDDHH24') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-10-15 11:47:10","DBTYPE":"MES"},{"ID":"115","SETTING_ID":"129","KEY":"today_yy","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE,'YYYYMMDDHH24') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-09-24 08:46:51","DBTYPE":"MES"},{"ID":"130","SETTING_ID":"129","KEY":"today","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE,'YYYYMMDD') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-11-09 03:36:41","DBTYPE":"MES"}]
2022-11-16 17:01:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 17:02:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 17:03:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 17:04:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 17:04:00 [EDI System] info: Job Start Time > {"min":4,"hour":17,"date":16,"month":11,"day":3}
 {"ID":100,"CFG_ID":"135","FILE_NAME":"LOTEVENT_HM:todayHH24","FILE_DESC":"SEC LOTEVENT 1/1HR","FILE_SAVE_FOLDER":"D:/HM_EDI/SEC/OUT","FILE_CHARSET":"utf-8","FILE_TYPE":"ff","DATA_TYPE":"text","FTP_ENV_ID":"100","SEND_FLAG":"Y","NODATASEND":null,"SCHEDULE_MIN":"4","SCHEDULE_HOUR":"*","SCHEDULE_DAY":"*","SCHEDULE_WEEK":"*","SCHEDULE_MONTH":"*","CM_F01":null,"CM_F02":null,"CREATE_DATE":null,"CREATE_USER":null,"UPDATE_DATE":"2021-12-16 09:23:19","UPDATE_USER":"6","DELETE_DATE":null,"DELETE_USER":null,"frequency":"4 * * * *"}
2022-11-16 17:04:00 [EDI System] info: 100 >>> makeFileText Function Execute
2022-11-16 17:04:00 [EDI System] info: SELECT EDI_LOG_SEQ.NEXTVAL AS ID FROM DUAL
2022-11-16 17:04:00 [EDI System] info: SELECT EDI_LOG_SEQ.NEXTVAL AS ID FROM DUAL
2022-11-16 17:04:00 [EDI System] info: [{"ID":11123}]
2022-11-16 17:04:00 [EDI System] info: seq : return Key [{"ID":11123}]
2022-11-16 17:04:00 [EDI System] info: saveAllLogger => ID:11123, NAME:LOTEVENT_HM:todayHH24, ProcessID:135, Description: Job Start : ID=100, CFG_ID=135, FTP_ENV_ID=100, FILE_NAME=LOTEVENT_HM:todayHH24, FILE_DESC=SEC LOTEVENT 1/1HR, FILE_CHARSET=utf-8, FILE_TYPE=ff
2022-11-16 17:04:00 [EDI System] info: INSERT INTO EDI_LOG(ID, STEP, NAME, PROCESS_ID, DESCRIPTION, CREATE_USER, CREATE_DATE)
    VALUES(:id, :stepId, :name, :process_id, :description, 'DAEMON', TO_CHAR(SYSDATE,'YYYYMMDDHH24MISS'))
2022-11-16 17:04:00 [EDI System] info: Insert successful = SQL: INSERT INTO EDI_LOG(ID, STEP, NAME, PROCESS_ID, DESCRIPTION, CREATE_USER, CREATE_DATE)
    VALUES(:id, :stepId, :name, :process_id, :description, 'DAEMON', TO_CHAR(SYSDATE,'YYYYMMDDHH24MISS')) | Params: {"id":11123,"stepId":"1","name":"LOTEVENT_HM:todayHH24","process_id":"135","description":"Job Start : ID=100, CFG_ID=135, FTP_ENV_ID=100, FILE_NAME=LOTEVENT_HM:todayHH24, FILE_DESC=SEC LOTEVENT 1/1HR, FILE_CHARSET=utf-8, FILE_TYPE=ff"} / 1
2022-11-16 17:04:00 [EDI System] info: 
    SELECT *
    FROM (
        SELECT ROWNUM,A.*
            FROM EDI_QUERY_SETTING A
            WHERE SETTING_ID = :id
            AND TYPE='Main'
            ORDER BY ID DESC
        ) 
    WHERE ROWNUM='1'
    
2022-11-16 17:04:00 [EDI System] info: [{"ROWNUM":16,"ID":"155","SETTING_ID":"135","KEY":null,"TYPE":"Main","QUERY":"SELECT     \n  RPAD(V1, 2,' ')\n, RPAD(V3 , 20,' ')\n, RPAD(NVL(decode(v35, 'N01', 'Multitransfer', V4), ' ') , 30,' ')\n, RPAD(V5 || LPAD(B.MILI_SEC,3,0) , 20,' ')\n, RPAD(V6 , 2,' ')\n, RPAD(V7 , 4,' ')\n, RPAD(V8 , 30,' ')\n, RPAD(V9  , 20,' ')\n, RPAD(V10 , 10,' ')\n, RPAD(V11 , 30,' ')\n, RPAD(V12 , 20,' ')\n, RPAD(V13 , 20,' ')\n, RPAD(V14 , 10,' ')\n, RPAD(V15 , 10,' ')\n, RPAD(V16 , 14,' ')\n, RPAD(V17 , 14,' ')\n, LPAD(V18 , 10,' ')\n, LPAD(V19 , 10,' ')\n, RPAD(V20 , 14,' ')\n, RPAD(V21 , 10,' ')\n, RPAD(V22 , 10,' ')\n, RPAD(V23 , 20,' ')\n, RPAD(nvl(V24,' ') , 20,' ')\n, RPAD(V25 , 30,' ')\n, RPAD(V26 , 30,' ')\n, RPAD(V27 , 20,' ')\n, RPAD(V28 , 20,' ')\n, RPAD(V29 , 65,' ')\n, RPAD(V30 , 10,' ')\n, RPAD(V31 , 2,' ')\n, RPAD(V32 , 20,' ')\n, RPAD(V33 , 14,' ')\n, RPAD(V34 , 10,' ')\n, RPAD(V35 , 10,' ')\n, RPAD(V36 , 255,' ')\n, RPAD(V37 , 255,' ')\n  FROM ( SELECT ROWNUM IDX, \n                        V0,V1,V2,V3,V4,V5,V6,V7,V8,V9,V10,V11,V12,V13,V14,V15,V16,V17,V18,V19,V20,V21,V22,V23,V24,V25,V26,V27,V28,V29,V30,V31,V32,V33,V34,V35,V36,V37\n           FROM (\n           select * from\n           (           -- 20200121 chulho.wee ; combine except\n                       SELECT C.IN_DTTM V0, 'HM'  V1\n                     , DECODE(A.FACTORY, 'HMKA1', 'ASSY', 'TEST') V2\n                     , NVL(TRIM(A.LOT_CMF_1), '-') V3\n                     , DECODE(B.DATA_1\n                              , 'END', NVL(TRIM(INITCAP(A.TRAN_CMF_1)),'TrackOut')\n                              --, 'Change', DECODE(A.TRAN_CMF_1,'PART_CHANGE','ChangeProduct')\n                              --, 'Receive', DECODE(A.OLD_OPER,'T0000','RECV_OY_HMK3', 'Receive')\n                              -- , 'Ship', DECODE(A.OLD_OPER,'TZ010','SHIP_HMK4_OY', 'Ship')\n                              , 'Change', DECODE(A.TRAN_CMF_1,'PART_CHANGE','ChangeProduct', DECODE(A.OLD_OPER, 'T0100', 'ChangeProduct','T0960','ChangeProduct', B.DATA_1))\n                              , 'Receive', DECODE(A.OLD_OPER||SUBSTR(A.MAT_ID,1,3),'T0000SES','RECV_OY_HMK3','A0000SES','RECV_KH_HMK2', 'Receive')\n                              --, 'Ship', DECODE(A.OLD_OPER,'TZ010','SHIP_HMK4_ASIMACS','AZ010','SHIP_HMK3_OY', 'Ship')\n                              , 'Ship', DECODE(A.OLD_OPER,'TZ010',DECODE(F_GET_HALF_FULL(A.LOT_ID, A.HIST_SEQ), 'Y','SHIP_HMKT_OY', 'SHIP_HMK4_ASIMACS'),'AZ010','SHIP_HMK3_OY', 'Ship')\n                              , B.DATA_1) V4\n                     , A.TRAN_TIME V5 \n                     , NVL(TRIM(A.LOT_CMF_5), '-')  V6\n                     , DECODE(B.DATA_1||A.OLD_FACTORY\n                              , 'ReceiveHMKT1', 'HMK3'\n                              , 'ShipHMKT1', 'HMK4'\n                              , DECODE(A.FACTORY, 'HMKA1', 'HMKA', 'HMKT'))  V7\n                     , NVL((SELECT MAT_CMF_7 FROM MWIPMATDEF WHERE FACTORY = A.FACTORY AND MAT_ID = A.MAT_ID AND MAT_VER = A.MAT_VER)\n                          , (SELECT MAT_CMF_7 FROM MWIPMATDEF WHERE FACTORY = A.OLD_FACTORY AND MAT_ID = A.OLD_MAT_ID AND MAT_VER = A.MAT_VER))  V8\n                     , A.FLOW  V9\n                     , DECODE(SUBSTRB(A.OLD_OPER,1,4),'AZ01','HMK3','T000','HMK3','TZ01','HMK4','A000','HMK2',SUBSTRB(A.OLD_OPER,1,4))  V10\n                     , NVL((SELECT OPER_DESC FROM MWIPOPRDEF WHERE FACTORY = A.FACTORY AND OPER = A.OLD_OPER AND FLOW = A.FLOW), ' ' )  V11\n                     , NVL((SELECT RES_GRP_3 FROM MRASRESDEF WHERE FACTORY = A.FACTORY AND RES_ID = A.START_RES_ID ),' ')  V12\n                     , NVL(START_RES_ID, ' ')  V13\n                     , NVL((SELECT DECODE(SUBSTRB(NVL(trim(PREV_OPER), 'A0000'),1,4),'AZ01','HMK3','T000','HMK3','TZ01','HMK4','A000','HMK2',SUBSTRB(NVL(trim(PREV_OPER), 'A0000'),1,4)) FROM MWIPFLWOPR WHERE FACTORY = A.FACTORY AND OPER = A.OPER AND FLOW = A.FLOW),' ')  V14\n                     , DECODE(SUBSTRB(A.OPER,1,4),'AZ01','HMK3','T000','HMK3','TZ01','HMK4','A000','HMK2',SUBSTRB(A.OPER,1,4))  V15\n                     , A.OPER_IN_TIME  V16\n                     , A.CREATE_TIME  V17\n                     , NVL(D.WAFERQTY,NVL(TRIM(A.QTY_2),0))  V18\n                     , NVL(\n                                    DECODE(TRAN_CODE,'MERGE',DECODE(FROM_TO_FLAG,'F',TRIM(A.QTY_1),TRIM(A.QTY_1))\n                                    ,TRIM(A.QTY_1))\n                                    , 0)  V19 -- CHIP_QTY_new-- 2010 10 07\n                     , A.TRAN_TIME  V20\n                     , NVL(D.WAFERQTY,NVL(TRIM(A.QTY_2),0))  V21\n                     , NVL(\n                                    DECODE(TRAN_CODE,'MERGE',DECODE(FROM_TO_FLAG,'F',TRIM(A.OLD_QTY_1),'T',TRIM(A.QTY_1-A.OLD_QTY_1),TRIM(A.QTY_1)) --,TRIM(A.QTY_1))\n                                                    ,'SPLIT',DECODE(FROM_TO_FLAG,'F',abs(A.OLD_QTY_1-A.QTY_1),TRIM(A.QTY_1))\n                                                    ,'LOSS',(A.OLD_QTY_1 - QTY_1)\n                                                    ,TRIM(A.QTY_1))\n                                   , 0)  V22 -- EVENT_QTY_new -- 2010 10 07\n                     , NVL((SELECT LOT_STATE FROM V_SECLOTSTS WHERE FACTORY = A.FACTORY AND LOT_ID = A.LOT_ID AND HIST_SEQ = A.HIST_SEQ ),' ')  V23\n                     , DECODE(TRAN_CODE,'SPLIT',DECODE(FROM_TO_FLAG,'T','Splitted','Split'),\n                                        'MERGE',DECODE(FROM_TO_FLAG,'T','Merge','Merged'),\n                                        'PMERGE',DECODE(FROM_TO_FLAG,'T','Merge','Merged')\n                                      )  V24\n                     , DECODE(TRAN_CODE, 'SPLIT',DECODE(FROM_TO_FLAG,'F',' ',NVL(TRIM(A.FROM_TO_LOT_ID), TRIM(A.LOT_CMF_1)))\n                                       , 'MERGE',DECODE(FROM_TO_FLAG,'F',TRIM(A.FROM_TO_LOT_ID),NVL(TRIM(A.FROM_TO_LOT_ID), TRIM(A.LOT_CMF_1)))\n                                       , DECODE(TRAN_CODE,'ADAPT',F_GET_CHG_PREV_VAL(A.LOT_ID,A.HIST_SEQ,'ADAPT','MAT_ID',-1),F_GET_CHG_PREV_VAL(A.LOT_ID,A.HIST_SEQ,TRAN_CODE,'MAT_ID',-1))\n                                       )  V25\n                     , DECODE(TRAN_CODE, 'SPLIT',DECODE(FROM_TO_FLAG,'T',' ',NVL(TRIM(A.FROM_TO_LOT_ID), TRIM(A.LOT_CMF_1)))\n                                       , 'MERGE',DECODE(FROM_TO_FLAG,'T',TRIM(A.FROM_TO_LOT_ID),NVL(TRIM(A.FROM_TO_LOT_ID), TRIM(A.LOT_CMF_1)))\n                                       , DECODE(TRAN_CODE,'ADAPT',F_GET_CHG_PREV_VAL(A.LOT_ID,A.HIST_SEQ,'ADAPT','MAT_ID',1),F_GET_CHG_PREV_VAL(A.LOT_ID,A.HIST_SEQ,TRAN_CODE,'MAT_ID',1))\n                                       )  V26\n                     , DECODE(TRAN_CODE, 'SPLIT',DECODE(FROM_TO_FLAG,'T',' ',NVL(TRIM(A.FROM_TO_LOT_ID), TRIM(A.LOT_CMF_1)))\n                                       , 'MERGE',DECODE(FROM_TO_FLAG,'F',TRIM(A.LOT_CMF_1),NVL(TRIM(A.FROM_TO_LOT_ID), TRIM(A.LOT_CMF_1)))\n                                       , ' ')  V27\n                     , DECODE(TRAN_CODE, 'SPLIT',DECODE(FROM_TO_FLAG,'F',' ',NVL(TRIM(A.FROM_TO_LOT_ID), TRIM(A.LOT_CMF_1)))\n                                       , 'MERGE',DECODE(FROM_TO_FLAG,'T',TRIM(A.LOT_CMF_1),NVL(TRIM(A.FROM_TO_LOT_ID), TRIM(A.LOT_CMF_1)))\n                                       , ' ')  V28\n                     , ' '  V29\n                     , DECODE(TRAN_CODE, 'HOLD',HOLD_CODE, ' ')  V30\n                     , F_GET_ATTR_VALUE(A.LOT_ID, 'LOT_SEC_INFO','RETURN_CODE')  V31\n                     , NVL(TRIM(A.LOT_CMF_4), '-')  V32\n                     , TO_CHAR(SYSDATE, 'YYYYMMDDHH24MISS')  V33\n                     , A.START_QTY_1  V34\n                     , NVL((SELECT MAX(LOSS_CODE_1) FROM MWIPLOTLOS WHERE FACTORY = A.FACTORY AND OPER = A.OLD_OPER AND FLOW = A.FLOW AND LOT_ID = A.LOT_ID), ' ' )  V35\n                     , NVL((SELECT ATTR_VALUE FROM MATRNAMSTS WHERE FACTORY = 'HMKA1' AND ATTR_TYPE = 'LOT_SEC_INFO' AND ATTR_NAME = 'WORDER' AND ATTR_KEY  = A.LOT_ID ), ' ') V36\n                     , NVL((SELECT ATTR_VALUE FROM MATRNAMSTS WHERE FACTORY = 'HMKA1' AND ATTR_TYPE = 'LOT_SEC_INFO' AND ATTR_NAME = 'WORDER' AND ATTR_KEY  = A.LOT_ID ), ' ') V37\n                          FROM MWIPLOTHIS A \n                             , CWIPSITDEF B\n                             , CEDILOTHIS C\n                             , V_CLOTWAFQTY D\n                         WHERE 1 = 1\n                           AND A.FACTORY IN ('HMKA1', 'HMKT1','CUSTOMER')    \n                           AND A.OWNER_CODE = 'PROD'\n                           AND A.LOT_TYPE = 'W'\n                           AND A.HIST_DEL_FLAG = ' '\n                           AND A.LOT_CMF_2 = 'SE'\n                           AND A.TRAN_TIME >= :todayHH24_M1H ||'000000'\n                           AND A.TRAN_TIME <  :todayHH24 ||'000000'\n                           AND B.TABLE_NAME='H_EDI_TRAN'\n                           AND B.KEY_1='SE'\n                           AND A.TRAN_CODE = B.KEY_2   \n                           AND B.DATA_1 <> ' '   \n                           AND B.FACTORY = 'HMKA1'\n                           AND (A.TRAN_CODE <> 'START' OR A.TRAN_CMF_1 IN ('ISSUE','CLOSE'))\n                           AND (A.TRAN_CODE <> 'ADAPT' OR A.ADD_ORDER_ID_2 NOT IN ('MULTIEQP_MOT','MULTIEQP', ' ') OR A.TRAN_CMF_1 IN ('PART_CHANGE' ))\n                           AND A.OLD_FLOW > ' '\n                           AND A.LOT_ID = C.LOT_ID\n                           AND A.HIST_SEQ = C.HIST_SEQ\n                           AND A.TRAN_TIME  = C.TRAN_TIME\n                           AND A.LOT_ID = D.LOT_ID(+)\n                           AND A.OPER NOT IN ('T000N')\n                         \n                 union all\n                       -- 20200121 chulho.wee ; combine only ; merge, multitransfer\n                       SELECT C.IN_DTTM V0, 'HM'  V1\n                     , DECODE(A.FACTORY, 'HMKA1', 'ASSY', 'TEST') V2\n                     , NVL(TRIM(A.LOT_CMF_1), '-') V3\n                     , DECODE(B.DATA_1,\n                              'END', NVL(TRIM(INITCAP(A.TRAN_CMF_1)),'TrackOut'),\n                              'Change', DECODE(A.TRAN_CMF_1,'PART_CHANGE','ChangeProduct')\n                              , B.DATA_1) V4\n                     , A.TRAN_TIME V5 \n                     , NVL(TRIM(A.LOT_CMF_5), '-')  V6\n                     , DECODE(A.FACTORY, 'HMKA1', 'HMKA', 'HMKT')  V7\n                     , NVL((SELECT MAT_CMF_7 FROM MWIPMATDEF WHERE FACTORY = A.FACTORY AND MAT_ID = A.MAT_ID AND MAT_VER = A.MAT_VER)\n                          , (SELECT MAT_CMF_7 FROM MWIPMATDEF WHERE FACTORY = A.OLD_FACTORY AND MAT_ID = A.OLD_MAT_ID AND MAT_VER = A.MAT_VER))  V8\n                     , A.FLOW  V9\n                     , DECODE(SUBSTRB(A.OLD_OPER,1,4),'AZ01','HMK3','T000','HMK3','TZ01','HMK4','A000','HMK2',SUBSTRB(A.OLD_OPER,1,4))  V10\n                     , NVL((SELECT OPER_DESC FROM MWIPOPRDEF WHERE FACTORY = A.FACTORY AND OPER = A.OLD_OPER AND FLOW = A.FLOW), ' ' )  V11\n                     , NVL((SELECT RES_GRP_3 FROM MRASRESDEF WHERE FACTORY = A.FACTORY AND RES_ID = A.START_RES_ID ),' ')  V12\n                     , NVL(START_RES_ID, ' ')  V13\n                     , NVL((SELECT DECODE(SUBSTRB(NVL(trim(PREV_OPER), 'A0000'),1,4),'AZ01','HMK3','T000','HMK3','TZ01','HMK4','A000','HMK2',SUBSTRB(NVL(trim(PREV_OPER), 'A0000'),1,4)) FROM MWIPFLWOPR WHERE FACTORY = A.FACTORY AND OPER = A.OPER AND FLOW = A.FLOW),' ')  V14\n                     , DECODE(SUBSTRB(A.OPER,1,4),'AZ01','HMK3','T000','HMK3','TZ01','HMK4','A000','HMK2',SUBSTRB(A.OPER,1,4))  V15\n                     , A.OPER_IN_TIME  V16\n                     , A.CREATE_TIME  V17\n                     , NVL(D.WAFERQTY,NVL(TRIM(A.QTY_2),0))  V18\n                     , NVL(\n                                    DECODE(TRAN_CODE, 'COMBINE',DECODE(FROM_TO_FLAG,'T',TRIM(A.QTY_1+(select max(old_qty_1) from mwiplothis where lot_id = (select from_to_lot_id from mwiplothis where lot_id = a.lot_id and hist_seq = a.hist_seq) and tran_code = 'COMBINE' and hist_del_flag = ' '))\n                                                                                       ,TRIM(A.QTY_1))\n                                                    , TRIM(A.QTY_1))\n                           , 0)  V19 \n                     , A.TRAN_TIME  V20\n                     , NVL(D.WAFERQTY,NVL(TRIM(A.QTY_2),0))  V21\n                     , NVL(\n                                    DECODE(TRAN_CODE,'COMBINE',DECODE(FROM_TO_FLAG,'F',TRIM(A.OLD_QTY_1)\n                                                                                  ,'T',(select max(old_qty_1) from mwiplothis where lot_id = (select from_to_lot_id from mwiplothis where lot_id = a.lot_id and hist_seq = a.hist_seq) and tran_code = 'COMBINE' and hist_del_flag = ' ')\n                                                                                  ,TRIM(A.QTY_1)) --,TRIM(A.QTY_1))\n                                                    ,TRIM(A.QTY_1)*2)\n                           , 0)  V22 \n                     , NVL((SELECT LOT_STATE FROM V_SECLOTSTS WHERE FACTORY = A.FACTORY AND LOT_ID = A.LOT_ID AND HIST_SEQ = A.HIST_SEQ ),' ')  V23\n                     , DECODE(TRAN_CODE,'SPLIT',DECODE(FROM_TO_FLAG,'T','Splitted','Split'),\n                                        'COMBINE',DECODE(FROM_TO_FLAG,'T','Merge','Merged'),\n                                        'PMERGE',DECODE(FROM_TO_FLAG,'T','Merge','Merged')\n                                      )  V24\n                     , DECODE(TRAN_CODE, 'COMBINE',DECODE(FROM_TO_FLAG,'F',TRIM(A.FROM_TO_LOT_ID),NVL(TRIM(A.FROM_TO_LOT_ID), TRIM(A.LOT_CMF_1)))\n                                       , ' ') V25\n                     , DECODE(TRAN_CODE, 'COMBINE',DECODE(FROM_TO_FLAG,'T',TRIM(A.FROM_TO_LOT_ID),NVL(TRIM(A.FROM_TO_LOT_ID), TRIM(A.LOT_CMF_1)))\n                                       , ' ') V26\n                     , DECODE(TRAN_CODE, 'COMBINE',DECODE(FROM_TO_FLAG,'F',TRIM(A.LOT_CMF_1),NVL(TRIM(A.FROM_TO_LOT_ID), TRIM(A.LOT_CMF_1)))\n                                       , ' ')  V27\n                     , DECODE(TRAN_CODE, 'COMBINE',DECODE(FROM_TO_FLAG,'T',TRIM(A.LOT_CMF_1),NVL(TRIM(A.FROM_TO_LOT_ID), TRIM(A.LOT_CMF_1)))\n                                       , ' ')  V28\n                     , ' '  V29\n                     , DECODE(TRAN_CODE, 'HOLD',HOLD_CODE, ' ')  V30\n                     , F_GET_ATTR_VALUE(A.LOT_ID, 'LOT_SEC_INFO','RETURN_CODE')  V31\n                     , NVL(TRIM(A.LOT_CMF_4), '-')  V32\n                     , TO_CHAR(SYSDATE, 'YYYYMMDDHH24MISS')  V33\n                     , A.START_QTY_1  V34\n                     , NVL((SELECT MAX(LOSS_CODE_1) FROM MWIPLOTLOS WHERE FACTORY = A.FACTORY AND OPER = A.OLD_OPER AND FLOW = A.FLOW AND LOT_ID = A.LOT_ID), ' ' )  V35\n                     , NVL((SELECT ATTR_VALUE FROM MATRNAMSTS WHERE FACTORY = 'HMKA1' AND ATTR_TYPE = 'LOT_SEC_INFO' AND ATTR_NAME = 'WORDER' AND ATTR_KEY  = A.LOT_ID ), ' ') V36\n                     , NVL((SELECT ATTR_VALUE FROM MATRNAMSTS WHERE FACTORY = 'HMKA1' AND ATTR_TYPE = 'LOT_SEC_INFO' AND ATTR_NAME = 'WORDER' AND ATTR_KEY  = A.LOT_ID ), ' ') V37\n                          FROM MWIPLOTHIS A \n                             , CWIPSITDEF B\n                             , CEDILOTHIS C\n                             , V_CLOTWAFQTY D\n                         WHERE 1 = 1\n                           AND A.FACTORY IN ('HMKA1', 'HMKT1') --,'CUSTOMER')    \n                           AND A.OWNER_CODE = 'PROD'\n                           AND A.LOT_TYPE = 'W'\n                           AND A.HIST_DEL_FLAG = ' '\n                           AND A.LOT_CMF_2 = 'SE'\n                           AND A.TRAN_TIME >= TO_CHAR(SYSDATE-1/24,'YYYYMMDDHH24')||'000000'\n                           AND A.TRAN_TIME <  TO_CHAR(SYSDATE,'YYYYMMDDHH24')||'000000'\n                           AND B.TABLE_NAME='H_EDI_EX_TRAN'\n                           AND B.KEY_1='SE'\n                           AND A.TRAN_CODE = B.KEY_2   \n                           AND B.DATA_1 <> ' '   \n                           AND B.FACTORY = 'HMKA1'\n                           AND (A.TRAN_CODE <> 'START' OR A.TRAN_CMF_1 IN ('ISSUE','CLOSE'))\n                           AND (A.TRAN_CODE <> 'ADAPT' OR A.ADD_ORDER_ID_2 NOT IN ('MULTIEQP_MOT','MULTIEQP', ' ') OR A.TRAN_CMF_1 IN ('PART_CHANGE' ))\n                           AND A.OLD_FLOW > ' '\n                           AND A.LOT_ID = C.LOT_ID\n                           AND A.HIST_SEQ = C.HIST_SEQ\n                           AND A.TRAN_TIME  = C.TRAN_TIME\n                           AND A.LOT_ID = D.LOT_ID(+)\n                           AND A.OPER NOT IN ('T000N')\n                           AND A.OPER LIKE 'A040_'\n              )\n              order by v0\n           )) A, \n       ( SELECT ROWNUM IDX, TRAN_TIME, MILI_SEC\n           FROM (\n                   SELECT TRAN_TIME, CNT-NUM MILI_SEC\n                    FROM (\n                    select TRAN_TIME, sum(cnt) CNT\n                      from ( \n                        SELECT A.TRAN_TIME, COUNT(*) CNT\n                          FROM MWIPLOTHIS A \n                             , CWIPSITDEF B\n                             , CEDILOTHIS C\n                             , V_CLOTWAFQTY D\n                         WHERE 1 = 1\n                           AND A.FACTORY IN ('HMKA1', 'HMKT1','CUSTOMER')   \n                           AND A.OWNER_CODE = 'PROD'\n                          AND A.LOT_TYPE = 'W'\n                           AND A.HIST_DEL_FLAG = ' '\n                           AND A.LOT_CMF_2 = 'SE'\n                           AND A.TRAN_TIME >= TO_CHAR(SYSDATE-1/24,'YYYYMMDDHH24')||'000000'\n                           AND A.TRAN_TIME <  TO_CHAR(SYSDATE,'YYYYMMDDHH24')||'000000'\n                           AND B.TABLE_NAME='H_EDI_TRAN'\n                           AND B.KEY_1='SE'\n                           AND A.TRAN_CODE = B.KEY_2   \n                           AND B.DATA_1 <> ' '   \n                           AND B.FACTORY = 'HMKA1'\n                           AND (A.TRAN_CODE <> 'START' OR A.TRAN_CMF_1 IN ('ISSUE','CLOSE'))\n                           AND (A.TRAN_CODE <> 'ADAPT' OR A.ADD_ORDER_ID_2 NOT IN ('MULTIEQP_MOT','MULTIEQP', ' ') OR A.TRAN_CMF_1 IN ('PART_CHANGE' ))\n                           AND A.OLD_FLOW > ' '\n                           AND A.LOT_ID = C.LOT_ID\n                           AND A.HIST_SEQ = C.HIST_SEQ\n                           AND A.TRAN_TIME  = C.TRAN_TIME\n                           AND A.LOT_ID = D.LOT_ID(+)\n                           AND A.OPER NOT IN ('T000N')\n                         GROUP BY A.TRAN_TIME\n                         union\n                        SELECT A.TRAN_TIME, COUNT(*) CNT\n                          FROM MWIPLOTHIS A \n                             , CWIPSITDEF B\n                             , CEDILOTHIS C\n                             , V_CLOTWAFQTY D\n                         WHERE 1 = 1\n                           AND A.FACTORY IN ('HMKA1', 'HMKT1') --,'CUSTOMER')    \n                           AND A.OWNER_CODE = 'PROD'\n                           AND A.LOT_TYPE = 'W'\n                           AND A.HIST_DEL_FLAG = ' '\n                           AND A.LOT_CMF_2 = 'SE'\n                           AND A.TRAN_TIME >= :todayHH24_M1H ||'000000'\n                           AND A.TRAN_TIME <  :todayHH24 ||'000000'\n                           AND B.TABLE_NAME='H_EDI_EX_TRAN'\n                           AND B.KEY_1='SE'\n                           AND A.TRAN_CODE = B.KEY_2   \n                           AND B.DATA_1 <> ' '   \n                           AND B.FACTORY = 'HMKA1'\n                           AND (A.TRAN_CODE <> 'START' OR A.TRAN_CMF_1 IN ('ISSUE','CLOSE'))\n                           AND (A.TRAN_CODE <> 'ADAPT' OR A.ADD_ORDER_ID_2 NOT IN ('MULTIEQP_MOT','MULTIEQP', ' ') OR A.TRAN_CMF_1 IN ('PART_CHANGE' ))\n                           AND A.OLD_FLOW > ' '\n                           AND A.LOT_ID = C.LOT_ID\n                           AND A.HIST_SEQ = C.HIST_SEQ\n                           AND A.TRAN_TIME  = C.TRAN_TIME\n                           AND A.LOT_ID = D.LOT_ID(+)\n                           AND A.OPER NOT IN ('T000N')\n                           GROUP BY A.TRAN_TIME\n                           )\n                           group by TRAN_TIME\n                         ) A, COPY_T B\n                   WHERE NUM < 26 \n                     AND NUM <= CNT\n                   ORDER BY TRAN_TIME, CNT-NUM \n                  )) B\n             WHERE A.IDX=B.IDX","CREATE_USER":"6","CREATE_DATE":"2021-12-15 11:13:15","DBTYPE":"MES"}]
2022-11-16 17:04:00 [EDI System] info: 
        SELECT * FROM (
            SELECT *
            FROM EDI_QUERY_SETTING
            WHERE 1=1
            AND SETTING_ID = (
                SELECT ID
                FROM CG_CUSTOMER 
                WHERE PARENT = (
                    SELECT ID
                    FROM CG_CUSTOMER 
                    WHERE ID=(
                        SELECT PARENT
                        FROM CG_CUSTOMER 
                        WHERE ID=(
                            SELECT PARENT 
                            FROM CG_CUSTOMER 
                            WHERE ID=:id
                        )
                    )
                )
                AND LOWER(NAME) = 'common'
            )
            AND TYPE IN ('DB','TEXT')
            AND KEY NOT IN (SELECT KEY
                            FROM EDI_QUERY_SETTING
                            WHERE 1=1
                            AND SETTING_ID = :id
                            AND TYPE IN ('DB','TEXT'))
            UNION ALL
            SELECT *
            FROM EDI_QUERY_SETTING
            WHERE 1=1
            AND SETTING_ID = :id
            AND TYPE IN ('DB','TEXT')
        )
        ORDER BY LENGTH(KEY) DESC
    
2022-11-16 17:04:00 [EDI System] info: [{"ID":"137","SETTING_ID":"129","KEY":"todayHH24MISS","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE,'YYYYMMDDHH24MISS') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-11-12 05:20:22","DBTYPE":"MES"},{"ID":"124","SETTING_ID":"129","KEY":"todayHH24_M1H","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE - 1/24,'YYYYMMDDHH24') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-10-15 01:40:03","DBTYPE":"MES"},{"ID":"122","SETTING_ID":"129","KEY":"todayHH24","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE,'YYYYMMDDHH24') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-10-15 11:47:10","DBTYPE":"MES"},{"ID":"115","SETTING_ID":"129","KEY":"today_yy","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE,'YYYYMMDDHH24') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-09-24 08:46:51","DBTYPE":"MES"},{"ID":"130","SETTING_ID":"129","KEY":"today","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE,'YYYYMMDD') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-11-09 03:36:41","DBTYPE":"MES"}]
2022-11-16 17:05:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 17:06:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 17:07:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 17:08:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 17:09:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 17:10:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 17:11:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 17:12:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 17:13:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 17:13:00 [EDI System] info: Job Start Time > {"min":13,"hour":17,"date":16,"month":11,"day":3}
 {"ID":121,"CFG_ID":"159","FILE_NAME":"CMEQPUNT_HM:today","FILE_DESC":"SEC CMEQPUNT 1/1day","FILE_SAVE_FOLDER":"D:/HM_EDI/SEC/OUT","FILE_CHARSET":"ascii","FILE_TYPE":"ff","DATA_TYPE":"text","FTP_ENV_ID":"100","SEND_FLAG":"Y","NODATASEND":"false","SCHEDULE_MIN":"13","SCHEDULE_HOUR":"*","SCHEDULE_DAY":"*","SCHEDULE_WEEK":"*","SCHEDULE_MONTH":"*","CM_F01":null,"CM_F02":null,"CREATE_DATE":"2021-12-10 09:44:41","CREATE_USER":"6","UPDATE_DATE":"2021-12-15 04:08:07","UPDATE_USER":"6","DELETE_DATE":null,"DELETE_USER":null,"frequency":"13 * * * *"}
2022-11-16 17:13:00 [EDI System] info: 121 >>> makeFileText Function Execute
2022-11-16 17:13:00 [EDI System] info: SELECT EDI_LOG_SEQ.NEXTVAL AS ID FROM DUAL
2022-11-16 17:13:00 [EDI System] info: SELECT EDI_LOG_SEQ.NEXTVAL AS ID FROM DUAL
2022-11-16 17:13:00 [EDI System] info: [{"ID":11124}]
2022-11-16 17:13:00 [EDI System] info: seq : return Key [{"ID":11124}]
2022-11-16 17:13:00 [EDI System] info: saveAllLogger => ID:11124, NAME:CMEQPUNT_HM:today, ProcessID:159, Description: Job Start : ID=121, CFG_ID=159, FTP_ENV_ID=100, FILE_NAME=CMEQPUNT_HM:today, FILE_DESC=SEC CMEQPUNT 1/1day, FILE_CHARSET=ascii, FILE_TYPE=ff
2022-11-16 17:13:00 [EDI System] info: INSERT INTO EDI_LOG(ID, STEP, NAME, PROCESS_ID, DESCRIPTION, CREATE_USER, CREATE_DATE)
    VALUES(:id, :stepId, :name, :process_id, :description, 'DAEMON', TO_CHAR(SYSDATE,'YYYYMMDDHH24MISS'))
2022-11-16 17:13:00 [EDI System] info: Insert successful = SQL: INSERT INTO EDI_LOG(ID, STEP, NAME, PROCESS_ID, DESCRIPTION, CREATE_USER, CREATE_DATE)
    VALUES(:id, :stepId, :name, :process_id, :description, 'DAEMON', TO_CHAR(SYSDATE,'YYYYMMDDHH24MISS')) | Params: {"id":11124,"stepId":"1","name":"CMEQPUNT_HM:today","process_id":"159","description":"Job Start : ID=121, CFG_ID=159, FTP_ENV_ID=100, FILE_NAME=CMEQPUNT_HM:today, FILE_DESC=SEC CMEQPUNT 1/1day, FILE_CHARSET=ascii, FILE_TYPE=ff"} / 1
2022-11-16 17:13:00 [EDI System] info: 
    SELECT *
    FROM (
        SELECT ROWNUM,A.*
            FROM EDI_QUERY_SETTING A
            WHERE SETTING_ID = :id
            AND TYPE='Main'
            ORDER BY ID DESC
        ) 
    WHERE ROWNUM='1'
    
2022-11-16 17:13:01 [EDI System] info: [{"ROWNUM":1,"ID":"157","SETTING_ID":"159","KEY":null,"TYPE":"Main","QUERY":"--//-- 20211203 chulho.wee ; CREATE\nSELECT \n  RPAD(START_TAG, 3, ' ')\n|| RPAD(OEM_CODE, 2, ' ')\n|| RPAD(MONTH, 6, ' ')\n|| RPAD(C_DATE, 8, ' ')\n|| RPAD(O_DATE, 8, ' ')\n|| RPAD(OEM_AREA, 4, ' ')\n|| RPAD(CUST_DEVICE, 30, ' ')\n|| RPAD(OPER_DESC, 15, ' ')\n|| RPAD(EQP_GROUP, 15, ' ')\n\n|| RPAD(EQP_MODEL, 30, ' ')\n|| RPAD(RES_ID, 15, ' ')\n|| RPAD(OPER, 6, ' ')\n\n|| RPAD(SUM(QTY), 10, ' ')\n|| RPAD(LOT_TYPE, 2, ' ')\n|| RPAD(PARA, 3, ' ')\n\n|| RPAD(TEST_TIME, 10, ' ')\n|| RPAD(INDEX_TIME, 10, ' ')\n|| RPAD(ATE_TIME, 10, ' ')\n\n|| RPAD(EQP_PRICE, 10, ' ')\n|| RPAD(ATE_PRICE, 10, ' ')\n|| RPAD(MVP_PRICE, 10, ' ')\n|| RPAD(PVI_PRICE, 10, ' ')\n|| RPAD(UNIT_PRICE, 10, ' ')\n\n|| RPAD(FULL_HALF, 10, ' ')\n|| RPAD(CREATE_TIME, 14, ' ')\n|| RPAD(REMARK, 200, ' ')\n  FROM\n(\n    SELECT 'LS1' START_TAG\n         , 'HM' OEM_CODE\n         , CASE\n            WHEN TO_CHAR(SYSDATE, 'DD') >= 28 THEN\n                 TO_CHAR(ADD_MONTHS(SYSDATE, +1), 'YYYYMM')\n            ELSE\n                 TO_CHAR(ADD_MONTHS(SYSDATE, -0), 'YYYYMM')\n           END AS \"MONTH\"\n         --, TO_CHAR(SYSDATE, 'DD') C_DATE\n         , TO_CHAR(SYSDATE, 'YYYYMMDD') C_DATE\n         , SUBSTR(LOT.TRAN_TIME, 1,8) AS O_DATE\n         , 'HMKT' AS OEM_AREA\n         \n         , TST.CUST_DVC CUST_DEVICE\n         , DECODE(TST.OPER ,'T0100', 'ATE', 'T0960', 'ASB', 'T0500', 'MVP', TST.OPER) OPER_DESC\n         \n         , (SELECT NVL(ATTR_VALUE, 'NULL') FROM MATRNAMSTS WHERE FACTORY = 'HMKT1' AND ATTR_TYPE = 'RESOURCE' AND ATTR_NAME = 'EQP_GROUP' AND ATTR_KEY = LOT.END_RES_ID) AS EQP_GROUP\n         , (SELECT NVL(ATTR_VALUE, 'NULL') FROM MATRNAMSTS WHERE FACTORY = 'HMKT1' AND ATTR_TYPE = 'RESOURCE' AND ATTR_NAME = 'EQP_MODEL' AND ATTR_KEY = LOT.END_RES_ID) AS EQP_MODEL\n         , LOT.OLD_OPER AS OPER\n         , LOT.END_RES_ID AS RES_ID\n         , LOT_CMF_5 LOT_TYPE\n\n         , LOT.QTY_1 AS QTY\n         , TST.PARA AS PARA\n         , TST.TEST_TIME AS TEST_TIME\n         , TST.INDEX_TIME AS INDEX_TIME\n         , TST.ATE_TIME AS ATE_TIME\n         , TST.EQP_PRICE AS EQP_PRICE\n         , TST.ATE_PRICE AS ATE_PRICE\n--         , (((TST.TEST_TIME + TST.INDEX_TIME) * TST.EQP_PRICE) / TST.PARA) AS ATE_PRICE\n         , TST.MVP_PRICE AS MVP_PRICE\n         , TST.PVI_PRICE AS PVI_PRICE\n         , TST.UNIT_PRICE AS UNIT_PRICE\n         , TST.FULL_HALF AS FULL_HALF\n         , TO_CHAR(SYSDATE, 'YYYYMMDDHH24MISS') AS CREATE_TIME\n         , ' ' AS REMARK\n      FROM MWIPLOTHIS LOT, VGCMTBLDAT_TEST_TIME_INF2 TST\n     WHERE 1=1\n       AND LOT.MAT_ID = TST.MAT_ID\n       AND LOT.OLD_OPER = TST.OPER\n       AND TST.MODEL = (SELECT NVL(ATTR_VALUE, 'NULL') FROM MATRNAMSTS WHERE FACTORY = 'HMKT1' AND ATTR_TYPE = 'RESOURCE' AND ATTR_NAME = 'EQP_MODEL' AND ATTR_KEY = LOT.END_RES_ID)\n       AND LOT.TRAN_TIME >= CASE WHEN TO_CHAR(SYSDATE, 'DD') >= 28 THEN\n                       TO_CHAR(ADD_MONTHS(SYSDATE, -0), 'YYYYMM')||'27'||'22'\n                       ELSE\n                       TO_CHAR(ADD_MONTHS(SYSDATE, -1), 'YYYYMM')||'27'||'22'\n                       END --AS PREV_MON\n\n       AND LOT.TRAN_TIME < CASE WHEN TO_CHAR(SYSDATE, 'HH24MISS') >= 220000\n                                  OR TO_CHAR(SYSDATE, 'HH24MISS') <= 235959 THEN\n                       TO_CHAR(SYSDATE -0, 'YYYYMMDD')||'22'\n                       ELSE\n                       TO_CHAR(SYSDATE -1, 'YYYYMMDD')||'22'\n                       END --AS CURR_MON\n                       \n--       AND LOT.TRAN_TIME < CASE WHEN TO_CHAR(SYSDATE, 'DD') >= 28 THEN\n--                       TO_CHAR(ADD_MONTHS(SYSDATE, +1), 'YYYYMM')||'27'||'22'\n--                       ELSE\n--                       TO_CHAR(ADD_MONTHS(SYSDATE, -0), 'YYYYMM')||'27'||'22'\n--                       END --AS CURR_MON\n       AND LOT.FACTORY = 'HMKT1'\n       AND LOT.TRAN_CODE = 'END'\n       AND LOT.OLD_OPER in ('T0100', 'T0960', 'T0500')\n--       AND TST.CUST_DVC = 'L6HD311A01-P040-A00VCD'\n--       AND LOT.MAT_ID = 'SEL6HD311A01-P040-A00KUVCD'\n)\nGROUP BY START_TAG\n, OEM_CODE\n, MONTH\n, C_DATE\n, O_DATE\n, OEM_AREA\n\n, CUST_DEVICE\n, OPER_DESC\n\n, EQP_GROUP\n, EQP_MODEL\n, OPER\n, RES_ID\n, LOT_TYPE\n\n, PARA\n, TEST_TIME\n, INDEX_TIME\n, ATE_TIME\n, EQP_PRICE\n, ATE_PRICE\n, MVP_PRICE\n, PVI_PRICE\n, UNIT_PRICE\n, FULL_HALF\n, CREATE_TIME\n, REMARK\nORDER BY 1","CREATE_USER":"6","CREATE_DATE":"2021-12-16 09:51:58","DBTYPE":"MES"}]
2022-11-16 17:13:01 [EDI System] info: 
        SELECT * FROM (
            SELECT *
            FROM EDI_QUERY_SETTING
            WHERE 1=1
            AND SETTING_ID = (
                SELECT ID
                FROM CG_CUSTOMER 
                WHERE PARENT = (
                    SELECT ID
                    FROM CG_CUSTOMER 
                    WHERE ID=(
                        SELECT PARENT
                        FROM CG_CUSTOMER 
                        WHERE ID=(
                            SELECT PARENT 
                            FROM CG_CUSTOMER 
                            WHERE ID=:id
                        )
                    )
                )
                AND LOWER(NAME) = 'common'
            )
            AND TYPE IN ('DB','TEXT')
            AND KEY NOT IN (SELECT KEY
                            FROM EDI_QUERY_SETTING
                            WHERE 1=1
                            AND SETTING_ID = :id
                            AND TYPE IN ('DB','TEXT'))
            UNION ALL
            SELECT *
            FROM EDI_QUERY_SETTING
            WHERE 1=1
            AND SETTING_ID = :id
            AND TYPE IN ('DB','TEXT')
        )
        ORDER BY LENGTH(KEY) DESC
    
2022-11-16 17:13:01 [EDI System] info: [{"ID":"137","SETTING_ID":"129","KEY":"todayHH24MISS","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE,'YYYYMMDDHH24MISS') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-11-12 05:20:22","DBTYPE":"MES"},{"ID":"124","SETTING_ID":"129","KEY":"todayHH24_M1H","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE - 1/24,'YYYYMMDDHH24') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-10-15 01:40:03","DBTYPE":"MES"},{"ID":"122","SETTING_ID":"129","KEY":"todayHH24","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE,'YYYYMMDDHH24') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-10-15 11:47:10","DBTYPE":"MES"},{"ID":"115","SETTING_ID":"129","KEY":"today_yy","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE,'YYYYMMDDHH24') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-09-24 08:46:51","DBTYPE":"MES"},{"ID":"130","SETTING_ID":"129","KEY":"today","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE,'YYYYMMDD') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-11-09 03:36:41","DBTYPE":"MES"}]
2022-11-16 17:14:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 17:15:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 17:15:00 [EDI System] info: Job Start Time > {"min":15,"hour":17,"date":16,"month":11,"day":3}
 {"ID":106,"CFG_ID":"141","FILE_NAME":"WO_INPUT_HANA_AS_:todayHH24_1","FILE_DESC":"Siliconworks input assy","FILE_SAVE_FOLDER":"D:/HM_EDI/SILICONWOKRS/OUT","FILE_CHARSET":"utf-8","FILE_TYPE":"csv","DATA_TYPE":"text","FTP_ENV_ID":"106","SEND_FLAG":"Y","NODATASEND":null,"SCHEDULE_MIN":"15","SCHEDULE_HOUR":"*","SCHEDULE_DAY":"*","SCHEDULE_WEEK":"*","SCHEDULE_MONTH":"*","CM_F01":null,"CM_F02":null,"CREATE_DATE":"2021-11-12 05:06:11","CREATE_USER":"6","UPDATE_DATE":"2022-02-16 12:18:37","UPDATE_USER":"6","DELETE_DATE":null,"DELETE_USER":null,"frequency":"15 * * * *"}
2022-11-16 17:15:00 [EDI System] info: 106 >>> makeFileText Function Execute
2022-11-16 17:15:00 [EDI System] info: Job Start Time > {"min":15,"hour":17,"date":16,"month":11,"day":3}
 {"ID":129,"CFG_ID":"166","FILE_NAME":"WO_INPUT_HANA_AS_:todayHH24_1","FILE_DESC":"Siliconworks input assy","FILE_SAVE_FOLDER":"D:/HM_EDI/SILICONWOKRS/OUT","FILE_CHARSET":"utf-8","FILE_TYPE":"csv","DATA_TYPE":"text","FTP_ENV_ID":"106","SEND_FLAG":"Y","NODATASEND":null,"SCHEDULE_MIN":"15","SCHEDULE_HOUR":"*","SCHEDULE_DAY":"*","SCHEDULE_WEEK":"*","SCHEDULE_MONTH":"*","CM_F01":null,"CM_F02":null,"CREATE_DATE":"2022-02-22 16:21:15","CREATE_USER":"6","UPDATE_DATE":null,"UPDATE_USER":null,"DELETE_DATE":null,"DELETE_USER":null,"frequency":"15 * * * *"}
2022-11-16 17:15:00 [EDI System] info: 129 >>> makeFileText Function Execute
2022-11-16 17:15:00 [EDI System] info: Job Start Time > {"min":15,"hour":17,"date":16,"month":11,"day":3}
 {"ID":127,"CFG_ID":"164","FILE_NAME":"WO_INPUT_HANA_AS_:todayHH24_1","FILE_DESC":"Siliconworks input assy","FILE_SAVE_FOLDER":"D:/HM_EDI/SILICONWOKRS/OUT","FILE_CHARSET":"utf-8","FILE_TYPE":"csv","DATA_TYPE":"text","FTP_ENV_ID":"106","SEND_FLAG":"Y","NODATASEND":null,"SCHEDULE_MIN":"15","SCHEDULE_HOUR":"*","SCHEDULE_DAY":"*","SCHEDULE_WEEK":"*","SCHEDULE_MONTH":"*","CM_F01":null,"CM_F02":null,"CREATE_DATE":"2022-02-22 16:13:42","CREATE_USER":"6","UPDATE_DATE":null,"UPDATE_USER":null,"DELETE_DATE":null,"DELETE_USER":null,"frequency":"15 * * * *"}
2022-11-16 17:15:00 [EDI System] info: 127 >>> makeFileText Function Execute
2022-11-16 17:15:00 [EDI System] info: Job Start Time > {"min":15,"hour":17,"date":16,"month":11,"day":3}
 {"ID":128,"CFG_ID":"165","FILE_NAME":"WO_INPUT_HANA_AS_:todayHH24_1","FILE_DESC":"Siliconworks input assy","FILE_SAVE_FOLDER":"D:/HM_EDI/SILICONWOKRS/OUT","FILE_CHARSET":"utf-8","FILE_TYPE":"csv","DATA_TYPE":"text","FTP_ENV_ID":"106","SEND_FLAG":"Y","NODATASEND":null,"SCHEDULE_MIN":"15","SCHEDULE_HOUR":"*","SCHEDULE_DAY":"*","SCHEDULE_WEEK":"*","SCHEDULE_MONTH":"*","CM_F01":null,"CM_F02":null,"CREATE_DATE":"2022-02-22 16:18:38","CREATE_USER":"6","UPDATE_DATE":null,"UPDATE_USER":null,"DELETE_DATE":null,"DELETE_USER":null,"frequency":"15 * * * *"}
2022-11-16 17:15:00 [EDI System] info: 128 >>> makeFileText Function Execute
2022-11-16 17:15:00 [EDI System] info: Job Start Time > {"min":15,"hour":17,"date":16,"month":11,"day":3}
 {"ID":130,"CFG_ID":"167","FILE_NAME":"WO_INPUT_HANA_AS_:todayHH24_1","FILE_DESC":"Siliconworks input assy","FILE_SAVE_FOLDER":"D:/HM_EDI/SILICONWOKRS/OUT","FILE_CHARSET":"utf-8","FILE_TYPE":"csv","DATA_TYPE":"text","FTP_ENV_ID":"106","SEND_FLAG":"Y","NODATASEND":null,"SCHEDULE_MIN":"15","SCHEDULE_HOUR":"*","SCHEDULE_DAY":"*","SCHEDULE_WEEK":"*","SCHEDULE_MONTH":"*","CM_F01":null,"CM_F02":null,"CREATE_DATE":"2022-02-22 16:23:34","CREATE_USER":"6","UPDATE_DATE":null,"UPDATE_USER":null,"DELETE_DATE":null,"DELETE_USER":null,"frequency":"15 * * * *"}
2022-11-16 17:15:00 [EDI System] info: 130 >>> makeFileText Function Execute
2022-11-16 17:15:00 [EDI System] info: SELECT EDI_LOG_SEQ.NEXTVAL AS ID FROM DUAL
2022-11-16 17:15:00 [EDI System] info: SELECT EDI_LOG_SEQ.NEXTVAL AS ID FROM DUAL
2022-11-16 17:15:00 [EDI System] info: SELECT EDI_LOG_SEQ.NEXTVAL AS ID FROM DUAL
2022-11-16 17:15:00 [EDI System] info: SELECT EDI_LOG_SEQ.NEXTVAL AS ID FROM DUAL
2022-11-16 17:15:00 [EDI System] info: SELECT EDI_LOG_SEQ.NEXTVAL AS ID FROM DUAL
2022-11-16 17:15:00 [EDI System] info: SELECT EDI_LOG_SEQ.NEXTVAL AS ID FROM DUAL
2022-11-16 17:15:00 [EDI System] info: SELECT EDI_LOG_SEQ.NEXTVAL AS ID FROM DUAL
2022-11-16 17:15:00 [EDI System] info: SELECT EDI_LOG_SEQ.NEXTVAL AS ID FROM DUAL
2022-11-16 17:15:00 [EDI System] info: SELECT EDI_LOG_SEQ.NEXTVAL AS ID FROM DUAL
2022-11-16 17:15:00 [EDI System] info: SELECT EDI_LOG_SEQ.NEXTVAL AS ID FROM DUAL
2022-11-16 17:15:00 [EDI System] info: [{"ID":11125}]
2022-11-16 17:15:00 [EDI System] info: [{"ID":11126}]
2022-11-16 17:15:00 [EDI System] info: seq : return Key [{"ID":11125}]
2022-11-16 17:15:00 [EDI System] info: saveAllLogger => ID:11125, NAME:WO_INPUT_HANA_AS_:todayHH24_1, ProcessID:166, Description: Job Start : ID=129, CFG_ID=166, FTP_ENV_ID=106, FILE_NAME=WO_INPUT_HANA_AS_:todayHH24_1, FILE_DESC=Siliconworks input assy, FILE_CHARSET=utf-8, FILE_TYPE=csv
2022-11-16 17:15:00 [EDI System] info: INSERT INTO EDI_LOG(ID, STEP, NAME, PROCESS_ID, DESCRIPTION, CREATE_USER, CREATE_DATE)
    VALUES(:id, :stepId, :name, :process_id, :description, 'DAEMON', TO_CHAR(SYSDATE,'YYYYMMDDHH24MISS'))
2022-11-16 17:15:00 [EDI System] info: seq : return Key [{"ID":11126}]
2022-11-16 17:15:00 [EDI System] info: saveAllLogger => ID:11126, NAME:WO_INPUT_HANA_AS_:todayHH24_1, ProcessID:164, Description: Job Start : ID=127, CFG_ID=164, FTP_ENV_ID=106, FILE_NAME=WO_INPUT_HANA_AS_:todayHH24_1, FILE_DESC=Siliconworks input assy, FILE_CHARSET=utf-8, FILE_TYPE=csv
2022-11-16 17:15:00 [EDI System] info: INSERT INTO EDI_LOG(ID, STEP, NAME, PROCESS_ID, DESCRIPTION, CREATE_USER, CREATE_DATE)
    VALUES(:id, :stepId, :name, :process_id, :description, 'DAEMON', TO_CHAR(SYSDATE,'YYYYMMDDHH24MISS'))
2022-11-16 17:15:00 [EDI System] info: [{"ID":11127}]
2022-11-16 17:15:00 [EDI System] info: seq : return Key [{"ID":11127}]
2022-11-16 17:15:00 [EDI System] info: saveAllLogger => ID:11127, NAME:WO_INPUT_HANA_AS_:todayHH24_1, ProcessID:141, Description: Job Start : ID=106, CFG_ID=141, FTP_ENV_ID=106, FILE_NAME=WO_INPUT_HANA_AS_:todayHH24_1, FILE_DESC=Siliconworks input assy, FILE_CHARSET=utf-8, FILE_TYPE=csv
2022-11-16 17:15:00 [EDI System] info: INSERT INTO EDI_LOG(ID, STEP, NAME, PROCESS_ID, DESCRIPTION, CREATE_USER, CREATE_DATE)
    VALUES(:id, :stepId, :name, :process_id, :description, 'DAEMON', TO_CHAR(SYSDATE,'YYYYMMDDHH24MISS'))
2022-11-16 17:15:00 [EDI System] info: [{"ID":11128}]
2022-11-16 17:15:00 [EDI System] info: seq : return Key [{"ID":11128}]
2022-11-16 17:15:00 [EDI System] info: saveAllLogger => ID:11128, NAME:WO_INPUT_HANA_AS_:todayHH24_1, ProcessID:165, Description: Job Start : ID=128, CFG_ID=165, FTP_ENV_ID=106, FILE_NAME=WO_INPUT_HANA_AS_:todayHH24_1, FILE_DESC=Siliconworks input assy, FILE_CHARSET=utf-8, FILE_TYPE=csv
2022-11-16 17:15:00 [EDI System] info: INSERT INTO EDI_LOG(ID, STEP, NAME, PROCESS_ID, DESCRIPTION, CREATE_USER, CREATE_DATE)
    VALUES(:id, :stepId, :name, :process_id, :description, 'DAEMON', TO_CHAR(SYSDATE,'YYYYMMDDHH24MISS'))
2022-11-16 17:15:00 [EDI System] info: [{"ID":11129}]
2022-11-16 17:15:00 [EDI System] info: seq : return Key [{"ID":11129}]
2022-11-16 17:15:00 [EDI System] info: saveAllLogger => ID:11129, NAME:WO_INPUT_HANA_AS_:todayHH24_1, ProcessID:167, Description: Job Start : ID=130, CFG_ID=167, FTP_ENV_ID=106, FILE_NAME=WO_INPUT_HANA_AS_:todayHH24_1, FILE_DESC=Siliconworks input assy, FILE_CHARSET=utf-8, FILE_TYPE=csv
2022-11-16 17:15:00 [EDI System] info: INSERT INTO EDI_LOG(ID, STEP, NAME, PROCESS_ID, DESCRIPTION, CREATE_USER, CREATE_DATE)
    VALUES(:id, :stepId, :name, :process_id, :description, 'DAEMON', TO_CHAR(SYSDATE,'YYYYMMDDHH24MISS'))
2022-11-16 17:15:00 [EDI System] info: Insert successful = SQL: INSERT INTO EDI_LOG(ID, STEP, NAME, PROCESS_ID, DESCRIPTION, CREATE_USER, CREATE_DATE)
    VALUES(:id, :stepId, :name, :process_id, :description, 'DAEMON', TO_CHAR(SYSDATE,'YYYYMMDDHH24MISS')) | Params: {"id":11125,"stepId":"1","name":"WO_INPUT_HANA_AS_:todayHH24_1","process_id":"166","description":"Job Start : ID=129, CFG_ID=166, FTP_ENV_ID=106, FILE_NAME=WO_INPUT_HANA_AS_:todayHH24_1, FILE_DESC=Siliconworks input assy, FILE_CHARSET=utf-8, FILE_TYPE=csv"} / 1
2022-11-16 17:15:00 [EDI System] info: Insert successful = SQL: INSERT INTO EDI_LOG(ID, STEP, NAME, PROCESS_ID, DESCRIPTION, CREATE_USER, CREATE_DATE)
    VALUES(:id, :stepId, :name, :process_id, :description, 'DAEMON', TO_CHAR(SYSDATE,'YYYYMMDDHH24MISS')) | Params: {"id":11127,"stepId":"1","name":"WO_INPUT_HANA_AS_:todayHH24_1","process_id":"141","description":"Job Start : ID=106, CFG_ID=141, FTP_ENV_ID=106, FILE_NAME=WO_INPUT_HANA_AS_:todayHH24_1, FILE_DESC=Siliconworks input assy, FILE_CHARSET=utf-8, FILE_TYPE=csv"} / 1
2022-11-16 17:15:00 [EDI System] info: 
    SELECT *
    FROM (
        SELECT ROWNUM,A.*
            FROM EDI_QUERY_SETTING A
            WHERE SETTING_ID = :id
            AND TYPE='Main'
            ORDER BY ID DESC
        ) 
    WHERE ROWNUM='1'
    
2022-11-16 17:15:00 [EDI System] info: Insert successful = SQL: INSERT INTO EDI_LOG(ID, STEP, NAME, PROCESS_ID, DESCRIPTION, CREATE_USER, CREATE_DATE)
    VALUES(:id, :stepId, :name, :process_id, :description, 'DAEMON', TO_CHAR(SYSDATE,'YYYYMMDDHH24MISS')) | Params: {"id":11126,"stepId":"1","name":"WO_INPUT_HANA_AS_:todayHH24_1","process_id":"164","description":"Job Start : ID=127, CFG_ID=164, FTP_ENV_ID=106, FILE_NAME=WO_INPUT_HANA_AS_:todayHH24_1, FILE_DESC=Siliconworks input assy, FILE_CHARSET=utf-8, FILE_TYPE=csv"} / 1
2022-11-16 17:15:00 [EDI System] info: 
    SELECT *
    FROM (
        SELECT ROWNUM,A.*
            FROM EDI_QUERY_SETTING A
            WHERE SETTING_ID = :id
            AND TYPE='Main'
            ORDER BY ID DESC
        ) 
    WHERE ROWNUM='1'
    
2022-11-16 17:15:00 [EDI System] info: 
    SELECT *
    FROM (
        SELECT ROWNUM,A.*
            FROM EDI_QUERY_SETTING A
            WHERE SETTING_ID = :id
            AND TYPE='Main'
            ORDER BY ID DESC
        ) 
    WHERE ROWNUM='1'
    
2022-11-16 17:15:00 [EDI System] info: Insert successful = SQL: INSERT INTO EDI_LOG(ID, STEP, NAME, PROCESS_ID, DESCRIPTION, CREATE_USER, CREATE_DATE)
    VALUES(:id, :stepId, :name, :process_id, :description, 'DAEMON', TO_CHAR(SYSDATE,'YYYYMMDDHH24MISS')) | Params: {"id":11128,"stepId":"1","name":"WO_INPUT_HANA_AS_:todayHH24_1","process_id":"165","description":"Job Start : ID=128, CFG_ID=165, FTP_ENV_ID=106, FILE_NAME=WO_INPUT_HANA_AS_:todayHH24_1, FILE_DESC=Siliconworks input assy, FILE_CHARSET=utf-8, FILE_TYPE=csv"} / 1
2022-11-16 17:15:00 [EDI System] info: Insert successful = SQL: INSERT INTO EDI_LOG(ID, STEP, NAME, PROCESS_ID, DESCRIPTION, CREATE_USER, CREATE_DATE)
    VALUES(:id, :stepId, :name, :process_id, :description, 'DAEMON', TO_CHAR(SYSDATE,'YYYYMMDDHH24MISS')) | Params: {"id":11129,"stepId":"1","name":"WO_INPUT_HANA_AS_:todayHH24_1","process_id":"167","description":"Job Start : ID=130, CFG_ID=167, FTP_ENV_ID=106, FILE_NAME=WO_INPUT_HANA_AS_:todayHH24_1, FILE_DESC=Siliconworks input assy, FILE_CHARSET=utf-8, FILE_TYPE=csv"} / 1
2022-11-16 17:15:00 [EDI System] info: 
    SELECT *
    FROM (
        SELECT ROWNUM,A.*
            FROM EDI_QUERY_SETTING A
            WHERE SETTING_ID = :id
            AND TYPE='Main'
            ORDER BY ID DESC
        ) 
    WHERE ROWNUM='1'
    
2022-11-16 17:15:00 [EDI System] info: 
    SELECT *
    FROM (
        SELECT ROWNUM,A.*
            FROM EDI_QUERY_SETTING A
            WHERE SETTING_ID = :id
            AND TYPE='Main'
            ORDER BY ID DESC
        ) 
    WHERE ROWNUM='1'
    
2022-11-16 17:15:00 [EDI System] info: []
2022-11-16 17:15:00 [EDI System] info: 
        SELECT * FROM (
            SELECT *
            FROM EDI_QUERY_SETTING
            WHERE 1=1
            AND SETTING_ID = (
                SELECT ID
                FROM CG_CUSTOMER 
                WHERE PARENT = (
                    SELECT ID
                    FROM CG_CUSTOMER 
                    WHERE ID=(
                        SELECT PARENT
                        FROM CG_CUSTOMER 
                        WHERE ID=(
                            SELECT PARENT 
                            FROM CG_CUSTOMER 
                            WHERE ID=:id
                        )
                    )
                )
                AND LOWER(NAME) = 'common'
            )
            AND TYPE IN ('DB','TEXT')
            AND KEY NOT IN (SELECT KEY
                            FROM EDI_QUERY_SETTING
                            WHERE 1=1
                            AND SETTING_ID = :id
                            AND TYPE IN ('DB','TEXT'))
            UNION ALL
            SELECT *
            FROM EDI_QUERY_SETTING
            WHERE 1=1
            AND SETTING_ID = :id
            AND TYPE IN ('DB','TEXT')
        )
        ORDER BY LENGTH(KEY) DESC
    
2022-11-16 17:15:00 [EDI System] info: []
2022-11-16 17:15:00 [EDI System] info: 
        SELECT * FROM (
            SELECT *
            FROM EDI_QUERY_SETTING
            WHERE 1=1
            AND SETTING_ID = (
                SELECT ID
                FROM CG_CUSTOMER 
                WHERE PARENT = (
                    SELECT ID
                    FROM CG_CUSTOMER 
                    WHERE ID=(
                        SELECT PARENT
                        FROM CG_CUSTOMER 
                        WHERE ID=(
                            SELECT PARENT 
                            FROM CG_CUSTOMER 
                            WHERE ID=:id
                        )
                    )
                )
                AND LOWER(NAME) = 'common'
            )
            AND TYPE IN ('DB','TEXT')
            AND KEY NOT IN (SELECT KEY
                            FROM EDI_QUERY_SETTING
                            WHERE 1=1
                            AND SETTING_ID = :id
                            AND TYPE IN ('DB','TEXT'))
            UNION ALL
            SELECT *
            FROM EDI_QUERY_SETTING
            WHERE 1=1
            AND SETTING_ID = :id
            AND TYPE IN ('DB','TEXT')
        )
        ORDER BY LENGTH(KEY) DESC
    
2022-11-16 17:15:00 [EDI System] info: [{"ROWNUM":4,"ID":"166","SETTING_ID":"141","KEY":null,"TYPE":"Main","QUERY":"SELECT 'Interface ID'\n || ',' || 'Interface Line ID'\n || ',' || 'SUPPLIER_CODE'\n || ',' || 'PROCESSING_CODE'\n || ',' || 'SIW_WO_NO'\n || ',' || 'SUPPLIER_WO_NO'\n || ',' || 'ASSY_ITEM_CODE'\n || ',' || 'ASSY_QTY'\n || ',' || 'UOM_CODE'\n || ',' || 'WORK_START_DATE'\n || ',' || 'COMPONENT_ITEM_CODE'\n || ',' || 'COMPONENT_LOT_ID'\n || ',' || 'COMPONENT_QTY'\n || ',' || 'REMARK1'\n || ',' || 'CANCEL_FLAG'\n || ',' || 'CREATION_DATE'\n\n  FROM IEDISIW_INPUT_INFO\n WHERE CUTOFF_DT = :todayHH24 -- TO_CHAR(SYSDATE, 'YYYYMMDDHH24')\n   AND PROCESSING_CODE = 'AS'\n   AND ROWNUM = 1\n\tAND ROWNUM = 2\n    \nUNION ALL\n\nSELECT IF_ID \n || ',' || IF_LINE_ID \n || ',' || SUPPLIER_CODE \n || ',' || PROCESSING_CODE \n || ',' || SIW_WO_NO \n || ',' || SUPPLIER_WO_NO \n || ',' || ASSY_ITEM_CODE \n || ',' || ASSY_QTY \n || ',' || UOM_CODE \n || ',' || WORK_START_DATE \n || ',' || COMPONENT_ITEM_CODE\n || ',' || COMPONENT_LOT_ID \n || ',' || COMPONENT_QTY \n || ',' || REMARK1 \n || ',' || CANCEL_FLAG \n || ',' || CREATION_DATE \n\n  FROM IEDISIW_INPUT_INFO\n WHERE CUTOFF_DT = :todayHH24 -- TO_CHAR(SYSDATE, 'YYYYMMDDHH24')\n   AND PROCESSING_CODE = 'AS'","CREATE_USER":"6","CREATE_DATE":"2022-02-16 16:42:57","DBTYPE":"MES"}]
2022-11-16 17:15:00 [EDI System] info: 
        SELECT * FROM (
            SELECT *
            FROM EDI_QUERY_SETTING
            WHERE 1=1
            AND SETTING_ID = (
                SELECT ID
                FROM CG_CUSTOMER 
                WHERE PARENT = (
                    SELECT ID
                    FROM CG_CUSTOMER 
                    WHERE ID=(
                        SELECT PARENT
                        FROM CG_CUSTOMER 
                        WHERE ID=(
                            SELECT PARENT 
                            FROM CG_CUSTOMER 
                            WHERE ID=:id
                        )
                    )
                )
                AND LOWER(NAME) = 'common'
            )
            AND TYPE IN ('DB','TEXT')
            AND KEY NOT IN (SELECT KEY
                            FROM EDI_QUERY_SETTING
                            WHERE 1=1
                            AND SETTING_ID = :id
                            AND TYPE IN ('DB','TEXT'))
            UNION ALL
            SELECT *
            FROM EDI_QUERY_SETTING
            WHERE 1=1
            AND SETTING_ID = :id
            AND TYPE IN ('DB','TEXT')
        )
        ORDER BY LENGTH(KEY) DESC
    
2022-11-16 17:15:00 [EDI System] info: [{"ROWNUM":1,"ID":"167","SETTING_ID":"165","KEY":null,"TYPE":"Main","QUERY":"SELECT 'Interface ID'\n || ',' || 'Interface Line ID'\n || ',' || 'SUPPLIER_CODE'\n || ',' || 'PROCESSING_CODE'\n || ',' || 'SIW_WO_NO'\n || ',' || 'SUPPLIER_WO_NO'\n || ',' || 'ASSY_ITEM_CODE'\n || ',' || 'ASSY_QTY'\n || ',' || 'UOM_CODE'\n || ',' || 'WORK_START_DATE'\n || ',' || 'COMPONENT_ITEM_CODE'\n || ',' || 'COMPONENT_LOT_ID'\n || ',' || 'COMPONENT_QTY'\n || ',' || 'REMARK1'\n || ',' || 'CANCEL_FLAG'\n || ',' || 'CREATION_DATE'\n\n  FROM IEDISIW_INPUT_INFO\n WHERE CUTOFF_DT = :todayHH24 -- TO_CHAR(SYSDATE, 'YYYYMMDDHH24')\n   AND PROCESSING_CODE = 'AS'\n   AND ROWNUM = 1\n\nUNION ALL\n\nSELECT IF_ID \n || ',' || IF_LINE_ID \n || ',' || SUPPLIER_CODE \n || ',' || PROCESSING_CODE \n || ',' || SIW_WO_NO \n || ',' || SUPPLIER_WO_NO \n || ',' || ASSY_ITEM_CODE \n || ',' || ASSY_QTY \n || ',' || UOM_CODE \n || ',' || WORK_START_DATE \n || ',' || COMPONENT_ITEM_CODE\n || ',' || COMPONENT_LOT_ID \n || ',' || COMPONENT_QTY \n || ',' || REMARK1 \n || ',' || CANCEL_FLAG \n || ',' || CREATION_DATE \n\n  FROM IEDISIW_INPUT_INFO\n WHERE CUTOFF_DT = :todayHH24 -- TO_CHAR(SYSDATE, 'YYYYMMDDHH24')\n   AND PROCESSING_CODE = 'AS'","CREATE_USER":"6","CREATE_DATE":"2022-02-22 16:18:38","DBTYPE":null}]
2022-11-16 17:15:00 [EDI System] info: 
        SELECT * FROM (
            SELECT *
            FROM EDI_QUERY_SETTING
            WHERE 1=1
            AND SETTING_ID = (
                SELECT ID
                FROM CG_CUSTOMER 
                WHERE PARENT = (
                    SELECT ID
                    FROM CG_CUSTOMER 
                    WHERE ID=(
                        SELECT PARENT
                        FROM CG_CUSTOMER 
                        WHERE ID=(
                            SELECT PARENT 
                            FROM CG_CUSTOMER 
                            WHERE ID=:id
                        )
                    )
                )
                AND LOWER(NAME) = 'common'
            )
            AND TYPE IN ('DB','TEXT')
            AND KEY NOT IN (SELECT KEY
                            FROM EDI_QUERY_SETTING
                            WHERE 1=1
                            AND SETTING_ID = :id
                            AND TYPE IN ('DB','TEXT'))
            UNION ALL
            SELECT *
            FROM EDI_QUERY_SETTING
            WHERE 1=1
            AND SETTING_ID = :id
            AND TYPE IN ('DB','TEXT')
        )
        ORDER BY LENGTH(KEY) DESC
    
2022-11-16 17:15:00 [EDI System] info: [{"ROWNUM":1,"ID":"169","SETTING_ID":"167","KEY":null,"TYPE":"Main","QUERY":"SELECT 'Interface ID'\n || ',' || 'Interface Line ID'\n || ',' || 'SUPPLIER_CODE'\n || ',' || 'PROCESSING_CODE'\n || ',' || 'SIW_WO_NO'\n || ',' || 'SUPPLIER_WO_NO'\n || ',' || 'ASSY_ITEM_CODE'\n || ',' || 'ASSY_QTY'\n || ',' || 'UOM_CODE'\n || ',' || 'WORK_START_DATE'\n || ',' || 'COMPONENT_ITEM_CODE'\n || ',' || 'COMPONENT_LOT_ID'\n || ',' || 'COMPONENT_QTY'\n || ',' || 'REMARK1'\n || ',' || 'CANCEL_FLAG'\n || ',' || 'CREATION_DATE'\n\n  FROM IEDISIW_INPUT_INFO\n WHERE CUTOFF_DT = :todayHH24 -- TO_CHAR(SYSDATE, 'YYYYMMDDHH24')\n   AND PROCESSING_CODE = 'AS'\n   AND ROWNUM = 1\n\tAND ROWNUM = 2\n    \nUNION ALL\n\nSELECT IF_ID \n || ',' || IF_LINE_ID \n || ',' || SUPPLIER_CODE \n || ',' || PROCESSING_CODE \n || ',' || SIW_WO_NO \n || ',' || SUPPLIER_WO_NO \n || ',' || ASSY_ITEM_CODE \n || ',' || ASSY_QTY \n || ',' || UOM_CODE \n || ',' || WORK_START_DATE \n || ',' || COMPONENT_ITEM_CODE\n || ',' || COMPONENT_LOT_ID \n || ',' || COMPONENT_QTY \n || ',' || REMARK1 \n || ',' || CANCEL_FLAG \n || ',' || CREATION_DATE \n\n  FROM IEDISIW_INPUT_INFO\n WHERE CUTOFF_DT = :todayHH24 -- TO_CHAR(SYSDATE, 'YYYYMMDDHH24')\n   AND PROCESSING_CODE = 'AS'","CREATE_USER":"6","CREATE_DATE":"2022-02-22 16:23:34","DBTYPE":"MES"}]
2022-11-16 17:15:00 [EDI System] info: 
        SELECT * FROM (
            SELECT *
            FROM EDI_QUERY_SETTING
            WHERE 1=1
            AND SETTING_ID = (
                SELECT ID
                FROM CG_CUSTOMER 
                WHERE PARENT = (
                    SELECT ID
                    FROM CG_CUSTOMER 
                    WHERE ID=(
                        SELECT PARENT
                        FROM CG_CUSTOMER 
                        WHERE ID=(
                            SELECT PARENT 
                            FROM CG_CUSTOMER 
                            WHERE ID=:id
                        )
                    )
                )
                AND LOWER(NAME) = 'common'
            )
            AND TYPE IN ('DB','TEXT')
            AND KEY NOT IN (SELECT KEY
                            FROM EDI_QUERY_SETTING
                            WHERE 1=1
                            AND SETTING_ID = :id
                            AND TYPE IN ('DB','TEXT'))
            UNION ALL
            SELECT *
            FROM EDI_QUERY_SETTING
            WHERE 1=1
            AND SETTING_ID = :id
            AND TYPE IN ('DB','TEXT')
        )
        ORDER BY LENGTH(KEY) DESC
    
2022-11-16 17:15:00 [EDI System] info: [{"ID":"133","SETTING_ID":"139","KEY":"todayHH24_M1H","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE - 1/24,'YYYYMMDDHH24') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-11-12 05:01:01","DBTYPE":"MES"},{"ID":"132","SETTING_ID":"139","KEY":"todayHH24","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE,'YYYYMMDDHH24') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-11-12 05:01:01","DBTYPE":"MES"},{"ID":"131","SETTING_ID":"139","KEY":"today_yy","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE,'YYYYMMDDHH24') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-11-12 05:01:01","DBTYPE":"MES"},{"ID":"134","SETTING_ID":"139","KEY":"today","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE,'YYYYMMDDHH24') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-11-12 05:01:01","DBTYPE":"MES"}]
2022-11-16 17:15:00 [EDI System] info: 
    SELECT *
    FROM EDI_ENV_SETTING WHERE CFG_ID=:id
    
2022-11-16 17:15:00 [EDI System] info: [{"ID":"133","SETTING_ID":"139","KEY":"todayHH24_M1H","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE - 1/24,'YYYYMMDDHH24') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-11-12 05:01:01","DBTYPE":"MES"},{"ID":"132","SETTING_ID":"139","KEY":"todayHH24","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE,'YYYYMMDDHH24') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-11-12 05:01:01","DBTYPE":"MES"},{"ID":"131","SETTING_ID":"139","KEY":"today_yy","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE,'YYYYMMDDHH24') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-11-12 05:01:01","DBTYPE":"MES"},{"ID":"134","SETTING_ID":"139","KEY":"today","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE,'YYYYMMDDHH24') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-11-12 05:01:01","DBTYPE":"MES"}]
2022-11-16 17:15:00 [EDI System] info: 
    SELECT *
    FROM EDI_ENV_SETTING WHERE CFG_ID=:id
    
2022-11-16 17:15:00 [EDI System] info: [{"ID":"133","SETTING_ID":"139","KEY":"todayHH24_M1H","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE - 1/24,'YYYYMMDDHH24') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-11-12 05:01:01","DBTYPE":"MES"},{"ID":"132","SETTING_ID":"139","KEY":"todayHH24","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE,'YYYYMMDDHH24') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-11-12 05:01:01","DBTYPE":"MES"},{"ID":"131","SETTING_ID":"139","KEY":"today_yy","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE,'YYYYMMDDHH24') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-11-12 05:01:01","DBTYPE":"MES"},{"ID":"134","SETTING_ID":"139","KEY":"today","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE,'YYYYMMDDHH24') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-11-12 05:01:01","DBTYPE":"MES"}]
2022-11-16 17:15:00 [EDI System] info: [{"ID":"133","SETTING_ID":"139","KEY":"todayHH24_M1H","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE - 1/24,'YYYYMMDDHH24') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-11-12 05:01:01","DBTYPE":"MES"},{"ID":"132","SETTING_ID":"139","KEY":"todayHH24","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE,'YYYYMMDDHH24') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-11-12 05:01:01","DBTYPE":"MES"},{"ID":"131","SETTING_ID":"139","KEY":"today_yy","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE,'YYYYMMDDHH24') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-11-12 05:01:01","DBTYPE":"MES"},{"ID":"134","SETTING_ID":"139","KEY":"today","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE,'YYYYMMDDHH24') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-11-12 05:01:01","DBTYPE":"MES"}]
2022-11-16 17:15:00 [EDI System] info: [{"ID":"133","SETTING_ID":"139","KEY":"todayHH24_M1H","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE - 1/24,'YYYYMMDDHH24') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-11-12 05:01:01","DBTYPE":"MES"},{"ID":"132","SETTING_ID":"139","KEY":"todayHH24","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE,'YYYYMMDDHH24') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-11-12 05:01:01","DBTYPE":"MES"},{"ID":"131","SETTING_ID":"139","KEY":"today_yy","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE,'YYYYMMDDHH24') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-11-12 05:01:01","DBTYPE":"MES"},{"ID":"134","SETTING_ID":"139","KEY":"today","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE,'YYYYMMDDHH24') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-11-12 05:01:01","DBTYPE":"MES"}]
2022-11-16 17:15:00 [EDI System] info: [{"ID":"141","CFG_ID":"166","ITEM":"between","SET_TYPE":null,"VALUE":"vetween","NOTE":"1","UPDATE_USER":null,"UPDATE_DATE":null,"CREATE_USER":"6","CREATE_DATE":"2022-02-22 16:21:15"}]
2022-11-16 17:15:00 [EDI System] info: 
  SELECT *
  FROM EDI_FILE_HEADNTAIL WHERE CFG_ID=:id
  
2022-11-16 17:15:01 [EDI System] info: [{"ID":"139","CFG_ID":"164","ITEM":"between","SET_TYPE":null,"VALUE":"vetween","NOTE":"1","UPDATE_USER":null,"UPDATE_DATE":null,"CREATE_USER":"6","CREATE_DATE":"2022-02-22 16:13:42"}]
2022-11-16 17:15:01 [EDI System] info: 
  SELECT *
  FROM EDI_FILE_HEADNTAIL WHERE CFG_ID=:id
  
2022-11-16 17:15:01 [EDI System] info: [{"ID":"152","CFG_ID":"166","DATA_TYPE":"h_sql","NOTE":"test\\","VALUE":"select 1 from dual","CM_F01":null,"CM_F02":null,"UPDATE_USER":null,"UPDATE_DATE":null,"CREATE_USER":"6","CREATE_DATE":"2022-02-22 16:21:15","DELETE_DATE":null,"DELETE_USER":null},{"ID":"153","CFG_ID":"166","DATA_TYPE":"h_text","NOTE":"test","VALUE":"value","CM_F01":null,"CM_F02":null,"UPDATE_USER":null,"UPDATE_DATE":null,"CREATE_USER":"6","CREATE_DATE":"2022-02-22 16:21:15","DELETE_DATE":null,"DELETE_USER":null}]
2022-11-16 17:15:01 [EDI System] info: [{"ID":"149","CFG_ID":"164","DATA_TYPE":"h_text","NOTE":"test","VALUE":"value","CM_F01":null,"CM_F02":null,"UPDATE_USER":null,"UPDATE_DATE":null,"CREATE_USER":"6","CREATE_DATE":"2022-02-22 16:13:42","DELETE_DATE":null,"DELETE_USER":null},{"ID":"148","CFG_ID":"164","DATA_TYPE":"h_sql","NOTE":"test\\","VALUE":"select 1 from dual","CM_F01":null,"CM_F02":null,"UPDATE_USER":null,"UPDATE_DATE":null,"CREATE_USER":"6","CREATE_DATE":"2022-02-22 16:13:42","DELETE_DATE":null,"DELETE_USER":null}]
2022-11-16 17:16:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 17:17:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 17:17:00 [EDI System] info: Job Start Time > {"min":17,"hour":17,"date":16,"month":11,"day":3}
 {"ID":122,"CFG_ID":"160","FILE_NAME":"CMEQPUNT_HM:today_2","FILE_DESC":"SEC CMEQPUNT 1/1day","FILE_SAVE_FOLDER":"D:/HM_EDI/SEC/OUT","FILE_CHARSET":"ascii","FILE_TYPE":"ff","DATA_TYPE":"text","FTP_ENV_ID":"100","SEND_FLAG":"Y","NODATASEND":"false","SCHEDULE_MIN":"17","SCHEDULE_HOUR":"*","SCHEDULE_DAY":"*","SCHEDULE_WEEK":"*","SCHEDULE_MONTH":"*","CM_F01":null,"CM_F02":null,"CREATE_DATE":"2021-12-14 11:47:39","CREATE_USER":"6","UPDATE_DATE":"2022-01-06 04:38:43","UPDATE_USER":"6","DELETE_DATE":null,"DELETE_USER":null,"frequency":"17 * * * *"}
2022-11-16 17:17:00 [EDI System] info: 122 >>> makeFileText Function Execute
2022-11-16 17:17:00 [EDI System] info: Job Start Time > {"min":17,"hour":17,"date":16,"month":11,"day":3}
 {"ID":123,"CFG_ID":"161","FILE_NAME":"WO_INPUT_HANA_FT_:todayHH24_1","FILE_DESC":"Siliconworks input TEST","FILE_SAVE_FOLDER":"D:/HM_EDI/SILICONWOKRS/OUT","FILE_CHARSET":"utf-8","FILE_TYPE":"csv","DATA_TYPE":"text","FTP_ENV_ID":"106","SEND_FLAG":"Y","NODATASEND":"false","SCHEDULE_MIN":"17","SCHEDULE_HOUR":"*","SCHEDULE_DAY":"*","SCHEDULE_WEEK":"*","SCHEDULE_MONTH":"*","CM_F01":null,"CM_F02":null,"CREATE_DATE":"2022-01-05 10:54:36","CREATE_USER":"6","UPDATE_DATE":"2022-02-15 11:38:03","UPDATE_USER":"6","DELETE_DATE":null,"DELETE_USER":null,"frequency":"17 * * * *"}
2022-11-16 17:17:00 [EDI System] info: 123 >>> makeFileText Function Execute
2022-11-16 17:17:00 [EDI System] info: SELECT EDI_LOG_SEQ.NEXTVAL AS ID FROM DUAL
2022-11-16 17:17:00 [EDI System] info: SELECT EDI_LOG_SEQ.NEXTVAL AS ID FROM DUAL
2022-11-16 17:17:00 [EDI System] info: SELECT EDI_LOG_SEQ.NEXTVAL AS ID FROM DUAL
2022-11-16 17:17:00 [EDI System] info: SELECT EDI_LOG_SEQ.NEXTVAL AS ID FROM DUAL
2022-11-16 17:17:00 [EDI System] info: [{"ID":11130}]
2022-11-16 17:17:00 [EDI System] info: seq : return Key [{"ID":11130}]
2022-11-16 17:17:00 [EDI System] info: saveAllLogger => ID:11130, NAME:CMEQPUNT_HM:today_2, ProcessID:160, Description: Job Start : ID=122, CFG_ID=160, FTP_ENV_ID=100, FILE_NAME=CMEQPUNT_HM:today_2, FILE_DESC=SEC CMEQPUNT 1/1day, FILE_CHARSET=ascii, FILE_TYPE=ff
2022-11-16 17:17:00 [EDI System] info: INSERT INTO EDI_LOG(ID, STEP, NAME, PROCESS_ID, DESCRIPTION, CREATE_USER, CREATE_DATE)
    VALUES(:id, :stepId, :name, :process_id, :description, 'DAEMON', TO_CHAR(SYSDATE,'YYYYMMDDHH24MISS'))
2022-11-16 17:17:00 [EDI System] info: [{"ID":11131}]
2022-11-16 17:17:00 [EDI System] info: seq : return Key [{"ID":11131}]
2022-11-16 17:17:00 [EDI System] info: saveAllLogger => ID:11131, NAME:WO_INPUT_HANA_FT_:todayHH24_1, ProcessID:161, Description: Job Start : ID=123, CFG_ID=161, FTP_ENV_ID=106, FILE_NAME=WO_INPUT_HANA_FT_:todayHH24_1, FILE_DESC=Siliconworks input TEST, FILE_CHARSET=utf-8, FILE_TYPE=csv
2022-11-16 17:17:00 [EDI System] info: INSERT INTO EDI_LOG(ID, STEP, NAME, PROCESS_ID, DESCRIPTION, CREATE_USER, CREATE_DATE)
    VALUES(:id, :stepId, :name, :process_id, :description, 'DAEMON', TO_CHAR(SYSDATE,'YYYYMMDDHH24MISS'))
2022-11-16 17:17:00 [EDI System] info: Insert successful = SQL: INSERT INTO EDI_LOG(ID, STEP, NAME, PROCESS_ID, DESCRIPTION, CREATE_USER, CREATE_DATE)
    VALUES(:id, :stepId, :name, :process_id, :description, 'DAEMON', TO_CHAR(SYSDATE,'YYYYMMDDHH24MISS')) | Params: {"id":11130,"stepId":"1","name":"CMEQPUNT_HM:today_2","process_id":"160","description":"Job Start : ID=122, CFG_ID=160, FTP_ENV_ID=100, FILE_NAME=CMEQPUNT_HM:today_2, FILE_DESC=SEC CMEQPUNT 1/1day, FILE_CHARSET=ascii, FILE_TYPE=ff"} / 1
2022-11-16 17:17:00 [EDI System] info: Insert successful = SQL: INSERT INTO EDI_LOG(ID, STEP, NAME, PROCESS_ID, DESCRIPTION, CREATE_USER, CREATE_DATE)
    VALUES(:id, :stepId, :name, :process_id, :description, 'DAEMON', TO_CHAR(SYSDATE,'YYYYMMDDHH24MISS')) | Params: {"id":11131,"stepId":"1","name":"WO_INPUT_HANA_FT_:todayHH24_1","process_id":"161","description":"Job Start : ID=123, CFG_ID=161, FTP_ENV_ID=106, FILE_NAME=WO_INPUT_HANA_FT_:todayHH24_1, FILE_DESC=Siliconworks input TEST, FILE_CHARSET=utf-8, FILE_TYPE=csv"} / 1
2022-11-16 17:17:00 [EDI System] info: 
    SELECT *
    FROM (
        SELECT ROWNUM,A.*
            FROM EDI_QUERY_SETTING A
            WHERE SETTING_ID = :id
            AND TYPE='Main'
            ORDER BY ID DESC
        ) 
    WHERE ROWNUM='1'
    
2022-11-16 17:17:00 [EDI System] info: 
    SELECT *
    FROM (
        SELECT ROWNUM,A.*
            FROM EDI_QUERY_SETTING A
            WHERE SETTING_ID = :id
            AND TYPE='Main'
            ORDER BY ID DESC
        ) 
    WHERE ROWNUM='1'
    
2022-11-16 17:17:00 [EDI System] info: [{"ROWNUM":1,"ID":"153","SETTING_ID":"160","KEY":null,"TYPE":"Main","QUERY":"--//-- 20211203 chulho.wee ; CREATE\nSELECT \n  RPAD(START_TAG, 3, ' ')\n|| RPAD(OEM_CODE, 2, ' ')\n|| RPAD(MONTH, 6, ' ')\n|| RPAD(C_DATE, 8, ' ')\n|| RPAD(O_DATE, 8, ' ')\n|| RPAD(OEM_AREA, 4, ' ')\n|| RPAD(CUST_DEVICE, 30, ' ')\n|| RPAD(OPER_DESC, 15, ' ')\n|| RPAD(EQP_GROUP, 15, ' ')\n\n|| RPAD(EQP_MODEL, 30, ' ')\n|| RPAD(RES_ID, 15, ' ')\n|| RPAD(OPER, 6, ' ')\n\n|| RPAD(SUM(QTY), 10, ' ')\n|| RPAD(LOT_TYPE, 2, ' ')\n|| RPAD(PARA, 3, ' ')\n\n|| RPAD(TEST_TIME, 10, ' ')\n|| RPAD(INDEX_TIME, 10, ' ')\n|| RPAD(ATE_TIME, 10, ' ')\n\n|| RPAD(EQP_PRICE, 10, ' ')\n|| RPAD(ATE_PRICE, 10, ' ')\n|| RPAD(MVP_PRICE, 10, ' ')\n|| RPAD(PVI_PRICE, 10, ' ')\n|| RPAD(UNIT_PRICE, 10, ' ')\n\n|| RPAD(FULL_HALF, 10, ' ')\n|| RPAD(CREATE_TIME, 14, ' ')\n|| RPAD(REMARK, 200, ' ')\n  FROM\n(\n    SELECT 'LS1' START_TAG\n         , 'HM' OEM_CODE\n         , CASE\n            WHEN TO_CHAR(SYSDATE, 'DD') >= 28 THEN\n                 TO_CHAR(ADD_MONTHS(SYSDATE, +1), 'YYYYMM')\n            ELSE\n                 TO_CHAR(ADD_MONTHS(SYSDATE, -0), 'YYYYMM')\n           END AS \"MONTH\"\n         --, TO_CHAR(SYSDATE, 'DD') C_DATE\n         , TO_CHAR(SYSDATE, 'YYYYMMDD') C_DATE\n         , SUBSTR(LOT.TRAN_TIME, 1,8) AS O_DATE\n         , 'HMKT' AS OEM_AREA\n         \n         , TST.CUST_DVC CUST_DEVICE\n         , DECODE(TST.OPER ,'T0100', 'ATE', 'T0960', 'ASB', 'T0500', 'MVP', TST.OPER) OPER_DESC\n         \n         , (SELECT NVL(ATTR_VALUE, 'NULL') FROM MATRNAMSTS WHERE FACTORY = 'HMKT1' AND ATTR_TYPE = 'RESOURCE' AND ATTR_NAME = 'EQP_GROUP' AND ATTR_KEY = LOT.END_RES_ID) AS EQP_GROUP\n         , (SELECT NVL(ATTR_VALUE, 'NULL') FROM MATRNAMSTS WHERE FACTORY = 'HMKT1' AND ATTR_TYPE = 'RESOURCE' AND ATTR_NAME = 'EQP_MODEL' AND ATTR_KEY = LOT.END_RES_ID) AS EQP_MODEL\n         , LOT.OLD_OPER AS OPER\n         , LOT.END_RES_ID AS RES_ID\n         , LOT_CMF_5 LOT_TYPE\n\n         , LOT.QTY_1 AS QTY\n         , TST.PARA AS PARA\n         , TST.TEST_TIME AS TEST_TIME\n         , TST.INDEX_TIME AS INDEX_TIME\n         , TST.ATE_TIME AS ATE_TIME\n         , TST.EQP_PRICE AS EQP_PRICE\n         , TST.ATE_PRICE AS ATE_PRICE\n--         , (((TST.TEST_TIME + TST.INDEX_TIME) * TST.EQP_PRICE) / TST.PARA) AS ATE_PRICE\n         , TST.MVP_PRICE AS MVP_PRICE\n         , TST.PVI_PRICE AS PVI_PRICE\n         , TST.UNIT_PRICE AS UNIT_PRICE\n         , TST.FULL_HALF AS FULL_HALF\n         , TO_CHAR(SYSDATE, 'YYYYMMDDHH24MISS') AS CREATE_TIME\n         , ' ' AS REMARK\n      FROM MWIPLOTHIS LOT, VGCMTBLDAT_TEST_TIME_INF2 TST\n     WHERE 1=1\n       AND LOT.MAT_ID = TST.MAT_ID\n       AND LOT.OLD_OPER = TST.OPER\n       AND TST.MODEL = (SELECT NVL(ATTR_VALUE, 'NULL') FROM MATRNAMSTS WHERE FACTORY = 'HMKT1' AND ATTR_TYPE = 'RESOURCE' AND ATTR_NAME = 'EQP_MODEL' AND ATTR_KEY = LOT.END_RES_ID)\n       AND LOT.TRAN_TIME >= CASE WHEN TO_CHAR(SYSDATE, 'DD') >= 28 THEN\n                       TO_CHAR(ADD_MONTHS(SYSDATE, -0), 'YYYYMM')||'27'||'22'\n                       ELSE\n                       TO_CHAR(ADD_MONTHS(SYSDATE, -1), 'YYYYMM')||'27'||'22'\n                       END --AS PREV_MON\n           \n       AND LOT.TRAN_TIME < CASE WHEN TO_CHAR(SYSDATE, 'DD') >= 28 THEN\n                       TO_CHAR(ADD_MONTHS(SYSDATE, +1), 'YYYYMM')||'27'||'22'\n                       ELSE\n                       TO_CHAR(ADD_MONTHS(SYSDATE, -0), 'YYYYMM')||'27'||'22'\n                       END --AS CURR_MON\n       AND LOT.FACTORY = 'HMKT1'\n       AND LOT.TRAN_CODE = 'END'\n       AND LOT.OLD_OPER in ('T0100', 'T0960', 'T0500')\n--       AND TST.CUST_DVC = 'L6HD311A01-P040-A00VCD'\n--       AND LOT.MAT_ID = 'SEL6HD311A01-P040-A00KUVCD'\n)\nGROUP BY START_TAG\n, OEM_CODE\n, MONTH\n, C_DATE\n, O_DATE\n, OEM_AREA\n\n, CUST_DEVICE\n, OPER_DESC\n\n, EQP_GROUP\n, EQP_MODEL\n, OPER\n, RES_ID\n, LOT_TYPE\n\n, PARA\n, TEST_TIME\n, INDEX_TIME\n, ATE_TIME\n, EQP_PRICE\n, ATE_PRICE\n, MVP_PRICE\n, PVI_PRICE\n, UNIT_PRICE\n, FULL_HALF\n, CREATE_TIME\n, REMARK\nORDER BY 1","CREATE_USER":"6","CREATE_DATE":"2021-12-14 11:47:40","DBTYPE":"MES"}]
2022-11-16 17:17:00 [EDI System] info: 
        SELECT * FROM (
            SELECT *
            FROM EDI_QUERY_SETTING
            WHERE 1=1
            AND SETTING_ID = (
                SELECT ID
                FROM CG_CUSTOMER 
                WHERE PARENT = (
                    SELECT ID
                    FROM CG_CUSTOMER 
                    WHERE ID=(
                        SELECT PARENT
                        FROM CG_CUSTOMER 
                        WHERE ID=(
                            SELECT PARENT 
                            FROM CG_CUSTOMER 
                            WHERE ID=:id
                        )
                    )
                )
                AND LOWER(NAME) = 'common'
            )
            AND TYPE IN ('DB','TEXT')
            AND KEY NOT IN (SELECT KEY
                            FROM EDI_QUERY_SETTING
                            WHERE 1=1
                            AND SETTING_ID = :id
                            AND TYPE IN ('DB','TEXT'))
            UNION ALL
            SELECT *
            FROM EDI_QUERY_SETTING
            WHERE 1=1
            AND SETTING_ID = :id
            AND TYPE IN ('DB','TEXT')
        )
        ORDER BY LENGTH(KEY) DESC
    
2022-11-16 17:17:00 [EDI System] info: [{"ROWNUM":2,"ID":"160","SETTING_ID":"161","KEY":null,"TYPE":"Main","QUERY":"SELECT 'Interface ID'\n || ',' || 'Interface Line ID'\n || ',' || 'SUPPLIER_CODE'\n || ',' || 'PROCESSING_CODE'\n || ',' || 'SIW_WO_NO'\n || ',' || 'SUPPLIER_WO_NO'\n || ',' || 'ASSY_ITEM_CODE'\n || ',' || 'ASSY_QTY'\n || ',' || 'UOM_CODE'\n || ',' || 'WORK_START_DATE'\n || ',' || 'COMPONENT_ITEM_CODE'\n || ',' || 'COMPONENT_LOT_ID'\n || ',' || 'COMPONENT_QTY'\n || ',' || 'REMARK1'\n || ',' || 'CANCEL_FLAG'\n || ',' || 'CREATION_DATE'\n\n  FROM IEDISIW_INPUT_INFO\n WHERE CUTOFF_DT = :todayHH24 -- TO_CHAR(SYSDATE, 'YYYYMMDDHH24')\n   AND PROCESSING_CODE = 'FT'\n   AND ROWNUM = 1\n\nUNION ALL\n\nSELECT IF_ID \n || ',' || IF_LINE_ID \n || ',' || SUPPLIER_CODE \n || ',' || PROCESSING_CODE \n || ',' || SIW_WO_NO \n || ',' || SUPPLIER_WO_NO \n || ',' || ASSY_ITEM_CODE \n || ',' || ASSY_QTY \n || ',' || UOM_CODE \n || ',' || WORK_START_DATE \n || ',' || COMPONENT_ITEM_CODE\n || ',' || COMPONENT_LOT_ID \n || ',' || COMPONENT_QTY \n || ',' || REMARK1 \n || ',' || CANCEL_FLAG \n || ',' || CREATION_DATE \n\n  FROM IEDISIW_INPUT_INFO\n WHERE CUTOFF_DT = :todayHH24 -- TO_CHAR(SYSDATE, 'YYYYMMDDHH24')\n   AND PROCESSING_CODE = 'FT'","CREATE_USER":"6","CREATE_DATE":"2022-01-11 05:18:23","DBTYPE":"MES"}]
2022-11-16 17:17:00 [EDI System] info: 
        SELECT * FROM (
            SELECT *
            FROM EDI_QUERY_SETTING
            WHERE 1=1
            AND SETTING_ID = (
                SELECT ID
                FROM CG_CUSTOMER 
                WHERE PARENT = (
                    SELECT ID
                    FROM CG_CUSTOMER 
                    WHERE ID=(
                        SELECT PARENT
                        FROM CG_CUSTOMER 
                        WHERE ID=(
                            SELECT PARENT 
                            FROM CG_CUSTOMER 
                            WHERE ID=:id
                        )
                    )
                )
                AND LOWER(NAME) = 'common'
            )
            AND TYPE IN ('DB','TEXT')
            AND KEY NOT IN (SELECT KEY
                            FROM EDI_QUERY_SETTING
                            WHERE 1=1
                            AND SETTING_ID = :id
                            AND TYPE IN ('DB','TEXT'))
            UNION ALL
            SELECT *
            FROM EDI_QUERY_SETTING
            WHERE 1=1
            AND SETTING_ID = :id
            AND TYPE IN ('DB','TEXT')
        )
        ORDER BY LENGTH(KEY) DESC
    
2022-11-16 17:17:00 [EDI System] info: [{"ID":"137","SETTING_ID":"129","KEY":"todayHH24MISS","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE,'YYYYMMDDHH24MISS') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-11-12 05:20:22","DBTYPE":"MES"},{"ID":"124","SETTING_ID":"129","KEY":"todayHH24_M1H","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE - 1/24,'YYYYMMDDHH24') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-10-15 01:40:03","DBTYPE":"MES"},{"ID":"122","SETTING_ID":"129","KEY":"todayHH24","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE,'YYYYMMDDHH24') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-10-15 11:47:10","DBTYPE":"MES"},{"ID":"115","SETTING_ID":"129","KEY":"today_yy","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE,'YYYYMMDDHH24') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-09-24 08:46:51","DBTYPE":"MES"},{"ID":"130","SETTING_ID":"129","KEY":"today","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE,'YYYYMMDD') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-11-09 03:36:41","DBTYPE":"MES"}]
2022-11-16 17:17:00 [EDI System] info: [{"ID":"133","SETTING_ID":"139","KEY":"todayHH24_M1H","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE - 1/24,'YYYYMMDDHH24') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-11-12 05:01:01","DBTYPE":"MES"},{"ID":"132","SETTING_ID":"139","KEY":"todayHH24","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE,'YYYYMMDDHH24') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-11-12 05:01:01","DBTYPE":"MES"},{"ID":"131","SETTING_ID":"139","KEY":"today_yy","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE,'YYYYMMDDHH24') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-11-12 05:01:01","DBTYPE":"MES"},{"ID":"134","SETTING_ID":"139","KEY":"today","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE,'YYYYMMDDHH24') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-11-12 05:01:01","DBTYPE":"MES"}]
2022-11-16 17:18:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 17:19:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 17:20:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 17:21:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 17:22:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 17:23:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 17:24:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 17:25:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 17:26:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 17:27:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 17:28:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 17:29:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 17:30:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 17:31:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 17:32:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 17:33:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 17:34:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 17:35:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 17:36:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 17:37:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 17:38:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 17:39:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 17:40:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 17:41:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 17:42:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 17:43:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 17:44:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 17:45:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 17:46:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 17:47:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 17:48:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 17:49:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 17:50:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 17:51:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 17:52:30 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 17:53:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 17:54:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 17:55:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 17:56:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 17:57:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 17:58:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 17:59:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 18:00:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 18:00:00 [EDI System] info: Job Start Time > {"min":0,"hour":18,"date":16,"month":11,"day":3}
 {"ID":107,"CFG_ID":"143","FILE_NAME":"CMWIPINF_HM:todayHH24","FILE_DESC":"SEC CMWIPINF 1/1HR","FILE_SAVE_FOLDER":"D:/HM_EDI/SEC/OUT","FILE_CHARSET":"ascii","FILE_TYPE":"ff","DATA_TYPE":"text","FTP_ENV_ID":"100","SEND_FLAG":"Y","NODATASEND":"false","SCHEDULE_MIN":"0","SCHEDULE_HOUR":"*","SCHEDULE_DAY":"*","SCHEDULE_WEEK":"*","SCHEDULE_MONTH":"*","CM_F01":null,"CM_F02":null,"CREATE_DATE":"2021-11-12 05:17:07","CREATE_USER":"6","UPDATE_DATE":"2021-12-24 04:17:35","UPDATE_USER":"6","DELETE_DATE":null,"DELETE_USER":null,"frequency":"0 * * * *"}
2022-11-16 18:00:00 [EDI System] info: 107 >>> makeFileText Function Execute
2022-11-16 18:00:00 [EDI System] info: Job Start Time > {"min":0,"hour":18,"date":16,"month":11,"day":3}
 {"ID":109,"CFG_ID":"147","FILE_NAME":"CMWIPINF_HM:todayHH24_2","FILE_DESC":"TEST 2 //// SEC CMWIPINF 1/1HR ","FILE_SAVE_FOLDER":"D:/HM_EDI/SEC/OUT","FILE_CHARSET":"ascii","FILE_TYPE":"ff","DATA_TYPE":"text","FTP_ENV_ID":"100","SEND_FLAG":"Y","NODATASEND":null,"SCHEDULE_MIN":"0","SCHEDULE_HOUR":"*","SCHEDULE_DAY":"*","SCHEDULE_WEEK":"*","SCHEDULE_MONTH":"*","CM_F01":null,"CM_F02":null,"CREATE_DATE":"2021-11-19 05:22:50","CREATE_USER":"6","UPDATE_DATE":"2021-12-24 04:17:41","UPDATE_USER":"6","DELETE_DATE":null,"DELETE_USER":null,"frequency":"0 * * * *"}
2022-11-16 18:00:00 [EDI System] info: 109 >>> makeFileText Function Execute
2022-11-16 18:00:00 [EDI System] info: Job Start Time > {"min":0,"hour":18,"date":16,"month":11,"day":3}
 {"ID":110,"CFG_ID":"146","FILE_NAME":"CMWIPINF_HM:todayHH24_1","FILE_DESC":"SEC CMWIPINF 1/1HR","FILE_SAVE_FOLDER":"D:/HM_EDI/SEC/OUT","FILE_CHARSET":"ascii","FILE_TYPE":"ff","DATA_TYPE":"text","FTP_ENV_ID":"100","SEND_FLAG":"Y","NODATASEND":null,"SCHEDULE_MIN":"0","SCHEDULE_HOUR":"*","SCHEDULE_DAY":"*","SCHEDULE_WEEK":"*","SCHEDULE_MONTH":"*","CM_F01":null,"CM_F02":null,"CREATE_DATE":"2021-11-19 05:22:51","CREATE_USER":"6","UPDATE_DATE":"2021-12-24 04:17:47","UPDATE_USER":"6","DELETE_DATE":null,"DELETE_USER":null,"frequency":"0 * * * *"}
2022-11-16 18:00:00 [EDI System] info: 110 >>> makeFileText Function Execute
2022-11-16 18:00:00 [EDI System] info: SELECT EDI_LOG_SEQ.NEXTVAL AS ID FROM DUAL
2022-11-16 18:00:00 [EDI System] info: SELECT EDI_LOG_SEQ.NEXTVAL AS ID FROM DUAL
2022-11-16 18:00:00 [EDI System] info: SELECT EDI_LOG_SEQ.NEXTVAL AS ID FROM DUAL
2022-11-16 18:00:00 [EDI System] info: SELECT EDI_LOG_SEQ.NEXTVAL AS ID FROM DUAL
2022-11-16 18:00:00 [EDI System] info: SELECT EDI_LOG_SEQ.NEXTVAL AS ID FROM DUAL
2022-11-16 18:00:00 [EDI System] info: SELECT EDI_LOG_SEQ.NEXTVAL AS ID FROM DUAL
2022-11-16 18:00:00 [EDI System] info: [{"ID":11132}]
2022-11-16 18:00:00 [EDI System] info: seq : return Key [{"ID":11132}]
2022-11-16 18:00:00 [EDI System] info: saveAllLogger => ID:11132, NAME:CMWIPINF_HM:todayHH24_1, ProcessID:146, Description: Job Start : ID=110, CFG_ID=146, FTP_ENV_ID=100, FILE_NAME=CMWIPINF_HM:todayHH24_1, FILE_DESC=SEC CMWIPINF 1/1HR, FILE_CHARSET=ascii, FILE_TYPE=ff
2022-11-16 18:00:00 [EDI System] info: INSERT INTO EDI_LOG(ID, STEP, NAME, PROCESS_ID, DESCRIPTION, CREATE_USER, CREATE_DATE)
    VALUES(:id, :stepId, :name, :process_id, :description, 'DAEMON', TO_CHAR(SYSDATE,'YYYYMMDDHH24MISS'))
2022-11-16 18:00:00 [EDI System] info: [{"ID":11133}]
2022-11-16 18:00:00 [EDI System] info: seq : return Key [{"ID":11133}]
2022-11-16 18:00:00 [EDI System] info: saveAllLogger => ID:11133, NAME:CMWIPINF_HM:todayHH24, ProcessID:143, Description: Job Start : ID=107, CFG_ID=143, FTP_ENV_ID=100, FILE_NAME=CMWIPINF_HM:todayHH24, FILE_DESC=SEC CMWIPINF 1/1HR, FILE_CHARSET=ascii, FILE_TYPE=ff
2022-11-16 18:00:00 [EDI System] info: INSERT INTO EDI_LOG(ID, STEP, NAME, PROCESS_ID, DESCRIPTION, CREATE_USER, CREATE_DATE)
    VALUES(:id, :stepId, :name, :process_id, :description, 'DAEMON', TO_CHAR(SYSDATE,'YYYYMMDDHH24MISS'))
2022-11-16 18:00:00 [EDI System] info: [{"ID":11134}]
2022-11-16 18:00:00 [EDI System] info: seq : return Key [{"ID":11134}]
2022-11-16 18:00:00 [EDI System] info: saveAllLogger => ID:11134, NAME:CMWIPINF_HM:todayHH24_2, ProcessID:147, Description: Job Start : ID=109, CFG_ID=147, FTP_ENV_ID=100, FILE_NAME=CMWIPINF_HM:todayHH24_2, FILE_DESC=TEST 2 //// SEC CMWIPINF 1/1HR , FILE_CHARSET=ascii, FILE_TYPE=ff
2022-11-16 18:00:00 [EDI System] info: INSERT INTO EDI_LOG(ID, STEP, NAME, PROCESS_ID, DESCRIPTION, CREATE_USER, CREATE_DATE)
    VALUES(:id, :stepId, :name, :process_id, :description, 'DAEMON', TO_CHAR(SYSDATE,'YYYYMMDDHH24MISS'))
2022-11-16 18:00:00 [EDI System] info: Insert successful = SQL: INSERT INTO EDI_LOG(ID, STEP, NAME, PROCESS_ID, DESCRIPTION, CREATE_USER, CREATE_DATE)
    VALUES(:id, :stepId, :name, :process_id, :description, 'DAEMON', TO_CHAR(SYSDATE,'YYYYMMDDHH24MISS')) | Params: {"id":11132,"stepId":"1","name":"CMWIPINF_HM:todayHH24_1","process_id":"146","description":"Job Start : ID=110, CFG_ID=146, FTP_ENV_ID=100, FILE_NAME=CMWIPINF_HM:todayHH24_1, FILE_DESC=SEC CMWIPINF 1/1HR, FILE_CHARSET=ascii, FILE_TYPE=ff"} / 1
2022-11-16 18:00:00 [EDI System] info: 
    SELECT *
    FROM (
        SELECT ROWNUM,A.*
            FROM EDI_QUERY_SETTING A
            WHERE SETTING_ID = :id
            AND TYPE='Main'
            ORDER BY ID DESC
        ) 
    WHERE ROWNUM='1'
    
2022-11-16 18:00:00 [EDI System] info: Insert successful = SQL: INSERT INTO EDI_LOG(ID, STEP, NAME, PROCESS_ID, DESCRIPTION, CREATE_USER, CREATE_DATE)
    VALUES(:id, :stepId, :name, :process_id, :description, 'DAEMON', TO_CHAR(SYSDATE,'YYYYMMDDHH24MISS')) | Params: {"id":11134,"stepId":"1","name":"CMWIPINF_HM:todayHH24_2","process_id":"147","description":"Job Start : ID=109, CFG_ID=147, FTP_ENV_ID=100, FILE_NAME=CMWIPINF_HM:todayHH24_2, FILE_DESC=TEST 2 //// SEC CMWIPINF 1/1HR , FILE_CHARSET=ascii, FILE_TYPE=ff"} / 1
2022-11-16 18:00:00 [EDI System] info: Insert successful = SQL: INSERT INTO EDI_LOG(ID, STEP, NAME, PROCESS_ID, DESCRIPTION, CREATE_USER, CREATE_DATE)
    VALUES(:id, :stepId, :name, :process_id, :description, 'DAEMON', TO_CHAR(SYSDATE,'YYYYMMDDHH24MISS')) | Params: {"id":11133,"stepId":"1","name":"CMWIPINF_HM:todayHH24","process_id":"143","description":"Job Start : ID=107, CFG_ID=143, FTP_ENV_ID=100, FILE_NAME=CMWIPINF_HM:todayHH24, FILE_DESC=SEC CMWIPINF 1/1HR, FILE_CHARSET=ascii, FILE_TYPE=ff"} / 1
2022-11-16 18:00:00 [EDI System] info: 
    SELECT *
    FROM (
        SELECT ROWNUM,A.*
            FROM EDI_QUERY_SETTING A
            WHERE SETTING_ID = :id
            AND TYPE='Main'
            ORDER BY ID DESC
        ) 
    WHERE ROWNUM='1'
    
2022-11-16 18:00:00 [EDI System] info: 
    SELECT *
    FROM (
        SELECT ROWNUM,A.*
            FROM EDI_QUERY_SETTING A
            WHERE SETTING_ID = :id
            AND TYPE='Main'
            ORDER BY ID DESC
        ) 
    WHERE ROWNUM='1'
    
2022-11-16 18:00:00 [EDI System] info: [{"ROWNUM":2,"ID":"145","SETTING_ID":"146","KEY":null,"TYPE":"Main","QUERY":"SELECT\n  RPAD(VR_1,  5, ' ')\n, RPAD(VR_2, 30, ' ')\n, RPAD(VR_3, 15, ' ')\n, RPAD(VR_4, 15, ' ')\n, RPAD(VR_5,  2, ' ')\n, RPAD(VR_6,  2, ' ')\n, RPAD(VR_7, 20, ' ')\n, RPAD(VR_8, 30, ' ')\n, RPAD(VR_9, 16, ' ')\n, RPAD(VR_10, 24, ' ')\n, RPAD(VR_11, 14, ' ')\n, RPAD(VR_12,  4, ' ')\n, RPAD(VR_13,  4, ' ')\n, LPAD(VR_14, 10, ' ')\n, LPAD(VR_15, 10, ' ')\n, RPAD(VR_16,  1, ' ')\n, RPAD(VR_17,  2, ' ')\n, RPAD(VR_18, 10, ' ')\n, RPAD(VR_19, 14, ' ')\n, RPAD(VR_20, 20, ' ')\n, RPAD(VR_21, 20, ' ')\n, RPAD(VR_22, 20, ' ')\n, RPAD(VR_23, 20, ' ')\n, RPAD(VR_24, 20, ' ')\n, LPAD(VR_25, 10, ' ')\n, LPAD(VR_26, 10, ' ')\n, RPAD(VR_27,  1, ' ')\n, RPAD(VR_28, 65, ' ')\n, RPAD(VR_29, 14, ' ')\n, RPAD(VR_30,  8, ' ')\n, RPAD(VR_31, 1024, ' ')\nFROM \n(\nSELECT 'LS1HM'   VR_1\n , NVL((SELECT MAT_CMF_7 FROM MWIPMATDEF WHERE FACTORY = A.FACTORY AND MAT_ID = A.MAT_ID AND MAT_VER = A.MAT_VER), '-')   VR_2\n , F_GET_ASSY_RUNID(' ', A.LOT_ID, A.LOT_CMF_4)   VR_3\n , NVL(TRIM(A.LOT_CMF_1), '-')   VR_4\n , NVL(TRIM(A.LOT_CMF_5),'-')   VR_5\n , NVL((SELECT ATTR_VALUE FROM MATRNAMSTS WHERE FACTORY = A.FACTORY AND ATTR_TYPE = 'LOT_SEC_INFO' AND ATTR_NAME = 'RTN_TYPE' AND ATTR_KEY = TRIM(A.LOT_CMF_1)), '**')   VR_6\n , DECODE(A.OPER||A.FLOW,'T1300HKAB', 'HGAK','TZ010HKAB', 'BASIC',\n     DECODE(NVL((SELECT SEC_OPER FROM V_MWIPOPRDEF_SEC WHERE FACTORY = A.FACTORY AND OPER = A.OPER ), '-'),\n                  'HMK2','BASIC','HMK3','BASIC','HMK9','BASIC','HMK4','BASIC',\n                  NVL(FLOW, '-')))   VR_7\n , DECODE(A.OPER||A.FLOW,'T1300HKAB', '0008','TZ010HKAB', '0003',\n     TRIM(DECODE(NVL((SELECT SEC_OPER FROM V_MWIPOPRDEF_SEC WHERE FACTORY = A.FACTORY AND OPER = A.OPER ), '-'),\n                  'HMK2','0002','HMK3','0003','HMK9','0006','HMK4','0007',\n                  LPAD((SELECT SEQ_NUM-1 FROM MWIPFLWOPR WHERE FACTORY = A.FACTORY AND FLOW = A.FLOW AND OPER = A.OPER),4,'0'))))   VR_8\n , DECODE(A.OPER||A.FLOW,'T1300HKAB', '8','TZ010HKAB', '3',\n     NVL((SELECT SEQ_NUM-1 FROM MWIPFLWOPR WHERE FACTORY = A.FACTORY AND FLOW = A.FLOW AND OPER = A.OPER), '0'))   VR_9\n , DECODE(A.OPER||A.FLOW,'T1300HKAB', 'PACKING','TZ010HKAB', 'Assy Final Stock',\n     DECODE(NVL((SELECT SEC_OPER FROM V_MWIPOPRDEF_SEC WHERE FACTORY = A.FACTORY AND OPER = A.OPER ), '-'),\n                  'HMK2','Assy Home Stock','HMK3','Assy Final Stock','HMK9','Test Home Stock','HMK4','Test Final Stock',\n                  NVL((SELECT OPER_DESC FROM V_MWIPOPRDEF_SEC WHERE FACTORY = A.FACTORY AND OPER = A.OPER ), '-')))   VR_10\n , A.OPER_IN_TIME    VR_11\n , DECODE(A.OPER||A.FLOW,'T1300HKAB', 'ASSY','TZ010HKAB', 'ASSY', DECODE(A.FACTORY, 'HMKT1', 'TEST', 'HMKA1', 'ASSY', '-'))    VR_12\n , NVL((SELECT DECODE(A.OPER||A.FLOW,'TZ010HKAB', SEC_OPER_AREA_COB ,SEC_OPER_AREA) FROM V_MWIPOPRDEF_SEC WHERE FACTORY = A.FACTORY AND OPER = A.OPER ), '-')   VR_13\n , NVL(TRIM(A.QTY_1), 0)   VR_14\n , NVL(TRIM(A.QTY_2), 0)   VR_15\n , 'C'     VR_16\n , F_GET_HOLD_FLAG_CODE(A.LOT_ID, A.MAT_ID, A.HOLD_FLAG, A.HOLD_CODE, 'FLAG' )    VR_17\n , F_GET_HOLD_FLAG_CODE(A.LOT_ID, A.MAT_ID, A.HOLD_FLAG, A.HOLD_CODE, 'CODE' )    VR_18\n , DECODE(A.HOLD_FLAG, 'Y', A.LAST_TRAN_TIME, ' ')    VR_19\n , NVL((SELECT ATTR_VALUE FROM MATRNAMSTS WHERE FACTORY = A.FACTORY AND ATTR_TYPE = 'LOT_SEC_INFO' AND ATTR_NAME = 'NCFCODE' AND ATTR_KEY = TRIM(A.LOT_CMF_1)), '*')   VR_20\n , NVL((SELECT ATTR_VALUE FROM MATRNAMSTS WHERE FACTORY = A.FACTORY AND ATTR_TYPE = 'LOT_SEC_INFO' AND ATTR_NAME = 'NCACODE' AND ATTR_KEY = TRIM(A.LOT_CMF_1)), '*')   VR_21\n , NVL((SELECT ATTR_VALUE FROM MATRNAMSTS WHERE FACTORY = A.FACTORY AND ATTR_TYPE = 'LOT_SEC_INFO' AND ATTR_NAME = 'NCTCODE' AND ATTR_KEY = TRIM(A.LOT_CMF_1)), '*')   VR_22\n , NVL((SELECT ATTR_VALUE FROM MATRNAMSTS WHERE FACTORY = A.FACTORY AND ATTR_TYPE = 'LOT_SEC_INFO' AND ATTR_NAME = 'NCQCODE' AND ATTR_KEY = TRIM(A.LOT_CMF_1)), '*')   VR_23\n , NVL((SELECT ATTR_VALUE FROM MATRNAMSTS WHERE FACTORY = A.FACTORY AND ATTR_TYPE = 'LOT_SEC_INFO' AND ATTR_NAME = 'OTHER' AND ATTR_KEY = TRIM(A.LOT_CMF_1)), '*')   VR_24\n , NVL((SELECT SUM(DECODE(TRAN_CODE, 'LOSS', (OLD_QTY_1 - QTY_1), QTY_1)) \n               FROM MWIPLOTHIS \n              WHERE LOT_ID = A.LOT_ID \n                AND TRAN_CODE IN ('LOSS', 'TERMINATE')\n                AND HIST_DEL_FLAG = ' '\n                AND TRAN_TIME BETWEEN F_GET_TIME(TO_CHAR(SYSDATE, 'YYYYMMDDHH24MISS'),'SE') \n                                  AND TO_CHAR(SYSDATE, 'YYYYMMDDHH24MISS')), 0)         VR_25\n , NVL((SELECT SUM(TOTAL_BONUS_QTY) \n               FROM MWIPLOTBNS \n              WHERE LOT_ID = A.LOT_ID\n                AND TRAN_TIME BETWEEN F_GET_TIME(TO_CHAR(SYSDATE, 'YYYYMMDDHH24MISS'),'SE') \n                                  AND TO_CHAR(SYSDATE, 'YYYYMMDDHH24MISS')), 0)    VR_26\n , '-'    VR_27\n , '-'    VR_28\n , TO_CHAR(SYSDATE,'YYYYMMDDHH24MISS')     VR_29\n , GET_WORK_DATE_EDI(TO_CHAR(SYSDATE, 'YYYYMMDDHH24MISS'),'D')  VR_30\n , MESMGR.PK_SEC_MES_IF.MakeInkless_OMS_WIP(A.FACTORY, A.LOT_ID)  VR_31\n  FROM MWIPLOTSTS A\n WHERE 1 = 1\n   AND FACTORY IN ('HMKT1','HMKA1') \n   AND LOT_CMF_2 = 'SE'   \n   AND OWNER_CODE = 'PROD'\n   AND LOT_TYPE = 'W'\n   AND LOT_DEL_FLAG = ' ' \n   AND CREATE_CODE <> 'FREE' \n   AND MAT_ID LIKE 'SE'||(SELECT DATA_1 FROM MGCMTBLDAT WHERE FACTORY = 'HMKA1' AND TABLE_NAME = 'H_SPECIAL_CHAR' AND KEY_1 = '1')\n   AND OPER BETWEEN 'A0000' AND 'TZ010'\n   AND MAT_ID NOT LIKE 'SEKY'||(SELECT DATA_1 FROM MGCMTBLDAT WHERE FACTORY = 'HMKA1' AND TABLE_NAME = 'H_SPECIAL_CHAR' AND KEY_1 = '1')  --- 영업  요청으로 하드코딩 170412. SEKY%\n)","CREATE_USER":"6","CREATE_DATE":"2021-11-22 10:58:05","DBTYPE":"MES"}]
2022-11-16 18:00:00 [EDI System] info: 
        SELECT * FROM (
            SELECT *
            FROM EDI_QUERY_SETTING
            WHERE 1=1
            AND SETTING_ID = (
                SELECT ID
                FROM CG_CUSTOMER 
                WHERE PARENT = (
                    SELECT ID
                    FROM CG_CUSTOMER 
                    WHERE ID=(
                        SELECT PARENT
                        FROM CG_CUSTOMER 
                        WHERE ID=(
                            SELECT PARENT 
                            FROM CG_CUSTOMER 
                            WHERE ID=:id
                        )
                    )
                )
                AND LOWER(NAME) = 'common'
            )
            AND TYPE IN ('DB','TEXT')
            AND KEY NOT IN (SELECT KEY
                            FROM EDI_QUERY_SETTING
                            WHERE 1=1
                            AND SETTING_ID = :id
                            AND TYPE IN ('DB','TEXT'))
            UNION ALL
            SELECT *
            FROM EDI_QUERY_SETTING
            WHERE 1=1
            AND SETTING_ID = :id
            AND TYPE IN ('DB','TEXT')
        )
        ORDER BY LENGTH(KEY) DESC
    
2022-11-16 18:00:00 [EDI System] info: [{"ROWNUM":4,"ID":"147","SETTING_ID":"143","KEY":null,"TYPE":"Main","QUERY":"SELECT \n  RPAD(VR_1,  5, ' ')\n, RPAD(VR_2, 30, ' ')\n, RPAD(VR_3, 15, ' ')\n, RPAD(VR_4, 15, ' ')\n, RPAD(VR_5,  2, ' ')\n, RPAD(VR_6,  2, ' ')\n, RPAD(VR_7, 20, ' ')\n, RPAD(VR_8, 30, ' ')\n, RPAD(VR_9, 16, ' ')\n, RPAD(VR_10, 24, ' ')\n, RPAD(VR_11, 14, ' ')\n, RPAD(VR_12,  4, ' ')\n, RPAD(VR_13,  4, ' ')\n, LPAD(VR_14, 10, ' ')\n, LPAD(VR_15, 10, ' ')\n, RPAD(VR_16,  1, ' ')\n, RPAD(VR_17,  2, ' ')\n, RPAD(VR_18, 10, ' ')\n, RPAD(VR_19, 14, ' ')\n, RPAD(VR_20, 20, ' ')\n, RPAD(VR_21, 20, ' ')\n, RPAD(VR_22, 20, ' ')\n, RPAD(VR_23, 20, ' ')\n, RPAD(VR_24, 20, ' ')\n, LPAD(VR_25, 10, ' ')\n, LPAD(VR_26, 10, ' ')\n, RPAD(VR_27,  1, ' ')\n, RPAD(VR_28, 65, ' ')\n, RPAD(VR_29, 14, ' ')\n, RPAD(VR_30,  8, ' ')\n, RPAD(VR_31, 1024, ' ')\nFROM \n(\nSELECT 'LS1HM'   VR_1\n , NVL((SELECT MAT_CMF_7 FROM MWIPMATDEF WHERE FACTORY = A.FACTORY AND MAT_ID = A.MAT_ID AND MAT_VER = A.MAT_VER), '-')   VR_2\n , F_GET_ASSY_RUNID(' ', A.LOT_ID, A.LOT_CMF_4)   VR_3\n , NVL(TRIM(A.LOT_CMF_1), '-')   VR_4\n , NVL(TRIM(A.LOT_CMF_5),'-')   VR_5\n , NVL((SELECT ATTR_VALUE FROM MATRNAMSTS WHERE FACTORY = A.FACTORY AND ATTR_TYPE = 'LOT_SEC_INFO' AND ATTR_NAME = 'RTN_TYPE' AND ATTR_KEY = TRIM(A.LOT_CMF_1)), '**')   VR_6\n , DECODE(A.OPER||A.FLOW,'T1300HKAB', 'HGAK','TZ010HKAB', 'BASIC',\n     DECODE(NVL((SELECT SEC_OPER FROM V_MWIPOPRDEF_SEC WHERE FACTORY = A.FACTORY AND OPER = A.OPER ), '-'),\n                  'HMK2','BASIC','HMK3','BASIC','HMK9','BASIC','HMK4','BASIC',\n                  NVL(FLOW, '-')))   VR_7\n , DECODE(A.OPER||A.FLOW,'T1300HKAB', '0008','TZ010HKAB', '0003',\n     TRIM(DECODE(NVL((SELECT SEC_OPER FROM V_MWIPOPRDEF_SEC WHERE FACTORY = A.FACTORY AND OPER = A.OPER ), '-'),\n                  'HMK2','0002','HMK3','0003','HMK9','0006','HMK4','0007',\n                  LPAD((SELECT SEQ_NUM-1 FROM MWIPFLWOPR WHERE FACTORY = A.FACTORY AND FLOW = A.FLOW AND OPER = A.OPER),4,'0'))))   VR_8\n , DECODE(A.OPER||A.FLOW,'T1300HKAB', '8','TZ010HKAB', '3',\n     NVL((SELECT SEQ_NUM-1 FROM MWIPFLWOPR WHERE FACTORY = A.FACTORY AND FLOW = A.FLOW AND OPER = A.OPER), '0'))   VR_9\n , DECODE(A.OPER||A.FLOW,'T1300HKAB', 'PACKING','TZ010HKAB', 'Assy Final Stock',\n     DECODE(NVL((SELECT SEC_OPER FROM V_MWIPOPRDEF_SEC WHERE FACTORY = A.FACTORY AND OPER = A.OPER ), '-'),\n                  'HMK2','Assy Home Stock','HMK3','Assy Final Stock','HMK9','Test Home Stock','HMK4','Test Final Stock',\n                  NVL((SELECT OPER_DESC FROM V_MWIPOPRDEF_SEC WHERE FACTORY = A.FACTORY AND OPER = A.OPER ), '-')))   VR_10\n , A.OPER_IN_TIME    VR_11\n , DECODE(A.OPER||A.FLOW,'T1300HKAB', 'ASSY','TZ010HKAB', 'ASSY', DECODE(A.FACTORY, 'HMKT1', 'TEST', 'HMKA1', 'ASSY', '-'))    VR_12\n , NVL((SELECT DECODE(A.OPER||A.FLOW,'TZ010HKAB', SEC_OPER_AREA_COB ,SEC_OPER_AREA) FROM V_MWIPOPRDEF_SEC WHERE FACTORY = A.FACTORY AND OPER = A.OPER ), '-')   VR_13\n , NVL(TRIM(A.QTY_1), 0)   VR_14\n , NVL(TRIM(A.QTY_2), 0)   VR_15\n , 'C'     VR_16\n , F_GET_HOLD_FLAG_CODE(A.LOT_ID, A.MAT_ID, A.HOLD_FLAG, A.HOLD_CODE, 'FLAG' )    VR_17\n , F_GET_HOLD_FLAG_CODE(A.LOT_ID, A.MAT_ID, A.HOLD_FLAG, A.HOLD_CODE, 'CODE' )    VR_18\n , DECODE(A.HOLD_FLAG, 'Y', A.LAST_TRAN_TIME, ' ')    VR_19\n , NVL((SELECT ATTR_VALUE FROM MATRNAMSTS WHERE FACTORY = A.FACTORY AND ATTR_TYPE = 'LOT_SEC_INFO' AND ATTR_NAME = 'NCFCODE' AND ATTR_KEY = TRIM(A.LOT_CMF_1)), '*')   VR_20\n , NVL((SELECT ATTR_VALUE FROM MATRNAMSTS WHERE FACTORY = A.FACTORY AND ATTR_TYPE = 'LOT_SEC_INFO' AND ATTR_NAME = 'NCACODE' AND ATTR_KEY = TRIM(A.LOT_CMF_1)), '*')   VR_21\n , NVL((SELECT ATTR_VALUE FROM MATRNAMSTS WHERE FACTORY = A.FACTORY AND ATTR_TYPE = 'LOT_SEC_INFO' AND ATTR_NAME = 'NCTCODE' AND ATTR_KEY = TRIM(A.LOT_CMF_1)), '*')   VR_22\n , NVL((SELECT ATTR_VALUE FROM MATRNAMSTS WHERE FACTORY = A.FACTORY AND ATTR_TYPE = 'LOT_SEC_INFO' AND ATTR_NAME = 'NCQCODE' AND ATTR_KEY = TRIM(A.LOT_CMF_1)), '*')   VR_23\n , NVL((SELECT ATTR_VALUE FROM MATRNAMSTS WHERE FACTORY = A.FACTORY AND ATTR_TYPE = 'LOT_SEC_INFO' AND ATTR_NAME = 'OTHER' AND ATTR_KEY = TRIM(A.LOT_CMF_1)), '*')   VR_24\n , NVL((SELECT SUM(DECODE(TRAN_CODE, 'LOSS', (OLD_QTY_1 - QTY_1), QTY_1)) \n               FROM MWIPLOTHIS \n              WHERE LOT_ID = A.LOT_ID \n                AND TRAN_CODE IN ('LOSS', 'TERMINATE')\n                AND HIST_DEL_FLAG = ' '\n                AND TRAN_TIME BETWEEN F_GET_TIME(TO_CHAR(SYSDATE, 'YYYYMMDDHH24MISS'),'SE') \n                                  AND TO_CHAR(SYSDATE, 'YYYYMMDDHH24MISS')), 0)         VR_25\n , NVL((SELECT SUM(TOTAL_BONUS_QTY) \n               FROM MWIPLOTBNS \n              WHERE LOT_ID = A.LOT_ID\n                AND TRAN_TIME BETWEEN F_GET_TIME(TO_CHAR(SYSDATE, 'YYYYMMDDHH24MISS'),'SE') \n                                  AND TO_CHAR(SYSDATE, 'YYYYMMDDHH24MISS')), 0)    VR_26\n , '-'    VR_27\n , '-'    VR_28\n , TO_CHAR(SYSDATE,'YYYYMMDDHH24MISS')     VR_29\n , GET_WORK_DATE_EDI(TO_CHAR(SYSDATE, 'YYYYMMDDHH24MISS'),'D')  VR_30\n , MESMGR.PK_SEC_MES_IF.MakeInkless_OMS_WIP(A.FACTORY, A.LOT_ID)  VR_31\n  FROM MWIPLOTSTS A\n WHERE 1 = 1\n   AND FACTORY IN ('HMKT1','HMKA1') \n   AND LOT_CMF_2 = 'SE'   \n   AND OWNER_CODE = 'PROD'\n   AND LOT_TYPE = 'W'\n   AND LOT_DEL_FLAG = ' ' \n   AND CREATE_CODE <> 'FREE' \n   AND MAT_ID LIKE 'SE'||(SELECT DATA_1 FROM MGCMTBLDAT WHERE FACTORY = 'HMKA1' AND TABLE_NAME = 'H_SPECIAL_CHAR' AND KEY_1 = '1')\n   AND OPER BETWEEN 'A0000' AND 'TZ010'\n   AND MAT_ID NOT LIKE 'SEKY'||(SELECT DATA_1 FROM MGCMTBLDAT WHERE FACTORY = 'HMKA1' AND TABLE_NAME = 'H_SPECIAL_CHAR' AND KEY_1 = '1')  --- 영업  요청으로 하드코딩 170412. SEKY%\n)","CREATE_USER":"6","CREATE_DATE":"2021-11-24 03:06:40","DBTYPE":"MES"}]
2022-11-16 18:00:00 [EDI System] info: 
        SELECT * FROM (
            SELECT *
            FROM EDI_QUERY_SETTING
            WHERE 1=1
            AND SETTING_ID = (
                SELECT ID
                FROM CG_CUSTOMER 
                WHERE PARENT = (
                    SELECT ID
                    FROM CG_CUSTOMER 
                    WHERE ID=(
                        SELECT PARENT
                        FROM CG_CUSTOMER 
                        WHERE ID=(
                            SELECT PARENT 
                            FROM CG_CUSTOMER 
                            WHERE ID=:id
                        )
                    )
                )
                AND LOWER(NAME) = 'common'
            )
            AND TYPE IN ('DB','TEXT')
            AND KEY NOT IN (SELECT KEY
                            FROM EDI_QUERY_SETTING
                            WHERE 1=1
                            AND SETTING_ID = :id
                            AND TYPE IN ('DB','TEXT'))
            UNION ALL
            SELECT *
            FROM EDI_QUERY_SETTING
            WHERE 1=1
            AND SETTING_ID = :id
            AND TYPE IN ('DB','TEXT')
        )
        ORDER BY LENGTH(KEY) DESC
    
2022-11-16 18:00:00 [EDI System] info: [{"ROWNUM":1,"ID":"146","SETTING_ID":"147","KEY":null,"TYPE":"Main","QUERY":"SELECT\n  RPAD(VR_1,  5, ' ')\n, RPAD(VR_2, 30, ' ')\n, RPAD(VR_3, 15, ' ')\n, RPAD(VR_4, 15, ' ')\n, RPAD(VR_5,  2, ' ')\n, RPAD(VR_6,  2, ' ')\n, RPAD(VR_7, 20, ' ')\n, RPAD(VR_8, 30, ' ')\n, RPAD(VR_9, 16, ' ')\n, RPAD(VR_10, 24, ' ')\n, RPAD(VR_11, 14, ' ')\n, RPAD(VR_12,  4, ' ')\n, RPAD(VR_13,  4, ' ')\n, LPAD(VR_14, 10, ' ')\n, LPAD(VR_15, 10, ' ')\n, RPAD(VR_16,  1, ' ')\n, RPAD(VR_17,  2, ' ')\n, RPAD(VR_18, 10, ' ')\n, RPAD(VR_19, 14, ' ')\n, RPAD(VR_20, 20, ' ')\n, RPAD(VR_21, 20, ' ')\n, RPAD(VR_22, 20, ' ')\n, RPAD(VR_23, 20, ' ')\n, RPAD(VR_24, 20, ' ')\n, LPAD(VR_25, 10, ' ')\n, LPAD(VR_26, 10, ' ')\n, RPAD(VR_27,  1, ' ')\n, RPAD(VR_28, 65, ' ')\n, RPAD(VR_29, 14, ' ')\n, RPAD(VR_30,  8, ' ')\n, RPAD(VR_31, 1024, ' ')\nFROM \n(\nSELECT 'LS1HM'   VR_1\n , NVL((SELECT MAT_CMF_7 FROM MWIPMATDEF WHERE FACTORY = A.FACTORY AND MAT_ID = A.MAT_ID AND MAT_VER = A.MAT_VER), '-')   VR_2\n , F_GET_ASSY_RUNID(' ', A.LOT_ID, A.LOT_CMF_4)   VR_3\n , NVL(TRIM(A.LOT_CMF_1), '-')   VR_4\n , NVL(TRIM(A.LOT_CMF_5),'-')   VR_5\n , NVL((SELECT ATTR_VALUE FROM MATRNAMSTS WHERE FACTORY = A.FACTORY AND ATTR_TYPE = 'LOT_SEC_INFO' AND ATTR_NAME = 'RTN_TYPE' AND ATTR_KEY = TRIM(A.LOT_CMF_1)), '**')   VR_6\n , DECODE(A.OPER||A.FLOW,'T1300HKAB', 'HGAK','TZ010HKAB', 'BASIC',\n     DECODE(NVL((SELECT SEC_OPER FROM V_MWIPOPRDEF_SEC WHERE FACTORY = A.FACTORY AND OPER = A.OPER ), '-'),\n                  'HMK2','BASIC','HMK3','BASIC','HMK9','BASIC','HMK4','BASIC',\n                  NVL(FLOW, '-')))   VR_7\n , DECODE(A.OPER||A.FLOW,'T1300HKAB', '0008','TZ010HKAB', '0003',\n     TRIM(DECODE(NVL((SELECT SEC_OPER FROM V_MWIPOPRDEF_SEC WHERE FACTORY = A.FACTORY AND OPER = A.OPER ), '-'),\n                  'HMK2','0002','HMK3','0003','HMK9','0006','HMK4','0007',\n                  LPAD((SELECT SEQ_NUM-1 FROM MWIPFLWOPR WHERE FACTORY = A.FACTORY AND FLOW = A.FLOW AND OPER = A.OPER),4,'0'))))   VR_8\n , DECODE(A.OPER||A.FLOW,'T1300HKAB', '8','TZ010HKAB', '3',\n     NVL((SELECT SEQ_NUM-1 FROM MWIPFLWOPR WHERE FACTORY = A.FACTORY AND FLOW = A.FLOW AND OPER = A.OPER), '0'))   VR_9\n , DECODE(A.OPER||A.FLOW,'T1300HKAB', 'PACKING','TZ010HKAB', 'Assy Final Stock',\n     DECODE(NVL((SELECT SEC_OPER FROM V_MWIPOPRDEF_SEC WHERE FACTORY = A.FACTORY AND OPER = A.OPER ), '-'),\n                  'HMK2','Assy Home Stock','HMK3','Assy Final Stock','HMK9','Test Home Stock','HMK4','Test Final Stock',\n                  NVL((SELECT OPER_DESC FROM V_MWIPOPRDEF_SEC WHERE FACTORY = A.FACTORY AND OPER = A.OPER ), '-')))   VR_10\n , A.OPER_IN_TIME    VR_11\n , DECODE(A.OPER||A.FLOW,'T1300HKAB', 'ASSY','TZ010HKAB', 'ASSY', DECODE(A.FACTORY, 'HMKT1', 'TEST', 'HMKA1', 'ASSY', '-'))    VR_12\n , NVL((SELECT DECODE(A.OPER||A.FLOW,'TZ010HKAB', SEC_OPER_AREA_COB ,SEC_OPER_AREA) FROM V_MWIPOPRDEF_SEC WHERE FACTORY = A.FACTORY AND OPER = A.OPER ), '-')   VR_13\n , NVL(TRIM(A.QTY_1), 0)   VR_14\n , NVL(TRIM(A.QTY_2), 0)   VR_15\n , 'C'     VR_16\n , F_GET_HOLD_FLAG_CODE(A.LOT_ID, A.MAT_ID, A.HOLD_FLAG, A.HOLD_CODE, 'FLAG' )    VR_17\n , F_GET_HOLD_FLAG_CODE(A.LOT_ID, A.MAT_ID, A.HOLD_FLAG, A.HOLD_CODE, 'CODE' )    VR_18\n , DECODE(A.HOLD_FLAG, 'Y', A.LAST_TRAN_TIME, ' ')    VR_19\n , NVL((SELECT ATTR_VALUE FROM MATRNAMSTS WHERE FACTORY = A.FACTORY AND ATTR_TYPE = 'LOT_SEC_INFO' AND ATTR_NAME = 'NCFCODE' AND ATTR_KEY = TRIM(A.LOT_CMF_1)), '*')   VR_20\n , NVL((SELECT ATTR_VALUE FROM MATRNAMSTS WHERE FACTORY = A.FACTORY AND ATTR_TYPE = 'LOT_SEC_INFO' AND ATTR_NAME = 'NCACODE' AND ATTR_KEY = TRIM(A.LOT_CMF_1)), '*')   VR_21\n , NVL((SELECT ATTR_VALUE FROM MATRNAMSTS WHERE FACTORY = A.FACTORY AND ATTR_TYPE = 'LOT_SEC_INFO' AND ATTR_NAME = 'NCTCODE' AND ATTR_KEY = TRIM(A.LOT_CMF_1)), '*')   VR_22\n , NVL((SELECT ATTR_VALUE FROM MATRNAMSTS WHERE FACTORY = A.FACTORY AND ATTR_TYPE = 'LOT_SEC_INFO' AND ATTR_NAME = 'NCQCODE' AND ATTR_KEY = TRIM(A.LOT_CMF_1)), '*')   VR_23\n , NVL((SELECT ATTR_VALUE FROM MATRNAMSTS WHERE FACTORY = A.FACTORY AND ATTR_TYPE = 'LOT_SEC_INFO' AND ATTR_NAME = 'OTHER' AND ATTR_KEY = TRIM(A.LOT_CMF_1)), '*')   VR_24\n , NVL((SELECT SUM(DECODE(TRAN_CODE, 'LOSS', (OLD_QTY_1 - QTY_1), QTY_1)) \n               FROM MWIPLOTHIS \n              WHERE LOT_ID = A.LOT_ID \n                AND TRAN_CODE IN ('LOSS', 'TERMINATE')\n                AND HIST_DEL_FLAG = ' '\n                AND TRAN_TIME BETWEEN F_GET_TIME(TO_CHAR(SYSDATE, 'YYYYMMDDHH24MISS'),'SE') \n                                  AND TO_CHAR(SYSDATE, 'YYYYMMDDHH24MISS')), 0)         VR_25\n , NVL((SELECT SUM(TOTAL_BONUS_QTY) \n               FROM MWIPLOTBNS \n              WHERE LOT_ID = A.LOT_ID\n                AND TRAN_TIME BETWEEN F_GET_TIME(TO_CHAR(SYSDATE, 'YYYYMMDDHH24MISS'),'SE') \n                                  AND TO_CHAR(SYSDATE, 'YYYYMMDDHH24MISS')), 0)    VR_26\n , '-'    VR_27\n , '-'    VR_28\n , TO_CHAR(SYSDATE,'YYYYMMDDHH24MISS')     VR_29\n , GET_WORK_DATE_EDI(TO_CHAR(SYSDATE, 'YYYYMMDDHH24MISS'),'D')  VR_30\n , MESMGR.PK_SEC_MES_IF.MakeInkless_OMS_WIP(A.FACTORY, A.LOT_ID)  VR_31\n  FROM MWIPLOTSTS A\n WHERE 1 = 1\n   AND FACTORY IN ('HMKT1','HMKA1') \n   AND LOT_CMF_2 = 'SE'   \n   AND OWNER_CODE = 'PROD'\n   AND LOT_TYPE = 'W'\n   AND LOT_DEL_FLAG = ' ' \n   AND CREATE_CODE <> 'FREE' \n   AND MAT_ID LIKE 'SE'||(SELECT DATA_1 FROM MGCMTBLDAT WHERE FACTORY = 'HMKA1' AND TABLE_NAME = 'H_SPECIAL_CHAR' AND KEY_1 = '1')\n   AND OPER BETWEEN 'A0000' AND 'TZ010'\n   AND MAT_ID NOT LIKE 'SEKY'||(SELECT DATA_1 FROM MGCMTBLDAT WHERE FACTORY = 'HMKA1' AND TABLE_NAME = 'H_SPECIAL_CHAR' AND KEY_1 = '1')  --- 영업  요청으로 하드코딩 170412. SEKY%\n)","CREATE_USER":"6","CREATE_DATE":"2021-11-23 04:53:33","DBTYPE":"MES"}]
2022-11-16 18:00:00 [EDI System] info: 
        SELECT * FROM (
            SELECT *
            FROM EDI_QUERY_SETTING
            WHERE 1=1
            AND SETTING_ID = (
                SELECT ID
                FROM CG_CUSTOMER 
                WHERE PARENT = (
                    SELECT ID
                    FROM CG_CUSTOMER 
                    WHERE ID=(
                        SELECT PARENT
                        FROM CG_CUSTOMER 
                        WHERE ID=(
                            SELECT PARENT 
                            FROM CG_CUSTOMER 
                            WHERE ID=:id
                        )
                    )
                )
                AND LOWER(NAME) = 'common'
            )
            AND TYPE IN ('DB','TEXT')
            AND KEY NOT IN (SELECT KEY
                            FROM EDI_QUERY_SETTING
                            WHERE 1=1
                            AND SETTING_ID = :id
                            AND TYPE IN ('DB','TEXT'))
            UNION ALL
            SELECT *
            FROM EDI_QUERY_SETTING
            WHERE 1=1
            AND SETTING_ID = :id
            AND TYPE IN ('DB','TEXT')
        )
        ORDER BY LENGTH(KEY) DESC
    
2022-11-16 18:00:00 [EDI System] info: [{"ID":"137","SETTING_ID":"129","KEY":"todayHH24MISS","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE,'YYYYMMDDHH24MISS') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-11-12 05:20:22","DBTYPE":"MES"},{"ID":"124","SETTING_ID":"129","KEY":"todayHH24_M1H","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE - 1/24,'YYYYMMDDHH24') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-10-15 01:40:03","DBTYPE":"MES"},{"ID":"122","SETTING_ID":"129","KEY":"todayHH24","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE,'YYYYMMDDHH24') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-10-15 11:47:10","DBTYPE":"MES"},{"ID":"115","SETTING_ID":"129","KEY":"today_yy","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE,'YYYYMMDDHH24') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-09-24 08:46:51","DBTYPE":"MES"},{"ID":"130","SETTING_ID":"129","KEY":"today","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE,'YYYYMMDD') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-11-09 03:36:41","DBTYPE":"MES"}]
2022-11-16 18:00:00 [EDI System] info: [{"ID":"137","SETTING_ID":"129","KEY":"todayHH24MISS","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE,'YYYYMMDDHH24MISS') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-11-12 05:20:22","DBTYPE":"MES"},{"ID":"124","SETTING_ID":"129","KEY":"todayHH24_M1H","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE - 1/24,'YYYYMMDDHH24') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-10-15 01:40:03","DBTYPE":"MES"},{"ID":"122","SETTING_ID":"129","KEY":"todayHH24","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE,'YYYYMMDDHH24') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-10-15 11:47:10","DBTYPE":"MES"},{"ID":"115","SETTING_ID":"129","KEY":"today_yy","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE,'YYYYMMDDHH24') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-09-24 08:46:51","DBTYPE":"MES"},{"ID":"130","SETTING_ID":"129","KEY":"today","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE,'YYYYMMDD') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-11-09 03:36:41","DBTYPE":"MES"}]
2022-11-16 18:00:00 [EDI System] info: [{"ID":"137","SETTING_ID":"129","KEY":"todayHH24MISS","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE,'YYYYMMDDHH24MISS') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-11-12 05:20:22","DBTYPE":"MES"},{"ID":"124","SETTING_ID":"129","KEY":"todayHH24_M1H","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE - 1/24,'YYYYMMDDHH24') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-10-15 01:40:03","DBTYPE":"MES"},{"ID":"122","SETTING_ID":"129","KEY":"todayHH24","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE,'YYYYMMDDHH24') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-10-15 11:47:10","DBTYPE":"MES"},{"ID":"115","SETTING_ID":"129","KEY":"today_yy","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE,'YYYYMMDDHH24') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-09-24 08:46:51","DBTYPE":"MES"},{"ID":"130","SETTING_ID":"129","KEY":"today","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE,'YYYYMMDD') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-11-09 03:36:41","DBTYPE":"MES"}]
2022-11-16 18:01:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 18:02:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 18:03:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 18:04:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 18:04:00 [EDI System] info: Job Start Time > {"min":4,"hour":18,"date":16,"month":11,"day":3}
 {"ID":100,"CFG_ID":"135","FILE_NAME":"LOTEVENT_HM:todayHH24","FILE_DESC":"SEC LOTEVENT 1/1HR","FILE_SAVE_FOLDER":"D:/HM_EDI/SEC/OUT","FILE_CHARSET":"utf-8","FILE_TYPE":"ff","DATA_TYPE":"text","FTP_ENV_ID":"100","SEND_FLAG":"Y","NODATASEND":null,"SCHEDULE_MIN":"4","SCHEDULE_HOUR":"*","SCHEDULE_DAY":"*","SCHEDULE_WEEK":"*","SCHEDULE_MONTH":"*","CM_F01":null,"CM_F02":null,"CREATE_DATE":null,"CREATE_USER":null,"UPDATE_DATE":"2021-12-16 09:23:19","UPDATE_USER":"6","DELETE_DATE":null,"DELETE_USER":null,"frequency":"4 * * * *"}
2022-11-16 18:04:00 [EDI System] info: 100 >>> makeFileText Function Execute
2022-11-16 18:04:00 [EDI System] info: SELECT EDI_LOG_SEQ.NEXTVAL AS ID FROM DUAL
2022-11-16 18:04:00 [EDI System] info: SELECT EDI_LOG_SEQ.NEXTVAL AS ID FROM DUAL
2022-11-16 18:04:01 [EDI System] info: [{"ID":11135}]
2022-11-16 18:04:01 [EDI System] info: seq : return Key [{"ID":11135}]
2022-11-16 18:04:01 [EDI System] info: saveAllLogger => ID:11135, NAME:LOTEVENT_HM:todayHH24, ProcessID:135, Description: Job Start : ID=100, CFG_ID=135, FTP_ENV_ID=100, FILE_NAME=LOTEVENT_HM:todayHH24, FILE_DESC=SEC LOTEVENT 1/1HR, FILE_CHARSET=utf-8, FILE_TYPE=ff
2022-11-16 18:04:01 [EDI System] info: INSERT INTO EDI_LOG(ID, STEP, NAME, PROCESS_ID, DESCRIPTION, CREATE_USER, CREATE_DATE)
    VALUES(:id, :stepId, :name, :process_id, :description, 'DAEMON', TO_CHAR(SYSDATE,'YYYYMMDDHH24MISS'))
2022-11-16 18:04:01 [EDI System] info: Insert successful = SQL: INSERT INTO EDI_LOG(ID, STEP, NAME, PROCESS_ID, DESCRIPTION, CREATE_USER, CREATE_DATE)
    VALUES(:id, :stepId, :name, :process_id, :description, 'DAEMON', TO_CHAR(SYSDATE,'YYYYMMDDHH24MISS')) | Params: {"id":11135,"stepId":"1","name":"LOTEVENT_HM:todayHH24","process_id":"135","description":"Job Start : ID=100, CFG_ID=135, FTP_ENV_ID=100, FILE_NAME=LOTEVENT_HM:todayHH24, FILE_DESC=SEC LOTEVENT 1/1HR, FILE_CHARSET=utf-8, FILE_TYPE=ff"} / 1
2022-11-16 18:04:01 [EDI System] info: 
    SELECT *
    FROM (
        SELECT ROWNUM,A.*
            FROM EDI_QUERY_SETTING A
            WHERE SETTING_ID = :id
            AND TYPE='Main'
            ORDER BY ID DESC
        ) 
    WHERE ROWNUM='1'
    
2022-11-16 18:04:01 [EDI System] info: [{"ROWNUM":16,"ID":"155","SETTING_ID":"135","KEY":null,"TYPE":"Main","QUERY":"SELECT     \n  RPAD(V1, 2,' ')\n, RPAD(V3 , 20,' ')\n, RPAD(NVL(decode(v35, 'N01', 'Multitransfer', V4), ' ') , 30,' ')\n, RPAD(V5 || LPAD(B.MILI_SEC,3,0) , 20,' ')\n, RPAD(V6 , 2,' ')\n, RPAD(V7 , 4,' ')\n, RPAD(V8 , 30,' ')\n, RPAD(V9  , 20,' ')\n, RPAD(V10 , 10,' ')\n, RPAD(V11 , 30,' ')\n, RPAD(V12 , 20,' ')\n, RPAD(V13 , 20,' ')\n, RPAD(V14 , 10,' ')\n, RPAD(V15 , 10,' ')\n, RPAD(V16 , 14,' ')\n, RPAD(V17 , 14,' ')\n, LPAD(V18 , 10,' ')\n, LPAD(V19 , 10,' ')\n, RPAD(V20 , 14,' ')\n, RPAD(V21 , 10,' ')\n, RPAD(V22 , 10,' ')\n, RPAD(V23 , 20,' ')\n, RPAD(nvl(V24,' ') , 20,' ')\n, RPAD(V25 , 30,' ')\n, RPAD(V26 , 30,' ')\n, RPAD(V27 , 20,' ')\n, RPAD(V28 , 20,' ')\n, RPAD(V29 , 65,' ')\n, RPAD(V30 , 10,' ')\n, RPAD(V31 , 2,' ')\n, RPAD(V32 , 20,' ')\n, RPAD(V33 , 14,' ')\n, RPAD(V34 , 10,' ')\n, RPAD(V35 , 10,' ')\n, RPAD(V36 , 255,' ')\n, RPAD(V37 , 255,' ')\n  FROM ( SELECT ROWNUM IDX, \n                        V0,V1,V2,V3,V4,V5,V6,V7,V8,V9,V10,V11,V12,V13,V14,V15,V16,V17,V18,V19,V20,V21,V22,V23,V24,V25,V26,V27,V28,V29,V30,V31,V32,V33,V34,V35,V36,V37\n           FROM (\n           select * from\n           (           -- 20200121 chulho.wee ; combine except\n                       SELECT C.IN_DTTM V0, 'HM'  V1\n                     , DECODE(A.FACTORY, 'HMKA1', 'ASSY', 'TEST') V2\n                     , NVL(TRIM(A.LOT_CMF_1), '-') V3\n                     , DECODE(B.DATA_1\n                              , 'END', NVL(TRIM(INITCAP(A.TRAN_CMF_1)),'TrackOut')\n                              --, 'Change', DECODE(A.TRAN_CMF_1,'PART_CHANGE','ChangeProduct')\n                              --, 'Receive', DECODE(A.OLD_OPER,'T0000','RECV_OY_HMK3', 'Receive')\n                              -- , 'Ship', DECODE(A.OLD_OPER,'TZ010','SHIP_HMK4_OY', 'Ship')\n                              , 'Change', DECODE(A.TRAN_CMF_1,'PART_CHANGE','ChangeProduct', DECODE(A.OLD_OPER, 'T0100', 'ChangeProduct','T0960','ChangeProduct', B.DATA_1))\n                              , 'Receive', DECODE(A.OLD_OPER||SUBSTR(A.MAT_ID,1,3),'T0000SES','RECV_OY_HMK3','A0000SES','RECV_KH_HMK2', 'Receive')\n                              --, 'Ship', DECODE(A.OLD_OPER,'TZ010','SHIP_HMK4_ASIMACS','AZ010','SHIP_HMK3_OY', 'Ship')\n                              , 'Ship', DECODE(A.OLD_OPER,'TZ010',DECODE(F_GET_HALF_FULL(A.LOT_ID, A.HIST_SEQ), 'Y','SHIP_HMKT_OY', 'SHIP_HMK4_ASIMACS'),'AZ010','SHIP_HMK3_OY', 'Ship')\n                              , B.DATA_1) V4\n                     , A.TRAN_TIME V5 \n                     , NVL(TRIM(A.LOT_CMF_5), '-')  V6\n                     , DECODE(B.DATA_1||A.OLD_FACTORY\n                              , 'ReceiveHMKT1', 'HMK3'\n                              , 'ShipHMKT1', 'HMK4'\n                              , DECODE(A.FACTORY, 'HMKA1', 'HMKA', 'HMKT'))  V7\n                     , NVL((SELECT MAT_CMF_7 FROM MWIPMATDEF WHERE FACTORY = A.FACTORY AND MAT_ID = A.MAT_ID AND MAT_VER = A.MAT_VER)\n                          , (SELECT MAT_CMF_7 FROM MWIPMATDEF WHERE FACTORY = A.OLD_FACTORY AND MAT_ID = A.OLD_MAT_ID AND MAT_VER = A.MAT_VER))  V8\n                     , A.FLOW  V9\n                     , DECODE(SUBSTRB(A.OLD_OPER,1,4),'AZ01','HMK3','T000','HMK3','TZ01','HMK4','A000','HMK2',SUBSTRB(A.OLD_OPER,1,4))  V10\n                     , NVL((SELECT OPER_DESC FROM MWIPOPRDEF WHERE FACTORY = A.FACTORY AND OPER = A.OLD_OPER AND FLOW = A.FLOW), ' ' )  V11\n                     , NVL((SELECT RES_GRP_3 FROM MRASRESDEF WHERE FACTORY = A.FACTORY AND RES_ID = A.START_RES_ID ),' ')  V12\n                     , NVL(START_RES_ID, ' ')  V13\n                     , NVL((SELECT DECODE(SUBSTRB(NVL(trim(PREV_OPER), 'A0000'),1,4),'AZ01','HMK3','T000','HMK3','TZ01','HMK4','A000','HMK2',SUBSTRB(NVL(trim(PREV_OPER), 'A0000'),1,4)) FROM MWIPFLWOPR WHERE FACTORY = A.FACTORY AND OPER = A.OPER AND FLOW = A.FLOW),' ')  V14\n                     , DECODE(SUBSTRB(A.OPER,1,4),'AZ01','HMK3','T000','HMK3','TZ01','HMK4','A000','HMK2',SUBSTRB(A.OPER,1,4))  V15\n                     , A.OPER_IN_TIME  V16\n                     , A.CREATE_TIME  V17\n                     , NVL(D.WAFERQTY,NVL(TRIM(A.QTY_2),0))  V18\n                     , NVL(\n                                    DECODE(TRAN_CODE,'MERGE',DECODE(FROM_TO_FLAG,'F',TRIM(A.QTY_1),TRIM(A.QTY_1))\n                                    ,TRIM(A.QTY_1))\n                                    , 0)  V19 -- CHIP_QTY_new-- 2010 10 07\n                     , A.TRAN_TIME  V20\n                     , NVL(D.WAFERQTY,NVL(TRIM(A.QTY_2),0))  V21\n                     , NVL(\n                                    DECODE(TRAN_CODE,'MERGE',DECODE(FROM_TO_FLAG,'F',TRIM(A.OLD_QTY_1),'T',TRIM(A.QTY_1-A.OLD_QTY_1),TRIM(A.QTY_1)) --,TRIM(A.QTY_1))\n                                                    ,'SPLIT',DECODE(FROM_TO_FLAG,'F',abs(A.OLD_QTY_1-A.QTY_1),TRIM(A.QTY_1))\n                                                    ,'LOSS',(A.OLD_QTY_1 - QTY_1)\n                                                    ,TRIM(A.QTY_1))\n                                   , 0)  V22 -- EVENT_QTY_new -- 2010 10 07\n                     , NVL((SELECT LOT_STATE FROM V_SECLOTSTS WHERE FACTORY = A.FACTORY AND LOT_ID = A.LOT_ID AND HIST_SEQ = A.HIST_SEQ ),' ')  V23\n                     , DECODE(TRAN_CODE,'SPLIT',DECODE(FROM_TO_FLAG,'T','Splitted','Split'),\n                                        'MERGE',DECODE(FROM_TO_FLAG,'T','Merge','Merged'),\n                                        'PMERGE',DECODE(FROM_TO_FLAG,'T','Merge','Merged')\n                                      )  V24\n                     , DECODE(TRAN_CODE, 'SPLIT',DECODE(FROM_TO_FLAG,'F',' ',NVL(TRIM(A.FROM_TO_LOT_ID), TRIM(A.LOT_CMF_1)))\n                                       , 'MERGE',DECODE(FROM_TO_FLAG,'F',TRIM(A.FROM_TO_LOT_ID),NVL(TRIM(A.FROM_TO_LOT_ID), TRIM(A.LOT_CMF_1)))\n                                       , DECODE(TRAN_CODE,'ADAPT',F_GET_CHG_PREV_VAL(A.LOT_ID,A.HIST_SEQ,'ADAPT','MAT_ID',-1),F_GET_CHG_PREV_VAL(A.LOT_ID,A.HIST_SEQ,TRAN_CODE,'MAT_ID',-1))\n                                       )  V25\n                     , DECODE(TRAN_CODE, 'SPLIT',DECODE(FROM_TO_FLAG,'T',' ',NVL(TRIM(A.FROM_TO_LOT_ID), TRIM(A.LOT_CMF_1)))\n                                       , 'MERGE',DECODE(FROM_TO_FLAG,'T',TRIM(A.FROM_TO_LOT_ID),NVL(TRIM(A.FROM_TO_LOT_ID), TRIM(A.LOT_CMF_1)))\n                                       , DECODE(TRAN_CODE,'ADAPT',F_GET_CHG_PREV_VAL(A.LOT_ID,A.HIST_SEQ,'ADAPT','MAT_ID',1),F_GET_CHG_PREV_VAL(A.LOT_ID,A.HIST_SEQ,TRAN_CODE,'MAT_ID',1))\n                                       )  V26\n                     , DECODE(TRAN_CODE, 'SPLIT',DECODE(FROM_TO_FLAG,'T',' ',NVL(TRIM(A.FROM_TO_LOT_ID), TRIM(A.LOT_CMF_1)))\n                                       , 'MERGE',DECODE(FROM_TO_FLAG,'F',TRIM(A.LOT_CMF_1),NVL(TRIM(A.FROM_TO_LOT_ID), TRIM(A.LOT_CMF_1)))\n                                       , ' ')  V27\n                     , DECODE(TRAN_CODE, 'SPLIT',DECODE(FROM_TO_FLAG,'F',' ',NVL(TRIM(A.FROM_TO_LOT_ID), TRIM(A.LOT_CMF_1)))\n                                       , 'MERGE',DECODE(FROM_TO_FLAG,'T',TRIM(A.LOT_CMF_1),NVL(TRIM(A.FROM_TO_LOT_ID), TRIM(A.LOT_CMF_1)))\n                                       , ' ')  V28\n                     , ' '  V29\n                     , DECODE(TRAN_CODE, 'HOLD',HOLD_CODE, ' ')  V30\n                     , F_GET_ATTR_VALUE(A.LOT_ID, 'LOT_SEC_INFO','RETURN_CODE')  V31\n                     , NVL(TRIM(A.LOT_CMF_4), '-')  V32\n                     , TO_CHAR(SYSDATE, 'YYYYMMDDHH24MISS')  V33\n                     , A.START_QTY_1  V34\n                     , NVL((SELECT MAX(LOSS_CODE_1) FROM MWIPLOTLOS WHERE FACTORY = A.FACTORY AND OPER = A.OLD_OPER AND FLOW = A.FLOW AND LOT_ID = A.LOT_ID), ' ' )  V35\n                     , NVL((SELECT ATTR_VALUE FROM MATRNAMSTS WHERE FACTORY = 'HMKA1' AND ATTR_TYPE = 'LOT_SEC_INFO' AND ATTR_NAME = 'WORDER' AND ATTR_KEY  = A.LOT_ID ), ' ') V36\n                     , NVL((SELECT ATTR_VALUE FROM MATRNAMSTS WHERE FACTORY = 'HMKA1' AND ATTR_TYPE = 'LOT_SEC_INFO' AND ATTR_NAME = 'WORDER' AND ATTR_KEY  = A.LOT_ID ), ' ') V37\n                          FROM MWIPLOTHIS A \n                             , CWIPSITDEF B\n                             , CEDILOTHIS C\n                             , V_CLOTWAFQTY D\n                         WHERE 1 = 1\n                           AND A.FACTORY IN ('HMKA1', 'HMKT1','CUSTOMER')    \n                           AND A.OWNER_CODE = 'PROD'\n                           AND A.LOT_TYPE = 'W'\n                           AND A.HIST_DEL_FLAG = ' '\n                           AND A.LOT_CMF_2 = 'SE'\n                           AND A.TRAN_TIME >= :todayHH24_M1H ||'000000'\n                           AND A.TRAN_TIME <  :todayHH24 ||'000000'\n                           AND B.TABLE_NAME='H_EDI_TRAN'\n                           AND B.KEY_1='SE'\n                           AND A.TRAN_CODE = B.KEY_2   \n                           AND B.DATA_1 <> ' '   \n                           AND B.FACTORY = 'HMKA1'\n                           AND (A.TRAN_CODE <> 'START' OR A.TRAN_CMF_1 IN ('ISSUE','CLOSE'))\n                           AND (A.TRAN_CODE <> 'ADAPT' OR A.ADD_ORDER_ID_2 NOT IN ('MULTIEQP_MOT','MULTIEQP', ' ') OR A.TRAN_CMF_1 IN ('PART_CHANGE' ))\n                           AND A.OLD_FLOW > ' '\n                           AND A.LOT_ID = C.LOT_ID\n                           AND A.HIST_SEQ = C.HIST_SEQ\n                           AND A.TRAN_TIME  = C.TRAN_TIME\n                           AND A.LOT_ID = D.LOT_ID(+)\n                           AND A.OPER NOT IN ('T000N')\n                         \n                 union all\n                       -- 20200121 chulho.wee ; combine only ; merge, multitransfer\n                       SELECT C.IN_DTTM V0, 'HM'  V1\n                     , DECODE(A.FACTORY, 'HMKA1', 'ASSY', 'TEST') V2\n                     , NVL(TRIM(A.LOT_CMF_1), '-') V3\n                     , DECODE(B.DATA_1,\n                              'END', NVL(TRIM(INITCAP(A.TRAN_CMF_1)),'TrackOut'),\n                              'Change', DECODE(A.TRAN_CMF_1,'PART_CHANGE','ChangeProduct')\n                              , B.DATA_1) V4\n                     , A.TRAN_TIME V5 \n                     , NVL(TRIM(A.LOT_CMF_5), '-')  V6\n                     , DECODE(A.FACTORY, 'HMKA1', 'HMKA', 'HMKT')  V7\n                     , NVL((SELECT MAT_CMF_7 FROM MWIPMATDEF WHERE FACTORY = A.FACTORY AND MAT_ID = A.MAT_ID AND MAT_VER = A.MAT_VER)\n                          , (SELECT MAT_CMF_7 FROM MWIPMATDEF WHERE FACTORY = A.OLD_FACTORY AND MAT_ID = A.OLD_MAT_ID AND MAT_VER = A.MAT_VER))  V8\n                     , A.FLOW  V9\n                     , DECODE(SUBSTRB(A.OLD_OPER,1,4),'AZ01','HMK3','T000','HMK3','TZ01','HMK4','A000','HMK2',SUBSTRB(A.OLD_OPER,1,4))  V10\n                     , NVL((SELECT OPER_DESC FROM MWIPOPRDEF WHERE FACTORY = A.FACTORY AND OPER = A.OLD_OPER AND FLOW = A.FLOW), ' ' )  V11\n                     , NVL((SELECT RES_GRP_3 FROM MRASRESDEF WHERE FACTORY = A.FACTORY AND RES_ID = A.START_RES_ID ),' ')  V12\n                     , NVL(START_RES_ID, ' ')  V13\n                     , NVL((SELECT DECODE(SUBSTRB(NVL(trim(PREV_OPER), 'A0000'),1,4),'AZ01','HMK3','T000','HMK3','TZ01','HMK4','A000','HMK2',SUBSTRB(NVL(trim(PREV_OPER), 'A0000'),1,4)) FROM MWIPFLWOPR WHERE FACTORY = A.FACTORY AND OPER = A.OPER AND FLOW = A.FLOW),' ')  V14\n                     , DECODE(SUBSTRB(A.OPER,1,4),'AZ01','HMK3','T000','HMK3','TZ01','HMK4','A000','HMK2',SUBSTRB(A.OPER,1,4))  V15\n                     , A.OPER_IN_TIME  V16\n                     , A.CREATE_TIME  V17\n                     , NVL(D.WAFERQTY,NVL(TRIM(A.QTY_2),0))  V18\n                     , NVL(\n                                    DECODE(TRAN_CODE, 'COMBINE',DECODE(FROM_TO_FLAG,'T',TRIM(A.QTY_1+(select max(old_qty_1) from mwiplothis where lot_id = (select from_to_lot_id from mwiplothis where lot_id = a.lot_id and hist_seq = a.hist_seq) and tran_code = 'COMBINE' and hist_del_flag = ' '))\n                                                                                       ,TRIM(A.QTY_1))\n                                                    , TRIM(A.QTY_1))\n                           , 0)  V19 \n                     , A.TRAN_TIME  V20\n                     , NVL(D.WAFERQTY,NVL(TRIM(A.QTY_2),0))  V21\n                     , NVL(\n                                    DECODE(TRAN_CODE,'COMBINE',DECODE(FROM_TO_FLAG,'F',TRIM(A.OLD_QTY_1)\n                                                                                  ,'T',(select max(old_qty_1) from mwiplothis where lot_id = (select from_to_lot_id from mwiplothis where lot_id = a.lot_id and hist_seq = a.hist_seq) and tran_code = 'COMBINE' and hist_del_flag = ' ')\n                                                                                  ,TRIM(A.QTY_1)) --,TRIM(A.QTY_1))\n                                                    ,TRIM(A.QTY_1)*2)\n                           , 0)  V22 \n                     , NVL((SELECT LOT_STATE FROM V_SECLOTSTS WHERE FACTORY = A.FACTORY AND LOT_ID = A.LOT_ID AND HIST_SEQ = A.HIST_SEQ ),' ')  V23\n                     , DECODE(TRAN_CODE,'SPLIT',DECODE(FROM_TO_FLAG,'T','Splitted','Split'),\n                                        'COMBINE',DECODE(FROM_TO_FLAG,'T','Merge','Merged'),\n                                        'PMERGE',DECODE(FROM_TO_FLAG,'T','Merge','Merged')\n                                      )  V24\n                     , DECODE(TRAN_CODE, 'COMBINE',DECODE(FROM_TO_FLAG,'F',TRIM(A.FROM_TO_LOT_ID),NVL(TRIM(A.FROM_TO_LOT_ID), TRIM(A.LOT_CMF_1)))\n                                       , ' ') V25\n                     , DECODE(TRAN_CODE, 'COMBINE',DECODE(FROM_TO_FLAG,'T',TRIM(A.FROM_TO_LOT_ID),NVL(TRIM(A.FROM_TO_LOT_ID), TRIM(A.LOT_CMF_1)))\n                                       , ' ') V26\n                     , DECODE(TRAN_CODE, 'COMBINE',DECODE(FROM_TO_FLAG,'F',TRIM(A.LOT_CMF_1),NVL(TRIM(A.FROM_TO_LOT_ID), TRIM(A.LOT_CMF_1)))\n                                       , ' ')  V27\n                     , DECODE(TRAN_CODE, 'COMBINE',DECODE(FROM_TO_FLAG,'T',TRIM(A.LOT_CMF_1),NVL(TRIM(A.FROM_TO_LOT_ID), TRIM(A.LOT_CMF_1)))\n                                       , ' ')  V28\n                     , ' '  V29\n                     , DECODE(TRAN_CODE, 'HOLD',HOLD_CODE, ' ')  V30\n                     , F_GET_ATTR_VALUE(A.LOT_ID, 'LOT_SEC_INFO','RETURN_CODE')  V31\n                     , NVL(TRIM(A.LOT_CMF_4), '-')  V32\n                     , TO_CHAR(SYSDATE, 'YYYYMMDDHH24MISS')  V33\n                     , A.START_QTY_1  V34\n                     , NVL((SELECT MAX(LOSS_CODE_1) FROM MWIPLOTLOS WHERE FACTORY = A.FACTORY AND OPER = A.OLD_OPER AND FLOW = A.FLOW AND LOT_ID = A.LOT_ID), ' ' )  V35\n                     , NVL((SELECT ATTR_VALUE FROM MATRNAMSTS WHERE FACTORY = 'HMKA1' AND ATTR_TYPE = 'LOT_SEC_INFO' AND ATTR_NAME = 'WORDER' AND ATTR_KEY  = A.LOT_ID ), ' ') V36\n                     , NVL((SELECT ATTR_VALUE FROM MATRNAMSTS WHERE FACTORY = 'HMKA1' AND ATTR_TYPE = 'LOT_SEC_INFO' AND ATTR_NAME = 'WORDER' AND ATTR_KEY  = A.LOT_ID ), ' ') V37\n                          FROM MWIPLOTHIS A \n                             , CWIPSITDEF B\n                             , CEDILOTHIS C\n                             , V_CLOTWAFQTY D\n                         WHERE 1 = 1\n                           AND A.FACTORY IN ('HMKA1', 'HMKT1') --,'CUSTOMER')    \n                           AND A.OWNER_CODE = 'PROD'\n                           AND A.LOT_TYPE = 'W'\n                           AND A.HIST_DEL_FLAG = ' '\n                           AND A.LOT_CMF_2 = 'SE'\n                           AND A.TRAN_TIME >= TO_CHAR(SYSDATE-1/24,'YYYYMMDDHH24')||'000000'\n                           AND A.TRAN_TIME <  TO_CHAR(SYSDATE,'YYYYMMDDHH24')||'000000'\n                           AND B.TABLE_NAME='H_EDI_EX_TRAN'\n                           AND B.KEY_1='SE'\n                           AND A.TRAN_CODE = B.KEY_2   \n                           AND B.DATA_1 <> ' '   \n                           AND B.FACTORY = 'HMKA1'\n                           AND (A.TRAN_CODE <> 'START' OR A.TRAN_CMF_1 IN ('ISSUE','CLOSE'))\n                           AND (A.TRAN_CODE <> 'ADAPT' OR A.ADD_ORDER_ID_2 NOT IN ('MULTIEQP_MOT','MULTIEQP', ' ') OR A.TRAN_CMF_1 IN ('PART_CHANGE' ))\n                           AND A.OLD_FLOW > ' '\n                           AND A.LOT_ID = C.LOT_ID\n                           AND A.HIST_SEQ = C.HIST_SEQ\n                           AND A.TRAN_TIME  = C.TRAN_TIME\n                           AND A.LOT_ID = D.LOT_ID(+)\n                           AND A.OPER NOT IN ('T000N')\n                           AND A.OPER LIKE 'A040_'\n              )\n              order by v0\n           )) A, \n       ( SELECT ROWNUM IDX, TRAN_TIME, MILI_SEC\n           FROM (\n                   SELECT TRAN_TIME, CNT-NUM MILI_SEC\n                    FROM (\n                    select TRAN_TIME, sum(cnt) CNT\n                      from ( \n                        SELECT A.TRAN_TIME, COUNT(*) CNT\n                          FROM MWIPLOTHIS A \n                             , CWIPSITDEF B\n                             , CEDILOTHIS C\n                             , V_CLOTWAFQTY D\n                         WHERE 1 = 1\n                           AND A.FACTORY IN ('HMKA1', 'HMKT1','CUSTOMER')   \n                           AND A.OWNER_CODE = 'PROD'\n                          AND A.LOT_TYPE = 'W'\n                           AND A.HIST_DEL_FLAG = ' '\n                           AND A.LOT_CMF_2 = 'SE'\n                           AND A.TRAN_TIME >= TO_CHAR(SYSDATE-1/24,'YYYYMMDDHH24')||'000000'\n                           AND A.TRAN_TIME <  TO_CHAR(SYSDATE,'YYYYMMDDHH24')||'000000'\n                           AND B.TABLE_NAME='H_EDI_TRAN'\n                           AND B.KEY_1='SE'\n                           AND A.TRAN_CODE = B.KEY_2   \n                           AND B.DATA_1 <> ' '   \n                           AND B.FACTORY = 'HMKA1'\n                           AND (A.TRAN_CODE <> 'START' OR A.TRAN_CMF_1 IN ('ISSUE','CLOSE'))\n                           AND (A.TRAN_CODE <> 'ADAPT' OR A.ADD_ORDER_ID_2 NOT IN ('MULTIEQP_MOT','MULTIEQP', ' ') OR A.TRAN_CMF_1 IN ('PART_CHANGE' ))\n                           AND A.OLD_FLOW > ' '\n                           AND A.LOT_ID = C.LOT_ID\n                           AND A.HIST_SEQ = C.HIST_SEQ\n                           AND A.TRAN_TIME  = C.TRAN_TIME\n                           AND A.LOT_ID = D.LOT_ID(+)\n                           AND A.OPER NOT IN ('T000N')\n                         GROUP BY A.TRAN_TIME\n                         union\n                        SELECT A.TRAN_TIME, COUNT(*) CNT\n                          FROM MWIPLOTHIS A \n                             , CWIPSITDEF B\n                             , CEDILOTHIS C\n                             , V_CLOTWAFQTY D\n                         WHERE 1 = 1\n                           AND A.FACTORY IN ('HMKA1', 'HMKT1') --,'CUSTOMER')    \n                           AND A.OWNER_CODE = 'PROD'\n                           AND A.LOT_TYPE = 'W'\n                           AND A.HIST_DEL_FLAG = ' '\n                           AND A.LOT_CMF_2 = 'SE'\n                           AND A.TRAN_TIME >= :todayHH24_M1H ||'000000'\n                           AND A.TRAN_TIME <  :todayHH24 ||'000000'\n                           AND B.TABLE_NAME='H_EDI_EX_TRAN'\n                           AND B.KEY_1='SE'\n                           AND A.TRAN_CODE = B.KEY_2   \n                           AND B.DATA_1 <> ' '   \n                           AND B.FACTORY = 'HMKA1'\n                           AND (A.TRAN_CODE <> 'START' OR A.TRAN_CMF_1 IN ('ISSUE','CLOSE'))\n                           AND (A.TRAN_CODE <> 'ADAPT' OR A.ADD_ORDER_ID_2 NOT IN ('MULTIEQP_MOT','MULTIEQP', ' ') OR A.TRAN_CMF_1 IN ('PART_CHANGE' ))\n                           AND A.OLD_FLOW > ' '\n                           AND A.LOT_ID = C.LOT_ID\n                           AND A.HIST_SEQ = C.HIST_SEQ\n                           AND A.TRAN_TIME  = C.TRAN_TIME\n                           AND A.LOT_ID = D.LOT_ID(+)\n                           AND A.OPER NOT IN ('T000N')\n                           GROUP BY A.TRAN_TIME\n                           )\n                           group by TRAN_TIME\n                         ) A, COPY_T B\n                   WHERE NUM < 26 \n                     AND NUM <= CNT\n                   ORDER BY TRAN_TIME, CNT-NUM \n                  )) B\n             WHERE A.IDX=B.IDX","CREATE_USER":"6","CREATE_DATE":"2021-12-15 11:13:15","DBTYPE":"MES"}]
2022-11-16 18:04:01 [EDI System] info: 
        SELECT * FROM (
            SELECT *
            FROM EDI_QUERY_SETTING
            WHERE 1=1
            AND SETTING_ID = (
                SELECT ID
                FROM CG_CUSTOMER 
                WHERE PARENT = (
                    SELECT ID
                    FROM CG_CUSTOMER 
                    WHERE ID=(
                        SELECT PARENT
                        FROM CG_CUSTOMER 
                        WHERE ID=(
                            SELECT PARENT 
                            FROM CG_CUSTOMER 
                            WHERE ID=:id
                        )
                    )
                )
                AND LOWER(NAME) = 'common'
            )
            AND TYPE IN ('DB','TEXT')
            AND KEY NOT IN (SELECT KEY
                            FROM EDI_QUERY_SETTING
                            WHERE 1=1
                            AND SETTING_ID = :id
                            AND TYPE IN ('DB','TEXT'))
            UNION ALL
            SELECT *
            FROM EDI_QUERY_SETTING
            WHERE 1=1
            AND SETTING_ID = :id
            AND TYPE IN ('DB','TEXT')
        )
        ORDER BY LENGTH(KEY) DESC
    
2022-11-16 18:04:01 [EDI System] info: [{"ID":"137","SETTING_ID":"129","KEY":"todayHH24MISS","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE,'YYYYMMDDHH24MISS') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-11-12 05:20:22","DBTYPE":"MES"},{"ID":"124","SETTING_ID":"129","KEY":"todayHH24_M1H","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE - 1/24,'YYYYMMDDHH24') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-10-15 01:40:03","DBTYPE":"MES"},{"ID":"122","SETTING_ID":"129","KEY":"todayHH24","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE,'YYYYMMDDHH24') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-10-15 11:47:10","DBTYPE":"MES"},{"ID":"115","SETTING_ID":"129","KEY":"today_yy","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE,'YYYYMMDDHH24') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-09-24 08:46:51","DBTYPE":"MES"},{"ID":"130","SETTING_ID":"129","KEY":"today","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE,'YYYYMMDD') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-11-09 03:36:41","DBTYPE":"MES"}]
2022-11-16 18:05:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 18:06:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 18:07:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 18:08:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 18:09:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 18:10:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 18:11:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 18:12:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 18:13:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 18:13:00 [EDI System] info: Job Start Time > {"min":13,"hour":18,"date":16,"month":11,"day":3}
 {"ID":121,"CFG_ID":"159","FILE_NAME":"CMEQPUNT_HM:today","FILE_DESC":"SEC CMEQPUNT 1/1day","FILE_SAVE_FOLDER":"D:/HM_EDI/SEC/OUT","FILE_CHARSET":"ascii","FILE_TYPE":"ff","DATA_TYPE":"text","FTP_ENV_ID":"100","SEND_FLAG":"Y","NODATASEND":"false","SCHEDULE_MIN":"13","SCHEDULE_HOUR":"*","SCHEDULE_DAY":"*","SCHEDULE_WEEK":"*","SCHEDULE_MONTH":"*","CM_F01":null,"CM_F02":null,"CREATE_DATE":"2021-12-10 09:44:41","CREATE_USER":"6","UPDATE_DATE":"2021-12-15 04:08:07","UPDATE_USER":"6","DELETE_DATE":null,"DELETE_USER":null,"frequency":"13 * * * *"}
2022-11-16 18:13:00 [EDI System] info: 121 >>> makeFileText Function Execute
2022-11-16 18:13:00 [EDI System] info: SELECT EDI_LOG_SEQ.NEXTVAL AS ID FROM DUAL
2022-11-16 18:13:00 [EDI System] info: SELECT EDI_LOG_SEQ.NEXTVAL AS ID FROM DUAL
2022-11-16 18:13:00 [EDI System] info: [{"ID":11136}]
2022-11-16 18:13:00 [EDI System] info: seq : return Key [{"ID":11136}]
2022-11-16 18:13:00 [EDI System] info: saveAllLogger => ID:11136, NAME:CMEQPUNT_HM:today, ProcessID:159, Description: Job Start : ID=121, CFG_ID=159, FTP_ENV_ID=100, FILE_NAME=CMEQPUNT_HM:today, FILE_DESC=SEC CMEQPUNT 1/1day, FILE_CHARSET=ascii, FILE_TYPE=ff
2022-11-16 18:13:00 [EDI System] info: INSERT INTO EDI_LOG(ID, STEP, NAME, PROCESS_ID, DESCRIPTION, CREATE_USER, CREATE_DATE)
    VALUES(:id, :stepId, :name, :process_id, :description, 'DAEMON', TO_CHAR(SYSDATE,'YYYYMMDDHH24MISS'))
2022-11-16 18:13:00 [EDI System] info: Insert successful = SQL: INSERT INTO EDI_LOG(ID, STEP, NAME, PROCESS_ID, DESCRIPTION, CREATE_USER, CREATE_DATE)
    VALUES(:id, :stepId, :name, :process_id, :description, 'DAEMON', TO_CHAR(SYSDATE,'YYYYMMDDHH24MISS')) | Params: {"id":11136,"stepId":"1","name":"CMEQPUNT_HM:today","process_id":"159","description":"Job Start : ID=121, CFG_ID=159, FTP_ENV_ID=100, FILE_NAME=CMEQPUNT_HM:today, FILE_DESC=SEC CMEQPUNT 1/1day, FILE_CHARSET=ascii, FILE_TYPE=ff"} / 1
2022-11-16 18:13:00 [EDI System] info: 
    SELECT *
    FROM (
        SELECT ROWNUM,A.*
            FROM EDI_QUERY_SETTING A
            WHERE SETTING_ID = :id
            AND TYPE='Main'
            ORDER BY ID DESC
        ) 
    WHERE ROWNUM='1'
    
2022-11-16 18:13:00 [EDI System] info: [{"ROWNUM":1,"ID":"157","SETTING_ID":"159","KEY":null,"TYPE":"Main","QUERY":"--//-- 20211203 chulho.wee ; CREATE\nSELECT \n  RPAD(START_TAG, 3, ' ')\n|| RPAD(OEM_CODE, 2, ' ')\n|| RPAD(MONTH, 6, ' ')\n|| RPAD(C_DATE, 8, ' ')\n|| RPAD(O_DATE, 8, ' ')\n|| RPAD(OEM_AREA, 4, ' ')\n|| RPAD(CUST_DEVICE, 30, ' ')\n|| RPAD(OPER_DESC, 15, ' ')\n|| RPAD(EQP_GROUP, 15, ' ')\n\n|| RPAD(EQP_MODEL, 30, ' ')\n|| RPAD(RES_ID, 15, ' ')\n|| RPAD(OPER, 6, ' ')\n\n|| RPAD(SUM(QTY), 10, ' ')\n|| RPAD(LOT_TYPE, 2, ' ')\n|| RPAD(PARA, 3, ' ')\n\n|| RPAD(TEST_TIME, 10, ' ')\n|| RPAD(INDEX_TIME, 10, ' ')\n|| RPAD(ATE_TIME, 10, ' ')\n\n|| RPAD(EQP_PRICE, 10, ' ')\n|| RPAD(ATE_PRICE, 10, ' ')\n|| RPAD(MVP_PRICE, 10, ' ')\n|| RPAD(PVI_PRICE, 10, ' ')\n|| RPAD(UNIT_PRICE, 10, ' ')\n\n|| RPAD(FULL_HALF, 10, ' ')\n|| RPAD(CREATE_TIME, 14, ' ')\n|| RPAD(REMARK, 200, ' ')\n  FROM\n(\n    SELECT 'LS1' START_TAG\n         , 'HM' OEM_CODE\n         , CASE\n            WHEN TO_CHAR(SYSDATE, 'DD') >= 28 THEN\n                 TO_CHAR(ADD_MONTHS(SYSDATE, +1), 'YYYYMM')\n            ELSE\n                 TO_CHAR(ADD_MONTHS(SYSDATE, -0), 'YYYYMM')\n           END AS \"MONTH\"\n         --, TO_CHAR(SYSDATE, 'DD') C_DATE\n         , TO_CHAR(SYSDATE, 'YYYYMMDD') C_DATE\n         , SUBSTR(LOT.TRAN_TIME, 1,8) AS O_DATE\n         , 'HMKT' AS OEM_AREA\n         \n         , TST.CUST_DVC CUST_DEVICE\n         , DECODE(TST.OPER ,'T0100', 'ATE', 'T0960', 'ASB', 'T0500', 'MVP', TST.OPER) OPER_DESC\n         \n         , (SELECT NVL(ATTR_VALUE, 'NULL') FROM MATRNAMSTS WHERE FACTORY = 'HMKT1' AND ATTR_TYPE = 'RESOURCE' AND ATTR_NAME = 'EQP_GROUP' AND ATTR_KEY = LOT.END_RES_ID) AS EQP_GROUP\n         , (SELECT NVL(ATTR_VALUE, 'NULL') FROM MATRNAMSTS WHERE FACTORY = 'HMKT1' AND ATTR_TYPE = 'RESOURCE' AND ATTR_NAME = 'EQP_MODEL' AND ATTR_KEY = LOT.END_RES_ID) AS EQP_MODEL\n         , LOT.OLD_OPER AS OPER\n         , LOT.END_RES_ID AS RES_ID\n         , LOT_CMF_5 LOT_TYPE\n\n         , LOT.QTY_1 AS QTY\n         , TST.PARA AS PARA\n         , TST.TEST_TIME AS TEST_TIME\n         , TST.INDEX_TIME AS INDEX_TIME\n         , TST.ATE_TIME AS ATE_TIME\n         , TST.EQP_PRICE AS EQP_PRICE\n         , TST.ATE_PRICE AS ATE_PRICE\n--         , (((TST.TEST_TIME + TST.INDEX_TIME) * TST.EQP_PRICE) / TST.PARA) AS ATE_PRICE\n         , TST.MVP_PRICE AS MVP_PRICE\n         , TST.PVI_PRICE AS PVI_PRICE\n         , TST.UNIT_PRICE AS UNIT_PRICE\n         , TST.FULL_HALF AS FULL_HALF\n         , TO_CHAR(SYSDATE, 'YYYYMMDDHH24MISS') AS CREATE_TIME\n         , ' ' AS REMARK\n      FROM MWIPLOTHIS LOT, VGCMTBLDAT_TEST_TIME_INF2 TST\n     WHERE 1=1\n       AND LOT.MAT_ID = TST.MAT_ID\n       AND LOT.OLD_OPER = TST.OPER\n       AND TST.MODEL = (SELECT NVL(ATTR_VALUE, 'NULL') FROM MATRNAMSTS WHERE FACTORY = 'HMKT1' AND ATTR_TYPE = 'RESOURCE' AND ATTR_NAME = 'EQP_MODEL' AND ATTR_KEY = LOT.END_RES_ID)\n       AND LOT.TRAN_TIME >= CASE WHEN TO_CHAR(SYSDATE, 'DD') >= 28 THEN\n                       TO_CHAR(ADD_MONTHS(SYSDATE, -0), 'YYYYMM')||'27'||'22'\n                       ELSE\n                       TO_CHAR(ADD_MONTHS(SYSDATE, -1), 'YYYYMM')||'27'||'22'\n                       END --AS PREV_MON\n\n       AND LOT.TRAN_TIME < CASE WHEN TO_CHAR(SYSDATE, 'HH24MISS') >= 220000\n                                  OR TO_CHAR(SYSDATE, 'HH24MISS') <= 235959 THEN\n                       TO_CHAR(SYSDATE -0, 'YYYYMMDD')||'22'\n                       ELSE\n                       TO_CHAR(SYSDATE -1, 'YYYYMMDD')||'22'\n                       END --AS CURR_MON\n                       \n--       AND LOT.TRAN_TIME < CASE WHEN TO_CHAR(SYSDATE, 'DD') >= 28 THEN\n--                       TO_CHAR(ADD_MONTHS(SYSDATE, +1), 'YYYYMM')||'27'||'22'\n--                       ELSE\n--                       TO_CHAR(ADD_MONTHS(SYSDATE, -0), 'YYYYMM')||'27'||'22'\n--                       END --AS CURR_MON\n       AND LOT.FACTORY = 'HMKT1'\n       AND LOT.TRAN_CODE = 'END'\n       AND LOT.OLD_OPER in ('T0100', 'T0960', 'T0500')\n--       AND TST.CUST_DVC = 'L6HD311A01-P040-A00VCD'\n--       AND LOT.MAT_ID = 'SEL6HD311A01-P040-A00KUVCD'\n)\nGROUP BY START_TAG\n, OEM_CODE\n, MONTH\n, C_DATE\n, O_DATE\n, OEM_AREA\n\n, CUST_DEVICE\n, OPER_DESC\n\n, EQP_GROUP\n, EQP_MODEL\n, OPER\n, RES_ID\n, LOT_TYPE\n\n, PARA\n, TEST_TIME\n, INDEX_TIME\n, ATE_TIME\n, EQP_PRICE\n, ATE_PRICE\n, MVP_PRICE\n, PVI_PRICE\n, UNIT_PRICE\n, FULL_HALF\n, CREATE_TIME\n, REMARK\nORDER BY 1","CREATE_USER":"6","CREATE_DATE":"2021-12-16 09:51:58","DBTYPE":"MES"}]
2022-11-16 18:13:00 [EDI System] info: 
        SELECT * FROM (
            SELECT *
            FROM EDI_QUERY_SETTING
            WHERE 1=1
            AND SETTING_ID = (
                SELECT ID
                FROM CG_CUSTOMER 
                WHERE PARENT = (
                    SELECT ID
                    FROM CG_CUSTOMER 
                    WHERE ID=(
                        SELECT PARENT
                        FROM CG_CUSTOMER 
                        WHERE ID=(
                            SELECT PARENT 
                            FROM CG_CUSTOMER 
                            WHERE ID=:id
                        )
                    )
                )
                AND LOWER(NAME) = 'common'
            )
            AND TYPE IN ('DB','TEXT')
            AND KEY NOT IN (SELECT KEY
                            FROM EDI_QUERY_SETTING
                            WHERE 1=1
                            AND SETTING_ID = :id
                            AND TYPE IN ('DB','TEXT'))
            UNION ALL
            SELECT *
            FROM EDI_QUERY_SETTING
            WHERE 1=1
            AND SETTING_ID = :id
            AND TYPE IN ('DB','TEXT')
        )
        ORDER BY LENGTH(KEY) DESC
    
2022-11-16 18:13:00 [EDI System] info: [{"ID":"137","SETTING_ID":"129","KEY":"todayHH24MISS","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE,'YYYYMMDDHH24MISS') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-11-12 05:20:22","DBTYPE":"MES"},{"ID":"124","SETTING_ID":"129","KEY":"todayHH24_M1H","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE - 1/24,'YYYYMMDDHH24') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-10-15 01:40:03","DBTYPE":"MES"},{"ID":"122","SETTING_ID":"129","KEY":"todayHH24","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE,'YYYYMMDDHH24') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-10-15 11:47:10","DBTYPE":"MES"},{"ID":"115","SETTING_ID":"129","KEY":"today_yy","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE,'YYYYMMDDHH24') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-09-24 08:46:51","DBTYPE":"MES"},{"ID":"130","SETTING_ID":"129","KEY":"today","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE,'YYYYMMDD') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-11-09 03:36:41","DBTYPE":"MES"}]
2022-11-16 18:14:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 18:15:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 18:15:00 [EDI System] info: Job Start Time > {"min":15,"hour":18,"date":16,"month":11,"day":3}
 {"ID":106,"CFG_ID":"141","FILE_NAME":"WO_INPUT_HANA_AS_:todayHH24_1","FILE_DESC":"Siliconworks input assy","FILE_SAVE_FOLDER":"D:/HM_EDI/SILICONWOKRS/OUT","FILE_CHARSET":"utf-8","FILE_TYPE":"csv","DATA_TYPE":"text","FTP_ENV_ID":"106","SEND_FLAG":"Y","NODATASEND":null,"SCHEDULE_MIN":"15","SCHEDULE_HOUR":"*","SCHEDULE_DAY":"*","SCHEDULE_WEEK":"*","SCHEDULE_MONTH":"*","CM_F01":null,"CM_F02":null,"CREATE_DATE":"2021-11-12 05:06:11","CREATE_USER":"6","UPDATE_DATE":"2022-02-16 12:18:37","UPDATE_USER":"6","DELETE_DATE":null,"DELETE_USER":null,"frequency":"15 * * * *"}
2022-11-16 18:15:00 [EDI System] info: 106 >>> makeFileText Function Execute
2022-11-16 18:15:00 [EDI System] info: Job Start Time > {"min":15,"hour":18,"date":16,"month":11,"day":3}
 {"ID":129,"CFG_ID":"166","FILE_NAME":"WO_INPUT_HANA_AS_:todayHH24_1","FILE_DESC":"Siliconworks input assy","FILE_SAVE_FOLDER":"D:/HM_EDI/SILICONWOKRS/OUT","FILE_CHARSET":"utf-8","FILE_TYPE":"csv","DATA_TYPE":"text","FTP_ENV_ID":"106","SEND_FLAG":"Y","NODATASEND":null,"SCHEDULE_MIN":"15","SCHEDULE_HOUR":"*","SCHEDULE_DAY":"*","SCHEDULE_WEEK":"*","SCHEDULE_MONTH":"*","CM_F01":null,"CM_F02":null,"CREATE_DATE":"2022-02-22 16:21:15","CREATE_USER":"6","UPDATE_DATE":null,"UPDATE_USER":null,"DELETE_DATE":null,"DELETE_USER":null,"frequency":"15 * * * *"}
2022-11-16 18:15:00 [EDI System] info: 129 >>> makeFileText Function Execute
2022-11-16 18:15:00 [EDI System] info: Job Start Time > {"min":15,"hour":18,"date":16,"month":11,"day":3}
 {"ID":127,"CFG_ID":"164","FILE_NAME":"WO_INPUT_HANA_AS_:todayHH24_1","FILE_DESC":"Siliconworks input assy","FILE_SAVE_FOLDER":"D:/HM_EDI/SILICONWOKRS/OUT","FILE_CHARSET":"utf-8","FILE_TYPE":"csv","DATA_TYPE":"text","FTP_ENV_ID":"106","SEND_FLAG":"Y","NODATASEND":null,"SCHEDULE_MIN":"15","SCHEDULE_HOUR":"*","SCHEDULE_DAY":"*","SCHEDULE_WEEK":"*","SCHEDULE_MONTH":"*","CM_F01":null,"CM_F02":null,"CREATE_DATE":"2022-02-22 16:13:42","CREATE_USER":"6","UPDATE_DATE":null,"UPDATE_USER":null,"DELETE_DATE":null,"DELETE_USER":null,"frequency":"15 * * * *"}
2022-11-16 18:15:00 [EDI System] info: 127 >>> makeFileText Function Execute
2022-11-16 18:15:00 [EDI System] info: Job Start Time > {"min":15,"hour":18,"date":16,"month":11,"day":3}
 {"ID":128,"CFG_ID":"165","FILE_NAME":"WO_INPUT_HANA_AS_:todayHH24_1","FILE_DESC":"Siliconworks input assy","FILE_SAVE_FOLDER":"D:/HM_EDI/SILICONWOKRS/OUT","FILE_CHARSET":"utf-8","FILE_TYPE":"csv","DATA_TYPE":"text","FTP_ENV_ID":"106","SEND_FLAG":"Y","NODATASEND":null,"SCHEDULE_MIN":"15","SCHEDULE_HOUR":"*","SCHEDULE_DAY":"*","SCHEDULE_WEEK":"*","SCHEDULE_MONTH":"*","CM_F01":null,"CM_F02":null,"CREATE_DATE":"2022-02-22 16:18:38","CREATE_USER":"6","UPDATE_DATE":null,"UPDATE_USER":null,"DELETE_DATE":null,"DELETE_USER":null,"frequency":"15 * * * *"}
2022-11-16 18:15:00 [EDI System] info: 128 >>> makeFileText Function Execute
2022-11-16 18:15:00 [EDI System] info: Job Start Time > {"min":15,"hour":18,"date":16,"month":11,"day":3}
 {"ID":130,"CFG_ID":"167","FILE_NAME":"WO_INPUT_HANA_AS_:todayHH24_1","FILE_DESC":"Siliconworks input assy","FILE_SAVE_FOLDER":"D:/HM_EDI/SILICONWOKRS/OUT","FILE_CHARSET":"utf-8","FILE_TYPE":"csv","DATA_TYPE":"text","FTP_ENV_ID":"106","SEND_FLAG":"Y","NODATASEND":null,"SCHEDULE_MIN":"15","SCHEDULE_HOUR":"*","SCHEDULE_DAY":"*","SCHEDULE_WEEK":"*","SCHEDULE_MONTH":"*","CM_F01":null,"CM_F02":null,"CREATE_DATE":"2022-02-22 16:23:34","CREATE_USER":"6","UPDATE_DATE":null,"UPDATE_USER":null,"DELETE_DATE":null,"DELETE_USER":null,"frequency":"15 * * * *"}
2022-11-16 18:15:00 [EDI System] info: 130 >>> makeFileText Function Execute
2022-11-16 18:15:00 [EDI System] info: SELECT EDI_LOG_SEQ.NEXTVAL AS ID FROM DUAL
2022-11-16 18:15:00 [EDI System] info: SELECT EDI_LOG_SEQ.NEXTVAL AS ID FROM DUAL
2022-11-16 18:15:00 [EDI System] info: SELECT EDI_LOG_SEQ.NEXTVAL AS ID FROM DUAL
2022-11-16 18:15:00 [EDI System] info: SELECT EDI_LOG_SEQ.NEXTVAL AS ID FROM DUAL
2022-11-16 18:15:00 [EDI System] info: SELECT EDI_LOG_SEQ.NEXTVAL AS ID FROM DUAL
2022-11-16 18:15:00 [EDI System] info: SELECT EDI_LOG_SEQ.NEXTVAL AS ID FROM DUAL
2022-11-16 18:15:00 [EDI System] info: SELECT EDI_LOG_SEQ.NEXTVAL AS ID FROM DUAL
2022-11-16 18:15:00 [EDI System] info: SELECT EDI_LOG_SEQ.NEXTVAL AS ID FROM DUAL
2022-11-16 18:15:00 [EDI System] info: SELECT EDI_LOG_SEQ.NEXTVAL AS ID FROM DUAL
2022-11-16 18:15:00 [EDI System] info: SELECT EDI_LOG_SEQ.NEXTVAL AS ID FROM DUAL
2022-11-16 18:15:00 [EDI System] info: [{"ID":11137}]
2022-11-16 18:15:00 [EDI System] info: [{"ID":11138}]
2022-11-16 18:15:00 [EDI System] info: [{"ID":11139}]
2022-11-16 18:15:00 [EDI System] info: [{"ID":11140}]
2022-11-16 18:15:00 [EDI System] info: seq : return Key [{"ID":11137}]
2022-11-16 18:15:00 [EDI System] info: saveAllLogger => ID:11137, NAME:WO_INPUT_HANA_AS_:todayHH24_1, ProcessID:165, Description: Job Start : ID=128, CFG_ID=165, FTP_ENV_ID=106, FILE_NAME=WO_INPUT_HANA_AS_:todayHH24_1, FILE_DESC=Siliconworks input assy, FILE_CHARSET=utf-8, FILE_TYPE=csv
2022-11-16 18:15:00 [EDI System] info: INSERT INTO EDI_LOG(ID, STEP, NAME, PROCESS_ID, DESCRIPTION, CREATE_USER, CREATE_DATE)
    VALUES(:id, :stepId, :name, :process_id, :description, 'DAEMON', TO_CHAR(SYSDATE,'YYYYMMDDHH24MISS'))
2022-11-16 18:15:00 [EDI System] info: seq : return Key [{"ID":11139}]
2022-11-16 18:15:00 [EDI System] info: saveAllLogger => ID:11139, NAME:WO_INPUT_HANA_AS_:todayHH24_1, ProcessID:164, Description: Job Start : ID=127, CFG_ID=164, FTP_ENV_ID=106, FILE_NAME=WO_INPUT_HANA_AS_:todayHH24_1, FILE_DESC=Siliconworks input assy, FILE_CHARSET=utf-8, FILE_TYPE=csv
2022-11-16 18:15:00 [EDI System] info: INSERT INTO EDI_LOG(ID, STEP, NAME, PROCESS_ID, DESCRIPTION, CREATE_USER, CREATE_DATE)
    VALUES(:id, :stepId, :name, :process_id, :description, 'DAEMON', TO_CHAR(SYSDATE,'YYYYMMDDHH24MISS'))
2022-11-16 18:15:00 [EDI System] info: seq : return Key [{"ID":11138}]
2022-11-16 18:15:00 [EDI System] info: saveAllLogger => ID:11138, NAME:WO_INPUT_HANA_AS_:todayHH24_1, ProcessID:166, Description: Job Start : ID=129, CFG_ID=166, FTP_ENV_ID=106, FILE_NAME=WO_INPUT_HANA_AS_:todayHH24_1, FILE_DESC=Siliconworks input assy, FILE_CHARSET=utf-8, FILE_TYPE=csv
2022-11-16 18:15:00 [EDI System] info: INSERT INTO EDI_LOG(ID, STEP, NAME, PROCESS_ID, DESCRIPTION, CREATE_USER, CREATE_DATE)
    VALUES(:id, :stepId, :name, :process_id, :description, 'DAEMON', TO_CHAR(SYSDATE,'YYYYMMDDHH24MISS'))
2022-11-16 18:15:00 [EDI System] info: seq : return Key [{"ID":11140}]
2022-11-16 18:15:00 [EDI System] info: saveAllLogger => ID:11140, NAME:WO_INPUT_HANA_AS_:todayHH24_1, ProcessID:141, Description: Job Start : ID=106, CFG_ID=141, FTP_ENV_ID=106, FILE_NAME=WO_INPUT_HANA_AS_:todayHH24_1, FILE_DESC=Siliconworks input assy, FILE_CHARSET=utf-8, FILE_TYPE=csv
2022-11-16 18:15:00 [EDI System] info: INSERT INTO EDI_LOG(ID, STEP, NAME, PROCESS_ID, DESCRIPTION, CREATE_USER, CREATE_DATE)
    VALUES(:id, :stepId, :name, :process_id, :description, 'DAEMON', TO_CHAR(SYSDATE,'YYYYMMDDHH24MISS'))
2022-11-16 18:15:00 [EDI System] info: Insert successful = SQL: INSERT INTO EDI_LOG(ID, STEP, NAME, PROCESS_ID, DESCRIPTION, CREATE_USER, CREATE_DATE)
    VALUES(:id, :stepId, :name, :process_id, :description, 'DAEMON', TO_CHAR(SYSDATE,'YYYYMMDDHH24MISS')) | Params: {"id":11137,"stepId":"1","name":"WO_INPUT_HANA_AS_:todayHH24_1","process_id":"165","description":"Job Start : ID=128, CFG_ID=165, FTP_ENV_ID=106, FILE_NAME=WO_INPUT_HANA_AS_:todayHH24_1, FILE_DESC=Siliconworks input assy, FILE_CHARSET=utf-8, FILE_TYPE=csv"} / 1
2022-11-16 18:15:00 [EDI System] info: [{"ID":11141}]
2022-11-16 18:15:00 [EDI System] info: seq : return Key [{"ID":11141}]
2022-11-16 18:15:00 [EDI System] info: saveAllLogger => ID:11141, NAME:WO_INPUT_HANA_AS_:todayHH24_1, ProcessID:167, Description: Job Start : ID=130, CFG_ID=167, FTP_ENV_ID=106, FILE_NAME=WO_INPUT_HANA_AS_:todayHH24_1, FILE_DESC=Siliconworks input assy, FILE_CHARSET=utf-8, FILE_TYPE=csv
2022-11-16 18:15:00 [EDI System] info: INSERT INTO EDI_LOG(ID, STEP, NAME, PROCESS_ID, DESCRIPTION, CREATE_USER, CREATE_DATE)
    VALUES(:id, :stepId, :name, :process_id, :description, 'DAEMON', TO_CHAR(SYSDATE,'YYYYMMDDHH24MISS'))
2022-11-16 18:15:00 [EDI System] info: Insert successful = SQL: INSERT INTO EDI_LOG(ID, STEP, NAME, PROCESS_ID, DESCRIPTION, CREATE_USER, CREATE_DATE)
    VALUES(:id, :stepId, :name, :process_id, :description, 'DAEMON', TO_CHAR(SYSDATE,'YYYYMMDDHH24MISS')) | Params: {"id":11138,"stepId":"1","name":"WO_INPUT_HANA_AS_:todayHH24_1","process_id":"166","description":"Job Start : ID=129, CFG_ID=166, FTP_ENV_ID=106, FILE_NAME=WO_INPUT_HANA_AS_:todayHH24_1, FILE_DESC=Siliconworks input assy, FILE_CHARSET=utf-8, FILE_TYPE=csv"} / 1
2022-11-16 18:15:00 [EDI System] info: 
    SELECT *
    FROM (
        SELECT ROWNUM,A.*
            FROM EDI_QUERY_SETTING A
            WHERE SETTING_ID = :id
            AND TYPE='Main'
            ORDER BY ID DESC
        ) 
    WHERE ROWNUM='1'
    
2022-11-16 18:15:00 [EDI System] info: Insert successful = SQL: INSERT INTO EDI_LOG(ID, STEP, NAME, PROCESS_ID, DESCRIPTION, CREATE_USER, CREATE_DATE)
    VALUES(:id, :stepId, :name, :process_id, :description, 'DAEMON', TO_CHAR(SYSDATE,'YYYYMMDDHH24MISS')) | Params: {"id":11139,"stepId":"1","name":"WO_INPUT_HANA_AS_:todayHH24_1","process_id":"164","description":"Job Start : ID=127, CFG_ID=164, FTP_ENV_ID=106, FILE_NAME=WO_INPUT_HANA_AS_:todayHH24_1, FILE_DESC=Siliconworks input assy, FILE_CHARSET=utf-8, FILE_TYPE=csv"} / 1
2022-11-16 18:15:00 [EDI System] info: 
    SELECT *
    FROM (
        SELECT ROWNUM,A.*
            FROM EDI_QUERY_SETTING A
            WHERE SETTING_ID = :id
            AND TYPE='Main'
            ORDER BY ID DESC
        ) 
    WHERE ROWNUM='1'
    
2022-11-16 18:15:00 [EDI System] info: 
    SELECT *
    FROM (
        SELECT ROWNUM,A.*
            FROM EDI_QUERY_SETTING A
            WHERE SETTING_ID = :id
            AND TYPE='Main'
            ORDER BY ID DESC
        ) 
    WHERE ROWNUM='1'
    
2022-11-16 18:15:00 [EDI System] info: Insert successful = SQL: INSERT INTO EDI_LOG(ID, STEP, NAME, PROCESS_ID, DESCRIPTION, CREATE_USER, CREATE_DATE)
    VALUES(:id, :stepId, :name, :process_id, :description, 'DAEMON', TO_CHAR(SYSDATE,'YYYYMMDDHH24MISS')) | Params: {"id":11140,"stepId":"1","name":"WO_INPUT_HANA_AS_:todayHH24_1","process_id":"141","description":"Job Start : ID=106, CFG_ID=141, FTP_ENV_ID=106, FILE_NAME=WO_INPUT_HANA_AS_:todayHH24_1, FILE_DESC=Siliconworks input assy, FILE_CHARSET=utf-8, FILE_TYPE=csv"} / 1
2022-11-16 18:15:00 [EDI System] info: Insert successful = SQL: INSERT INTO EDI_LOG(ID, STEP, NAME, PROCESS_ID, DESCRIPTION, CREATE_USER, CREATE_DATE)
    VALUES(:id, :stepId, :name, :process_id, :description, 'DAEMON', TO_CHAR(SYSDATE,'YYYYMMDDHH24MISS')) | Params: {"id":11141,"stepId":"1","name":"WO_INPUT_HANA_AS_:todayHH24_1","process_id":"167","description":"Job Start : ID=130, CFG_ID=167, FTP_ENV_ID=106, FILE_NAME=WO_INPUT_HANA_AS_:todayHH24_1, FILE_DESC=Siliconworks input assy, FILE_CHARSET=utf-8, FILE_TYPE=csv"} / 1
2022-11-16 18:15:00 [EDI System] info: 
    SELECT *
    FROM (
        SELECT ROWNUM,A.*
            FROM EDI_QUERY_SETTING A
            WHERE SETTING_ID = :id
            AND TYPE='Main'
            ORDER BY ID DESC
        ) 
    WHERE ROWNUM='1'
    
2022-11-16 18:15:00 [EDI System] info: 
    SELECT *
    FROM (
        SELECT ROWNUM,A.*
            FROM EDI_QUERY_SETTING A
            WHERE SETTING_ID = :id
            AND TYPE='Main'
            ORDER BY ID DESC
        ) 
    WHERE ROWNUM='1'
    
2022-11-16 18:15:00 [EDI System] info: [{"ROWNUM":1,"ID":"167","SETTING_ID":"165","KEY":null,"TYPE":"Main","QUERY":"SELECT 'Interface ID'\n || ',' || 'Interface Line ID'\n || ',' || 'SUPPLIER_CODE'\n || ',' || 'PROCESSING_CODE'\n || ',' || 'SIW_WO_NO'\n || ',' || 'SUPPLIER_WO_NO'\n || ',' || 'ASSY_ITEM_CODE'\n || ',' || 'ASSY_QTY'\n || ',' || 'UOM_CODE'\n || ',' || 'WORK_START_DATE'\n || ',' || 'COMPONENT_ITEM_CODE'\n || ',' || 'COMPONENT_LOT_ID'\n || ',' || 'COMPONENT_QTY'\n || ',' || 'REMARK1'\n || ',' || 'CANCEL_FLAG'\n || ',' || 'CREATION_DATE'\n\n  FROM IEDISIW_INPUT_INFO\n WHERE CUTOFF_DT = :todayHH24 -- TO_CHAR(SYSDATE, 'YYYYMMDDHH24')\n   AND PROCESSING_CODE = 'AS'\n   AND ROWNUM = 1\n\nUNION ALL\n\nSELECT IF_ID \n || ',' || IF_LINE_ID \n || ',' || SUPPLIER_CODE \n || ',' || PROCESSING_CODE \n || ',' || SIW_WO_NO \n || ',' || SUPPLIER_WO_NO \n || ',' || ASSY_ITEM_CODE \n || ',' || ASSY_QTY \n || ',' || UOM_CODE \n || ',' || WORK_START_DATE \n || ',' || COMPONENT_ITEM_CODE\n || ',' || COMPONENT_LOT_ID \n || ',' || COMPONENT_QTY \n || ',' || REMARK1 \n || ',' || CANCEL_FLAG \n || ',' || CREATION_DATE \n\n  FROM IEDISIW_INPUT_INFO\n WHERE CUTOFF_DT = :todayHH24 -- TO_CHAR(SYSDATE, 'YYYYMMDDHH24')\n   AND PROCESSING_CODE = 'AS'","CREATE_USER":"6","CREATE_DATE":"2022-02-22 16:18:38","DBTYPE":null}]
2022-11-16 18:15:00 [EDI System] info: 
        SELECT * FROM (
            SELECT *
            FROM EDI_QUERY_SETTING
            WHERE 1=1
            AND SETTING_ID = (
                SELECT ID
                FROM CG_CUSTOMER 
                WHERE PARENT = (
                    SELECT ID
                    FROM CG_CUSTOMER 
                    WHERE ID=(
                        SELECT PARENT
                        FROM CG_CUSTOMER 
                        WHERE ID=(
                            SELECT PARENT 
                            FROM CG_CUSTOMER 
                            WHERE ID=:id
                        )
                    )
                )
                AND LOWER(NAME) = 'common'
            )
            AND TYPE IN ('DB','TEXT')
            AND KEY NOT IN (SELECT KEY
                            FROM EDI_QUERY_SETTING
                            WHERE 1=1
                            AND SETTING_ID = :id
                            AND TYPE IN ('DB','TEXT'))
            UNION ALL
            SELECT *
            FROM EDI_QUERY_SETTING
            WHERE 1=1
            AND SETTING_ID = :id
            AND TYPE IN ('DB','TEXT')
        )
        ORDER BY LENGTH(KEY) DESC
    
2022-11-16 18:15:00 [EDI System] info: []
2022-11-16 18:15:00 [EDI System] info: 
        SELECT * FROM (
            SELECT *
            FROM EDI_QUERY_SETTING
            WHERE 1=1
            AND SETTING_ID = (
                SELECT ID
                FROM CG_CUSTOMER 
                WHERE PARENT = (
                    SELECT ID
                    FROM CG_CUSTOMER 
                    WHERE ID=(
                        SELECT PARENT
                        FROM CG_CUSTOMER 
                        WHERE ID=(
                            SELECT PARENT 
                            FROM CG_CUSTOMER 
                            WHERE ID=:id
                        )
                    )
                )
                AND LOWER(NAME) = 'common'
            )
            AND TYPE IN ('DB','TEXT')
            AND KEY NOT IN (SELECT KEY
                            FROM EDI_QUERY_SETTING
                            WHERE 1=1
                            AND SETTING_ID = :id
                            AND TYPE IN ('DB','TEXT'))
            UNION ALL
            SELECT *
            FROM EDI_QUERY_SETTING
            WHERE 1=1
            AND SETTING_ID = :id
            AND TYPE IN ('DB','TEXT')
        )
        ORDER BY LENGTH(KEY) DESC
    
2022-11-16 18:15:00 [EDI System] info: []
2022-11-16 18:15:00 [EDI System] info: 
        SELECT * FROM (
            SELECT *
            FROM EDI_QUERY_SETTING
            WHERE 1=1
            AND SETTING_ID = (
                SELECT ID
                FROM CG_CUSTOMER 
                WHERE PARENT = (
                    SELECT ID
                    FROM CG_CUSTOMER 
                    WHERE ID=(
                        SELECT PARENT
                        FROM CG_CUSTOMER 
                        WHERE ID=(
                            SELECT PARENT 
                            FROM CG_CUSTOMER 
                            WHERE ID=:id
                        )
                    )
                )
                AND LOWER(NAME) = 'common'
            )
            AND TYPE IN ('DB','TEXT')
            AND KEY NOT IN (SELECT KEY
                            FROM EDI_QUERY_SETTING
                            WHERE 1=1
                            AND SETTING_ID = :id
                            AND TYPE IN ('DB','TEXT'))
            UNION ALL
            SELECT *
            FROM EDI_QUERY_SETTING
            WHERE 1=1
            AND SETTING_ID = :id
            AND TYPE IN ('DB','TEXT')
        )
        ORDER BY LENGTH(KEY) DESC
    
2022-11-16 18:15:00 [EDI System] info: [{"ROWNUM":1,"ID":"169","SETTING_ID":"167","KEY":null,"TYPE":"Main","QUERY":"SELECT 'Interface ID'\n || ',' || 'Interface Line ID'\n || ',' || 'SUPPLIER_CODE'\n || ',' || 'PROCESSING_CODE'\n || ',' || 'SIW_WO_NO'\n || ',' || 'SUPPLIER_WO_NO'\n || ',' || 'ASSY_ITEM_CODE'\n || ',' || 'ASSY_QTY'\n || ',' || 'UOM_CODE'\n || ',' || 'WORK_START_DATE'\n || ',' || 'COMPONENT_ITEM_CODE'\n || ',' || 'COMPONENT_LOT_ID'\n || ',' || 'COMPONENT_QTY'\n || ',' || 'REMARK1'\n || ',' || 'CANCEL_FLAG'\n || ',' || 'CREATION_DATE'\n\n  FROM IEDISIW_INPUT_INFO\n WHERE CUTOFF_DT = :todayHH24 -- TO_CHAR(SYSDATE, 'YYYYMMDDHH24')\n   AND PROCESSING_CODE = 'AS'\n   AND ROWNUM = 1\n\tAND ROWNUM = 2\n    \nUNION ALL\n\nSELECT IF_ID \n || ',' || IF_LINE_ID \n || ',' || SUPPLIER_CODE \n || ',' || PROCESSING_CODE \n || ',' || SIW_WO_NO \n || ',' || SUPPLIER_WO_NO \n || ',' || ASSY_ITEM_CODE \n || ',' || ASSY_QTY \n || ',' || UOM_CODE \n || ',' || WORK_START_DATE \n || ',' || COMPONENT_ITEM_CODE\n || ',' || COMPONENT_LOT_ID \n || ',' || COMPONENT_QTY \n || ',' || REMARK1 \n || ',' || CANCEL_FLAG \n || ',' || CREATION_DATE \n\n  FROM IEDISIW_INPUT_INFO\n WHERE CUTOFF_DT = :todayHH24 -- TO_CHAR(SYSDATE, 'YYYYMMDDHH24')\n   AND PROCESSING_CODE = 'AS'","CREATE_USER":"6","CREATE_DATE":"2022-02-22 16:23:34","DBTYPE":"MES"}]
2022-11-16 18:15:00 [EDI System] info: 
        SELECT * FROM (
            SELECT *
            FROM EDI_QUERY_SETTING
            WHERE 1=1
            AND SETTING_ID = (
                SELECT ID
                FROM CG_CUSTOMER 
                WHERE PARENT = (
                    SELECT ID
                    FROM CG_CUSTOMER 
                    WHERE ID=(
                        SELECT PARENT
                        FROM CG_CUSTOMER 
                        WHERE ID=(
                            SELECT PARENT 
                            FROM CG_CUSTOMER 
                            WHERE ID=:id
                        )
                    )
                )
                AND LOWER(NAME) = 'common'
            )
            AND TYPE IN ('DB','TEXT')
            AND KEY NOT IN (SELECT KEY
                            FROM EDI_QUERY_SETTING
                            WHERE 1=1
                            AND SETTING_ID = :id
                            AND TYPE IN ('DB','TEXT'))
            UNION ALL
            SELECT *
            FROM EDI_QUERY_SETTING
            WHERE 1=1
            AND SETTING_ID = :id
            AND TYPE IN ('DB','TEXT')
        )
        ORDER BY LENGTH(KEY) DESC
    
2022-11-16 18:15:00 [EDI System] info: [{"ROWNUM":4,"ID":"166","SETTING_ID":"141","KEY":null,"TYPE":"Main","QUERY":"SELECT 'Interface ID'\n || ',' || 'Interface Line ID'\n || ',' || 'SUPPLIER_CODE'\n || ',' || 'PROCESSING_CODE'\n || ',' || 'SIW_WO_NO'\n || ',' || 'SUPPLIER_WO_NO'\n || ',' || 'ASSY_ITEM_CODE'\n || ',' || 'ASSY_QTY'\n || ',' || 'UOM_CODE'\n || ',' || 'WORK_START_DATE'\n || ',' || 'COMPONENT_ITEM_CODE'\n || ',' || 'COMPONENT_LOT_ID'\n || ',' || 'COMPONENT_QTY'\n || ',' || 'REMARK1'\n || ',' || 'CANCEL_FLAG'\n || ',' || 'CREATION_DATE'\n\n  FROM IEDISIW_INPUT_INFO\n WHERE CUTOFF_DT = :todayHH24 -- TO_CHAR(SYSDATE, 'YYYYMMDDHH24')\n   AND PROCESSING_CODE = 'AS'\n   AND ROWNUM = 1\n\tAND ROWNUM = 2\n    \nUNION ALL\n\nSELECT IF_ID \n || ',' || IF_LINE_ID \n || ',' || SUPPLIER_CODE \n || ',' || PROCESSING_CODE \n || ',' || SIW_WO_NO \n || ',' || SUPPLIER_WO_NO \n || ',' || ASSY_ITEM_CODE \n || ',' || ASSY_QTY \n || ',' || UOM_CODE \n || ',' || WORK_START_DATE \n || ',' || COMPONENT_ITEM_CODE\n || ',' || COMPONENT_LOT_ID \n || ',' || COMPONENT_QTY \n || ',' || REMARK1 \n || ',' || CANCEL_FLAG \n || ',' || CREATION_DATE \n\n  FROM IEDISIW_INPUT_INFO\n WHERE CUTOFF_DT = :todayHH24 -- TO_CHAR(SYSDATE, 'YYYYMMDDHH24')\n   AND PROCESSING_CODE = 'AS'","CREATE_USER":"6","CREATE_DATE":"2022-02-16 16:42:57","DBTYPE":"MES"}]
2022-11-16 18:15:00 [EDI System] info: 
        SELECT * FROM (
            SELECT *
            FROM EDI_QUERY_SETTING
            WHERE 1=1
            AND SETTING_ID = (
                SELECT ID
                FROM CG_CUSTOMER 
                WHERE PARENT = (
                    SELECT ID
                    FROM CG_CUSTOMER 
                    WHERE ID=(
                        SELECT PARENT
                        FROM CG_CUSTOMER 
                        WHERE ID=(
                            SELECT PARENT 
                            FROM CG_CUSTOMER 
                            WHERE ID=:id
                        )
                    )
                )
                AND LOWER(NAME) = 'common'
            )
            AND TYPE IN ('DB','TEXT')
            AND KEY NOT IN (SELECT KEY
                            FROM EDI_QUERY_SETTING
                            WHERE 1=1
                            AND SETTING_ID = :id
                            AND TYPE IN ('DB','TEXT'))
            UNION ALL
            SELECT *
            FROM EDI_QUERY_SETTING
            WHERE 1=1
            AND SETTING_ID = :id
            AND TYPE IN ('DB','TEXT')
        )
        ORDER BY LENGTH(KEY) DESC
    
2022-11-16 18:15:00 [EDI System] info: [{"ID":"133","SETTING_ID":"139","KEY":"todayHH24_M1H","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE - 1/24,'YYYYMMDDHH24') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-11-12 05:01:01","DBTYPE":"MES"},{"ID":"132","SETTING_ID":"139","KEY":"todayHH24","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE,'YYYYMMDDHH24') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-11-12 05:01:01","DBTYPE":"MES"},{"ID":"131","SETTING_ID":"139","KEY":"today_yy","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE,'YYYYMMDDHH24') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-11-12 05:01:01","DBTYPE":"MES"},{"ID":"134","SETTING_ID":"139","KEY":"today","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE,'YYYYMMDDHH24') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-11-12 05:01:01","DBTYPE":"MES"}]
2022-11-16 18:15:00 [EDI System] info: [{"ID":"133","SETTING_ID":"139","KEY":"todayHH24_M1H","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE - 1/24,'YYYYMMDDHH24') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-11-12 05:01:01","DBTYPE":"MES"},{"ID":"132","SETTING_ID":"139","KEY":"todayHH24","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE,'YYYYMMDDHH24') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-11-12 05:01:01","DBTYPE":"MES"},{"ID":"131","SETTING_ID":"139","KEY":"today_yy","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE,'YYYYMMDDHH24') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-11-12 05:01:01","DBTYPE":"MES"},{"ID":"134","SETTING_ID":"139","KEY":"today","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE,'YYYYMMDDHH24') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-11-12 05:01:01","DBTYPE":"MES"}]
2022-11-16 18:15:00 [EDI System] info: 
    SELECT *
    FROM EDI_ENV_SETTING WHERE CFG_ID=:id
    
2022-11-16 18:15:00 [EDI System] info: [{"ID":"133","SETTING_ID":"139","KEY":"todayHH24_M1H","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE - 1/24,'YYYYMMDDHH24') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-11-12 05:01:01","DBTYPE":"MES"},{"ID":"132","SETTING_ID":"139","KEY":"todayHH24","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE,'YYYYMMDDHH24') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-11-12 05:01:01","DBTYPE":"MES"},{"ID":"131","SETTING_ID":"139","KEY":"today_yy","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE,'YYYYMMDDHH24') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-11-12 05:01:01","DBTYPE":"MES"},{"ID":"134","SETTING_ID":"139","KEY":"today","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE,'YYYYMMDDHH24') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-11-12 05:01:01","DBTYPE":"MES"}]
2022-11-16 18:15:00 [EDI System] info: 
    SELECT *
    FROM EDI_ENV_SETTING WHERE CFG_ID=:id
    
2022-11-16 18:15:00 [EDI System] info: [{"ID":"133","SETTING_ID":"139","KEY":"todayHH24_M1H","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE - 1/24,'YYYYMMDDHH24') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-11-12 05:01:01","DBTYPE":"MES"},{"ID":"132","SETTING_ID":"139","KEY":"todayHH24","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE,'YYYYMMDDHH24') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-11-12 05:01:01","DBTYPE":"MES"},{"ID":"131","SETTING_ID":"139","KEY":"today_yy","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE,'YYYYMMDDHH24') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-11-12 05:01:01","DBTYPE":"MES"},{"ID":"134","SETTING_ID":"139","KEY":"today","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE,'YYYYMMDDHH24') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-11-12 05:01:01","DBTYPE":"MES"}]
2022-11-16 18:15:00 [EDI System] info: [{"ID":"133","SETTING_ID":"139","KEY":"todayHH24_M1H","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE - 1/24,'YYYYMMDDHH24') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-11-12 05:01:01","DBTYPE":"MES"},{"ID":"132","SETTING_ID":"139","KEY":"todayHH24","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE,'YYYYMMDDHH24') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-11-12 05:01:01","DBTYPE":"MES"},{"ID":"131","SETTING_ID":"139","KEY":"today_yy","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE,'YYYYMMDDHH24') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-11-12 05:01:01","DBTYPE":"MES"},{"ID":"134","SETTING_ID":"139","KEY":"today","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE,'YYYYMMDDHH24') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-11-12 05:01:01","DBTYPE":"MES"}]
2022-11-16 18:15:00 [EDI System] info: [{"ID":"141","CFG_ID":"166","ITEM":"between","SET_TYPE":null,"VALUE":"vetween","NOTE":"1","UPDATE_USER":null,"UPDATE_DATE":null,"CREATE_USER":"6","CREATE_DATE":"2022-02-22 16:21:15"}]
2022-11-16 18:15:00 [EDI System] info: 
  SELECT *
  FROM EDI_FILE_HEADNTAIL WHERE CFG_ID=:id
  
2022-11-16 18:15:00 [EDI System] info: [{"ID":"139","CFG_ID":"164","ITEM":"between","SET_TYPE":null,"VALUE":"vetween","NOTE":"1","UPDATE_USER":null,"UPDATE_DATE":null,"CREATE_USER":"6","CREATE_DATE":"2022-02-22 16:13:42"}]
2022-11-16 18:15:00 [EDI System] info: 
  SELECT *
  FROM EDI_FILE_HEADNTAIL WHERE CFG_ID=:id
  
2022-11-16 18:15:00 [EDI System] info: [{"ID":"152","CFG_ID":"166","DATA_TYPE":"h_sql","NOTE":"test\\","VALUE":"select 1 from dual","CM_F01":null,"CM_F02":null,"UPDATE_USER":null,"UPDATE_DATE":null,"CREATE_USER":"6","CREATE_DATE":"2022-02-22 16:21:15","DELETE_DATE":null,"DELETE_USER":null},{"ID":"153","CFG_ID":"166","DATA_TYPE":"h_text","NOTE":"test","VALUE":"value","CM_F01":null,"CM_F02":null,"UPDATE_USER":null,"UPDATE_DATE":null,"CREATE_USER":"6","CREATE_DATE":"2022-02-22 16:21:15","DELETE_DATE":null,"DELETE_USER":null}]
2022-11-16 18:15:00 [EDI System] info: [{"ID":"149","CFG_ID":"164","DATA_TYPE":"h_text","NOTE":"test","VALUE":"value","CM_F01":null,"CM_F02":null,"UPDATE_USER":null,"UPDATE_DATE":null,"CREATE_USER":"6","CREATE_DATE":"2022-02-22 16:13:42","DELETE_DATE":null,"DELETE_USER":null},{"ID":"148","CFG_ID":"164","DATA_TYPE":"h_sql","NOTE":"test\\","VALUE":"select 1 from dual","CM_F01":null,"CM_F02":null,"UPDATE_USER":null,"UPDATE_DATE":null,"CREATE_USER":"6","CREATE_DATE":"2022-02-22 16:13:42","DELETE_DATE":null,"DELETE_USER":null}]
2022-11-16 18:16:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 18:17:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 18:17:00 [EDI System] info: Job Start Time > {"min":17,"hour":18,"date":16,"month":11,"day":3}
 {"ID":122,"CFG_ID":"160","FILE_NAME":"CMEQPUNT_HM:today_2","FILE_DESC":"SEC CMEQPUNT 1/1day","FILE_SAVE_FOLDER":"D:/HM_EDI/SEC/OUT","FILE_CHARSET":"ascii","FILE_TYPE":"ff","DATA_TYPE":"text","FTP_ENV_ID":"100","SEND_FLAG":"Y","NODATASEND":"false","SCHEDULE_MIN":"17","SCHEDULE_HOUR":"*","SCHEDULE_DAY":"*","SCHEDULE_WEEK":"*","SCHEDULE_MONTH":"*","CM_F01":null,"CM_F02":null,"CREATE_DATE":"2021-12-14 11:47:39","CREATE_USER":"6","UPDATE_DATE":"2022-01-06 04:38:43","UPDATE_USER":"6","DELETE_DATE":null,"DELETE_USER":null,"frequency":"17 * * * *"}
2022-11-16 18:17:00 [EDI System] info: 122 >>> makeFileText Function Execute
2022-11-16 18:17:00 [EDI System] info: Job Start Time > {"min":17,"hour":18,"date":16,"month":11,"day":3}
 {"ID":123,"CFG_ID":"161","FILE_NAME":"WO_INPUT_HANA_FT_:todayHH24_1","FILE_DESC":"Siliconworks input TEST","FILE_SAVE_FOLDER":"D:/HM_EDI/SILICONWOKRS/OUT","FILE_CHARSET":"utf-8","FILE_TYPE":"csv","DATA_TYPE":"text","FTP_ENV_ID":"106","SEND_FLAG":"Y","NODATASEND":"false","SCHEDULE_MIN":"17","SCHEDULE_HOUR":"*","SCHEDULE_DAY":"*","SCHEDULE_WEEK":"*","SCHEDULE_MONTH":"*","CM_F01":null,"CM_F02":null,"CREATE_DATE":"2022-01-05 10:54:36","CREATE_USER":"6","UPDATE_DATE":"2022-02-15 11:38:03","UPDATE_USER":"6","DELETE_DATE":null,"DELETE_USER":null,"frequency":"17 * * * *"}
2022-11-16 18:17:00 [EDI System] info: 123 >>> makeFileText Function Execute
2022-11-16 18:17:00 [EDI System] info: SELECT EDI_LOG_SEQ.NEXTVAL AS ID FROM DUAL
2022-11-16 18:17:00 [EDI System] info: SELECT EDI_LOG_SEQ.NEXTVAL AS ID FROM DUAL
2022-11-16 18:17:00 [EDI System] info: SELECT EDI_LOG_SEQ.NEXTVAL AS ID FROM DUAL
2022-11-16 18:17:00 [EDI System] info: SELECT EDI_LOG_SEQ.NEXTVAL AS ID FROM DUAL
2022-11-16 18:17:00 [EDI System] info: [{"ID":11142}]
2022-11-16 18:17:00 [EDI System] info: seq : return Key [{"ID":11142}]
2022-11-16 18:17:00 [EDI System] info: saveAllLogger => ID:11142, NAME:WO_INPUT_HANA_FT_:todayHH24_1, ProcessID:161, Description: Job Start : ID=123, CFG_ID=161, FTP_ENV_ID=106, FILE_NAME=WO_INPUT_HANA_FT_:todayHH24_1, FILE_DESC=Siliconworks input TEST, FILE_CHARSET=utf-8, FILE_TYPE=csv
2022-11-16 18:17:00 [EDI System] info: INSERT INTO EDI_LOG(ID, STEP, NAME, PROCESS_ID, DESCRIPTION, CREATE_USER, CREATE_DATE)
    VALUES(:id, :stepId, :name, :process_id, :description, 'DAEMON', TO_CHAR(SYSDATE,'YYYYMMDDHH24MISS'))
2022-11-16 18:17:00 [EDI System] info: [{"ID":11143}]
2022-11-16 18:17:00 [EDI System] info: seq : return Key [{"ID":11143}]
2022-11-16 18:17:00 [EDI System] info: saveAllLogger => ID:11143, NAME:CMEQPUNT_HM:today_2, ProcessID:160, Description: Job Start : ID=122, CFG_ID=160, FTP_ENV_ID=100, FILE_NAME=CMEQPUNT_HM:today_2, FILE_DESC=SEC CMEQPUNT 1/1day, FILE_CHARSET=ascii, FILE_TYPE=ff
2022-11-16 18:17:00 [EDI System] info: INSERT INTO EDI_LOG(ID, STEP, NAME, PROCESS_ID, DESCRIPTION, CREATE_USER, CREATE_DATE)
    VALUES(:id, :stepId, :name, :process_id, :description, 'DAEMON', TO_CHAR(SYSDATE,'YYYYMMDDHH24MISS'))
2022-11-16 18:17:00 [EDI System] info: Insert successful = SQL: INSERT INTO EDI_LOG(ID, STEP, NAME, PROCESS_ID, DESCRIPTION, CREATE_USER, CREATE_DATE)
    VALUES(:id, :stepId, :name, :process_id, :description, 'DAEMON', TO_CHAR(SYSDATE,'YYYYMMDDHH24MISS')) | Params: {"id":11142,"stepId":"1","name":"WO_INPUT_HANA_FT_:todayHH24_1","process_id":"161","description":"Job Start : ID=123, CFG_ID=161, FTP_ENV_ID=106, FILE_NAME=WO_INPUT_HANA_FT_:todayHH24_1, FILE_DESC=Siliconworks input TEST, FILE_CHARSET=utf-8, FILE_TYPE=csv"} / 1
2022-11-16 18:17:00 [EDI System] info: 
    SELECT *
    FROM (
        SELECT ROWNUM,A.*
            FROM EDI_QUERY_SETTING A
            WHERE SETTING_ID = :id
            AND TYPE='Main'
            ORDER BY ID DESC
        ) 
    WHERE ROWNUM='1'
    
2022-11-16 18:17:00 [EDI System] info: Insert successful = SQL: INSERT INTO EDI_LOG(ID, STEP, NAME, PROCESS_ID, DESCRIPTION, CREATE_USER, CREATE_DATE)
    VALUES(:id, :stepId, :name, :process_id, :description, 'DAEMON', TO_CHAR(SYSDATE,'YYYYMMDDHH24MISS')) | Params: {"id":11143,"stepId":"1","name":"CMEQPUNT_HM:today_2","process_id":"160","description":"Job Start : ID=122, CFG_ID=160, FTP_ENV_ID=100, FILE_NAME=CMEQPUNT_HM:today_2, FILE_DESC=SEC CMEQPUNT 1/1day, FILE_CHARSET=ascii, FILE_TYPE=ff"} / 1
2022-11-16 18:17:00 [EDI System] info: 
    SELECT *
    FROM (
        SELECT ROWNUM,A.*
            FROM EDI_QUERY_SETTING A
            WHERE SETTING_ID = :id
            AND TYPE='Main'
            ORDER BY ID DESC
        ) 
    WHERE ROWNUM='1'
    
2022-11-16 18:17:00 [EDI System] info: [{"ROWNUM":2,"ID":"160","SETTING_ID":"161","KEY":null,"TYPE":"Main","QUERY":"SELECT 'Interface ID'\n || ',' || 'Interface Line ID'\n || ',' || 'SUPPLIER_CODE'\n || ',' || 'PROCESSING_CODE'\n || ',' || 'SIW_WO_NO'\n || ',' || 'SUPPLIER_WO_NO'\n || ',' || 'ASSY_ITEM_CODE'\n || ',' || 'ASSY_QTY'\n || ',' || 'UOM_CODE'\n || ',' || 'WORK_START_DATE'\n || ',' || 'COMPONENT_ITEM_CODE'\n || ',' || 'COMPONENT_LOT_ID'\n || ',' || 'COMPONENT_QTY'\n || ',' || 'REMARK1'\n || ',' || 'CANCEL_FLAG'\n || ',' || 'CREATION_DATE'\n\n  FROM IEDISIW_INPUT_INFO\n WHERE CUTOFF_DT = :todayHH24 -- TO_CHAR(SYSDATE, 'YYYYMMDDHH24')\n   AND PROCESSING_CODE = 'FT'\n   AND ROWNUM = 1\n\nUNION ALL\n\nSELECT IF_ID \n || ',' || IF_LINE_ID \n || ',' || SUPPLIER_CODE \n || ',' || PROCESSING_CODE \n || ',' || SIW_WO_NO \n || ',' || SUPPLIER_WO_NO \n || ',' || ASSY_ITEM_CODE \n || ',' || ASSY_QTY \n || ',' || UOM_CODE \n || ',' || WORK_START_DATE \n || ',' || COMPONENT_ITEM_CODE\n || ',' || COMPONENT_LOT_ID \n || ',' || COMPONENT_QTY \n || ',' || REMARK1 \n || ',' || CANCEL_FLAG \n || ',' || CREATION_DATE \n\n  FROM IEDISIW_INPUT_INFO\n WHERE CUTOFF_DT = :todayHH24 -- TO_CHAR(SYSDATE, 'YYYYMMDDHH24')\n   AND PROCESSING_CODE = 'FT'","CREATE_USER":"6","CREATE_DATE":"2022-01-11 05:18:23","DBTYPE":"MES"}]
2022-11-16 18:17:00 [EDI System] info: 
        SELECT * FROM (
            SELECT *
            FROM EDI_QUERY_SETTING
            WHERE 1=1
            AND SETTING_ID = (
                SELECT ID
                FROM CG_CUSTOMER 
                WHERE PARENT = (
                    SELECT ID
                    FROM CG_CUSTOMER 
                    WHERE ID=(
                        SELECT PARENT
                        FROM CG_CUSTOMER 
                        WHERE ID=(
                            SELECT PARENT 
                            FROM CG_CUSTOMER 
                            WHERE ID=:id
                        )
                    )
                )
                AND LOWER(NAME) = 'common'
            )
            AND TYPE IN ('DB','TEXT')
            AND KEY NOT IN (SELECT KEY
                            FROM EDI_QUERY_SETTING
                            WHERE 1=1
                            AND SETTING_ID = :id
                            AND TYPE IN ('DB','TEXT'))
            UNION ALL
            SELECT *
            FROM EDI_QUERY_SETTING
            WHERE 1=1
            AND SETTING_ID = :id
            AND TYPE IN ('DB','TEXT')
        )
        ORDER BY LENGTH(KEY) DESC
    
2022-11-16 18:17:00 [EDI System] info: [{"ROWNUM":1,"ID":"153","SETTING_ID":"160","KEY":null,"TYPE":"Main","QUERY":"--//-- 20211203 chulho.wee ; CREATE\nSELECT \n  RPAD(START_TAG, 3, ' ')\n|| RPAD(OEM_CODE, 2, ' ')\n|| RPAD(MONTH, 6, ' ')\n|| RPAD(C_DATE, 8, ' ')\n|| RPAD(O_DATE, 8, ' ')\n|| RPAD(OEM_AREA, 4, ' ')\n|| RPAD(CUST_DEVICE, 30, ' ')\n|| RPAD(OPER_DESC, 15, ' ')\n|| RPAD(EQP_GROUP, 15, ' ')\n\n|| RPAD(EQP_MODEL, 30, ' ')\n|| RPAD(RES_ID, 15, ' ')\n|| RPAD(OPER, 6, ' ')\n\n|| RPAD(SUM(QTY), 10, ' ')\n|| RPAD(LOT_TYPE, 2, ' ')\n|| RPAD(PARA, 3, ' ')\n\n|| RPAD(TEST_TIME, 10, ' ')\n|| RPAD(INDEX_TIME, 10, ' ')\n|| RPAD(ATE_TIME, 10, ' ')\n\n|| RPAD(EQP_PRICE, 10, ' ')\n|| RPAD(ATE_PRICE, 10, ' ')\n|| RPAD(MVP_PRICE, 10, ' ')\n|| RPAD(PVI_PRICE, 10, ' ')\n|| RPAD(UNIT_PRICE, 10, ' ')\n\n|| RPAD(FULL_HALF, 10, ' ')\n|| RPAD(CREATE_TIME, 14, ' ')\n|| RPAD(REMARK, 200, ' ')\n  FROM\n(\n    SELECT 'LS1' START_TAG\n         , 'HM' OEM_CODE\n         , CASE\n            WHEN TO_CHAR(SYSDATE, 'DD') >= 28 THEN\n                 TO_CHAR(ADD_MONTHS(SYSDATE, +1), 'YYYYMM')\n            ELSE\n                 TO_CHAR(ADD_MONTHS(SYSDATE, -0), 'YYYYMM')\n           END AS \"MONTH\"\n         --, TO_CHAR(SYSDATE, 'DD') C_DATE\n         , TO_CHAR(SYSDATE, 'YYYYMMDD') C_DATE\n         , SUBSTR(LOT.TRAN_TIME, 1,8) AS O_DATE\n         , 'HMKT' AS OEM_AREA\n         \n         , TST.CUST_DVC CUST_DEVICE\n         , DECODE(TST.OPER ,'T0100', 'ATE', 'T0960', 'ASB', 'T0500', 'MVP', TST.OPER) OPER_DESC\n         \n         , (SELECT NVL(ATTR_VALUE, 'NULL') FROM MATRNAMSTS WHERE FACTORY = 'HMKT1' AND ATTR_TYPE = 'RESOURCE' AND ATTR_NAME = 'EQP_GROUP' AND ATTR_KEY = LOT.END_RES_ID) AS EQP_GROUP\n         , (SELECT NVL(ATTR_VALUE, 'NULL') FROM MATRNAMSTS WHERE FACTORY = 'HMKT1' AND ATTR_TYPE = 'RESOURCE' AND ATTR_NAME = 'EQP_MODEL' AND ATTR_KEY = LOT.END_RES_ID) AS EQP_MODEL\n         , LOT.OLD_OPER AS OPER\n         , LOT.END_RES_ID AS RES_ID\n         , LOT_CMF_5 LOT_TYPE\n\n         , LOT.QTY_1 AS QTY\n         , TST.PARA AS PARA\n         , TST.TEST_TIME AS TEST_TIME\n         , TST.INDEX_TIME AS INDEX_TIME\n         , TST.ATE_TIME AS ATE_TIME\n         , TST.EQP_PRICE AS EQP_PRICE\n         , TST.ATE_PRICE AS ATE_PRICE\n--         , (((TST.TEST_TIME + TST.INDEX_TIME) * TST.EQP_PRICE) / TST.PARA) AS ATE_PRICE\n         , TST.MVP_PRICE AS MVP_PRICE\n         , TST.PVI_PRICE AS PVI_PRICE\n         , TST.UNIT_PRICE AS UNIT_PRICE\n         , TST.FULL_HALF AS FULL_HALF\n         , TO_CHAR(SYSDATE, 'YYYYMMDDHH24MISS') AS CREATE_TIME\n         , ' ' AS REMARK\n      FROM MWIPLOTHIS LOT, VGCMTBLDAT_TEST_TIME_INF2 TST\n     WHERE 1=1\n       AND LOT.MAT_ID = TST.MAT_ID\n       AND LOT.OLD_OPER = TST.OPER\n       AND TST.MODEL = (SELECT NVL(ATTR_VALUE, 'NULL') FROM MATRNAMSTS WHERE FACTORY = 'HMKT1' AND ATTR_TYPE = 'RESOURCE' AND ATTR_NAME = 'EQP_MODEL' AND ATTR_KEY = LOT.END_RES_ID)\n       AND LOT.TRAN_TIME >= CASE WHEN TO_CHAR(SYSDATE, 'DD') >= 28 THEN\n                       TO_CHAR(ADD_MONTHS(SYSDATE, -0), 'YYYYMM')||'27'||'22'\n                       ELSE\n                       TO_CHAR(ADD_MONTHS(SYSDATE, -1), 'YYYYMM')||'27'||'22'\n                       END --AS PREV_MON\n           \n       AND LOT.TRAN_TIME < CASE WHEN TO_CHAR(SYSDATE, 'DD') >= 28 THEN\n                       TO_CHAR(ADD_MONTHS(SYSDATE, +1), 'YYYYMM')||'27'||'22'\n                       ELSE\n                       TO_CHAR(ADD_MONTHS(SYSDATE, -0), 'YYYYMM')||'27'||'22'\n                       END --AS CURR_MON\n       AND LOT.FACTORY = 'HMKT1'\n       AND LOT.TRAN_CODE = 'END'\n       AND LOT.OLD_OPER in ('T0100', 'T0960', 'T0500')\n--       AND TST.CUST_DVC = 'L6HD311A01-P040-A00VCD'\n--       AND LOT.MAT_ID = 'SEL6HD311A01-P040-A00KUVCD'\n)\nGROUP BY START_TAG\n, OEM_CODE\n, MONTH\n, C_DATE\n, O_DATE\n, OEM_AREA\n\n, CUST_DEVICE\n, OPER_DESC\n\n, EQP_GROUP\n, EQP_MODEL\n, OPER\n, RES_ID\n, LOT_TYPE\n\n, PARA\n, TEST_TIME\n, INDEX_TIME\n, ATE_TIME\n, EQP_PRICE\n, ATE_PRICE\n, MVP_PRICE\n, PVI_PRICE\n, UNIT_PRICE\n, FULL_HALF\n, CREATE_TIME\n, REMARK\nORDER BY 1","CREATE_USER":"6","CREATE_DATE":"2021-12-14 11:47:40","DBTYPE":"MES"}]
2022-11-16 18:17:00 [EDI System] info: 
        SELECT * FROM (
            SELECT *
            FROM EDI_QUERY_SETTING
            WHERE 1=1
            AND SETTING_ID = (
                SELECT ID
                FROM CG_CUSTOMER 
                WHERE PARENT = (
                    SELECT ID
                    FROM CG_CUSTOMER 
                    WHERE ID=(
                        SELECT PARENT
                        FROM CG_CUSTOMER 
                        WHERE ID=(
                            SELECT PARENT 
                            FROM CG_CUSTOMER 
                            WHERE ID=:id
                        )
                    )
                )
                AND LOWER(NAME) = 'common'
            )
            AND TYPE IN ('DB','TEXT')
            AND KEY NOT IN (SELECT KEY
                            FROM EDI_QUERY_SETTING
                            WHERE 1=1
                            AND SETTING_ID = :id
                            AND TYPE IN ('DB','TEXT'))
            UNION ALL
            SELECT *
            FROM EDI_QUERY_SETTING
            WHERE 1=1
            AND SETTING_ID = :id
            AND TYPE IN ('DB','TEXT')
        )
        ORDER BY LENGTH(KEY) DESC
    
2022-11-16 18:17:00 [EDI System] info: [{"ID":"133","SETTING_ID":"139","KEY":"todayHH24_M1H","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE - 1/24,'YYYYMMDDHH24') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-11-12 05:01:01","DBTYPE":"MES"},{"ID":"132","SETTING_ID":"139","KEY":"todayHH24","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE,'YYYYMMDDHH24') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-11-12 05:01:01","DBTYPE":"MES"},{"ID":"131","SETTING_ID":"139","KEY":"today_yy","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE,'YYYYMMDDHH24') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-11-12 05:01:01","DBTYPE":"MES"},{"ID":"134","SETTING_ID":"139","KEY":"today","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE,'YYYYMMDDHH24') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-11-12 05:01:01","DBTYPE":"MES"}]
2022-11-16 18:17:00 [EDI System] info: [{"ID":"137","SETTING_ID":"129","KEY":"todayHH24MISS","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE,'YYYYMMDDHH24MISS') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-11-12 05:20:22","DBTYPE":"MES"},{"ID":"124","SETTING_ID":"129","KEY":"todayHH24_M1H","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE - 1/24,'YYYYMMDDHH24') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-10-15 01:40:03","DBTYPE":"MES"},{"ID":"122","SETTING_ID":"129","KEY":"todayHH24","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE,'YYYYMMDDHH24') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-10-15 11:47:10","DBTYPE":"MES"},{"ID":"115","SETTING_ID":"129","KEY":"today_yy","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE,'YYYYMMDDHH24') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-09-24 08:46:51","DBTYPE":"MES"},{"ID":"130","SETTING_ID":"129","KEY":"today","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE,'YYYYMMDD') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-11-09 03:36:41","DBTYPE":"MES"}]
2022-11-16 18:18:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 18:19:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 18:20:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 18:21:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 18:22:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 18:23:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 18:24:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 18:25:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 18:26:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 18:27:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 18:28:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 18:29:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 18:30:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 18:31:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 18:32:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 18:33:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 18:34:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 18:35:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 18:36:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 18:37:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 18:38:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 18:39:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 18:40:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 18:41:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 18:42:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 18:43:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 18:44:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 18:45:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 18:46:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 18:47:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 18:48:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 18:49:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 18:50:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 18:51:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 18:52:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 18:53:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 18:54:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 18:55:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 18:56:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 18:57:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 18:58:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 18:59:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 19:00:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 19:00:00 [EDI System] info: Job Start Time > {"min":0,"hour":19,"date":16,"month":11,"day":3}
 {"ID":107,"CFG_ID":"143","FILE_NAME":"CMWIPINF_HM:todayHH24","FILE_DESC":"SEC CMWIPINF 1/1HR","FILE_SAVE_FOLDER":"D:/HM_EDI/SEC/OUT","FILE_CHARSET":"ascii","FILE_TYPE":"ff","DATA_TYPE":"text","FTP_ENV_ID":"100","SEND_FLAG":"Y","NODATASEND":"false","SCHEDULE_MIN":"0","SCHEDULE_HOUR":"*","SCHEDULE_DAY":"*","SCHEDULE_WEEK":"*","SCHEDULE_MONTH":"*","CM_F01":null,"CM_F02":null,"CREATE_DATE":"2021-11-12 05:17:07","CREATE_USER":"6","UPDATE_DATE":"2021-12-24 04:17:35","UPDATE_USER":"6","DELETE_DATE":null,"DELETE_USER":null,"frequency":"0 * * * *"}
2022-11-16 19:00:00 [EDI System] info: 107 >>> makeFileText Function Execute
2022-11-16 19:00:00 [EDI System] info: Job Start Time > {"min":0,"hour":19,"date":16,"month":11,"day":3}
 {"ID":109,"CFG_ID":"147","FILE_NAME":"CMWIPINF_HM:todayHH24_2","FILE_DESC":"TEST 2 //// SEC CMWIPINF 1/1HR ","FILE_SAVE_FOLDER":"D:/HM_EDI/SEC/OUT","FILE_CHARSET":"ascii","FILE_TYPE":"ff","DATA_TYPE":"text","FTP_ENV_ID":"100","SEND_FLAG":"Y","NODATASEND":null,"SCHEDULE_MIN":"0","SCHEDULE_HOUR":"*","SCHEDULE_DAY":"*","SCHEDULE_WEEK":"*","SCHEDULE_MONTH":"*","CM_F01":null,"CM_F02":null,"CREATE_DATE":"2021-11-19 05:22:50","CREATE_USER":"6","UPDATE_DATE":"2021-12-24 04:17:41","UPDATE_USER":"6","DELETE_DATE":null,"DELETE_USER":null,"frequency":"0 * * * *"}
2022-11-16 19:00:00 [EDI System] info: 109 >>> makeFileText Function Execute
2022-11-16 19:00:00 [EDI System] info: Job Start Time > {"min":0,"hour":19,"date":16,"month":11,"day":3}
 {"ID":110,"CFG_ID":"146","FILE_NAME":"CMWIPINF_HM:todayHH24_1","FILE_DESC":"SEC CMWIPINF 1/1HR","FILE_SAVE_FOLDER":"D:/HM_EDI/SEC/OUT","FILE_CHARSET":"ascii","FILE_TYPE":"ff","DATA_TYPE":"text","FTP_ENV_ID":"100","SEND_FLAG":"Y","NODATASEND":null,"SCHEDULE_MIN":"0","SCHEDULE_HOUR":"*","SCHEDULE_DAY":"*","SCHEDULE_WEEK":"*","SCHEDULE_MONTH":"*","CM_F01":null,"CM_F02":null,"CREATE_DATE":"2021-11-19 05:22:51","CREATE_USER":"6","UPDATE_DATE":"2021-12-24 04:17:47","UPDATE_USER":"6","DELETE_DATE":null,"DELETE_USER":null,"frequency":"0 * * * *"}
2022-11-16 19:00:00 [EDI System] info: 110 >>> makeFileText Function Execute
2022-11-16 19:00:00 [EDI System] info: SELECT EDI_LOG_SEQ.NEXTVAL AS ID FROM DUAL
2022-11-16 19:00:00 [EDI System] info: SELECT EDI_LOG_SEQ.NEXTVAL AS ID FROM DUAL
2022-11-16 19:00:00 [EDI System] info: SELECT EDI_LOG_SEQ.NEXTVAL AS ID FROM DUAL
2022-11-16 19:00:00 [EDI System] info: SELECT EDI_LOG_SEQ.NEXTVAL AS ID FROM DUAL
2022-11-16 19:00:00 [EDI System] info: SELECT EDI_LOG_SEQ.NEXTVAL AS ID FROM DUAL
2022-11-16 19:00:00 [EDI System] info: SELECT EDI_LOG_SEQ.NEXTVAL AS ID FROM DUAL
2022-11-16 19:00:00 [EDI System] info: [{"ID":11144}]
2022-11-16 19:00:00 [EDI System] info: seq : return Key [{"ID":11144}]
2022-11-16 19:00:00 [EDI System] info: saveAllLogger => ID:11144, NAME:CMWIPINF_HM:todayHH24, ProcessID:143, Description: Job Start : ID=107, CFG_ID=143, FTP_ENV_ID=100, FILE_NAME=CMWIPINF_HM:todayHH24, FILE_DESC=SEC CMWIPINF 1/1HR, FILE_CHARSET=ascii, FILE_TYPE=ff
2022-11-16 19:00:00 [EDI System] info: INSERT INTO EDI_LOG(ID, STEP, NAME, PROCESS_ID, DESCRIPTION, CREATE_USER, CREATE_DATE)
    VALUES(:id, :stepId, :name, :process_id, :description, 'DAEMON', TO_CHAR(SYSDATE,'YYYYMMDDHH24MISS'))
2022-11-16 19:00:00 [EDI System] info: [{"ID":11145}]
2022-11-16 19:00:00 [EDI System] info: seq : return Key [{"ID":11145}]
2022-11-16 19:00:00 [EDI System] info: saveAllLogger => ID:11145, NAME:CMWIPINF_HM:todayHH24_2, ProcessID:147, Description: Job Start : ID=109, CFG_ID=147, FTP_ENV_ID=100, FILE_NAME=CMWIPINF_HM:todayHH24_2, FILE_DESC=TEST 2 //// SEC CMWIPINF 1/1HR , FILE_CHARSET=ascii, FILE_TYPE=ff
2022-11-16 19:00:00 [EDI System] info: INSERT INTO EDI_LOG(ID, STEP, NAME, PROCESS_ID, DESCRIPTION, CREATE_USER, CREATE_DATE)
    VALUES(:id, :stepId, :name, :process_id, :description, 'DAEMON', TO_CHAR(SYSDATE,'YYYYMMDDHH24MISS'))
2022-11-16 19:00:00 [EDI System] info: [{"ID":11146}]
2022-11-16 19:00:00 [EDI System] info: seq : return Key [{"ID":11146}]
2022-11-16 19:00:00 [EDI System] info: saveAllLogger => ID:11146, NAME:CMWIPINF_HM:todayHH24_1, ProcessID:146, Description: Job Start : ID=110, CFG_ID=146, FTP_ENV_ID=100, FILE_NAME=CMWIPINF_HM:todayHH24_1, FILE_DESC=SEC CMWIPINF 1/1HR, FILE_CHARSET=ascii, FILE_TYPE=ff
2022-11-16 19:00:00 [EDI System] info: INSERT INTO EDI_LOG(ID, STEP, NAME, PROCESS_ID, DESCRIPTION, CREATE_USER, CREATE_DATE)
    VALUES(:id, :stepId, :name, :process_id, :description, 'DAEMON', TO_CHAR(SYSDATE,'YYYYMMDDHH24MISS'))
2022-11-16 19:00:00 [EDI System] info: Insert successful = SQL: INSERT INTO EDI_LOG(ID, STEP, NAME, PROCESS_ID, DESCRIPTION, CREATE_USER, CREATE_DATE)
    VALUES(:id, :stepId, :name, :process_id, :description, 'DAEMON', TO_CHAR(SYSDATE,'YYYYMMDDHH24MISS')) | Params: {"id":11144,"stepId":"1","name":"CMWIPINF_HM:todayHH24","process_id":"143","description":"Job Start : ID=107, CFG_ID=143, FTP_ENV_ID=100, FILE_NAME=CMWIPINF_HM:todayHH24, FILE_DESC=SEC CMWIPINF 1/1HR, FILE_CHARSET=ascii, FILE_TYPE=ff"} / 1
2022-11-16 19:00:00 [EDI System] info: 
    SELECT *
    FROM (
        SELECT ROWNUM,A.*
            FROM EDI_QUERY_SETTING A
            WHERE SETTING_ID = :id
            AND TYPE='Main'
            ORDER BY ID DESC
        ) 
    WHERE ROWNUM='1'
    
2022-11-16 19:00:00 [EDI System] info: Insert successful = SQL: INSERT INTO EDI_LOG(ID, STEP, NAME, PROCESS_ID, DESCRIPTION, CREATE_USER, CREATE_DATE)
    VALUES(:id, :stepId, :name, :process_id, :description, 'DAEMON', TO_CHAR(SYSDATE,'YYYYMMDDHH24MISS')) | Params: {"id":11145,"stepId":"1","name":"CMWIPINF_HM:todayHH24_2","process_id":"147","description":"Job Start : ID=109, CFG_ID=147, FTP_ENV_ID=100, FILE_NAME=CMWIPINF_HM:todayHH24_2, FILE_DESC=TEST 2 //// SEC CMWIPINF 1/1HR , FILE_CHARSET=ascii, FILE_TYPE=ff"} / 1
2022-11-16 19:00:00 [EDI System] info: 
    SELECT *
    FROM (
        SELECT ROWNUM,A.*
            FROM EDI_QUERY_SETTING A
            WHERE SETTING_ID = :id
            AND TYPE='Main'
            ORDER BY ID DESC
        ) 
    WHERE ROWNUM='1'
    
2022-11-16 19:00:00 [EDI System] info: Insert successful = SQL: INSERT INTO EDI_LOG(ID, STEP, NAME, PROCESS_ID, DESCRIPTION, CREATE_USER, CREATE_DATE)
    VALUES(:id, :stepId, :name, :process_id, :description, 'DAEMON', TO_CHAR(SYSDATE,'YYYYMMDDHH24MISS')) | Params: {"id":11146,"stepId":"1","name":"CMWIPINF_HM:todayHH24_1","process_id":"146","description":"Job Start : ID=110, CFG_ID=146, FTP_ENV_ID=100, FILE_NAME=CMWIPINF_HM:todayHH24_1, FILE_DESC=SEC CMWIPINF 1/1HR, FILE_CHARSET=ascii, FILE_TYPE=ff"} / 1
2022-11-16 19:00:00 [EDI System] info: 
    SELECT *
    FROM (
        SELECT ROWNUM,A.*
            FROM EDI_QUERY_SETTING A
            WHERE SETTING_ID = :id
            AND TYPE='Main'
            ORDER BY ID DESC
        ) 
    WHERE ROWNUM='1'
    
2022-11-16 19:00:00 [EDI System] info: [{"ROWNUM":4,"ID":"147","SETTING_ID":"143","KEY":null,"TYPE":"Main","QUERY":"SELECT \n  RPAD(VR_1,  5, ' ')\n, RPAD(VR_2, 30, ' ')\n, RPAD(VR_3, 15, ' ')\n, RPAD(VR_4, 15, ' ')\n, RPAD(VR_5,  2, ' ')\n, RPAD(VR_6,  2, ' ')\n, RPAD(VR_7, 20, ' ')\n, RPAD(VR_8, 30, ' ')\n, RPAD(VR_9, 16, ' ')\n, RPAD(VR_10, 24, ' ')\n, RPAD(VR_11, 14, ' ')\n, RPAD(VR_12,  4, ' ')\n, RPAD(VR_13,  4, ' ')\n, LPAD(VR_14, 10, ' ')\n, LPAD(VR_15, 10, ' ')\n, RPAD(VR_16,  1, ' ')\n, RPAD(VR_17,  2, ' ')\n, RPAD(VR_18, 10, ' ')\n, RPAD(VR_19, 14, ' ')\n, RPAD(VR_20, 20, ' ')\n, RPAD(VR_21, 20, ' ')\n, RPAD(VR_22, 20, ' ')\n, RPAD(VR_23, 20, ' ')\n, RPAD(VR_24, 20, ' ')\n, LPAD(VR_25, 10, ' ')\n, LPAD(VR_26, 10, ' ')\n, RPAD(VR_27,  1, ' ')\n, RPAD(VR_28, 65, ' ')\n, RPAD(VR_29, 14, ' ')\n, RPAD(VR_30,  8, ' ')\n, RPAD(VR_31, 1024, ' ')\nFROM \n(\nSELECT 'LS1HM'   VR_1\n , NVL((SELECT MAT_CMF_7 FROM MWIPMATDEF WHERE FACTORY = A.FACTORY AND MAT_ID = A.MAT_ID AND MAT_VER = A.MAT_VER), '-')   VR_2\n , F_GET_ASSY_RUNID(' ', A.LOT_ID, A.LOT_CMF_4)   VR_3\n , NVL(TRIM(A.LOT_CMF_1), '-')   VR_4\n , NVL(TRIM(A.LOT_CMF_5),'-')   VR_5\n , NVL((SELECT ATTR_VALUE FROM MATRNAMSTS WHERE FACTORY = A.FACTORY AND ATTR_TYPE = 'LOT_SEC_INFO' AND ATTR_NAME = 'RTN_TYPE' AND ATTR_KEY = TRIM(A.LOT_CMF_1)), '**')   VR_6\n , DECODE(A.OPER||A.FLOW,'T1300HKAB', 'HGAK','TZ010HKAB', 'BASIC',\n     DECODE(NVL((SELECT SEC_OPER FROM V_MWIPOPRDEF_SEC WHERE FACTORY = A.FACTORY AND OPER = A.OPER ), '-'),\n                  'HMK2','BASIC','HMK3','BASIC','HMK9','BASIC','HMK4','BASIC',\n                  NVL(FLOW, '-')))   VR_7\n , DECODE(A.OPER||A.FLOW,'T1300HKAB', '0008','TZ010HKAB', '0003',\n     TRIM(DECODE(NVL((SELECT SEC_OPER FROM V_MWIPOPRDEF_SEC WHERE FACTORY = A.FACTORY AND OPER = A.OPER ), '-'),\n                  'HMK2','0002','HMK3','0003','HMK9','0006','HMK4','0007',\n                  LPAD((SELECT SEQ_NUM-1 FROM MWIPFLWOPR WHERE FACTORY = A.FACTORY AND FLOW = A.FLOW AND OPER = A.OPER),4,'0'))))   VR_8\n , DECODE(A.OPER||A.FLOW,'T1300HKAB', '8','TZ010HKAB', '3',\n     NVL((SELECT SEQ_NUM-1 FROM MWIPFLWOPR WHERE FACTORY = A.FACTORY AND FLOW = A.FLOW AND OPER = A.OPER), '0'))   VR_9\n , DECODE(A.OPER||A.FLOW,'T1300HKAB', 'PACKING','TZ010HKAB', 'Assy Final Stock',\n     DECODE(NVL((SELECT SEC_OPER FROM V_MWIPOPRDEF_SEC WHERE FACTORY = A.FACTORY AND OPER = A.OPER ), '-'),\n                  'HMK2','Assy Home Stock','HMK3','Assy Final Stock','HMK9','Test Home Stock','HMK4','Test Final Stock',\n                  NVL((SELECT OPER_DESC FROM V_MWIPOPRDEF_SEC WHERE FACTORY = A.FACTORY AND OPER = A.OPER ), '-')))   VR_10\n , A.OPER_IN_TIME    VR_11\n , DECODE(A.OPER||A.FLOW,'T1300HKAB', 'ASSY','TZ010HKAB', 'ASSY', DECODE(A.FACTORY, 'HMKT1', 'TEST', 'HMKA1', 'ASSY', '-'))    VR_12\n , NVL((SELECT DECODE(A.OPER||A.FLOW,'TZ010HKAB', SEC_OPER_AREA_COB ,SEC_OPER_AREA) FROM V_MWIPOPRDEF_SEC WHERE FACTORY = A.FACTORY AND OPER = A.OPER ), '-')   VR_13\n , NVL(TRIM(A.QTY_1), 0)   VR_14\n , NVL(TRIM(A.QTY_2), 0)   VR_15\n , 'C'     VR_16\n , F_GET_HOLD_FLAG_CODE(A.LOT_ID, A.MAT_ID, A.HOLD_FLAG, A.HOLD_CODE, 'FLAG' )    VR_17\n , F_GET_HOLD_FLAG_CODE(A.LOT_ID, A.MAT_ID, A.HOLD_FLAG, A.HOLD_CODE, 'CODE' )    VR_18\n , DECODE(A.HOLD_FLAG, 'Y', A.LAST_TRAN_TIME, ' ')    VR_19\n , NVL((SELECT ATTR_VALUE FROM MATRNAMSTS WHERE FACTORY = A.FACTORY AND ATTR_TYPE = 'LOT_SEC_INFO' AND ATTR_NAME = 'NCFCODE' AND ATTR_KEY = TRIM(A.LOT_CMF_1)), '*')   VR_20\n , NVL((SELECT ATTR_VALUE FROM MATRNAMSTS WHERE FACTORY = A.FACTORY AND ATTR_TYPE = 'LOT_SEC_INFO' AND ATTR_NAME = 'NCACODE' AND ATTR_KEY = TRIM(A.LOT_CMF_1)), '*')   VR_21\n , NVL((SELECT ATTR_VALUE FROM MATRNAMSTS WHERE FACTORY = A.FACTORY AND ATTR_TYPE = 'LOT_SEC_INFO' AND ATTR_NAME = 'NCTCODE' AND ATTR_KEY = TRIM(A.LOT_CMF_1)), '*')   VR_22\n , NVL((SELECT ATTR_VALUE FROM MATRNAMSTS WHERE FACTORY = A.FACTORY AND ATTR_TYPE = 'LOT_SEC_INFO' AND ATTR_NAME = 'NCQCODE' AND ATTR_KEY = TRIM(A.LOT_CMF_1)), '*')   VR_23\n , NVL((SELECT ATTR_VALUE FROM MATRNAMSTS WHERE FACTORY = A.FACTORY AND ATTR_TYPE = 'LOT_SEC_INFO' AND ATTR_NAME = 'OTHER' AND ATTR_KEY = TRIM(A.LOT_CMF_1)), '*')   VR_24\n , NVL((SELECT SUM(DECODE(TRAN_CODE, 'LOSS', (OLD_QTY_1 - QTY_1), QTY_1)) \n               FROM MWIPLOTHIS \n              WHERE LOT_ID = A.LOT_ID \n                AND TRAN_CODE IN ('LOSS', 'TERMINATE')\n                AND HIST_DEL_FLAG = ' '\n                AND TRAN_TIME BETWEEN F_GET_TIME(TO_CHAR(SYSDATE, 'YYYYMMDDHH24MISS'),'SE') \n                                  AND TO_CHAR(SYSDATE, 'YYYYMMDDHH24MISS')), 0)         VR_25\n , NVL((SELECT SUM(TOTAL_BONUS_QTY) \n               FROM MWIPLOTBNS \n              WHERE LOT_ID = A.LOT_ID\n                AND TRAN_TIME BETWEEN F_GET_TIME(TO_CHAR(SYSDATE, 'YYYYMMDDHH24MISS'),'SE') \n                                  AND TO_CHAR(SYSDATE, 'YYYYMMDDHH24MISS')), 0)    VR_26\n , '-'    VR_27\n , '-'    VR_28\n , TO_CHAR(SYSDATE,'YYYYMMDDHH24MISS')     VR_29\n , GET_WORK_DATE_EDI(TO_CHAR(SYSDATE, 'YYYYMMDDHH24MISS'),'D')  VR_30\n , MESMGR.PK_SEC_MES_IF.MakeInkless_OMS_WIP(A.FACTORY, A.LOT_ID)  VR_31\n  FROM MWIPLOTSTS A\n WHERE 1 = 1\n   AND FACTORY IN ('HMKT1','HMKA1') \n   AND LOT_CMF_2 = 'SE'   \n   AND OWNER_CODE = 'PROD'\n   AND LOT_TYPE = 'W'\n   AND LOT_DEL_FLAG = ' ' \n   AND CREATE_CODE <> 'FREE' \n   AND MAT_ID LIKE 'SE'||(SELECT DATA_1 FROM MGCMTBLDAT WHERE FACTORY = 'HMKA1' AND TABLE_NAME = 'H_SPECIAL_CHAR' AND KEY_1 = '1')\n   AND OPER BETWEEN 'A0000' AND 'TZ010'\n   AND MAT_ID NOT LIKE 'SEKY'||(SELECT DATA_1 FROM MGCMTBLDAT WHERE FACTORY = 'HMKA1' AND TABLE_NAME = 'H_SPECIAL_CHAR' AND KEY_1 = '1')  --- 영업  요청으로 하드코딩 170412. SEKY%\n)","CREATE_USER":"6","CREATE_DATE":"2021-11-24 03:06:40","DBTYPE":"MES"}]
2022-11-16 19:00:00 [EDI System] info: [{"ROWNUM":1,"ID":"146","SETTING_ID":"147","KEY":null,"TYPE":"Main","QUERY":"SELECT\n  RPAD(VR_1,  5, ' ')\n, RPAD(VR_2, 30, ' ')\n, RPAD(VR_3, 15, ' ')\n, RPAD(VR_4, 15, ' ')\n, RPAD(VR_5,  2, ' ')\n, RPAD(VR_6,  2, ' ')\n, RPAD(VR_7, 20, ' ')\n, RPAD(VR_8, 30, ' ')\n, RPAD(VR_9, 16, ' ')\n, RPAD(VR_10, 24, ' ')\n, RPAD(VR_11, 14, ' ')\n, RPAD(VR_12,  4, ' ')\n, RPAD(VR_13,  4, ' ')\n, LPAD(VR_14, 10, ' ')\n, LPAD(VR_15, 10, ' ')\n, RPAD(VR_16,  1, ' ')\n, RPAD(VR_17,  2, ' ')\n, RPAD(VR_18, 10, ' ')\n, RPAD(VR_19, 14, ' ')\n, RPAD(VR_20, 20, ' ')\n, RPAD(VR_21, 20, ' ')\n, RPAD(VR_22, 20, ' ')\n, RPAD(VR_23, 20, ' ')\n, RPAD(VR_24, 20, ' ')\n, LPAD(VR_25, 10, ' ')\n, LPAD(VR_26, 10, ' ')\n, RPAD(VR_27,  1, ' ')\n, RPAD(VR_28, 65, ' ')\n, RPAD(VR_29, 14, ' ')\n, RPAD(VR_30,  8, ' ')\n, RPAD(VR_31, 1024, ' ')\nFROM \n(\nSELECT 'LS1HM'   VR_1\n , NVL((SELECT MAT_CMF_7 FROM MWIPMATDEF WHERE FACTORY = A.FACTORY AND MAT_ID = A.MAT_ID AND MAT_VER = A.MAT_VER), '-')   VR_2\n , F_GET_ASSY_RUNID(' ', A.LOT_ID, A.LOT_CMF_4)   VR_3\n , NVL(TRIM(A.LOT_CMF_1), '-')   VR_4\n , NVL(TRIM(A.LOT_CMF_5),'-')   VR_5\n , NVL((SELECT ATTR_VALUE FROM MATRNAMSTS WHERE FACTORY = A.FACTORY AND ATTR_TYPE = 'LOT_SEC_INFO' AND ATTR_NAME = 'RTN_TYPE' AND ATTR_KEY = TRIM(A.LOT_CMF_1)), '**')   VR_6\n , DECODE(A.OPER||A.FLOW,'T1300HKAB', 'HGAK','TZ010HKAB', 'BASIC',\n     DECODE(NVL((SELECT SEC_OPER FROM V_MWIPOPRDEF_SEC WHERE FACTORY = A.FACTORY AND OPER = A.OPER ), '-'),\n                  'HMK2','BASIC','HMK3','BASIC','HMK9','BASIC','HMK4','BASIC',\n                  NVL(FLOW, '-')))   VR_7\n , DECODE(A.OPER||A.FLOW,'T1300HKAB', '0008','TZ010HKAB', '0003',\n     TRIM(DECODE(NVL((SELECT SEC_OPER FROM V_MWIPOPRDEF_SEC WHERE FACTORY = A.FACTORY AND OPER = A.OPER ), '-'),\n                  'HMK2','0002','HMK3','0003','HMK9','0006','HMK4','0007',\n                  LPAD((SELECT SEQ_NUM-1 FROM MWIPFLWOPR WHERE FACTORY = A.FACTORY AND FLOW = A.FLOW AND OPER = A.OPER),4,'0'))))   VR_8\n , DECODE(A.OPER||A.FLOW,'T1300HKAB', '8','TZ010HKAB', '3',\n     NVL((SELECT SEQ_NUM-1 FROM MWIPFLWOPR WHERE FACTORY = A.FACTORY AND FLOW = A.FLOW AND OPER = A.OPER), '0'))   VR_9\n , DECODE(A.OPER||A.FLOW,'T1300HKAB', 'PACKING','TZ010HKAB', 'Assy Final Stock',\n     DECODE(NVL((SELECT SEC_OPER FROM V_MWIPOPRDEF_SEC WHERE FACTORY = A.FACTORY AND OPER = A.OPER ), '-'),\n                  'HMK2','Assy Home Stock','HMK3','Assy Final Stock','HMK9','Test Home Stock','HMK4','Test Final Stock',\n                  NVL((SELECT OPER_DESC FROM V_MWIPOPRDEF_SEC WHERE FACTORY = A.FACTORY AND OPER = A.OPER ), '-')))   VR_10\n , A.OPER_IN_TIME    VR_11\n , DECODE(A.OPER||A.FLOW,'T1300HKAB', 'ASSY','TZ010HKAB', 'ASSY', DECODE(A.FACTORY, 'HMKT1', 'TEST', 'HMKA1', 'ASSY', '-'))    VR_12\n , NVL((SELECT DECODE(A.OPER||A.FLOW,'TZ010HKAB', SEC_OPER_AREA_COB ,SEC_OPER_AREA) FROM V_MWIPOPRDEF_SEC WHERE FACTORY = A.FACTORY AND OPER = A.OPER ), '-')   VR_13\n , NVL(TRIM(A.QTY_1), 0)   VR_14\n , NVL(TRIM(A.QTY_2), 0)   VR_15\n , 'C'     VR_16\n , F_GET_HOLD_FLAG_CODE(A.LOT_ID, A.MAT_ID, A.HOLD_FLAG, A.HOLD_CODE, 'FLAG' )    VR_17\n , F_GET_HOLD_FLAG_CODE(A.LOT_ID, A.MAT_ID, A.HOLD_FLAG, A.HOLD_CODE, 'CODE' )    VR_18\n , DECODE(A.HOLD_FLAG, 'Y', A.LAST_TRAN_TIME, ' ')    VR_19\n , NVL((SELECT ATTR_VALUE FROM MATRNAMSTS WHERE FACTORY = A.FACTORY AND ATTR_TYPE = 'LOT_SEC_INFO' AND ATTR_NAME = 'NCFCODE' AND ATTR_KEY = TRIM(A.LOT_CMF_1)), '*')   VR_20\n , NVL((SELECT ATTR_VALUE FROM MATRNAMSTS WHERE FACTORY = A.FACTORY AND ATTR_TYPE = 'LOT_SEC_INFO' AND ATTR_NAME = 'NCACODE' AND ATTR_KEY = TRIM(A.LOT_CMF_1)), '*')   VR_21\n , NVL((SELECT ATTR_VALUE FROM MATRNAMSTS WHERE FACTORY = A.FACTORY AND ATTR_TYPE = 'LOT_SEC_INFO' AND ATTR_NAME = 'NCTCODE' AND ATTR_KEY = TRIM(A.LOT_CMF_1)), '*')   VR_22\n , NVL((SELECT ATTR_VALUE FROM MATRNAMSTS WHERE FACTORY = A.FACTORY AND ATTR_TYPE = 'LOT_SEC_INFO' AND ATTR_NAME = 'NCQCODE' AND ATTR_KEY = TRIM(A.LOT_CMF_1)), '*')   VR_23\n , NVL((SELECT ATTR_VALUE FROM MATRNAMSTS WHERE FACTORY = A.FACTORY AND ATTR_TYPE = 'LOT_SEC_INFO' AND ATTR_NAME = 'OTHER' AND ATTR_KEY = TRIM(A.LOT_CMF_1)), '*')   VR_24\n , NVL((SELECT SUM(DECODE(TRAN_CODE, 'LOSS', (OLD_QTY_1 - QTY_1), QTY_1)) \n               FROM MWIPLOTHIS \n              WHERE LOT_ID = A.LOT_ID \n                AND TRAN_CODE IN ('LOSS', 'TERMINATE')\n                AND HIST_DEL_FLAG = ' '\n                AND TRAN_TIME BETWEEN F_GET_TIME(TO_CHAR(SYSDATE, 'YYYYMMDDHH24MISS'),'SE') \n                                  AND TO_CHAR(SYSDATE, 'YYYYMMDDHH24MISS')), 0)         VR_25\n , NVL((SELECT SUM(TOTAL_BONUS_QTY) \n               FROM MWIPLOTBNS \n              WHERE LOT_ID = A.LOT_ID\n                AND TRAN_TIME BETWEEN F_GET_TIME(TO_CHAR(SYSDATE, 'YYYYMMDDHH24MISS'),'SE') \n                                  AND TO_CHAR(SYSDATE, 'YYYYMMDDHH24MISS')), 0)    VR_26\n , '-'    VR_27\n , '-'    VR_28\n , TO_CHAR(SYSDATE,'YYYYMMDDHH24MISS')     VR_29\n , GET_WORK_DATE_EDI(TO_CHAR(SYSDATE, 'YYYYMMDDHH24MISS'),'D')  VR_30\n , MESMGR.PK_SEC_MES_IF.MakeInkless_OMS_WIP(A.FACTORY, A.LOT_ID)  VR_31\n  FROM MWIPLOTSTS A\n WHERE 1 = 1\n   AND FACTORY IN ('HMKT1','HMKA1') \n   AND LOT_CMF_2 = 'SE'   \n   AND OWNER_CODE = 'PROD'\n   AND LOT_TYPE = 'W'\n   AND LOT_DEL_FLAG = ' ' \n   AND CREATE_CODE <> 'FREE' \n   AND MAT_ID LIKE 'SE'||(SELECT DATA_1 FROM MGCMTBLDAT WHERE FACTORY = 'HMKA1' AND TABLE_NAME = 'H_SPECIAL_CHAR' AND KEY_1 = '1')\n   AND OPER BETWEEN 'A0000' AND 'TZ010'\n   AND MAT_ID NOT LIKE 'SEKY'||(SELECT DATA_1 FROM MGCMTBLDAT WHERE FACTORY = 'HMKA1' AND TABLE_NAME = 'H_SPECIAL_CHAR' AND KEY_1 = '1')  --- 영업  요청으로 하드코딩 170412. SEKY%\n)","CREATE_USER":"6","CREATE_DATE":"2021-11-23 04:53:33","DBTYPE":"MES"}]
2022-11-16 19:00:00 [EDI System] info: 
        SELECT * FROM (
            SELECT *
            FROM EDI_QUERY_SETTING
            WHERE 1=1
            AND SETTING_ID = (
                SELECT ID
                FROM CG_CUSTOMER 
                WHERE PARENT = (
                    SELECT ID
                    FROM CG_CUSTOMER 
                    WHERE ID=(
                        SELECT PARENT
                        FROM CG_CUSTOMER 
                        WHERE ID=(
                            SELECT PARENT 
                            FROM CG_CUSTOMER 
                            WHERE ID=:id
                        )
                    )
                )
                AND LOWER(NAME) = 'common'
            )
            AND TYPE IN ('DB','TEXT')
            AND KEY NOT IN (SELECT KEY
                            FROM EDI_QUERY_SETTING
                            WHERE 1=1
                            AND SETTING_ID = :id
                            AND TYPE IN ('DB','TEXT'))
            UNION ALL
            SELECT *
            FROM EDI_QUERY_SETTING
            WHERE 1=1
            AND SETTING_ID = :id
            AND TYPE IN ('DB','TEXT')
        )
        ORDER BY LENGTH(KEY) DESC
    
2022-11-16 19:00:00 [EDI System] info: 
        SELECT * FROM (
            SELECT *
            FROM EDI_QUERY_SETTING
            WHERE 1=1
            AND SETTING_ID = (
                SELECT ID
                FROM CG_CUSTOMER 
                WHERE PARENT = (
                    SELECT ID
                    FROM CG_CUSTOMER 
                    WHERE ID=(
                        SELECT PARENT
                        FROM CG_CUSTOMER 
                        WHERE ID=(
                            SELECT PARENT 
                            FROM CG_CUSTOMER 
                            WHERE ID=:id
                        )
                    )
                )
                AND LOWER(NAME) = 'common'
            )
            AND TYPE IN ('DB','TEXT')
            AND KEY NOT IN (SELECT KEY
                            FROM EDI_QUERY_SETTING
                            WHERE 1=1
                            AND SETTING_ID = :id
                            AND TYPE IN ('DB','TEXT'))
            UNION ALL
            SELECT *
            FROM EDI_QUERY_SETTING
            WHERE 1=1
            AND SETTING_ID = :id
            AND TYPE IN ('DB','TEXT')
        )
        ORDER BY LENGTH(KEY) DESC
    
2022-11-16 19:00:00 [EDI System] info: [{"ROWNUM":2,"ID":"145","SETTING_ID":"146","KEY":null,"TYPE":"Main","QUERY":"SELECT\n  RPAD(VR_1,  5, ' ')\n, RPAD(VR_2, 30, ' ')\n, RPAD(VR_3, 15, ' ')\n, RPAD(VR_4, 15, ' ')\n, RPAD(VR_5,  2, ' ')\n, RPAD(VR_6,  2, ' ')\n, RPAD(VR_7, 20, ' ')\n, RPAD(VR_8, 30, ' ')\n, RPAD(VR_9, 16, ' ')\n, RPAD(VR_10, 24, ' ')\n, RPAD(VR_11, 14, ' ')\n, RPAD(VR_12,  4, ' ')\n, RPAD(VR_13,  4, ' ')\n, LPAD(VR_14, 10, ' ')\n, LPAD(VR_15, 10, ' ')\n, RPAD(VR_16,  1, ' ')\n, RPAD(VR_17,  2, ' ')\n, RPAD(VR_18, 10, ' ')\n, RPAD(VR_19, 14, ' ')\n, RPAD(VR_20, 20, ' ')\n, RPAD(VR_21, 20, ' ')\n, RPAD(VR_22, 20, ' ')\n, RPAD(VR_23, 20, ' ')\n, RPAD(VR_24, 20, ' ')\n, LPAD(VR_25, 10, ' ')\n, LPAD(VR_26, 10, ' ')\n, RPAD(VR_27,  1, ' ')\n, RPAD(VR_28, 65, ' ')\n, RPAD(VR_29, 14, ' ')\n, RPAD(VR_30,  8, ' ')\n, RPAD(VR_31, 1024, ' ')\nFROM \n(\nSELECT 'LS1HM'   VR_1\n , NVL((SELECT MAT_CMF_7 FROM MWIPMATDEF WHERE FACTORY = A.FACTORY AND MAT_ID = A.MAT_ID AND MAT_VER = A.MAT_VER), '-')   VR_2\n , F_GET_ASSY_RUNID(' ', A.LOT_ID, A.LOT_CMF_4)   VR_3\n , NVL(TRIM(A.LOT_CMF_1), '-')   VR_4\n , NVL(TRIM(A.LOT_CMF_5),'-')   VR_5\n , NVL((SELECT ATTR_VALUE FROM MATRNAMSTS WHERE FACTORY = A.FACTORY AND ATTR_TYPE = 'LOT_SEC_INFO' AND ATTR_NAME = 'RTN_TYPE' AND ATTR_KEY = TRIM(A.LOT_CMF_1)), '**')   VR_6\n , DECODE(A.OPER||A.FLOW,'T1300HKAB', 'HGAK','TZ010HKAB', 'BASIC',\n     DECODE(NVL((SELECT SEC_OPER FROM V_MWIPOPRDEF_SEC WHERE FACTORY = A.FACTORY AND OPER = A.OPER ), '-'),\n                  'HMK2','BASIC','HMK3','BASIC','HMK9','BASIC','HMK4','BASIC',\n                  NVL(FLOW, '-')))   VR_7\n , DECODE(A.OPER||A.FLOW,'T1300HKAB', '0008','TZ010HKAB', '0003',\n     TRIM(DECODE(NVL((SELECT SEC_OPER FROM V_MWIPOPRDEF_SEC WHERE FACTORY = A.FACTORY AND OPER = A.OPER ), '-'),\n                  'HMK2','0002','HMK3','0003','HMK9','0006','HMK4','0007',\n                  LPAD((SELECT SEQ_NUM-1 FROM MWIPFLWOPR WHERE FACTORY = A.FACTORY AND FLOW = A.FLOW AND OPER = A.OPER),4,'0'))))   VR_8\n , DECODE(A.OPER||A.FLOW,'T1300HKAB', '8','TZ010HKAB', '3',\n     NVL((SELECT SEQ_NUM-1 FROM MWIPFLWOPR WHERE FACTORY = A.FACTORY AND FLOW = A.FLOW AND OPER = A.OPER), '0'))   VR_9\n , DECODE(A.OPER||A.FLOW,'T1300HKAB', 'PACKING','TZ010HKAB', 'Assy Final Stock',\n     DECODE(NVL((SELECT SEC_OPER FROM V_MWIPOPRDEF_SEC WHERE FACTORY = A.FACTORY AND OPER = A.OPER ), '-'),\n                  'HMK2','Assy Home Stock','HMK3','Assy Final Stock','HMK9','Test Home Stock','HMK4','Test Final Stock',\n                  NVL((SELECT OPER_DESC FROM V_MWIPOPRDEF_SEC WHERE FACTORY = A.FACTORY AND OPER = A.OPER ), '-')))   VR_10\n , A.OPER_IN_TIME    VR_11\n , DECODE(A.OPER||A.FLOW,'T1300HKAB', 'ASSY','TZ010HKAB', 'ASSY', DECODE(A.FACTORY, 'HMKT1', 'TEST', 'HMKA1', 'ASSY', '-'))    VR_12\n , NVL((SELECT DECODE(A.OPER||A.FLOW,'TZ010HKAB', SEC_OPER_AREA_COB ,SEC_OPER_AREA) FROM V_MWIPOPRDEF_SEC WHERE FACTORY = A.FACTORY AND OPER = A.OPER ), '-')   VR_13\n , NVL(TRIM(A.QTY_1), 0)   VR_14\n , NVL(TRIM(A.QTY_2), 0)   VR_15\n , 'C'     VR_16\n , F_GET_HOLD_FLAG_CODE(A.LOT_ID, A.MAT_ID, A.HOLD_FLAG, A.HOLD_CODE, 'FLAG' )    VR_17\n , F_GET_HOLD_FLAG_CODE(A.LOT_ID, A.MAT_ID, A.HOLD_FLAG, A.HOLD_CODE, 'CODE' )    VR_18\n , DECODE(A.HOLD_FLAG, 'Y', A.LAST_TRAN_TIME, ' ')    VR_19\n , NVL((SELECT ATTR_VALUE FROM MATRNAMSTS WHERE FACTORY = A.FACTORY AND ATTR_TYPE = 'LOT_SEC_INFO' AND ATTR_NAME = 'NCFCODE' AND ATTR_KEY = TRIM(A.LOT_CMF_1)), '*')   VR_20\n , NVL((SELECT ATTR_VALUE FROM MATRNAMSTS WHERE FACTORY = A.FACTORY AND ATTR_TYPE = 'LOT_SEC_INFO' AND ATTR_NAME = 'NCACODE' AND ATTR_KEY = TRIM(A.LOT_CMF_1)), '*')   VR_21\n , NVL((SELECT ATTR_VALUE FROM MATRNAMSTS WHERE FACTORY = A.FACTORY AND ATTR_TYPE = 'LOT_SEC_INFO' AND ATTR_NAME = 'NCTCODE' AND ATTR_KEY = TRIM(A.LOT_CMF_1)), '*')   VR_22\n , NVL((SELECT ATTR_VALUE FROM MATRNAMSTS WHERE FACTORY = A.FACTORY AND ATTR_TYPE = 'LOT_SEC_INFO' AND ATTR_NAME = 'NCQCODE' AND ATTR_KEY = TRIM(A.LOT_CMF_1)), '*')   VR_23\n , NVL((SELECT ATTR_VALUE FROM MATRNAMSTS WHERE FACTORY = A.FACTORY AND ATTR_TYPE = 'LOT_SEC_INFO' AND ATTR_NAME = 'OTHER' AND ATTR_KEY = TRIM(A.LOT_CMF_1)), '*')   VR_24\n , NVL((SELECT SUM(DECODE(TRAN_CODE, 'LOSS', (OLD_QTY_1 - QTY_1), QTY_1)) \n               FROM MWIPLOTHIS \n              WHERE LOT_ID = A.LOT_ID \n                AND TRAN_CODE IN ('LOSS', 'TERMINATE')\n                AND HIST_DEL_FLAG = ' '\n                AND TRAN_TIME BETWEEN F_GET_TIME(TO_CHAR(SYSDATE, 'YYYYMMDDHH24MISS'),'SE') \n                                  AND TO_CHAR(SYSDATE, 'YYYYMMDDHH24MISS')), 0)         VR_25\n , NVL((SELECT SUM(TOTAL_BONUS_QTY) \n               FROM MWIPLOTBNS \n              WHERE LOT_ID = A.LOT_ID\n                AND TRAN_TIME BETWEEN F_GET_TIME(TO_CHAR(SYSDATE, 'YYYYMMDDHH24MISS'),'SE') \n                                  AND TO_CHAR(SYSDATE, 'YYYYMMDDHH24MISS')), 0)    VR_26\n , '-'    VR_27\n , '-'    VR_28\n , TO_CHAR(SYSDATE,'YYYYMMDDHH24MISS')     VR_29\n , GET_WORK_DATE_EDI(TO_CHAR(SYSDATE, 'YYYYMMDDHH24MISS'),'D')  VR_30\n , MESMGR.PK_SEC_MES_IF.MakeInkless_OMS_WIP(A.FACTORY, A.LOT_ID)  VR_31\n  FROM MWIPLOTSTS A\n WHERE 1 = 1\n   AND FACTORY IN ('HMKT1','HMKA1') \n   AND LOT_CMF_2 = 'SE'   \n   AND OWNER_CODE = 'PROD'\n   AND LOT_TYPE = 'W'\n   AND LOT_DEL_FLAG = ' ' \n   AND CREATE_CODE <> 'FREE' \n   AND MAT_ID LIKE 'SE'||(SELECT DATA_1 FROM MGCMTBLDAT WHERE FACTORY = 'HMKA1' AND TABLE_NAME = 'H_SPECIAL_CHAR' AND KEY_1 = '1')\n   AND OPER BETWEEN 'A0000' AND 'TZ010'\n   AND MAT_ID NOT LIKE 'SEKY'||(SELECT DATA_1 FROM MGCMTBLDAT WHERE FACTORY = 'HMKA1' AND TABLE_NAME = 'H_SPECIAL_CHAR' AND KEY_1 = '1')  --- 영업  요청으로 하드코딩 170412. SEKY%\n)","CREATE_USER":"6","CREATE_DATE":"2021-11-22 10:58:05","DBTYPE":"MES"}]
2022-11-16 19:00:00 [EDI System] info: 
        SELECT * FROM (
            SELECT *
            FROM EDI_QUERY_SETTING
            WHERE 1=1
            AND SETTING_ID = (
                SELECT ID
                FROM CG_CUSTOMER 
                WHERE PARENT = (
                    SELECT ID
                    FROM CG_CUSTOMER 
                    WHERE ID=(
                        SELECT PARENT
                        FROM CG_CUSTOMER 
                        WHERE ID=(
                            SELECT PARENT 
                            FROM CG_CUSTOMER 
                            WHERE ID=:id
                        )
                    )
                )
                AND LOWER(NAME) = 'common'
            )
            AND TYPE IN ('DB','TEXT')
            AND KEY NOT IN (SELECT KEY
                            FROM EDI_QUERY_SETTING
                            WHERE 1=1
                            AND SETTING_ID = :id
                            AND TYPE IN ('DB','TEXT'))
            UNION ALL
            SELECT *
            FROM EDI_QUERY_SETTING
            WHERE 1=1
            AND SETTING_ID = :id
            AND TYPE IN ('DB','TEXT')
        )
        ORDER BY LENGTH(KEY) DESC
    
2022-11-16 19:00:00 [EDI System] info: [{"ID":"137","SETTING_ID":"129","KEY":"todayHH24MISS","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE,'YYYYMMDDHH24MISS') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-11-12 05:20:22","DBTYPE":"MES"},{"ID":"124","SETTING_ID":"129","KEY":"todayHH24_M1H","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE - 1/24,'YYYYMMDDHH24') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-10-15 01:40:03","DBTYPE":"MES"},{"ID":"122","SETTING_ID":"129","KEY":"todayHH24","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE,'YYYYMMDDHH24') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-10-15 11:47:10","DBTYPE":"MES"},{"ID":"115","SETTING_ID":"129","KEY":"today_yy","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE,'YYYYMMDDHH24') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-09-24 08:46:51","DBTYPE":"MES"},{"ID":"130","SETTING_ID":"129","KEY":"today","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE,'YYYYMMDD') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-11-09 03:36:41","DBTYPE":"MES"}]
2022-11-16 19:00:00 [EDI System] info: [{"ID":"137","SETTING_ID":"129","KEY":"todayHH24MISS","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE,'YYYYMMDDHH24MISS') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-11-12 05:20:22","DBTYPE":"MES"},{"ID":"124","SETTING_ID":"129","KEY":"todayHH24_M1H","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE - 1/24,'YYYYMMDDHH24') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-10-15 01:40:03","DBTYPE":"MES"},{"ID":"122","SETTING_ID":"129","KEY":"todayHH24","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE,'YYYYMMDDHH24') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-10-15 11:47:10","DBTYPE":"MES"},{"ID":"115","SETTING_ID":"129","KEY":"today_yy","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE,'YYYYMMDDHH24') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-09-24 08:46:51","DBTYPE":"MES"},{"ID":"130","SETTING_ID":"129","KEY":"today","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE,'YYYYMMDD') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-11-09 03:36:41","DBTYPE":"MES"}]
2022-11-16 19:00:00 [EDI System] info: [{"ID":"137","SETTING_ID":"129","KEY":"todayHH24MISS","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE,'YYYYMMDDHH24MISS') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-11-12 05:20:22","DBTYPE":"MES"},{"ID":"124","SETTING_ID":"129","KEY":"todayHH24_M1H","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE - 1/24,'YYYYMMDDHH24') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-10-15 01:40:03","DBTYPE":"MES"},{"ID":"122","SETTING_ID":"129","KEY":"todayHH24","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE,'YYYYMMDDHH24') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-10-15 11:47:10","DBTYPE":"MES"},{"ID":"115","SETTING_ID":"129","KEY":"today_yy","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE,'YYYYMMDDHH24') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-09-24 08:46:51","DBTYPE":"MES"},{"ID":"130","SETTING_ID":"129","KEY":"today","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE,'YYYYMMDD') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-11-09 03:36:41","DBTYPE":"MES"}]
2022-11-16 19:01:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 19:02:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 19:03:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 19:04:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 19:04:00 [EDI System] info: Job Start Time > {"min":4,"hour":19,"date":16,"month":11,"day":3}
 {"ID":100,"CFG_ID":"135","FILE_NAME":"LOTEVENT_HM:todayHH24","FILE_DESC":"SEC LOTEVENT 1/1HR","FILE_SAVE_FOLDER":"D:/HM_EDI/SEC/OUT","FILE_CHARSET":"utf-8","FILE_TYPE":"ff","DATA_TYPE":"text","FTP_ENV_ID":"100","SEND_FLAG":"Y","NODATASEND":null,"SCHEDULE_MIN":"4","SCHEDULE_HOUR":"*","SCHEDULE_DAY":"*","SCHEDULE_WEEK":"*","SCHEDULE_MONTH":"*","CM_F01":null,"CM_F02":null,"CREATE_DATE":null,"CREATE_USER":null,"UPDATE_DATE":"2021-12-16 09:23:19","UPDATE_USER":"6","DELETE_DATE":null,"DELETE_USER":null,"frequency":"4 * * * *"}
2022-11-16 19:04:00 [EDI System] info: 100 >>> makeFileText Function Execute
2022-11-16 19:04:00 [EDI System] info: SELECT EDI_LOG_SEQ.NEXTVAL AS ID FROM DUAL
2022-11-16 19:04:00 [EDI System] info: SELECT EDI_LOG_SEQ.NEXTVAL AS ID FROM DUAL
2022-11-16 19:04:00 [EDI System] info: [{"ID":11147}]
2022-11-16 19:04:00 [EDI System] info: seq : return Key [{"ID":11147}]
2022-11-16 19:04:00 [EDI System] info: saveAllLogger => ID:11147, NAME:LOTEVENT_HM:todayHH24, ProcessID:135, Description: Job Start : ID=100, CFG_ID=135, FTP_ENV_ID=100, FILE_NAME=LOTEVENT_HM:todayHH24, FILE_DESC=SEC LOTEVENT 1/1HR, FILE_CHARSET=utf-8, FILE_TYPE=ff
2022-11-16 19:04:00 [EDI System] info: INSERT INTO EDI_LOG(ID, STEP, NAME, PROCESS_ID, DESCRIPTION, CREATE_USER, CREATE_DATE)
    VALUES(:id, :stepId, :name, :process_id, :description, 'DAEMON', TO_CHAR(SYSDATE,'YYYYMMDDHH24MISS'))
2022-11-16 19:04:00 [EDI System] info: Insert successful = SQL: INSERT INTO EDI_LOG(ID, STEP, NAME, PROCESS_ID, DESCRIPTION, CREATE_USER, CREATE_DATE)
    VALUES(:id, :stepId, :name, :process_id, :description, 'DAEMON', TO_CHAR(SYSDATE,'YYYYMMDDHH24MISS')) | Params: {"id":11147,"stepId":"1","name":"LOTEVENT_HM:todayHH24","process_id":"135","description":"Job Start : ID=100, CFG_ID=135, FTP_ENV_ID=100, FILE_NAME=LOTEVENT_HM:todayHH24, FILE_DESC=SEC LOTEVENT 1/1HR, FILE_CHARSET=utf-8, FILE_TYPE=ff"} / 1
2022-11-16 19:04:00 [EDI System] info: 
    SELECT *
    FROM (
        SELECT ROWNUM,A.*
            FROM EDI_QUERY_SETTING A
            WHERE SETTING_ID = :id
            AND TYPE='Main'
            ORDER BY ID DESC
        ) 
    WHERE ROWNUM='1'
    
2022-11-16 19:04:00 [EDI System] info: [{"ROWNUM":16,"ID":"155","SETTING_ID":"135","KEY":null,"TYPE":"Main","QUERY":"SELECT     \n  RPAD(V1, 2,' ')\n, RPAD(V3 , 20,' ')\n, RPAD(NVL(decode(v35, 'N01', 'Multitransfer', V4), ' ') , 30,' ')\n, RPAD(V5 || LPAD(B.MILI_SEC,3,0) , 20,' ')\n, RPAD(V6 , 2,' ')\n, RPAD(V7 , 4,' ')\n, RPAD(V8 , 30,' ')\n, RPAD(V9  , 20,' ')\n, RPAD(V10 , 10,' ')\n, RPAD(V11 , 30,' ')\n, RPAD(V12 , 20,' ')\n, RPAD(V13 , 20,' ')\n, RPAD(V14 , 10,' ')\n, RPAD(V15 , 10,' ')\n, RPAD(V16 , 14,' ')\n, RPAD(V17 , 14,' ')\n, LPAD(V18 , 10,' ')\n, LPAD(V19 , 10,' ')\n, RPAD(V20 , 14,' ')\n, RPAD(V21 , 10,' ')\n, RPAD(V22 , 10,' ')\n, RPAD(V23 , 20,' ')\n, RPAD(nvl(V24,' ') , 20,' ')\n, RPAD(V25 , 30,' ')\n, RPAD(V26 , 30,' ')\n, RPAD(V27 , 20,' ')\n, RPAD(V28 , 20,' ')\n, RPAD(V29 , 65,' ')\n, RPAD(V30 , 10,' ')\n, RPAD(V31 , 2,' ')\n, RPAD(V32 , 20,' ')\n, RPAD(V33 , 14,' ')\n, RPAD(V34 , 10,' ')\n, RPAD(V35 , 10,' ')\n, RPAD(V36 , 255,' ')\n, RPAD(V37 , 255,' ')\n  FROM ( SELECT ROWNUM IDX, \n                        V0,V1,V2,V3,V4,V5,V6,V7,V8,V9,V10,V11,V12,V13,V14,V15,V16,V17,V18,V19,V20,V21,V22,V23,V24,V25,V26,V27,V28,V29,V30,V31,V32,V33,V34,V35,V36,V37\n           FROM (\n           select * from\n           (           -- 20200121 chulho.wee ; combine except\n                       SELECT C.IN_DTTM V0, 'HM'  V1\n                     , DECODE(A.FACTORY, 'HMKA1', 'ASSY', 'TEST') V2\n                     , NVL(TRIM(A.LOT_CMF_1), '-') V3\n                     , DECODE(B.DATA_1\n                              , 'END', NVL(TRIM(INITCAP(A.TRAN_CMF_1)),'TrackOut')\n                              --, 'Change', DECODE(A.TRAN_CMF_1,'PART_CHANGE','ChangeProduct')\n                              --, 'Receive', DECODE(A.OLD_OPER,'T0000','RECV_OY_HMK3', 'Receive')\n                              -- , 'Ship', DECODE(A.OLD_OPER,'TZ010','SHIP_HMK4_OY', 'Ship')\n                              , 'Change', DECODE(A.TRAN_CMF_1,'PART_CHANGE','ChangeProduct', DECODE(A.OLD_OPER, 'T0100', 'ChangeProduct','T0960','ChangeProduct', B.DATA_1))\n                              , 'Receive', DECODE(A.OLD_OPER||SUBSTR(A.MAT_ID,1,3),'T0000SES','RECV_OY_HMK3','A0000SES','RECV_KH_HMK2', 'Receive')\n                              --, 'Ship', DECODE(A.OLD_OPER,'TZ010','SHIP_HMK4_ASIMACS','AZ010','SHIP_HMK3_OY', 'Ship')\n                              , 'Ship', DECODE(A.OLD_OPER,'TZ010',DECODE(F_GET_HALF_FULL(A.LOT_ID, A.HIST_SEQ), 'Y','SHIP_HMKT_OY', 'SHIP_HMK4_ASIMACS'),'AZ010','SHIP_HMK3_OY', 'Ship')\n                              , B.DATA_1) V4\n                     , A.TRAN_TIME V5 \n                     , NVL(TRIM(A.LOT_CMF_5), '-')  V6\n                     , DECODE(B.DATA_1||A.OLD_FACTORY\n                              , 'ReceiveHMKT1', 'HMK3'\n                              , 'ShipHMKT1', 'HMK4'\n                              , DECODE(A.FACTORY, 'HMKA1', 'HMKA', 'HMKT'))  V7\n                     , NVL((SELECT MAT_CMF_7 FROM MWIPMATDEF WHERE FACTORY = A.FACTORY AND MAT_ID = A.MAT_ID AND MAT_VER = A.MAT_VER)\n                          , (SELECT MAT_CMF_7 FROM MWIPMATDEF WHERE FACTORY = A.OLD_FACTORY AND MAT_ID = A.OLD_MAT_ID AND MAT_VER = A.MAT_VER))  V8\n                     , A.FLOW  V9\n                     , DECODE(SUBSTRB(A.OLD_OPER,1,4),'AZ01','HMK3','T000','HMK3','TZ01','HMK4','A000','HMK2',SUBSTRB(A.OLD_OPER,1,4))  V10\n                     , NVL((SELECT OPER_DESC FROM MWIPOPRDEF WHERE FACTORY = A.FACTORY AND OPER = A.OLD_OPER AND FLOW = A.FLOW), ' ' )  V11\n                     , NVL((SELECT RES_GRP_3 FROM MRASRESDEF WHERE FACTORY = A.FACTORY AND RES_ID = A.START_RES_ID ),' ')  V12\n                     , NVL(START_RES_ID, ' ')  V13\n                     , NVL((SELECT DECODE(SUBSTRB(NVL(trim(PREV_OPER), 'A0000'),1,4),'AZ01','HMK3','T000','HMK3','TZ01','HMK4','A000','HMK2',SUBSTRB(NVL(trim(PREV_OPER), 'A0000'),1,4)) FROM MWIPFLWOPR WHERE FACTORY = A.FACTORY AND OPER = A.OPER AND FLOW = A.FLOW),' ')  V14\n                     , DECODE(SUBSTRB(A.OPER,1,4),'AZ01','HMK3','T000','HMK3','TZ01','HMK4','A000','HMK2',SUBSTRB(A.OPER,1,4))  V15\n                     , A.OPER_IN_TIME  V16\n                     , A.CREATE_TIME  V17\n                     , NVL(D.WAFERQTY,NVL(TRIM(A.QTY_2),0))  V18\n                     , NVL(\n                                    DECODE(TRAN_CODE,'MERGE',DECODE(FROM_TO_FLAG,'F',TRIM(A.QTY_1),TRIM(A.QTY_1))\n                                    ,TRIM(A.QTY_1))\n                                    , 0)  V19 -- CHIP_QTY_new-- 2010 10 07\n                     , A.TRAN_TIME  V20\n                     , NVL(D.WAFERQTY,NVL(TRIM(A.QTY_2),0))  V21\n                     , NVL(\n                                    DECODE(TRAN_CODE,'MERGE',DECODE(FROM_TO_FLAG,'F',TRIM(A.OLD_QTY_1),'T',TRIM(A.QTY_1-A.OLD_QTY_1),TRIM(A.QTY_1)) --,TRIM(A.QTY_1))\n                                                    ,'SPLIT',DECODE(FROM_TO_FLAG,'F',abs(A.OLD_QTY_1-A.QTY_1),TRIM(A.QTY_1))\n                                                    ,'LOSS',(A.OLD_QTY_1 - QTY_1)\n                                                    ,TRIM(A.QTY_1))\n                                   , 0)  V22 -- EVENT_QTY_new -- 2010 10 07\n                     , NVL((SELECT LOT_STATE FROM V_SECLOTSTS WHERE FACTORY = A.FACTORY AND LOT_ID = A.LOT_ID AND HIST_SEQ = A.HIST_SEQ ),' ')  V23\n                     , DECODE(TRAN_CODE,'SPLIT',DECODE(FROM_TO_FLAG,'T','Splitted','Split'),\n                                        'MERGE',DECODE(FROM_TO_FLAG,'T','Merge','Merged'),\n                                        'PMERGE',DECODE(FROM_TO_FLAG,'T','Merge','Merged')\n                                      )  V24\n                     , DECODE(TRAN_CODE, 'SPLIT',DECODE(FROM_TO_FLAG,'F',' ',NVL(TRIM(A.FROM_TO_LOT_ID), TRIM(A.LOT_CMF_1)))\n                                       , 'MERGE',DECODE(FROM_TO_FLAG,'F',TRIM(A.FROM_TO_LOT_ID),NVL(TRIM(A.FROM_TO_LOT_ID), TRIM(A.LOT_CMF_1)))\n                                       , DECODE(TRAN_CODE,'ADAPT',F_GET_CHG_PREV_VAL(A.LOT_ID,A.HIST_SEQ,'ADAPT','MAT_ID',-1),F_GET_CHG_PREV_VAL(A.LOT_ID,A.HIST_SEQ,TRAN_CODE,'MAT_ID',-1))\n                                       )  V25\n                     , DECODE(TRAN_CODE, 'SPLIT',DECODE(FROM_TO_FLAG,'T',' ',NVL(TRIM(A.FROM_TO_LOT_ID), TRIM(A.LOT_CMF_1)))\n                                       , 'MERGE',DECODE(FROM_TO_FLAG,'T',TRIM(A.FROM_TO_LOT_ID),NVL(TRIM(A.FROM_TO_LOT_ID), TRIM(A.LOT_CMF_1)))\n                                       , DECODE(TRAN_CODE,'ADAPT',F_GET_CHG_PREV_VAL(A.LOT_ID,A.HIST_SEQ,'ADAPT','MAT_ID',1),F_GET_CHG_PREV_VAL(A.LOT_ID,A.HIST_SEQ,TRAN_CODE,'MAT_ID',1))\n                                       )  V26\n                     , DECODE(TRAN_CODE, 'SPLIT',DECODE(FROM_TO_FLAG,'T',' ',NVL(TRIM(A.FROM_TO_LOT_ID), TRIM(A.LOT_CMF_1)))\n                                       , 'MERGE',DECODE(FROM_TO_FLAG,'F',TRIM(A.LOT_CMF_1),NVL(TRIM(A.FROM_TO_LOT_ID), TRIM(A.LOT_CMF_1)))\n                                       , ' ')  V27\n                     , DECODE(TRAN_CODE, 'SPLIT',DECODE(FROM_TO_FLAG,'F',' ',NVL(TRIM(A.FROM_TO_LOT_ID), TRIM(A.LOT_CMF_1)))\n                                       , 'MERGE',DECODE(FROM_TO_FLAG,'T',TRIM(A.LOT_CMF_1),NVL(TRIM(A.FROM_TO_LOT_ID), TRIM(A.LOT_CMF_1)))\n                                       , ' ')  V28\n                     , ' '  V29\n                     , DECODE(TRAN_CODE, 'HOLD',HOLD_CODE, ' ')  V30\n                     , F_GET_ATTR_VALUE(A.LOT_ID, 'LOT_SEC_INFO','RETURN_CODE')  V31\n                     , NVL(TRIM(A.LOT_CMF_4), '-')  V32\n                     , TO_CHAR(SYSDATE, 'YYYYMMDDHH24MISS')  V33\n                     , A.START_QTY_1  V34\n                     , NVL((SELECT MAX(LOSS_CODE_1) FROM MWIPLOTLOS WHERE FACTORY = A.FACTORY AND OPER = A.OLD_OPER AND FLOW = A.FLOW AND LOT_ID = A.LOT_ID), ' ' )  V35\n                     , NVL((SELECT ATTR_VALUE FROM MATRNAMSTS WHERE FACTORY = 'HMKA1' AND ATTR_TYPE = 'LOT_SEC_INFO' AND ATTR_NAME = 'WORDER' AND ATTR_KEY  = A.LOT_ID ), ' ') V36\n                     , NVL((SELECT ATTR_VALUE FROM MATRNAMSTS WHERE FACTORY = 'HMKA1' AND ATTR_TYPE = 'LOT_SEC_INFO' AND ATTR_NAME = 'WORDER' AND ATTR_KEY  = A.LOT_ID ), ' ') V37\n                          FROM MWIPLOTHIS A \n                             , CWIPSITDEF B\n                             , CEDILOTHIS C\n                             , V_CLOTWAFQTY D\n                         WHERE 1 = 1\n                           AND A.FACTORY IN ('HMKA1', 'HMKT1','CUSTOMER')    \n                           AND A.OWNER_CODE = 'PROD'\n                           AND A.LOT_TYPE = 'W'\n                           AND A.HIST_DEL_FLAG = ' '\n                           AND A.LOT_CMF_2 = 'SE'\n                           AND A.TRAN_TIME >= :todayHH24_M1H ||'000000'\n                           AND A.TRAN_TIME <  :todayHH24 ||'000000'\n                           AND B.TABLE_NAME='H_EDI_TRAN'\n                           AND B.KEY_1='SE'\n                           AND A.TRAN_CODE = B.KEY_2   \n                           AND B.DATA_1 <> ' '   \n                           AND B.FACTORY = 'HMKA1'\n                           AND (A.TRAN_CODE <> 'START' OR A.TRAN_CMF_1 IN ('ISSUE','CLOSE'))\n                           AND (A.TRAN_CODE <> 'ADAPT' OR A.ADD_ORDER_ID_2 NOT IN ('MULTIEQP_MOT','MULTIEQP', ' ') OR A.TRAN_CMF_1 IN ('PART_CHANGE' ))\n                           AND A.OLD_FLOW > ' '\n                           AND A.LOT_ID = C.LOT_ID\n                           AND A.HIST_SEQ = C.HIST_SEQ\n                           AND A.TRAN_TIME  = C.TRAN_TIME\n                           AND A.LOT_ID = D.LOT_ID(+)\n                           AND A.OPER NOT IN ('T000N')\n                         \n                 union all\n                       -- 20200121 chulho.wee ; combine only ; merge, multitransfer\n                       SELECT C.IN_DTTM V0, 'HM'  V1\n                     , DECODE(A.FACTORY, 'HMKA1', 'ASSY', 'TEST') V2\n                     , NVL(TRIM(A.LOT_CMF_1), '-') V3\n                     , DECODE(B.DATA_1,\n                              'END', NVL(TRIM(INITCAP(A.TRAN_CMF_1)),'TrackOut'),\n                              'Change', DECODE(A.TRAN_CMF_1,'PART_CHANGE','ChangeProduct')\n                              , B.DATA_1) V4\n                     , A.TRAN_TIME V5 \n                     , NVL(TRIM(A.LOT_CMF_5), '-')  V6\n                     , DECODE(A.FACTORY, 'HMKA1', 'HMKA', 'HMKT')  V7\n                     , NVL((SELECT MAT_CMF_7 FROM MWIPMATDEF WHERE FACTORY = A.FACTORY AND MAT_ID = A.MAT_ID AND MAT_VER = A.MAT_VER)\n                          , (SELECT MAT_CMF_7 FROM MWIPMATDEF WHERE FACTORY = A.OLD_FACTORY AND MAT_ID = A.OLD_MAT_ID AND MAT_VER = A.MAT_VER))  V8\n                     , A.FLOW  V9\n                     , DECODE(SUBSTRB(A.OLD_OPER,1,4),'AZ01','HMK3','T000','HMK3','TZ01','HMK4','A000','HMK2',SUBSTRB(A.OLD_OPER,1,4))  V10\n                     , NVL((SELECT OPER_DESC FROM MWIPOPRDEF WHERE FACTORY = A.FACTORY AND OPER = A.OLD_OPER AND FLOW = A.FLOW), ' ' )  V11\n                     , NVL((SELECT RES_GRP_3 FROM MRASRESDEF WHERE FACTORY = A.FACTORY AND RES_ID = A.START_RES_ID ),' ')  V12\n                     , NVL(START_RES_ID, ' ')  V13\n                     , NVL((SELECT DECODE(SUBSTRB(NVL(trim(PREV_OPER), 'A0000'),1,4),'AZ01','HMK3','T000','HMK3','TZ01','HMK4','A000','HMK2',SUBSTRB(NVL(trim(PREV_OPER), 'A0000'),1,4)) FROM MWIPFLWOPR WHERE FACTORY = A.FACTORY AND OPER = A.OPER AND FLOW = A.FLOW),' ')  V14\n                     , DECODE(SUBSTRB(A.OPER,1,4),'AZ01','HMK3','T000','HMK3','TZ01','HMK4','A000','HMK2',SUBSTRB(A.OPER,1,4))  V15\n                     , A.OPER_IN_TIME  V16\n                     , A.CREATE_TIME  V17\n                     , NVL(D.WAFERQTY,NVL(TRIM(A.QTY_2),0))  V18\n                     , NVL(\n                                    DECODE(TRAN_CODE, 'COMBINE',DECODE(FROM_TO_FLAG,'T',TRIM(A.QTY_1+(select max(old_qty_1) from mwiplothis where lot_id = (select from_to_lot_id from mwiplothis where lot_id = a.lot_id and hist_seq = a.hist_seq) and tran_code = 'COMBINE' and hist_del_flag = ' '))\n                                                                                       ,TRIM(A.QTY_1))\n                                                    , TRIM(A.QTY_1))\n                           , 0)  V19 \n                     , A.TRAN_TIME  V20\n                     , NVL(D.WAFERQTY,NVL(TRIM(A.QTY_2),0))  V21\n                     , NVL(\n                                    DECODE(TRAN_CODE,'COMBINE',DECODE(FROM_TO_FLAG,'F',TRIM(A.OLD_QTY_1)\n                                                                                  ,'T',(select max(old_qty_1) from mwiplothis where lot_id = (select from_to_lot_id from mwiplothis where lot_id = a.lot_id and hist_seq = a.hist_seq) and tran_code = 'COMBINE' and hist_del_flag = ' ')\n                                                                                  ,TRIM(A.QTY_1)) --,TRIM(A.QTY_1))\n                                                    ,TRIM(A.QTY_1)*2)\n                           , 0)  V22 \n                     , NVL((SELECT LOT_STATE FROM V_SECLOTSTS WHERE FACTORY = A.FACTORY AND LOT_ID = A.LOT_ID AND HIST_SEQ = A.HIST_SEQ ),' ')  V23\n                     , DECODE(TRAN_CODE,'SPLIT',DECODE(FROM_TO_FLAG,'T','Splitted','Split'),\n                                        'COMBINE',DECODE(FROM_TO_FLAG,'T','Merge','Merged'),\n                                        'PMERGE',DECODE(FROM_TO_FLAG,'T','Merge','Merged')\n                                      )  V24\n                     , DECODE(TRAN_CODE, 'COMBINE',DECODE(FROM_TO_FLAG,'F',TRIM(A.FROM_TO_LOT_ID),NVL(TRIM(A.FROM_TO_LOT_ID), TRIM(A.LOT_CMF_1)))\n                                       , ' ') V25\n                     , DECODE(TRAN_CODE, 'COMBINE',DECODE(FROM_TO_FLAG,'T',TRIM(A.FROM_TO_LOT_ID),NVL(TRIM(A.FROM_TO_LOT_ID), TRIM(A.LOT_CMF_1)))\n                                       , ' ') V26\n                     , DECODE(TRAN_CODE, 'COMBINE',DECODE(FROM_TO_FLAG,'F',TRIM(A.LOT_CMF_1),NVL(TRIM(A.FROM_TO_LOT_ID), TRIM(A.LOT_CMF_1)))\n                                       , ' ')  V27\n                     , DECODE(TRAN_CODE, 'COMBINE',DECODE(FROM_TO_FLAG,'T',TRIM(A.LOT_CMF_1),NVL(TRIM(A.FROM_TO_LOT_ID), TRIM(A.LOT_CMF_1)))\n                                       , ' ')  V28\n                     , ' '  V29\n                     , DECODE(TRAN_CODE, 'HOLD',HOLD_CODE, ' ')  V30\n                     , F_GET_ATTR_VALUE(A.LOT_ID, 'LOT_SEC_INFO','RETURN_CODE')  V31\n                     , NVL(TRIM(A.LOT_CMF_4), '-')  V32\n                     , TO_CHAR(SYSDATE, 'YYYYMMDDHH24MISS')  V33\n                     , A.START_QTY_1  V34\n                     , NVL((SELECT MAX(LOSS_CODE_1) FROM MWIPLOTLOS WHERE FACTORY = A.FACTORY AND OPER = A.OLD_OPER AND FLOW = A.FLOW AND LOT_ID = A.LOT_ID), ' ' )  V35\n                     , NVL((SELECT ATTR_VALUE FROM MATRNAMSTS WHERE FACTORY = 'HMKA1' AND ATTR_TYPE = 'LOT_SEC_INFO' AND ATTR_NAME = 'WORDER' AND ATTR_KEY  = A.LOT_ID ), ' ') V36\n                     , NVL((SELECT ATTR_VALUE FROM MATRNAMSTS WHERE FACTORY = 'HMKA1' AND ATTR_TYPE = 'LOT_SEC_INFO' AND ATTR_NAME = 'WORDER' AND ATTR_KEY  = A.LOT_ID ), ' ') V37\n                          FROM MWIPLOTHIS A \n                             , CWIPSITDEF B\n                             , CEDILOTHIS C\n                             , V_CLOTWAFQTY D\n                         WHERE 1 = 1\n                           AND A.FACTORY IN ('HMKA1', 'HMKT1') --,'CUSTOMER')    \n                           AND A.OWNER_CODE = 'PROD'\n                           AND A.LOT_TYPE = 'W'\n                           AND A.HIST_DEL_FLAG = ' '\n                           AND A.LOT_CMF_2 = 'SE'\n                           AND A.TRAN_TIME >= TO_CHAR(SYSDATE-1/24,'YYYYMMDDHH24')||'000000'\n                           AND A.TRAN_TIME <  TO_CHAR(SYSDATE,'YYYYMMDDHH24')||'000000'\n                           AND B.TABLE_NAME='H_EDI_EX_TRAN'\n                           AND B.KEY_1='SE'\n                           AND A.TRAN_CODE = B.KEY_2   \n                           AND B.DATA_1 <> ' '   \n                           AND B.FACTORY = 'HMKA1'\n                           AND (A.TRAN_CODE <> 'START' OR A.TRAN_CMF_1 IN ('ISSUE','CLOSE'))\n                           AND (A.TRAN_CODE <> 'ADAPT' OR A.ADD_ORDER_ID_2 NOT IN ('MULTIEQP_MOT','MULTIEQP', ' ') OR A.TRAN_CMF_1 IN ('PART_CHANGE' ))\n                           AND A.OLD_FLOW > ' '\n                           AND A.LOT_ID = C.LOT_ID\n                           AND A.HIST_SEQ = C.HIST_SEQ\n                           AND A.TRAN_TIME  = C.TRAN_TIME\n                           AND A.LOT_ID = D.LOT_ID(+)\n                           AND A.OPER NOT IN ('T000N')\n                           AND A.OPER LIKE 'A040_'\n              )\n              order by v0\n           )) A, \n       ( SELECT ROWNUM IDX, TRAN_TIME, MILI_SEC\n           FROM (\n                   SELECT TRAN_TIME, CNT-NUM MILI_SEC\n                    FROM (\n                    select TRAN_TIME, sum(cnt) CNT\n                      from ( \n                        SELECT A.TRAN_TIME, COUNT(*) CNT\n                          FROM MWIPLOTHIS A \n                             , CWIPSITDEF B\n                             , CEDILOTHIS C\n                             , V_CLOTWAFQTY D\n                         WHERE 1 = 1\n                           AND A.FACTORY IN ('HMKA1', 'HMKT1','CUSTOMER')   \n                           AND A.OWNER_CODE = 'PROD'\n                          AND A.LOT_TYPE = 'W'\n                           AND A.HIST_DEL_FLAG = ' '\n                           AND A.LOT_CMF_2 = 'SE'\n                           AND A.TRAN_TIME >= TO_CHAR(SYSDATE-1/24,'YYYYMMDDHH24')||'000000'\n                           AND A.TRAN_TIME <  TO_CHAR(SYSDATE,'YYYYMMDDHH24')||'000000'\n                           AND B.TABLE_NAME='H_EDI_TRAN'\n                           AND B.KEY_1='SE'\n                           AND A.TRAN_CODE = B.KEY_2   \n                           AND B.DATA_1 <> ' '   \n                           AND B.FACTORY = 'HMKA1'\n                           AND (A.TRAN_CODE <> 'START' OR A.TRAN_CMF_1 IN ('ISSUE','CLOSE'))\n                           AND (A.TRAN_CODE <> 'ADAPT' OR A.ADD_ORDER_ID_2 NOT IN ('MULTIEQP_MOT','MULTIEQP', ' ') OR A.TRAN_CMF_1 IN ('PART_CHANGE' ))\n                           AND A.OLD_FLOW > ' '\n                           AND A.LOT_ID = C.LOT_ID\n                           AND A.HIST_SEQ = C.HIST_SEQ\n                           AND A.TRAN_TIME  = C.TRAN_TIME\n                           AND A.LOT_ID = D.LOT_ID(+)\n                           AND A.OPER NOT IN ('T000N')\n                         GROUP BY A.TRAN_TIME\n                         union\n                        SELECT A.TRAN_TIME, COUNT(*) CNT\n                          FROM MWIPLOTHIS A \n                             , CWIPSITDEF B\n                             , CEDILOTHIS C\n                             , V_CLOTWAFQTY D\n                         WHERE 1 = 1\n                           AND A.FACTORY IN ('HMKA1', 'HMKT1') --,'CUSTOMER')    \n                           AND A.OWNER_CODE = 'PROD'\n                           AND A.LOT_TYPE = 'W'\n                           AND A.HIST_DEL_FLAG = ' '\n                           AND A.LOT_CMF_2 = 'SE'\n                           AND A.TRAN_TIME >= :todayHH24_M1H ||'000000'\n                           AND A.TRAN_TIME <  :todayHH24 ||'000000'\n                           AND B.TABLE_NAME='H_EDI_EX_TRAN'\n                           AND B.KEY_1='SE'\n                           AND A.TRAN_CODE = B.KEY_2   \n                           AND B.DATA_1 <> ' '   \n                           AND B.FACTORY = 'HMKA1'\n                           AND (A.TRAN_CODE <> 'START' OR A.TRAN_CMF_1 IN ('ISSUE','CLOSE'))\n                           AND (A.TRAN_CODE <> 'ADAPT' OR A.ADD_ORDER_ID_2 NOT IN ('MULTIEQP_MOT','MULTIEQP', ' ') OR A.TRAN_CMF_1 IN ('PART_CHANGE' ))\n                           AND A.OLD_FLOW > ' '\n                           AND A.LOT_ID = C.LOT_ID\n                           AND A.HIST_SEQ = C.HIST_SEQ\n                           AND A.TRAN_TIME  = C.TRAN_TIME\n                           AND A.LOT_ID = D.LOT_ID(+)\n                           AND A.OPER NOT IN ('T000N')\n                           GROUP BY A.TRAN_TIME\n                           )\n                           group by TRAN_TIME\n                         ) A, COPY_T B\n                   WHERE NUM < 26 \n                     AND NUM <= CNT\n                   ORDER BY TRAN_TIME, CNT-NUM \n                  )) B\n             WHERE A.IDX=B.IDX","CREATE_USER":"6","CREATE_DATE":"2021-12-15 11:13:15","DBTYPE":"MES"}]
2022-11-16 19:04:00 [EDI System] info: 
        SELECT * FROM (
            SELECT *
            FROM EDI_QUERY_SETTING
            WHERE 1=1
            AND SETTING_ID = (
                SELECT ID
                FROM CG_CUSTOMER 
                WHERE PARENT = (
                    SELECT ID
                    FROM CG_CUSTOMER 
                    WHERE ID=(
                        SELECT PARENT
                        FROM CG_CUSTOMER 
                        WHERE ID=(
                            SELECT PARENT 
                            FROM CG_CUSTOMER 
                            WHERE ID=:id
                        )
                    )
                )
                AND LOWER(NAME) = 'common'
            )
            AND TYPE IN ('DB','TEXT')
            AND KEY NOT IN (SELECT KEY
                            FROM EDI_QUERY_SETTING
                            WHERE 1=1
                            AND SETTING_ID = :id
                            AND TYPE IN ('DB','TEXT'))
            UNION ALL
            SELECT *
            FROM EDI_QUERY_SETTING
            WHERE 1=1
            AND SETTING_ID = :id
            AND TYPE IN ('DB','TEXT')
        )
        ORDER BY LENGTH(KEY) DESC
    
2022-11-16 19:04:01 [EDI System] info: [{"ID":"137","SETTING_ID":"129","KEY":"todayHH24MISS","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE,'YYYYMMDDHH24MISS') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-11-12 05:20:22","DBTYPE":"MES"},{"ID":"124","SETTING_ID":"129","KEY":"todayHH24_M1H","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE - 1/24,'YYYYMMDDHH24') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-10-15 01:40:03","DBTYPE":"MES"},{"ID":"122","SETTING_ID":"129","KEY":"todayHH24","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE,'YYYYMMDDHH24') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-10-15 11:47:10","DBTYPE":"MES"},{"ID":"115","SETTING_ID":"129","KEY":"today_yy","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE,'YYYYMMDDHH24') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-09-24 08:46:51","DBTYPE":"MES"},{"ID":"130","SETTING_ID":"129","KEY":"today","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE,'YYYYMMDD') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-11-09 03:36:41","DBTYPE":"MES"}]
2022-11-16 19:05:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 19:06:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 19:07:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 19:08:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 19:09:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 19:10:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 19:11:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 19:12:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 19:13:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 19:13:00 [EDI System] info: Job Start Time > {"min":13,"hour":19,"date":16,"month":11,"day":3}
 {"ID":121,"CFG_ID":"159","FILE_NAME":"CMEQPUNT_HM:today","FILE_DESC":"SEC CMEQPUNT 1/1day","FILE_SAVE_FOLDER":"D:/HM_EDI/SEC/OUT","FILE_CHARSET":"ascii","FILE_TYPE":"ff","DATA_TYPE":"text","FTP_ENV_ID":"100","SEND_FLAG":"Y","NODATASEND":"false","SCHEDULE_MIN":"13","SCHEDULE_HOUR":"*","SCHEDULE_DAY":"*","SCHEDULE_WEEK":"*","SCHEDULE_MONTH":"*","CM_F01":null,"CM_F02":null,"CREATE_DATE":"2021-12-10 09:44:41","CREATE_USER":"6","UPDATE_DATE":"2021-12-15 04:08:07","UPDATE_USER":"6","DELETE_DATE":null,"DELETE_USER":null,"frequency":"13 * * * *"}
2022-11-16 19:13:00 [EDI System] info: 121 >>> makeFileText Function Execute
2022-11-16 19:13:00 [EDI System] info: SELECT EDI_LOG_SEQ.NEXTVAL AS ID FROM DUAL
2022-11-16 19:13:00 [EDI System] info: SELECT EDI_LOG_SEQ.NEXTVAL AS ID FROM DUAL
2022-11-16 19:13:00 [EDI System] info: [{"ID":11148}]
2022-11-16 19:13:00 [EDI System] info: seq : return Key [{"ID":11148}]
2022-11-16 19:13:00 [EDI System] info: saveAllLogger => ID:11148, NAME:CMEQPUNT_HM:today, ProcessID:159, Description: Job Start : ID=121, CFG_ID=159, FTP_ENV_ID=100, FILE_NAME=CMEQPUNT_HM:today, FILE_DESC=SEC CMEQPUNT 1/1day, FILE_CHARSET=ascii, FILE_TYPE=ff
2022-11-16 19:13:00 [EDI System] info: INSERT INTO EDI_LOG(ID, STEP, NAME, PROCESS_ID, DESCRIPTION, CREATE_USER, CREATE_DATE)
    VALUES(:id, :stepId, :name, :process_id, :description, 'DAEMON', TO_CHAR(SYSDATE,'YYYYMMDDHH24MISS'))
2022-11-16 19:13:01 [EDI System] info: Insert successful = SQL: INSERT INTO EDI_LOG(ID, STEP, NAME, PROCESS_ID, DESCRIPTION, CREATE_USER, CREATE_DATE)
    VALUES(:id, :stepId, :name, :process_id, :description, 'DAEMON', TO_CHAR(SYSDATE,'YYYYMMDDHH24MISS')) | Params: {"id":11148,"stepId":"1","name":"CMEQPUNT_HM:today","process_id":"159","description":"Job Start : ID=121, CFG_ID=159, FTP_ENV_ID=100, FILE_NAME=CMEQPUNT_HM:today, FILE_DESC=SEC CMEQPUNT 1/1day, FILE_CHARSET=ascii, FILE_TYPE=ff"} / 1
2022-11-16 19:13:01 [EDI System] info: 
    SELECT *
    FROM (
        SELECT ROWNUM,A.*
            FROM EDI_QUERY_SETTING A
            WHERE SETTING_ID = :id
            AND TYPE='Main'
            ORDER BY ID DESC
        ) 
    WHERE ROWNUM='1'
    
2022-11-16 19:13:01 [EDI System] info: [{"ROWNUM":1,"ID":"157","SETTING_ID":"159","KEY":null,"TYPE":"Main","QUERY":"--//-- 20211203 chulho.wee ; CREATE\nSELECT \n  RPAD(START_TAG, 3, ' ')\n|| RPAD(OEM_CODE, 2, ' ')\n|| RPAD(MONTH, 6, ' ')\n|| RPAD(C_DATE, 8, ' ')\n|| RPAD(O_DATE, 8, ' ')\n|| RPAD(OEM_AREA, 4, ' ')\n|| RPAD(CUST_DEVICE, 30, ' ')\n|| RPAD(OPER_DESC, 15, ' ')\n|| RPAD(EQP_GROUP, 15, ' ')\n\n|| RPAD(EQP_MODEL, 30, ' ')\n|| RPAD(RES_ID, 15, ' ')\n|| RPAD(OPER, 6, ' ')\n\n|| RPAD(SUM(QTY), 10, ' ')\n|| RPAD(LOT_TYPE, 2, ' ')\n|| RPAD(PARA, 3, ' ')\n\n|| RPAD(TEST_TIME, 10, ' ')\n|| RPAD(INDEX_TIME, 10, ' ')\n|| RPAD(ATE_TIME, 10, ' ')\n\n|| RPAD(EQP_PRICE, 10, ' ')\n|| RPAD(ATE_PRICE, 10, ' ')\n|| RPAD(MVP_PRICE, 10, ' ')\n|| RPAD(PVI_PRICE, 10, ' ')\n|| RPAD(UNIT_PRICE, 10, ' ')\n\n|| RPAD(FULL_HALF, 10, ' ')\n|| RPAD(CREATE_TIME, 14, ' ')\n|| RPAD(REMARK, 200, ' ')\n  FROM\n(\n    SELECT 'LS1' START_TAG\n         , 'HM' OEM_CODE\n         , CASE\n            WHEN TO_CHAR(SYSDATE, 'DD') >= 28 THEN\n                 TO_CHAR(ADD_MONTHS(SYSDATE, +1), 'YYYYMM')\n            ELSE\n                 TO_CHAR(ADD_MONTHS(SYSDATE, -0), 'YYYYMM')\n           END AS \"MONTH\"\n         --, TO_CHAR(SYSDATE, 'DD') C_DATE\n         , TO_CHAR(SYSDATE, 'YYYYMMDD') C_DATE\n         , SUBSTR(LOT.TRAN_TIME, 1,8) AS O_DATE\n         , 'HMKT' AS OEM_AREA\n         \n         , TST.CUST_DVC CUST_DEVICE\n         , DECODE(TST.OPER ,'T0100', 'ATE', 'T0960', 'ASB', 'T0500', 'MVP', TST.OPER) OPER_DESC\n         \n         , (SELECT NVL(ATTR_VALUE, 'NULL') FROM MATRNAMSTS WHERE FACTORY = 'HMKT1' AND ATTR_TYPE = 'RESOURCE' AND ATTR_NAME = 'EQP_GROUP' AND ATTR_KEY = LOT.END_RES_ID) AS EQP_GROUP\n         , (SELECT NVL(ATTR_VALUE, 'NULL') FROM MATRNAMSTS WHERE FACTORY = 'HMKT1' AND ATTR_TYPE = 'RESOURCE' AND ATTR_NAME = 'EQP_MODEL' AND ATTR_KEY = LOT.END_RES_ID) AS EQP_MODEL\n         , LOT.OLD_OPER AS OPER\n         , LOT.END_RES_ID AS RES_ID\n         , LOT_CMF_5 LOT_TYPE\n\n         , LOT.QTY_1 AS QTY\n         , TST.PARA AS PARA\n         , TST.TEST_TIME AS TEST_TIME\n         , TST.INDEX_TIME AS INDEX_TIME\n         , TST.ATE_TIME AS ATE_TIME\n         , TST.EQP_PRICE AS EQP_PRICE\n         , TST.ATE_PRICE AS ATE_PRICE\n--         , (((TST.TEST_TIME + TST.INDEX_TIME) * TST.EQP_PRICE) / TST.PARA) AS ATE_PRICE\n         , TST.MVP_PRICE AS MVP_PRICE\n         , TST.PVI_PRICE AS PVI_PRICE\n         , TST.UNIT_PRICE AS UNIT_PRICE\n         , TST.FULL_HALF AS FULL_HALF\n         , TO_CHAR(SYSDATE, 'YYYYMMDDHH24MISS') AS CREATE_TIME\n         , ' ' AS REMARK\n      FROM MWIPLOTHIS LOT, VGCMTBLDAT_TEST_TIME_INF2 TST\n     WHERE 1=1\n       AND LOT.MAT_ID = TST.MAT_ID\n       AND LOT.OLD_OPER = TST.OPER\n       AND TST.MODEL = (SELECT NVL(ATTR_VALUE, 'NULL') FROM MATRNAMSTS WHERE FACTORY = 'HMKT1' AND ATTR_TYPE = 'RESOURCE' AND ATTR_NAME = 'EQP_MODEL' AND ATTR_KEY = LOT.END_RES_ID)\n       AND LOT.TRAN_TIME >= CASE WHEN TO_CHAR(SYSDATE, 'DD') >= 28 THEN\n                       TO_CHAR(ADD_MONTHS(SYSDATE, -0), 'YYYYMM')||'27'||'22'\n                       ELSE\n                       TO_CHAR(ADD_MONTHS(SYSDATE, -1), 'YYYYMM')||'27'||'22'\n                       END --AS PREV_MON\n\n       AND LOT.TRAN_TIME < CASE WHEN TO_CHAR(SYSDATE, 'HH24MISS') >= 220000\n                                  OR TO_CHAR(SYSDATE, 'HH24MISS') <= 235959 THEN\n                       TO_CHAR(SYSDATE -0, 'YYYYMMDD')||'22'\n                       ELSE\n                       TO_CHAR(SYSDATE -1, 'YYYYMMDD')||'22'\n                       END --AS CURR_MON\n                       \n--       AND LOT.TRAN_TIME < CASE WHEN TO_CHAR(SYSDATE, 'DD') >= 28 THEN\n--                       TO_CHAR(ADD_MONTHS(SYSDATE, +1), 'YYYYMM')||'27'||'22'\n--                       ELSE\n--                       TO_CHAR(ADD_MONTHS(SYSDATE, -0), 'YYYYMM')||'27'||'22'\n--                       END --AS CURR_MON\n       AND LOT.FACTORY = 'HMKT1'\n       AND LOT.TRAN_CODE = 'END'\n       AND LOT.OLD_OPER in ('T0100', 'T0960', 'T0500')\n--       AND TST.CUST_DVC = 'L6HD311A01-P040-A00VCD'\n--       AND LOT.MAT_ID = 'SEL6HD311A01-P040-A00KUVCD'\n)\nGROUP BY START_TAG\n, OEM_CODE\n, MONTH\n, C_DATE\n, O_DATE\n, OEM_AREA\n\n, CUST_DEVICE\n, OPER_DESC\n\n, EQP_GROUP\n, EQP_MODEL\n, OPER\n, RES_ID\n, LOT_TYPE\n\n, PARA\n, TEST_TIME\n, INDEX_TIME\n, ATE_TIME\n, EQP_PRICE\n, ATE_PRICE\n, MVP_PRICE\n, PVI_PRICE\n, UNIT_PRICE\n, FULL_HALF\n, CREATE_TIME\n, REMARK\nORDER BY 1","CREATE_USER":"6","CREATE_DATE":"2021-12-16 09:51:58","DBTYPE":"MES"}]
2022-11-16 19:13:01 [EDI System] info: 
        SELECT * FROM (
            SELECT *
            FROM EDI_QUERY_SETTING
            WHERE 1=1
            AND SETTING_ID = (
                SELECT ID
                FROM CG_CUSTOMER 
                WHERE PARENT = (
                    SELECT ID
                    FROM CG_CUSTOMER 
                    WHERE ID=(
                        SELECT PARENT
                        FROM CG_CUSTOMER 
                        WHERE ID=(
                            SELECT PARENT 
                            FROM CG_CUSTOMER 
                            WHERE ID=:id
                        )
                    )
                )
                AND LOWER(NAME) = 'common'
            )
            AND TYPE IN ('DB','TEXT')
            AND KEY NOT IN (SELECT KEY
                            FROM EDI_QUERY_SETTING
                            WHERE 1=1
                            AND SETTING_ID = :id
                            AND TYPE IN ('DB','TEXT'))
            UNION ALL
            SELECT *
            FROM EDI_QUERY_SETTING
            WHERE 1=1
            AND SETTING_ID = :id
            AND TYPE IN ('DB','TEXT')
        )
        ORDER BY LENGTH(KEY) DESC
    
2022-11-16 19:13:01 [EDI System] info: [{"ID":"137","SETTING_ID":"129","KEY":"todayHH24MISS","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE,'YYYYMMDDHH24MISS') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-11-12 05:20:22","DBTYPE":"MES"},{"ID":"124","SETTING_ID":"129","KEY":"todayHH24_M1H","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE - 1/24,'YYYYMMDDHH24') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-10-15 01:40:03","DBTYPE":"MES"},{"ID":"122","SETTING_ID":"129","KEY":"todayHH24","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE,'YYYYMMDDHH24') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-10-15 11:47:10","DBTYPE":"MES"},{"ID":"115","SETTING_ID":"129","KEY":"today_yy","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE,'YYYYMMDDHH24') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-09-24 08:46:51","DBTYPE":"MES"},{"ID":"130","SETTING_ID":"129","KEY":"today","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE,'YYYYMMDD') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-11-09 03:36:41","DBTYPE":"MES"}]
2022-11-16 19:14:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 19:15:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 19:15:00 [EDI System] info: Job Start Time > {"min":15,"hour":19,"date":16,"month":11,"day":3}
 {"ID":106,"CFG_ID":"141","FILE_NAME":"WO_INPUT_HANA_AS_:todayHH24_1","FILE_DESC":"Siliconworks input assy","FILE_SAVE_FOLDER":"D:/HM_EDI/SILICONWOKRS/OUT","FILE_CHARSET":"utf-8","FILE_TYPE":"csv","DATA_TYPE":"text","FTP_ENV_ID":"106","SEND_FLAG":"Y","NODATASEND":null,"SCHEDULE_MIN":"15","SCHEDULE_HOUR":"*","SCHEDULE_DAY":"*","SCHEDULE_WEEK":"*","SCHEDULE_MONTH":"*","CM_F01":null,"CM_F02":null,"CREATE_DATE":"2021-11-12 05:06:11","CREATE_USER":"6","UPDATE_DATE":"2022-02-16 12:18:37","UPDATE_USER":"6","DELETE_DATE":null,"DELETE_USER":null,"frequency":"15 * * * *"}
2022-11-16 19:15:00 [EDI System] info: 106 >>> makeFileText Function Execute
2022-11-16 19:15:00 [EDI System] info: Job Start Time > {"min":15,"hour":19,"date":16,"month":11,"day":3}
 {"ID":129,"CFG_ID":"166","FILE_NAME":"WO_INPUT_HANA_AS_:todayHH24_1","FILE_DESC":"Siliconworks input assy","FILE_SAVE_FOLDER":"D:/HM_EDI/SILICONWOKRS/OUT","FILE_CHARSET":"utf-8","FILE_TYPE":"csv","DATA_TYPE":"text","FTP_ENV_ID":"106","SEND_FLAG":"Y","NODATASEND":null,"SCHEDULE_MIN":"15","SCHEDULE_HOUR":"*","SCHEDULE_DAY":"*","SCHEDULE_WEEK":"*","SCHEDULE_MONTH":"*","CM_F01":null,"CM_F02":null,"CREATE_DATE":"2022-02-22 16:21:15","CREATE_USER":"6","UPDATE_DATE":null,"UPDATE_USER":null,"DELETE_DATE":null,"DELETE_USER":null,"frequency":"15 * * * *"}
2022-11-16 19:15:00 [EDI System] info: 129 >>> makeFileText Function Execute
2022-11-16 19:15:00 [EDI System] info: Job Start Time > {"min":15,"hour":19,"date":16,"month":11,"day":3}
 {"ID":127,"CFG_ID":"164","FILE_NAME":"WO_INPUT_HANA_AS_:todayHH24_1","FILE_DESC":"Siliconworks input assy","FILE_SAVE_FOLDER":"D:/HM_EDI/SILICONWOKRS/OUT","FILE_CHARSET":"utf-8","FILE_TYPE":"csv","DATA_TYPE":"text","FTP_ENV_ID":"106","SEND_FLAG":"Y","NODATASEND":null,"SCHEDULE_MIN":"15","SCHEDULE_HOUR":"*","SCHEDULE_DAY":"*","SCHEDULE_WEEK":"*","SCHEDULE_MONTH":"*","CM_F01":null,"CM_F02":null,"CREATE_DATE":"2022-02-22 16:13:42","CREATE_USER":"6","UPDATE_DATE":null,"UPDATE_USER":null,"DELETE_DATE":null,"DELETE_USER":null,"frequency":"15 * * * *"}
2022-11-16 19:15:00 [EDI System] info: 127 >>> makeFileText Function Execute
2022-11-16 19:15:00 [EDI System] info: Job Start Time > {"min":15,"hour":19,"date":16,"month":11,"day":3}
 {"ID":128,"CFG_ID":"165","FILE_NAME":"WO_INPUT_HANA_AS_:todayHH24_1","FILE_DESC":"Siliconworks input assy","FILE_SAVE_FOLDER":"D:/HM_EDI/SILICONWOKRS/OUT","FILE_CHARSET":"utf-8","FILE_TYPE":"csv","DATA_TYPE":"text","FTP_ENV_ID":"106","SEND_FLAG":"Y","NODATASEND":null,"SCHEDULE_MIN":"15","SCHEDULE_HOUR":"*","SCHEDULE_DAY":"*","SCHEDULE_WEEK":"*","SCHEDULE_MONTH":"*","CM_F01":null,"CM_F02":null,"CREATE_DATE":"2022-02-22 16:18:38","CREATE_USER":"6","UPDATE_DATE":null,"UPDATE_USER":null,"DELETE_DATE":null,"DELETE_USER":null,"frequency":"15 * * * *"}
2022-11-16 19:15:00 [EDI System] info: 128 >>> makeFileText Function Execute
2022-11-16 19:15:00 [EDI System] info: Job Start Time > {"min":15,"hour":19,"date":16,"month":11,"day":3}
 {"ID":130,"CFG_ID":"167","FILE_NAME":"WO_INPUT_HANA_AS_:todayHH24_1","FILE_DESC":"Siliconworks input assy","FILE_SAVE_FOLDER":"D:/HM_EDI/SILICONWOKRS/OUT","FILE_CHARSET":"utf-8","FILE_TYPE":"csv","DATA_TYPE":"text","FTP_ENV_ID":"106","SEND_FLAG":"Y","NODATASEND":null,"SCHEDULE_MIN":"15","SCHEDULE_HOUR":"*","SCHEDULE_DAY":"*","SCHEDULE_WEEK":"*","SCHEDULE_MONTH":"*","CM_F01":null,"CM_F02":null,"CREATE_DATE":"2022-02-22 16:23:34","CREATE_USER":"6","UPDATE_DATE":null,"UPDATE_USER":null,"DELETE_DATE":null,"DELETE_USER":null,"frequency":"15 * * * *"}
2022-11-16 19:15:00 [EDI System] info: 130 >>> makeFileText Function Execute
2022-11-16 19:15:00 [EDI System] info: SELECT EDI_LOG_SEQ.NEXTVAL AS ID FROM DUAL
2022-11-16 19:15:00 [EDI System] info: SELECT EDI_LOG_SEQ.NEXTVAL AS ID FROM DUAL
2022-11-16 19:15:00 [EDI System] info: SELECT EDI_LOG_SEQ.NEXTVAL AS ID FROM DUAL
2022-11-16 19:15:00 [EDI System] info: SELECT EDI_LOG_SEQ.NEXTVAL AS ID FROM DUAL
2022-11-16 19:15:00 [EDI System] info: SELECT EDI_LOG_SEQ.NEXTVAL AS ID FROM DUAL
2022-11-16 19:15:00 [EDI System] info: SELECT EDI_LOG_SEQ.NEXTVAL AS ID FROM DUAL
2022-11-16 19:15:00 [EDI System] info: SELECT EDI_LOG_SEQ.NEXTVAL AS ID FROM DUAL
2022-11-16 19:15:00 [EDI System] info: SELECT EDI_LOG_SEQ.NEXTVAL AS ID FROM DUAL
2022-11-16 19:15:00 [EDI System] info: SELECT EDI_LOG_SEQ.NEXTVAL AS ID FROM DUAL
2022-11-16 19:15:00 [EDI System] info: SELECT EDI_LOG_SEQ.NEXTVAL AS ID FROM DUAL
2022-11-16 19:15:00 [EDI System] info: [{"ID":11149}]
2022-11-16 19:15:00 [EDI System] info: seq : return Key [{"ID":11149}]
2022-11-16 19:15:00 [EDI System] info: saveAllLogger => ID:11149, NAME:WO_INPUT_HANA_AS_:todayHH24_1, ProcessID:166, Description: Job Start : ID=129, CFG_ID=166, FTP_ENV_ID=106, FILE_NAME=WO_INPUT_HANA_AS_:todayHH24_1, FILE_DESC=Siliconworks input assy, FILE_CHARSET=utf-8, FILE_TYPE=csv
2022-11-16 19:15:00 [EDI System] info: INSERT INTO EDI_LOG(ID, STEP, NAME, PROCESS_ID, DESCRIPTION, CREATE_USER, CREATE_DATE)
    VALUES(:id, :stepId, :name, :process_id, :description, 'DAEMON', TO_CHAR(SYSDATE,'YYYYMMDDHH24MISS'))
2022-11-16 19:15:00 [EDI System] info: [{"ID":11150}]
2022-11-16 19:15:00 [EDI System] info: [{"ID":11151}]
2022-11-16 19:15:00 [EDI System] info: seq : return Key [{"ID":11150}]
2022-11-16 19:15:00 [EDI System] info: saveAllLogger => ID:11150, NAME:WO_INPUT_HANA_AS_:todayHH24_1, ProcessID:164, Description: Job Start : ID=127, CFG_ID=164, FTP_ENV_ID=106, FILE_NAME=WO_INPUT_HANA_AS_:todayHH24_1, FILE_DESC=Siliconworks input assy, FILE_CHARSET=utf-8, FILE_TYPE=csv
2022-11-16 19:15:00 [EDI System] info: INSERT INTO EDI_LOG(ID, STEP, NAME, PROCESS_ID, DESCRIPTION, CREATE_USER, CREATE_DATE)
    VALUES(:id, :stepId, :name, :process_id, :description, 'DAEMON', TO_CHAR(SYSDATE,'YYYYMMDDHH24MISS'))
2022-11-16 19:15:00 [EDI System] info: seq : return Key [{"ID":11151}]
2022-11-16 19:15:00 [EDI System] info: saveAllLogger => ID:11151, NAME:WO_INPUT_HANA_AS_:todayHH24_1, ProcessID:165, Description: Job Start : ID=128, CFG_ID=165, FTP_ENV_ID=106, FILE_NAME=WO_INPUT_HANA_AS_:todayHH24_1, FILE_DESC=Siliconworks input assy, FILE_CHARSET=utf-8, FILE_TYPE=csv
2022-11-16 19:15:00 [EDI System] info: INSERT INTO EDI_LOG(ID, STEP, NAME, PROCESS_ID, DESCRIPTION, CREATE_USER, CREATE_DATE)
    VALUES(:id, :stepId, :name, :process_id, :description, 'DAEMON', TO_CHAR(SYSDATE,'YYYYMMDDHH24MISS'))
2022-11-16 19:15:00 [EDI System] info: [{"ID":11152}]
2022-11-16 19:15:00 [EDI System] info: [{"ID":11153}]
2022-11-16 19:15:00 [EDI System] info: seq : return Key [{"ID":11152}]
2022-11-16 19:15:00 [EDI System] info: saveAllLogger => ID:11152, NAME:WO_INPUT_HANA_AS_:todayHH24_1, ProcessID:167, Description: Job Start : ID=130, CFG_ID=167, FTP_ENV_ID=106, FILE_NAME=WO_INPUT_HANA_AS_:todayHH24_1, FILE_DESC=Siliconworks input assy, FILE_CHARSET=utf-8, FILE_TYPE=csv
2022-11-16 19:15:00 [EDI System] info: INSERT INTO EDI_LOG(ID, STEP, NAME, PROCESS_ID, DESCRIPTION, CREATE_USER, CREATE_DATE)
    VALUES(:id, :stepId, :name, :process_id, :description, 'DAEMON', TO_CHAR(SYSDATE,'YYYYMMDDHH24MISS'))
2022-11-16 19:15:00 [EDI System] info: seq : return Key [{"ID":11153}]
2022-11-16 19:15:00 [EDI System] info: saveAllLogger => ID:11153, NAME:WO_INPUT_HANA_AS_:todayHH24_1, ProcessID:141, Description: Job Start : ID=106, CFG_ID=141, FTP_ENV_ID=106, FILE_NAME=WO_INPUT_HANA_AS_:todayHH24_1, FILE_DESC=Siliconworks input assy, FILE_CHARSET=utf-8, FILE_TYPE=csv
2022-11-16 19:15:00 [EDI System] info: INSERT INTO EDI_LOG(ID, STEP, NAME, PROCESS_ID, DESCRIPTION, CREATE_USER, CREATE_DATE)
    VALUES(:id, :stepId, :name, :process_id, :description, 'DAEMON', TO_CHAR(SYSDATE,'YYYYMMDDHH24MISS'))
2022-11-16 19:15:00 [EDI System] info: Insert successful = SQL: INSERT INTO EDI_LOG(ID, STEP, NAME, PROCESS_ID, DESCRIPTION, CREATE_USER, CREATE_DATE)
    VALUES(:id, :stepId, :name, :process_id, :description, 'DAEMON', TO_CHAR(SYSDATE,'YYYYMMDDHH24MISS')) | Params: {"id":11149,"stepId":"1","name":"WO_INPUT_HANA_AS_:todayHH24_1","process_id":"166","description":"Job Start : ID=129, CFG_ID=166, FTP_ENV_ID=106, FILE_NAME=WO_INPUT_HANA_AS_:todayHH24_1, FILE_DESC=Siliconworks input assy, FILE_CHARSET=utf-8, FILE_TYPE=csv"} / 1
2022-11-16 19:15:00 [EDI System] info: Insert successful = SQL: INSERT INTO EDI_LOG(ID, STEP, NAME, PROCESS_ID, DESCRIPTION, CREATE_USER, CREATE_DATE)
    VALUES(:id, :stepId, :name, :process_id, :description, 'DAEMON', TO_CHAR(SYSDATE,'YYYYMMDDHH24MISS')) | Params: {"id":11150,"stepId":"1","name":"WO_INPUT_HANA_AS_:todayHH24_1","process_id":"164","description":"Job Start : ID=127, CFG_ID=164, FTP_ENV_ID=106, FILE_NAME=WO_INPUT_HANA_AS_:todayHH24_1, FILE_DESC=Siliconworks input assy, FILE_CHARSET=utf-8, FILE_TYPE=csv"} / 1
2022-11-16 19:15:00 [EDI System] info: 
    SELECT *
    FROM (
        SELECT ROWNUM,A.*
            FROM EDI_QUERY_SETTING A
            WHERE SETTING_ID = :id
            AND TYPE='Main'
            ORDER BY ID DESC
        ) 
    WHERE ROWNUM='1'
    
2022-11-16 19:15:00 [EDI System] info: 
    SELECT *
    FROM (
        SELECT ROWNUM,A.*
            FROM EDI_QUERY_SETTING A
            WHERE SETTING_ID = :id
            AND TYPE='Main'
            ORDER BY ID DESC
        ) 
    WHERE ROWNUM='1'
    
2022-11-16 19:15:00 [EDI System] info: Insert successful = SQL: INSERT INTO EDI_LOG(ID, STEP, NAME, PROCESS_ID, DESCRIPTION, CREATE_USER, CREATE_DATE)
    VALUES(:id, :stepId, :name, :process_id, :description, 'DAEMON', TO_CHAR(SYSDATE,'YYYYMMDDHH24MISS')) | Params: {"id":11151,"stepId":"1","name":"WO_INPUT_HANA_AS_:todayHH24_1","process_id":"165","description":"Job Start : ID=128, CFG_ID=165, FTP_ENV_ID=106, FILE_NAME=WO_INPUT_HANA_AS_:todayHH24_1, FILE_DESC=Siliconworks input assy, FILE_CHARSET=utf-8, FILE_TYPE=csv"} / 1
2022-11-16 19:15:00 [EDI System] info: Insert successful = SQL: INSERT INTO EDI_LOG(ID, STEP, NAME, PROCESS_ID, DESCRIPTION, CREATE_USER, CREATE_DATE)
    VALUES(:id, :stepId, :name, :process_id, :description, 'DAEMON', TO_CHAR(SYSDATE,'YYYYMMDDHH24MISS')) | Params: {"id":11153,"stepId":"1","name":"WO_INPUT_HANA_AS_:todayHH24_1","process_id":"141","description":"Job Start : ID=106, CFG_ID=141, FTP_ENV_ID=106, FILE_NAME=WO_INPUT_HANA_AS_:todayHH24_1, FILE_DESC=Siliconworks input assy, FILE_CHARSET=utf-8, FILE_TYPE=csv"} / 1
2022-11-16 19:15:00 [EDI System] info: 
    SELECT *
    FROM (
        SELECT ROWNUM,A.*
            FROM EDI_QUERY_SETTING A
            WHERE SETTING_ID = :id
            AND TYPE='Main'
            ORDER BY ID DESC
        ) 
    WHERE ROWNUM='1'
    
2022-11-16 19:15:00 [EDI System] info: 
    SELECT *
    FROM (
        SELECT ROWNUM,A.*
            FROM EDI_QUERY_SETTING A
            WHERE SETTING_ID = :id
            AND TYPE='Main'
            ORDER BY ID DESC
        ) 
    WHERE ROWNUM='1'
    
2022-11-16 19:15:00 [EDI System] info: Insert successful = SQL: INSERT INTO EDI_LOG(ID, STEP, NAME, PROCESS_ID, DESCRIPTION, CREATE_USER, CREATE_DATE)
    VALUES(:id, :stepId, :name, :process_id, :description, 'DAEMON', TO_CHAR(SYSDATE,'YYYYMMDDHH24MISS')) | Params: {"id":11152,"stepId":"1","name":"WO_INPUT_HANA_AS_:todayHH24_1","process_id":"167","description":"Job Start : ID=130, CFG_ID=167, FTP_ENV_ID=106, FILE_NAME=WO_INPUT_HANA_AS_:todayHH24_1, FILE_DESC=Siliconworks input assy, FILE_CHARSET=utf-8, FILE_TYPE=csv"} / 1
2022-11-16 19:15:00 [EDI System] info: 
    SELECT *
    FROM (
        SELECT ROWNUM,A.*
            FROM EDI_QUERY_SETTING A
            WHERE SETTING_ID = :id
            AND TYPE='Main'
            ORDER BY ID DESC
        ) 
    WHERE ROWNUM='1'
    
2022-11-16 19:15:00 [EDI System] info: []
2022-11-16 19:15:00 [EDI System] info: 
        SELECT * FROM (
            SELECT *
            FROM EDI_QUERY_SETTING
            WHERE 1=1
            AND SETTING_ID = (
                SELECT ID
                FROM CG_CUSTOMER 
                WHERE PARENT = (
                    SELECT ID
                    FROM CG_CUSTOMER 
                    WHERE ID=(
                        SELECT PARENT
                        FROM CG_CUSTOMER 
                        WHERE ID=(
                            SELECT PARENT 
                            FROM CG_CUSTOMER 
                            WHERE ID=:id
                        )
                    )
                )
                AND LOWER(NAME) = 'common'
            )
            AND TYPE IN ('DB','TEXT')
            AND KEY NOT IN (SELECT KEY
                            FROM EDI_QUERY_SETTING
                            WHERE 1=1
                            AND SETTING_ID = :id
                            AND TYPE IN ('DB','TEXT'))
            UNION ALL
            SELECT *
            FROM EDI_QUERY_SETTING
            WHERE 1=1
            AND SETTING_ID = :id
            AND TYPE IN ('DB','TEXT')
        )
        ORDER BY LENGTH(KEY) DESC
    
2022-11-16 19:15:00 [EDI System] info: []
2022-11-16 19:15:00 [EDI System] info: 
        SELECT * FROM (
            SELECT *
            FROM EDI_QUERY_SETTING
            WHERE 1=1
            AND SETTING_ID = (
                SELECT ID
                FROM CG_CUSTOMER 
                WHERE PARENT = (
                    SELECT ID
                    FROM CG_CUSTOMER 
                    WHERE ID=(
                        SELECT PARENT
                        FROM CG_CUSTOMER 
                        WHERE ID=(
                            SELECT PARENT 
                            FROM CG_CUSTOMER 
                            WHERE ID=:id
                        )
                    )
                )
                AND LOWER(NAME) = 'common'
            )
            AND TYPE IN ('DB','TEXT')
            AND KEY NOT IN (SELECT KEY
                            FROM EDI_QUERY_SETTING
                            WHERE 1=1
                            AND SETTING_ID = :id
                            AND TYPE IN ('DB','TEXT'))
            UNION ALL
            SELECT *
            FROM EDI_QUERY_SETTING
            WHERE 1=1
            AND SETTING_ID = :id
            AND TYPE IN ('DB','TEXT')
        )
        ORDER BY LENGTH(KEY) DESC
    
2022-11-16 19:15:00 [EDI System] info: [{"ROWNUM":1,"ID":"167","SETTING_ID":"165","KEY":null,"TYPE":"Main","QUERY":"SELECT 'Interface ID'\n || ',' || 'Interface Line ID'\n || ',' || 'SUPPLIER_CODE'\n || ',' || 'PROCESSING_CODE'\n || ',' || 'SIW_WO_NO'\n || ',' || 'SUPPLIER_WO_NO'\n || ',' || 'ASSY_ITEM_CODE'\n || ',' || 'ASSY_QTY'\n || ',' || 'UOM_CODE'\n || ',' || 'WORK_START_DATE'\n || ',' || 'COMPONENT_ITEM_CODE'\n || ',' || 'COMPONENT_LOT_ID'\n || ',' || 'COMPONENT_QTY'\n || ',' || 'REMARK1'\n || ',' || 'CANCEL_FLAG'\n || ',' || 'CREATION_DATE'\n\n  FROM IEDISIW_INPUT_INFO\n WHERE CUTOFF_DT = :todayHH24 -- TO_CHAR(SYSDATE, 'YYYYMMDDHH24')\n   AND PROCESSING_CODE = 'AS'\n   AND ROWNUM = 1\n\nUNION ALL\n\nSELECT IF_ID \n || ',' || IF_LINE_ID \n || ',' || SUPPLIER_CODE \n || ',' || PROCESSING_CODE \n || ',' || SIW_WO_NO \n || ',' || SUPPLIER_WO_NO \n || ',' || ASSY_ITEM_CODE \n || ',' || ASSY_QTY \n || ',' || UOM_CODE \n || ',' || WORK_START_DATE \n || ',' || COMPONENT_ITEM_CODE\n || ',' || COMPONENT_LOT_ID \n || ',' || COMPONENT_QTY \n || ',' || REMARK1 \n || ',' || CANCEL_FLAG \n || ',' || CREATION_DATE \n\n  FROM IEDISIW_INPUT_INFO\n WHERE CUTOFF_DT = :todayHH24 -- TO_CHAR(SYSDATE, 'YYYYMMDDHH24')\n   AND PROCESSING_CODE = 'AS'","CREATE_USER":"6","CREATE_DATE":"2022-02-22 16:18:38","DBTYPE":null}]
2022-11-16 19:15:00 [EDI System] info: 
        SELECT * FROM (
            SELECT *
            FROM EDI_QUERY_SETTING
            WHERE 1=1
            AND SETTING_ID = (
                SELECT ID
                FROM CG_CUSTOMER 
                WHERE PARENT = (
                    SELECT ID
                    FROM CG_CUSTOMER 
                    WHERE ID=(
                        SELECT PARENT
                        FROM CG_CUSTOMER 
                        WHERE ID=(
                            SELECT PARENT 
                            FROM CG_CUSTOMER 
                            WHERE ID=:id
                        )
                    )
                )
                AND LOWER(NAME) = 'common'
            )
            AND TYPE IN ('DB','TEXT')
            AND KEY NOT IN (SELECT KEY
                            FROM EDI_QUERY_SETTING
                            WHERE 1=1
                            AND SETTING_ID = :id
                            AND TYPE IN ('DB','TEXT'))
            UNION ALL
            SELECT *
            FROM EDI_QUERY_SETTING
            WHERE 1=1
            AND SETTING_ID = :id
            AND TYPE IN ('DB','TEXT')
        )
        ORDER BY LENGTH(KEY) DESC
    
2022-11-16 19:15:00 [EDI System] info: [{"ROWNUM":4,"ID":"166","SETTING_ID":"141","KEY":null,"TYPE":"Main","QUERY":"SELECT 'Interface ID'\n || ',' || 'Interface Line ID'\n || ',' || 'SUPPLIER_CODE'\n || ',' || 'PROCESSING_CODE'\n || ',' || 'SIW_WO_NO'\n || ',' || 'SUPPLIER_WO_NO'\n || ',' || 'ASSY_ITEM_CODE'\n || ',' || 'ASSY_QTY'\n || ',' || 'UOM_CODE'\n || ',' || 'WORK_START_DATE'\n || ',' || 'COMPONENT_ITEM_CODE'\n || ',' || 'COMPONENT_LOT_ID'\n || ',' || 'COMPONENT_QTY'\n || ',' || 'REMARK1'\n || ',' || 'CANCEL_FLAG'\n || ',' || 'CREATION_DATE'\n\n  FROM IEDISIW_INPUT_INFO\n WHERE CUTOFF_DT = :todayHH24 -- TO_CHAR(SYSDATE, 'YYYYMMDDHH24')\n   AND PROCESSING_CODE = 'AS'\n   AND ROWNUM = 1\n\tAND ROWNUM = 2\n    \nUNION ALL\n\nSELECT IF_ID \n || ',' || IF_LINE_ID \n || ',' || SUPPLIER_CODE \n || ',' || PROCESSING_CODE \n || ',' || SIW_WO_NO \n || ',' || SUPPLIER_WO_NO \n || ',' || ASSY_ITEM_CODE \n || ',' || ASSY_QTY \n || ',' || UOM_CODE \n || ',' || WORK_START_DATE \n || ',' || COMPONENT_ITEM_CODE\n || ',' || COMPONENT_LOT_ID \n || ',' || COMPONENT_QTY \n || ',' || REMARK1 \n || ',' || CANCEL_FLAG \n || ',' || CREATION_DATE \n\n  FROM IEDISIW_INPUT_INFO\n WHERE CUTOFF_DT = :todayHH24 -- TO_CHAR(SYSDATE, 'YYYYMMDDHH24')\n   AND PROCESSING_CODE = 'AS'","CREATE_USER":"6","CREATE_DATE":"2022-02-16 16:42:57","DBTYPE":"MES"}]
2022-11-16 19:15:00 [EDI System] info: 
        SELECT * FROM (
            SELECT *
            FROM EDI_QUERY_SETTING
            WHERE 1=1
            AND SETTING_ID = (
                SELECT ID
                FROM CG_CUSTOMER 
                WHERE PARENT = (
                    SELECT ID
                    FROM CG_CUSTOMER 
                    WHERE ID=(
                        SELECT PARENT
                        FROM CG_CUSTOMER 
                        WHERE ID=(
                            SELECT PARENT 
                            FROM CG_CUSTOMER 
                            WHERE ID=:id
                        )
                    )
                )
                AND LOWER(NAME) = 'common'
            )
            AND TYPE IN ('DB','TEXT')
            AND KEY NOT IN (SELECT KEY
                            FROM EDI_QUERY_SETTING
                            WHERE 1=1
                            AND SETTING_ID = :id
                            AND TYPE IN ('DB','TEXT'))
            UNION ALL
            SELECT *
            FROM EDI_QUERY_SETTING
            WHERE 1=1
            AND SETTING_ID = :id
            AND TYPE IN ('DB','TEXT')
        )
        ORDER BY LENGTH(KEY) DESC
    
2022-11-16 19:15:00 [EDI System] info: [{"ID":"133","SETTING_ID":"139","KEY":"todayHH24_M1H","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE - 1/24,'YYYYMMDDHH24') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-11-12 05:01:01","DBTYPE":"MES"},{"ID":"132","SETTING_ID":"139","KEY":"todayHH24","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE,'YYYYMMDDHH24') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-11-12 05:01:01","DBTYPE":"MES"},{"ID":"131","SETTING_ID":"139","KEY":"today_yy","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE,'YYYYMMDDHH24') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-11-12 05:01:01","DBTYPE":"MES"},{"ID":"134","SETTING_ID":"139","KEY":"today","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE,'YYYYMMDDHH24') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-11-12 05:01:01","DBTYPE":"MES"}]
2022-11-16 19:15:00 [EDI System] info: [{"ROWNUM":1,"ID":"169","SETTING_ID":"167","KEY":null,"TYPE":"Main","QUERY":"SELECT 'Interface ID'\n || ',' || 'Interface Line ID'\n || ',' || 'SUPPLIER_CODE'\n || ',' || 'PROCESSING_CODE'\n || ',' || 'SIW_WO_NO'\n || ',' || 'SUPPLIER_WO_NO'\n || ',' || 'ASSY_ITEM_CODE'\n || ',' || 'ASSY_QTY'\n || ',' || 'UOM_CODE'\n || ',' || 'WORK_START_DATE'\n || ',' || 'COMPONENT_ITEM_CODE'\n || ',' || 'COMPONENT_LOT_ID'\n || ',' || 'COMPONENT_QTY'\n || ',' || 'REMARK1'\n || ',' || 'CANCEL_FLAG'\n || ',' || 'CREATION_DATE'\n\n  FROM IEDISIW_INPUT_INFO\n WHERE CUTOFF_DT = :todayHH24 -- TO_CHAR(SYSDATE, 'YYYYMMDDHH24')\n   AND PROCESSING_CODE = 'AS'\n   AND ROWNUM = 1\n\tAND ROWNUM = 2\n    \nUNION ALL\n\nSELECT IF_ID \n || ',' || IF_LINE_ID \n || ',' || SUPPLIER_CODE \n || ',' || PROCESSING_CODE \n || ',' || SIW_WO_NO \n || ',' || SUPPLIER_WO_NO \n || ',' || ASSY_ITEM_CODE \n || ',' || ASSY_QTY \n || ',' || UOM_CODE \n || ',' || WORK_START_DATE \n || ',' || COMPONENT_ITEM_CODE\n || ',' || COMPONENT_LOT_ID \n || ',' || COMPONENT_QTY \n || ',' || REMARK1 \n || ',' || CANCEL_FLAG \n || ',' || CREATION_DATE \n\n  FROM IEDISIW_INPUT_INFO\n WHERE CUTOFF_DT = :todayHH24 -- TO_CHAR(SYSDATE, 'YYYYMMDDHH24')\n   AND PROCESSING_CODE = 'AS'","CREATE_USER":"6","CREATE_DATE":"2022-02-22 16:23:34","DBTYPE":"MES"}]
2022-11-16 19:15:00 [EDI System] info: 
    SELECT *
    FROM EDI_ENV_SETTING WHERE CFG_ID=:id
    
2022-11-16 19:15:00 [EDI System] info: 
        SELECT * FROM (
            SELECT *
            FROM EDI_QUERY_SETTING
            WHERE 1=1
            AND SETTING_ID = (
                SELECT ID
                FROM CG_CUSTOMER 
                WHERE PARENT = (
                    SELECT ID
                    FROM CG_CUSTOMER 
                    WHERE ID=(
                        SELECT PARENT
                        FROM CG_CUSTOMER 
                        WHERE ID=(
                            SELECT PARENT 
                            FROM CG_CUSTOMER 
                            WHERE ID=:id
                        )
                    )
                )
                AND LOWER(NAME) = 'common'
            )
            AND TYPE IN ('DB','TEXT')
            AND KEY NOT IN (SELECT KEY
                            FROM EDI_QUERY_SETTING
                            WHERE 1=1
                            AND SETTING_ID = :id
                            AND TYPE IN ('DB','TEXT'))
            UNION ALL
            SELECT *
            FROM EDI_QUERY_SETTING
            WHERE 1=1
            AND SETTING_ID = :id
            AND TYPE IN ('DB','TEXT')
        )
        ORDER BY LENGTH(KEY) DESC
    
2022-11-16 19:15:00 [EDI System] info: [{"ID":"133","SETTING_ID":"139","KEY":"todayHH24_M1H","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE - 1/24,'YYYYMMDDHH24') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-11-12 05:01:01","DBTYPE":"MES"},{"ID":"132","SETTING_ID":"139","KEY":"todayHH24","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE,'YYYYMMDDHH24') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-11-12 05:01:01","DBTYPE":"MES"},{"ID":"131","SETTING_ID":"139","KEY":"today_yy","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE,'YYYYMMDDHH24') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-11-12 05:01:01","DBTYPE":"MES"},{"ID":"134","SETTING_ID":"139","KEY":"today","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE,'YYYYMMDDHH24') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-11-12 05:01:01","DBTYPE":"MES"}]
2022-11-16 19:15:00 [EDI System] info: [{"ID":"133","SETTING_ID":"139","KEY":"todayHH24_M1H","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE - 1/24,'YYYYMMDDHH24') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-11-12 05:01:01","DBTYPE":"MES"},{"ID":"132","SETTING_ID":"139","KEY":"todayHH24","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE,'YYYYMMDDHH24') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-11-12 05:01:01","DBTYPE":"MES"},{"ID":"131","SETTING_ID":"139","KEY":"today_yy","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE,'YYYYMMDDHH24') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-11-12 05:01:01","DBTYPE":"MES"},{"ID":"134","SETTING_ID":"139","KEY":"today","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE,'YYYYMMDDHH24') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-11-12 05:01:01","DBTYPE":"MES"}]
2022-11-16 19:15:00 [EDI System] info: 
    SELECT *
    FROM EDI_ENV_SETTING WHERE CFG_ID=:id
    
2022-11-16 19:15:00 [EDI System] info: [{"ID":"133","SETTING_ID":"139","KEY":"todayHH24_M1H","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE - 1/24,'YYYYMMDDHH24') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-11-12 05:01:01","DBTYPE":"MES"},{"ID":"132","SETTING_ID":"139","KEY":"todayHH24","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE,'YYYYMMDDHH24') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-11-12 05:01:01","DBTYPE":"MES"},{"ID":"131","SETTING_ID":"139","KEY":"today_yy","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE,'YYYYMMDDHH24') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-11-12 05:01:01","DBTYPE":"MES"},{"ID":"134","SETTING_ID":"139","KEY":"today","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE,'YYYYMMDDHH24') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-11-12 05:01:01","DBTYPE":"MES"}]
2022-11-16 19:15:00 [EDI System] info: [{"ID":"141","CFG_ID":"166","ITEM":"between","SET_TYPE":null,"VALUE":"vetween","NOTE":"1","UPDATE_USER":null,"UPDATE_DATE":null,"CREATE_USER":"6","CREATE_DATE":"2022-02-22 16:21:15"}]
2022-11-16 19:15:01 [EDI System] info: 
  SELECT *
  FROM EDI_FILE_HEADNTAIL WHERE CFG_ID=:id
  
2022-11-16 19:15:01 [EDI System] info: [{"ID":"139","CFG_ID":"164","ITEM":"between","SET_TYPE":null,"VALUE":"vetween","NOTE":"1","UPDATE_USER":null,"UPDATE_DATE":null,"CREATE_USER":"6","CREATE_DATE":"2022-02-22 16:13:42"}]
2022-11-16 19:15:01 [EDI System] info: 
  SELECT *
  FROM EDI_FILE_HEADNTAIL WHERE CFG_ID=:id
  
2022-11-16 19:15:01 [EDI System] info: [{"ID":"152","CFG_ID":"166","DATA_TYPE":"h_sql","NOTE":"test\\","VALUE":"select 1 from dual","CM_F01":null,"CM_F02":null,"UPDATE_USER":null,"UPDATE_DATE":null,"CREATE_USER":"6","CREATE_DATE":"2022-02-22 16:21:15","DELETE_DATE":null,"DELETE_USER":null},{"ID":"153","CFG_ID":"166","DATA_TYPE":"h_text","NOTE":"test","VALUE":"value","CM_F01":null,"CM_F02":null,"UPDATE_USER":null,"UPDATE_DATE":null,"CREATE_USER":"6","CREATE_DATE":"2022-02-22 16:21:15","DELETE_DATE":null,"DELETE_USER":null}]
2022-11-16 19:15:01 [EDI System] info: [{"ID":"133","SETTING_ID":"139","KEY":"todayHH24_M1H","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE - 1/24,'YYYYMMDDHH24') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-11-12 05:01:01","DBTYPE":"MES"},{"ID":"132","SETTING_ID":"139","KEY":"todayHH24","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE,'YYYYMMDDHH24') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-11-12 05:01:01","DBTYPE":"MES"},{"ID":"131","SETTING_ID":"139","KEY":"today_yy","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE,'YYYYMMDDHH24') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-11-12 05:01:01","DBTYPE":"MES"},{"ID":"134","SETTING_ID":"139","KEY":"today","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE,'YYYYMMDDHH24') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-11-12 05:01:01","DBTYPE":"MES"}]
2022-11-16 19:15:01 [EDI System] info: [{"ID":"149","CFG_ID":"164","DATA_TYPE":"h_text","NOTE":"test","VALUE":"value","CM_F01":null,"CM_F02":null,"UPDATE_USER":null,"UPDATE_DATE":null,"CREATE_USER":"6","CREATE_DATE":"2022-02-22 16:13:42","DELETE_DATE":null,"DELETE_USER":null},{"ID":"148","CFG_ID":"164","DATA_TYPE":"h_sql","NOTE":"test\\","VALUE":"select 1 from dual","CM_F01":null,"CM_F02":null,"UPDATE_USER":null,"UPDATE_DATE":null,"CREATE_USER":"6","CREATE_DATE":"2022-02-22 16:13:42","DELETE_DATE":null,"DELETE_USER":null}]
2022-11-16 19:16:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 19:17:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 19:17:00 [EDI System] info: Job Start Time > {"min":17,"hour":19,"date":16,"month":11,"day":3}
 {"ID":122,"CFG_ID":"160","FILE_NAME":"CMEQPUNT_HM:today_2","FILE_DESC":"SEC CMEQPUNT 1/1day","FILE_SAVE_FOLDER":"D:/HM_EDI/SEC/OUT","FILE_CHARSET":"ascii","FILE_TYPE":"ff","DATA_TYPE":"text","FTP_ENV_ID":"100","SEND_FLAG":"Y","NODATASEND":"false","SCHEDULE_MIN":"17","SCHEDULE_HOUR":"*","SCHEDULE_DAY":"*","SCHEDULE_WEEK":"*","SCHEDULE_MONTH":"*","CM_F01":null,"CM_F02":null,"CREATE_DATE":"2021-12-14 11:47:39","CREATE_USER":"6","UPDATE_DATE":"2022-01-06 04:38:43","UPDATE_USER":"6","DELETE_DATE":null,"DELETE_USER":null,"frequency":"17 * * * *"}
2022-11-16 19:17:00 [EDI System] info: 122 >>> makeFileText Function Execute
2022-11-16 19:17:00 [EDI System] info: Job Start Time > {"min":17,"hour":19,"date":16,"month":11,"day":3}
 {"ID":123,"CFG_ID":"161","FILE_NAME":"WO_INPUT_HANA_FT_:todayHH24_1","FILE_DESC":"Siliconworks input TEST","FILE_SAVE_FOLDER":"D:/HM_EDI/SILICONWOKRS/OUT","FILE_CHARSET":"utf-8","FILE_TYPE":"csv","DATA_TYPE":"text","FTP_ENV_ID":"106","SEND_FLAG":"Y","NODATASEND":"false","SCHEDULE_MIN":"17","SCHEDULE_HOUR":"*","SCHEDULE_DAY":"*","SCHEDULE_WEEK":"*","SCHEDULE_MONTH":"*","CM_F01":null,"CM_F02":null,"CREATE_DATE":"2022-01-05 10:54:36","CREATE_USER":"6","UPDATE_DATE":"2022-02-15 11:38:03","UPDATE_USER":"6","DELETE_DATE":null,"DELETE_USER":null,"frequency":"17 * * * *"}
2022-11-16 19:17:00 [EDI System] info: 123 >>> makeFileText Function Execute
2022-11-16 19:17:00 [EDI System] info: SELECT EDI_LOG_SEQ.NEXTVAL AS ID FROM DUAL
2022-11-16 19:17:00 [EDI System] info: SELECT EDI_LOG_SEQ.NEXTVAL AS ID FROM DUAL
2022-11-16 19:17:00 [EDI System] info: SELECT EDI_LOG_SEQ.NEXTVAL AS ID FROM DUAL
2022-11-16 19:17:00 [EDI System] info: SELECT EDI_LOG_SEQ.NEXTVAL AS ID FROM DUAL
2022-11-16 19:17:00 [EDI System] info: [{"ID":11154}]
2022-11-16 19:17:00 [EDI System] info: seq : return Key [{"ID":11154}]
2022-11-16 19:17:00 [EDI System] info: saveAllLogger => ID:11154, NAME:WO_INPUT_HANA_FT_:todayHH24_1, ProcessID:161, Description: Job Start : ID=123, CFG_ID=161, FTP_ENV_ID=106, FILE_NAME=WO_INPUT_HANA_FT_:todayHH24_1, FILE_DESC=Siliconworks input TEST, FILE_CHARSET=utf-8, FILE_TYPE=csv
2022-11-16 19:17:00 [EDI System] info: INSERT INTO EDI_LOG(ID, STEP, NAME, PROCESS_ID, DESCRIPTION, CREATE_USER, CREATE_DATE)
    VALUES(:id, :stepId, :name, :process_id, :description, 'DAEMON', TO_CHAR(SYSDATE,'YYYYMMDDHH24MISS'))
2022-11-16 19:17:00 [EDI System] info: [{"ID":11155}]
2022-11-16 19:17:00 [EDI System] info: seq : return Key [{"ID":11155}]
2022-11-16 19:17:00 [EDI System] info: saveAllLogger => ID:11155, NAME:CMEQPUNT_HM:today_2, ProcessID:160, Description: Job Start : ID=122, CFG_ID=160, FTP_ENV_ID=100, FILE_NAME=CMEQPUNT_HM:today_2, FILE_DESC=SEC CMEQPUNT 1/1day, FILE_CHARSET=ascii, FILE_TYPE=ff
2022-11-16 19:17:00 [EDI System] info: INSERT INTO EDI_LOG(ID, STEP, NAME, PROCESS_ID, DESCRIPTION, CREATE_USER, CREATE_DATE)
    VALUES(:id, :stepId, :name, :process_id, :description, 'DAEMON', TO_CHAR(SYSDATE,'YYYYMMDDHH24MISS'))
2022-11-16 19:17:00 [EDI System] info: Insert successful = SQL: INSERT INTO EDI_LOG(ID, STEP, NAME, PROCESS_ID, DESCRIPTION, CREATE_USER, CREATE_DATE)
    VALUES(:id, :stepId, :name, :process_id, :description, 'DAEMON', TO_CHAR(SYSDATE,'YYYYMMDDHH24MISS')) | Params: {"id":11154,"stepId":"1","name":"WO_INPUT_HANA_FT_:todayHH24_1","process_id":"161","description":"Job Start : ID=123, CFG_ID=161, FTP_ENV_ID=106, FILE_NAME=WO_INPUT_HANA_FT_:todayHH24_1, FILE_DESC=Siliconworks input TEST, FILE_CHARSET=utf-8, FILE_TYPE=csv"} / 1
2022-11-16 19:17:00 [EDI System] info: 
    SELECT *
    FROM (
        SELECT ROWNUM,A.*
            FROM EDI_QUERY_SETTING A
            WHERE SETTING_ID = :id
            AND TYPE='Main'
            ORDER BY ID DESC
        ) 
    WHERE ROWNUM='1'
    
2022-11-16 19:17:00 [EDI System] info: Insert successful = SQL: INSERT INTO EDI_LOG(ID, STEP, NAME, PROCESS_ID, DESCRIPTION, CREATE_USER, CREATE_DATE)
    VALUES(:id, :stepId, :name, :process_id, :description, 'DAEMON', TO_CHAR(SYSDATE,'YYYYMMDDHH24MISS')) | Params: {"id":11155,"stepId":"1","name":"CMEQPUNT_HM:today_2","process_id":"160","description":"Job Start : ID=122, CFG_ID=160, FTP_ENV_ID=100, FILE_NAME=CMEQPUNT_HM:today_2, FILE_DESC=SEC CMEQPUNT 1/1day, FILE_CHARSET=ascii, FILE_TYPE=ff"} / 1
2022-11-16 19:17:00 [EDI System] info: 
    SELECT *
    FROM (
        SELECT ROWNUM,A.*
            FROM EDI_QUERY_SETTING A
            WHERE SETTING_ID = :id
            AND TYPE='Main'
            ORDER BY ID DESC
        ) 
    WHERE ROWNUM='1'
    
2022-11-16 19:17:00 [EDI System] info: [{"ROWNUM":2,"ID":"160","SETTING_ID":"161","KEY":null,"TYPE":"Main","QUERY":"SELECT 'Interface ID'\n || ',' || 'Interface Line ID'\n || ',' || 'SUPPLIER_CODE'\n || ',' || 'PROCESSING_CODE'\n || ',' || 'SIW_WO_NO'\n || ',' || 'SUPPLIER_WO_NO'\n || ',' || 'ASSY_ITEM_CODE'\n || ',' || 'ASSY_QTY'\n || ',' || 'UOM_CODE'\n || ',' || 'WORK_START_DATE'\n || ',' || 'COMPONENT_ITEM_CODE'\n || ',' || 'COMPONENT_LOT_ID'\n || ',' || 'COMPONENT_QTY'\n || ',' || 'REMARK1'\n || ',' || 'CANCEL_FLAG'\n || ',' || 'CREATION_DATE'\n\n  FROM IEDISIW_INPUT_INFO\n WHERE CUTOFF_DT = :todayHH24 -- TO_CHAR(SYSDATE, 'YYYYMMDDHH24')\n   AND PROCESSING_CODE = 'FT'\n   AND ROWNUM = 1\n\nUNION ALL\n\nSELECT IF_ID \n || ',' || IF_LINE_ID \n || ',' || SUPPLIER_CODE \n || ',' || PROCESSING_CODE \n || ',' || SIW_WO_NO \n || ',' || SUPPLIER_WO_NO \n || ',' || ASSY_ITEM_CODE \n || ',' || ASSY_QTY \n || ',' || UOM_CODE \n || ',' || WORK_START_DATE \n || ',' || COMPONENT_ITEM_CODE\n || ',' || COMPONENT_LOT_ID \n || ',' || COMPONENT_QTY \n || ',' || REMARK1 \n || ',' || CANCEL_FLAG \n || ',' || CREATION_DATE \n\n  FROM IEDISIW_INPUT_INFO\n WHERE CUTOFF_DT = :todayHH24 -- TO_CHAR(SYSDATE, 'YYYYMMDDHH24')\n   AND PROCESSING_CODE = 'FT'","CREATE_USER":"6","CREATE_DATE":"2022-01-11 05:18:23","DBTYPE":"MES"}]
2022-11-16 19:17:00 [EDI System] info: 
        SELECT * FROM (
            SELECT *
            FROM EDI_QUERY_SETTING
            WHERE 1=1
            AND SETTING_ID = (
                SELECT ID
                FROM CG_CUSTOMER 
                WHERE PARENT = (
                    SELECT ID
                    FROM CG_CUSTOMER 
                    WHERE ID=(
                        SELECT PARENT
                        FROM CG_CUSTOMER 
                        WHERE ID=(
                            SELECT PARENT 
                            FROM CG_CUSTOMER 
                            WHERE ID=:id
                        )
                    )
                )
                AND LOWER(NAME) = 'common'
            )
            AND TYPE IN ('DB','TEXT')
            AND KEY NOT IN (SELECT KEY
                            FROM EDI_QUERY_SETTING
                            WHERE 1=1
                            AND SETTING_ID = :id
                            AND TYPE IN ('DB','TEXT'))
            UNION ALL
            SELECT *
            FROM EDI_QUERY_SETTING
            WHERE 1=1
            AND SETTING_ID = :id
            AND TYPE IN ('DB','TEXT')
        )
        ORDER BY LENGTH(KEY) DESC
    
2022-11-16 19:17:00 [EDI System] info: [{"ROWNUM":1,"ID":"153","SETTING_ID":"160","KEY":null,"TYPE":"Main","QUERY":"--//-- 20211203 chulho.wee ; CREATE\nSELECT \n  RPAD(START_TAG, 3, ' ')\n|| RPAD(OEM_CODE, 2, ' ')\n|| RPAD(MONTH, 6, ' ')\n|| RPAD(C_DATE, 8, ' ')\n|| RPAD(O_DATE, 8, ' ')\n|| RPAD(OEM_AREA, 4, ' ')\n|| RPAD(CUST_DEVICE, 30, ' ')\n|| RPAD(OPER_DESC, 15, ' ')\n|| RPAD(EQP_GROUP, 15, ' ')\n\n|| RPAD(EQP_MODEL, 30, ' ')\n|| RPAD(RES_ID, 15, ' ')\n|| RPAD(OPER, 6, ' ')\n\n|| RPAD(SUM(QTY), 10, ' ')\n|| RPAD(LOT_TYPE, 2, ' ')\n|| RPAD(PARA, 3, ' ')\n\n|| RPAD(TEST_TIME, 10, ' ')\n|| RPAD(INDEX_TIME, 10, ' ')\n|| RPAD(ATE_TIME, 10, ' ')\n\n|| RPAD(EQP_PRICE, 10, ' ')\n|| RPAD(ATE_PRICE, 10, ' ')\n|| RPAD(MVP_PRICE, 10, ' ')\n|| RPAD(PVI_PRICE, 10, ' ')\n|| RPAD(UNIT_PRICE, 10, ' ')\n\n|| RPAD(FULL_HALF, 10, ' ')\n|| RPAD(CREATE_TIME, 14, ' ')\n|| RPAD(REMARK, 200, ' ')\n  FROM\n(\n    SELECT 'LS1' START_TAG\n         , 'HM' OEM_CODE\n         , CASE\n            WHEN TO_CHAR(SYSDATE, 'DD') >= 28 THEN\n                 TO_CHAR(ADD_MONTHS(SYSDATE, +1), 'YYYYMM')\n            ELSE\n                 TO_CHAR(ADD_MONTHS(SYSDATE, -0), 'YYYYMM')\n           END AS \"MONTH\"\n         --, TO_CHAR(SYSDATE, 'DD') C_DATE\n         , TO_CHAR(SYSDATE, 'YYYYMMDD') C_DATE\n         , SUBSTR(LOT.TRAN_TIME, 1,8) AS O_DATE\n         , 'HMKT' AS OEM_AREA\n         \n         , TST.CUST_DVC CUST_DEVICE\n         , DECODE(TST.OPER ,'T0100', 'ATE', 'T0960', 'ASB', 'T0500', 'MVP', TST.OPER) OPER_DESC\n         \n         , (SELECT NVL(ATTR_VALUE, 'NULL') FROM MATRNAMSTS WHERE FACTORY = 'HMKT1' AND ATTR_TYPE = 'RESOURCE' AND ATTR_NAME = 'EQP_GROUP' AND ATTR_KEY = LOT.END_RES_ID) AS EQP_GROUP\n         , (SELECT NVL(ATTR_VALUE, 'NULL') FROM MATRNAMSTS WHERE FACTORY = 'HMKT1' AND ATTR_TYPE = 'RESOURCE' AND ATTR_NAME = 'EQP_MODEL' AND ATTR_KEY = LOT.END_RES_ID) AS EQP_MODEL\n         , LOT.OLD_OPER AS OPER\n         , LOT.END_RES_ID AS RES_ID\n         , LOT_CMF_5 LOT_TYPE\n\n         , LOT.QTY_1 AS QTY\n         , TST.PARA AS PARA\n         , TST.TEST_TIME AS TEST_TIME\n         , TST.INDEX_TIME AS INDEX_TIME\n         , TST.ATE_TIME AS ATE_TIME\n         , TST.EQP_PRICE AS EQP_PRICE\n         , TST.ATE_PRICE AS ATE_PRICE\n--         , (((TST.TEST_TIME + TST.INDEX_TIME) * TST.EQP_PRICE) / TST.PARA) AS ATE_PRICE\n         , TST.MVP_PRICE AS MVP_PRICE\n         , TST.PVI_PRICE AS PVI_PRICE\n         , TST.UNIT_PRICE AS UNIT_PRICE\n         , TST.FULL_HALF AS FULL_HALF\n         , TO_CHAR(SYSDATE, 'YYYYMMDDHH24MISS') AS CREATE_TIME\n         , ' ' AS REMARK\n      FROM MWIPLOTHIS LOT, VGCMTBLDAT_TEST_TIME_INF2 TST\n     WHERE 1=1\n       AND LOT.MAT_ID = TST.MAT_ID\n       AND LOT.OLD_OPER = TST.OPER\n       AND TST.MODEL = (SELECT NVL(ATTR_VALUE, 'NULL') FROM MATRNAMSTS WHERE FACTORY = 'HMKT1' AND ATTR_TYPE = 'RESOURCE' AND ATTR_NAME = 'EQP_MODEL' AND ATTR_KEY = LOT.END_RES_ID)\n       AND LOT.TRAN_TIME >= CASE WHEN TO_CHAR(SYSDATE, 'DD') >= 28 THEN\n                       TO_CHAR(ADD_MONTHS(SYSDATE, -0), 'YYYYMM')||'27'||'22'\n                       ELSE\n                       TO_CHAR(ADD_MONTHS(SYSDATE, -1), 'YYYYMM')||'27'||'22'\n                       END --AS PREV_MON\n           \n       AND LOT.TRAN_TIME < CASE WHEN TO_CHAR(SYSDATE, 'DD') >= 28 THEN\n                       TO_CHAR(ADD_MONTHS(SYSDATE, +1), 'YYYYMM')||'27'||'22'\n                       ELSE\n                       TO_CHAR(ADD_MONTHS(SYSDATE, -0), 'YYYYMM')||'27'||'22'\n                       END --AS CURR_MON\n       AND LOT.FACTORY = 'HMKT1'\n       AND LOT.TRAN_CODE = 'END'\n       AND LOT.OLD_OPER in ('T0100', 'T0960', 'T0500')\n--       AND TST.CUST_DVC = 'L6HD311A01-P040-A00VCD'\n--       AND LOT.MAT_ID = 'SEL6HD311A01-P040-A00KUVCD'\n)\nGROUP BY START_TAG\n, OEM_CODE\n, MONTH\n, C_DATE\n, O_DATE\n, OEM_AREA\n\n, CUST_DEVICE\n, OPER_DESC\n\n, EQP_GROUP\n, EQP_MODEL\n, OPER\n, RES_ID\n, LOT_TYPE\n\n, PARA\n, TEST_TIME\n, INDEX_TIME\n, ATE_TIME\n, EQP_PRICE\n, ATE_PRICE\n, MVP_PRICE\n, PVI_PRICE\n, UNIT_PRICE\n, FULL_HALF\n, CREATE_TIME\n, REMARK\nORDER BY 1","CREATE_USER":"6","CREATE_DATE":"2021-12-14 11:47:40","DBTYPE":"MES"}]
2022-11-16 19:17:00 [EDI System] info: 
        SELECT * FROM (
            SELECT *
            FROM EDI_QUERY_SETTING
            WHERE 1=1
            AND SETTING_ID = (
                SELECT ID
                FROM CG_CUSTOMER 
                WHERE PARENT = (
                    SELECT ID
                    FROM CG_CUSTOMER 
                    WHERE ID=(
                        SELECT PARENT
                        FROM CG_CUSTOMER 
                        WHERE ID=(
                            SELECT PARENT 
                            FROM CG_CUSTOMER 
                            WHERE ID=:id
                        )
                    )
                )
                AND LOWER(NAME) = 'common'
            )
            AND TYPE IN ('DB','TEXT')
            AND KEY NOT IN (SELECT KEY
                            FROM EDI_QUERY_SETTING
                            WHERE 1=1
                            AND SETTING_ID = :id
                            AND TYPE IN ('DB','TEXT'))
            UNION ALL
            SELECT *
            FROM EDI_QUERY_SETTING
            WHERE 1=1
            AND SETTING_ID = :id
            AND TYPE IN ('DB','TEXT')
        )
        ORDER BY LENGTH(KEY) DESC
    
2022-11-16 19:17:00 [EDI System] info: [{"ID":"133","SETTING_ID":"139","KEY":"todayHH24_M1H","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE - 1/24,'YYYYMMDDHH24') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-11-12 05:01:01","DBTYPE":"MES"},{"ID":"132","SETTING_ID":"139","KEY":"todayHH24","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE,'YYYYMMDDHH24') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-11-12 05:01:01","DBTYPE":"MES"},{"ID":"131","SETTING_ID":"139","KEY":"today_yy","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE,'YYYYMMDDHH24') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-11-12 05:01:01","DBTYPE":"MES"},{"ID":"134","SETTING_ID":"139","KEY":"today","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE,'YYYYMMDDHH24') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-11-12 05:01:01","DBTYPE":"MES"}]
2022-11-16 19:17:00 [EDI System] info: [{"ID":"137","SETTING_ID":"129","KEY":"todayHH24MISS","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE,'YYYYMMDDHH24MISS') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-11-12 05:20:22","DBTYPE":"MES"},{"ID":"124","SETTING_ID":"129","KEY":"todayHH24_M1H","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE - 1/24,'YYYYMMDDHH24') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-10-15 01:40:03","DBTYPE":"MES"},{"ID":"122","SETTING_ID":"129","KEY":"todayHH24","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE,'YYYYMMDDHH24') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-10-15 11:47:10","DBTYPE":"MES"},{"ID":"115","SETTING_ID":"129","KEY":"today_yy","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE,'YYYYMMDDHH24') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-09-24 08:46:51","DBTYPE":"MES"},{"ID":"130","SETTING_ID":"129","KEY":"today","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE,'YYYYMMDD') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-11-09 03:36:41","DBTYPE":"MES"}]
2022-11-16 19:18:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 19:19:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 19:20:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 19:21:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 19:22:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 19:23:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 19:24:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 19:25:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 19:26:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 19:27:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 19:28:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 19:29:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 19:30:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 19:31:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 19:32:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 19:33:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 19:34:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 19:35:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 19:36:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 19:37:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 19:38:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 19:39:30 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 19:40:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 19:41:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 19:42:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 19:43:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 19:44:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 19:45:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 19:46:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 19:47:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 19:48:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 19:49:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 19:50:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 19:51:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 19:52:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 19:53:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 19:54:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 19:55:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 19:56:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 19:57:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 19:58:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 19:59:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 20:00:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 20:00:00 [EDI System] info: Job Start Time > {"min":0,"hour":20,"date":16,"month":11,"day":3}
 {"ID":107,"CFG_ID":"143","FILE_NAME":"CMWIPINF_HM:todayHH24","FILE_DESC":"SEC CMWIPINF 1/1HR","FILE_SAVE_FOLDER":"D:/HM_EDI/SEC/OUT","FILE_CHARSET":"ascii","FILE_TYPE":"ff","DATA_TYPE":"text","FTP_ENV_ID":"100","SEND_FLAG":"Y","NODATASEND":"false","SCHEDULE_MIN":"0","SCHEDULE_HOUR":"*","SCHEDULE_DAY":"*","SCHEDULE_WEEK":"*","SCHEDULE_MONTH":"*","CM_F01":null,"CM_F02":null,"CREATE_DATE":"2021-11-12 05:17:07","CREATE_USER":"6","UPDATE_DATE":"2021-12-24 04:17:35","UPDATE_USER":"6","DELETE_DATE":null,"DELETE_USER":null,"frequency":"0 * * * *"}
2022-11-16 20:00:00 [EDI System] info: 107 >>> makeFileText Function Execute
2022-11-16 20:00:00 [EDI System] info: Job Start Time > {"min":0,"hour":20,"date":16,"month":11,"day":3}
 {"ID":109,"CFG_ID":"147","FILE_NAME":"CMWIPINF_HM:todayHH24_2","FILE_DESC":"TEST 2 //// SEC CMWIPINF 1/1HR ","FILE_SAVE_FOLDER":"D:/HM_EDI/SEC/OUT","FILE_CHARSET":"ascii","FILE_TYPE":"ff","DATA_TYPE":"text","FTP_ENV_ID":"100","SEND_FLAG":"Y","NODATASEND":null,"SCHEDULE_MIN":"0","SCHEDULE_HOUR":"*","SCHEDULE_DAY":"*","SCHEDULE_WEEK":"*","SCHEDULE_MONTH":"*","CM_F01":null,"CM_F02":null,"CREATE_DATE":"2021-11-19 05:22:50","CREATE_USER":"6","UPDATE_DATE":"2021-12-24 04:17:41","UPDATE_USER":"6","DELETE_DATE":null,"DELETE_USER":null,"frequency":"0 * * * *"}
2022-11-16 20:00:00 [EDI System] info: 109 >>> makeFileText Function Execute
2022-11-16 20:00:00 [EDI System] info: Job Start Time > {"min":0,"hour":20,"date":16,"month":11,"day":3}
 {"ID":110,"CFG_ID":"146","FILE_NAME":"CMWIPINF_HM:todayHH24_1","FILE_DESC":"SEC CMWIPINF 1/1HR","FILE_SAVE_FOLDER":"D:/HM_EDI/SEC/OUT","FILE_CHARSET":"ascii","FILE_TYPE":"ff","DATA_TYPE":"text","FTP_ENV_ID":"100","SEND_FLAG":"Y","NODATASEND":null,"SCHEDULE_MIN":"0","SCHEDULE_HOUR":"*","SCHEDULE_DAY":"*","SCHEDULE_WEEK":"*","SCHEDULE_MONTH":"*","CM_F01":null,"CM_F02":null,"CREATE_DATE":"2021-11-19 05:22:51","CREATE_USER":"6","UPDATE_DATE":"2021-12-24 04:17:47","UPDATE_USER":"6","DELETE_DATE":null,"DELETE_USER":null,"frequency":"0 * * * *"}
2022-11-16 20:00:00 [EDI System] info: 110 >>> makeFileText Function Execute
2022-11-16 20:00:00 [EDI System] info: SELECT EDI_LOG_SEQ.NEXTVAL AS ID FROM DUAL
2022-11-16 20:00:00 [EDI System] info: SELECT EDI_LOG_SEQ.NEXTVAL AS ID FROM DUAL
2022-11-16 20:00:00 [EDI System] info: SELECT EDI_LOG_SEQ.NEXTVAL AS ID FROM DUAL
2022-11-16 20:00:00 [EDI System] info: SELECT EDI_LOG_SEQ.NEXTVAL AS ID FROM DUAL
2022-11-16 20:00:00 [EDI System] info: SELECT EDI_LOG_SEQ.NEXTVAL AS ID FROM DUAL
2022-11-16 20:00:00 [EDI System] info: SELECT EDI_LOG_SEQ.NEXTVAL AS ID FROM DUAL
2022-11-16 20:00:00 [EDI System] info: [{"ID":11156}]
2022-11-16 20:00:00 [EDI System] info: seq : return Key [{"ID":11156}]
2022-11-16 20:00:00 [EDI System] info: saveAllLogger => ID:11156, NAME:CMWIPINF_HM:todayHH24_1, ProcessID:146, Description: Job Start : ID=110, CFG_ID=146, FTP_ENV_ID=100, FILE_NAME=CMWIPINF_HM:todayHH24_1, FILE_DESC=SEC CMWIPINF 1/1HR, FILE_CHARSET=ascii, FILE_TYPE=ff
2022-11-16 20:00:00 [EDI System] info: INSERT INTO EDI_LOG(ID, STEP, NAME, PROCESS_ID, DESCRIPTION, CREATE_USER, CREATE_DATE)
    VALUES(:id, :stepId, :name, :process_id, :description, 'DAEMON', TO_CHAR(SYSDATE,'YYYYMMDDHH24MISS'))
2022-11-16 20:00:00 [EDI System] info: [{"ID":11158}]
2022-11-16 20:00:00 [EDI System] info: [{"ID":11157}]
2022-11-16 20:00:00 [EDI System] info: seq : return Key [{"ID":11158}]
2022-11-16 20:00:00 [EDI System] info: saveAllLogger => ID:11158, NAME:CMWIPINF_HM:todayHH24, ProcessID:143, Description: Job Start : ID=107, CFG_ID=143, FTP_ENV_ID=100, FILE_NAME=CMWIPINF_HM:todayHH24, FILE_DESC=SEC CMWIPINF 1/1HR, FILE_CHARSET=ascii, FILE_TYPE=ff
2022-11-16 20:00:00 [EDI System] info: INSERT INTO EDI_LOG(ID, STEP, NAME, PROCESS_ID, DESCRIPTION, CREATE_USER, CREATE_DATE)
    VALUES(:id, :stepId, :name, :process_id, :description, 'DAEMON', TO_CHAR(SYSDATE,'YYYYMMDDHH24MISS'))
2022-11-16 20:00:00 [EDI System] info: seq : return Key [{"ID":11157}]
2022-11-16 20:00:00 [EDI System] info: saveAllLogger => ID:11157, NAME:CMWIPINF_HM:todayHH24_2, ProcessID:147, Description: Job Start : ID=109, CFG_ID=147, FTP_ENV_ID=100, FILE_NAME=CMWIPINF_HM:todayHH24_2, FILE_DESC=TEST 2 //// SEC CMWIPINF 1/1HR , FILE_CHARSET=ascii, FILE_TYPE=ff
2022-11-16 20:00:00 [EDI System] info: INSERT INTO EDI_LOG(ID, STEP, NAME, PROCESS_ID, DESCRIPTION, CREATE_USER, CREATE_DATE)
    VALUES(:id, :stepId, :name, :process_id, :description, 'DAEMON', TO_CHAR(SYSDATE,'YYYYMMDDHH24MISS'))
2022-11-16 20:00:00 [EDI System] info: Insert successful = SQL: INSERT INTO EDI_LOG(ID, STEP, NAME, PROCESS_ID, DESCRIPTION, CREATE_USER, CREATE_DATE)
    VALUES(:id, :stepId, :name, :process_id, :description, 'DAEMON', TO_CHAR(SYSDATE,'YYYYMMDDHH24MISS')) | Params: {"id":11156,"stepId":"1","name":"CMWIPINF_HM:todayHH24_1","process_id":"146","description":"Job Start : ID=110, CFG_ID=146, FTP_ENV_ID=100, FILE_NAME=CMWIPINF_HM:todayHH24_1, FILE_DESC=SEC CMWIPINF 1/1HR, FILE_CHARSET=ascii, FILE_TYPE=ff"} / 1
2022-11-16 20:00:00 [EDI System] info: 
    SELECT *
    FROM (
        SELECT ROWNUM,A.*
            FROM EDI_QUERY_SETTING A
            WHERE SETTING_ID = :id
            AND TYPE='Main'
            ORDER BY ID DESC
        ) 
    WHERE ROWNUM='1'
    
2022-11-16 20:00:00 [EDI System] info: Insert successful = SQL: INSERT INTO EDI_LOG(ID, STEP, NAME, PROCESS_ID, DESCRIPTION, CREATE_USER, CREATE_DATE)
    VALUES(:id, :stepId, :name, :process_id, :description, 'DAEMON', TO_CHAR(SYSDATE,'YYYYMMDDHH24MISS')) | Params: {"id":11158,"stepId":"1","name":"CMWIPINF_HM:todayHH24","process_id":"143","description":"Job Start : ID=107, CFG_ID=143, FTP_ENV_ID=100, FILE_NAME=CMWIPINF_HM:todayHH24, FILE_DESC=SEC CMWIPINF 1/1HR, FILE_CHARSET=ascii, FILE_TYPE=ff"} / 1
2022-11-16 20:00:00 [EDI System] info: 
    SELECT *
    FROM (
        SELECT ROWNUM,A.*
            FROM EDI_QUERY_SETTING A
            WHERE SETTING_ID = :id
            AND TYPE='Main'
            ORDER BY ID DESC
        ) 
    WHERE ROWNUM='1'
    
2022-11-16 20:00:00 [EDI System] info: Insert successful = SQL: INSERT INTO EDI_LOG(ID, STEP, NAME, PROCESS_ID, DESCRIPTION, CREATE_USER, CREATE_DATE)
    VALUES(:id, :stepId, :name, :process_id, :description, 'DAEMON', TO_CHAR(SYSDATE,'YYYYMMDDHH24MISS')) | Params: {"id":11157,"stepId":"1","name":"CMWIPINF_HM:todayHH24_2","process_id":"147","description":"Job Start : ID=109, CFG_ID=147, FTP_ENV_ID=100, FILE_NAME=CMWIPINF_HM:todayHH24_2, FILE_DESC=TEST 2 //// SEC CMWIPINF 1/1HR , FILE_CHARSET=ascii, FILE_TYPE=ff"} / 1
2022-11-16 20:00:00 [EDI System] info: 
    SELECT *
    FROM (
        SELECT ROWNUM,A.*
            FROM EDI_QUERY_SETTING A
            WHERE SETTING_ID = :id
            AND TYPE='Main'
            ORDER BY ID DESC
        ) 
    WHERE ROWNUM='1'
    
2022-11-16 20:00:00 [EDI System] info: [{"ROWNUM":2,"ID":"145","SETTING_ID":"146","KEY":null,"TYPE":"Main","QUERY":"SELECT\n  RPAD(VR_1,  5, ' ')\n, RPAD(VR_2, 30, ' ')\n, RPAD(VR_3, 15, ' ')\n, RPAD(VR_4, 15, ' ')\n, RPAD(VR_5,  2, ' ')\n, RPAD(VR_6,  2, ' ')\n, RPAD(VR_7, 20, ' ')\n, RPAD(VR_8, 30, ' ')\n, RPAD(VR_9, 16, ' ')\n, RPAD(VR_10, 24, ' ')\n, RPAD(VR_11, 14, ' ')\n, RPAD(VR_12,  4, ' ')\n, RPAD(VR_13,  4, ' ')\n, LPAD(VR_14, 10, ' ')\n, LPAD(VR_15, 10, ' ')\n, RPAD(VR_16,  1, ' ')\n, RPAD(VR_17,  2, ' ')\n, RPAD(VR_18, 10, ' ')\n, RPAD(VR_19, 14, ' ')\n, RPAD(VR_20, 20, ' ')\n, RPAD(VR_21, 20, ' ')\n, RPAD(VR_22, 20, ' ')\n, RPAD(VR_23, 20, ' ')\n, RPAD(VR_24, 20, ' ')\n, LPAD(VR_25, 10, ' ')\n, LPAD(VR_26, 10, ' ')\n, RPAD(VR_27,  1, ' ')\n, RPAD(VR_28, 65, ' ')\n, RPAD(VR_29, 14, ' ')\n, RPAD(VR_30,  8, ' ')\n, RPAD(VR_31, 1024, ' ')\nFROM \n(\nSELECT 'LS1HM'   VR_1\n , NVL((SELECT MAT_CMF_7 FROM MWIPMATDEF WHERE FACTORY = A.FACTORY AND MAT_ID = A.MAT_ID AND MAT_VER = A.MAT_VER), '-')   VR_2\n , F_GET_ASSY_RUNID(' ', A.LOT_ID, A.LOT_CMF_4)   VR_3\n , NVL(TRIM(A.LOT_CMF_1), '-')   VR_4\n , NVL(TRIM(A.LOT_CMF_5),'-')   VR_5\n , NVL((SELECT ATTR_VALUE FROM MATRNAMSTS WHERE FACTORY = A.FACTORY AND ATTR_TYPE = 'LOT_SEC_INFO' AND ATTR_NAME = 'RTN_TYPE' AND ATTR_KEY = TRIM(A.LOT_CMF_1)), '**')   VR_6\n , DECODE(A.OPER||A.FLOW,'T1300HKAB', 'HGAK','TZ010HKAB', 'BASIC',\n     DECODE(NVL((SELECT SEC_OPER FROM V_MWIPOPRDEF_SEC WHERE FACTORY = A.FACTORY AND OPER = A.OPER ), '-'),\n                  'HMK2','BASIC','HMK3','BASIC','HMK9','BASIC','HMK4','BASIC',\n                  NVL(FLOW, '-')))   VR_7\n , DECODE(A.OPER||A.FLOW,'T1300HKAB', '0008','TZ010HKAB', '0003',\n     TRIM(DECODE(NVL((SELECT SEC_OPER FROM V_MWIPOPRDEF_SEC WHERE FACTORY = A.FACTORY AND OPER = A.OPER ), '-'),\n                  'HMK2','0002','HMK3','0003','HMK9','0006','HMK4','0007',\n                  LPAD((SELECT SEQ_NUM-1 FROM MWIPFLWOPR WHERE FACTORY = A.FACTORY AND FLOW = A.FLOW AND OPER = A.OPER),4,'0'))))   VR_8\n , DECODE(A.OPER||A.FLOW,'T1300HKAB', '8','TZ010HKAB', '3',\n     NVL((SELECT SEQ_NUM-1 FROM MWIPFLWOPR WHERE FACTORY = A.FACTORY AND FLOW = A.FLOW AND OPER = A.OPER), '0'))   VR_9\n , DECODE(A.OPER||A.FLOW,'T1300HKAB', 'PACKING','TZ010HKAB', 'Assy Final Stock',\n     DECODE(NVL((SELECT SEC_OPER FROM V_MWIPOPRDEF_SEC WHERE FACTORY = A.FACTORY AND OPER = A.OPER ), '-'),\n                  'HMK2','Assy Home Stock','HMK3','Assy Final Stock','HMK9','Test Home Stock','HMK4','Test Final Stock',\n                  NVL((SELECT OPER_DESC FROM V_MWIPOPRDEF_SEC WHERE FACTORY = A.FACTORY AND OPER = A.OPER ), '-')))   VR_10\n , A.OPER_IN_TIME    VR_11\n , DECODE(A.OPER||A.FLOW,'T1300HKAB', 'ASSY','TZ010HKAB', 'ASSY', DECODE(A.FACTORY, 'HMKT1', 'TEST', 'HMKA1', 'ASSY', '-'))    VR_12\n , NVL((SELECT DECODE(A.OPER||A.FLOW,'TZ010HKAB', SEC_OPER_AREA_COB ,SEC_OPER_AREA) FROM V_MWIPOPRDEF_SEC WHERE FACTORY = A.FACTORY AND OPER = A.OPER ), '-')   VR_13\n , NVL(TRIM(A.QTY_1), 0)   VR_14\n , NVL(TRIM(A.QTY_2), 0)   VR_15\n , 'C'     VR_16\n , F_GET_HOLD_FLAG_CODE(A.LOT_ID, A.MAT_ID, A.HOLD_FLAG, A.HOLD_CODE, 'FLAG' )    VR_17\n , F_GET_HOLD_FLAG_CODE(A.LOT_ID, A.MAT_ID, A.HOLD_FLAG, A.HOLD_CODE, 'CODE' )    VR_18\n , DECODE(A.HOLD_FLAG, 'Y', A.LAST_TRAN_TIME, ' ')    VR_19\n , NVL((SELECT ATTR_VALUE FROM MATRNAMSTS WHERE FACTORY = A.FACTORY AND ATTR_TYPE = 'LOT_SEC_INFO' AND ATTR_NAME = 'NCFCODE' AND ATTR_KEY = TRIM(A.LOT_CMF_1)), '*')   VR_20\n , NVL((SELECT ATTR_VALUE FROM MATRNAMSTS WHERE FACTORY = A.FACTORY AND ATTR_TYPE = 'LOT_SEC_INFO' AND ATTR_NAME = 'NCACODE' AND ATTR_KEY = TRIM(A.LOT_CMF_1)), '*')   VR_21\n , NVL((SELECT ATTR_VALUE FROM MATRNAMSTS WHERE FACTORY = A.FACTORY AND ATTR_TYPE = 'LOT_SEC_INFO' AND ATTR_NAME = 'NCTCODE' AND ATTR_KEY = TRIM(A.LOT_CMF_1)), '*')   VR_22\n , NVL((SELECT ATTR_VALUE FROM MATRNAMSTS WHERE FACTORY = A.FACTORY AND ATTR_TYPE = 'LOT_SEC_INFO' AND ATTR_NAME = 'NCQCODE' AND ATTR_KEY = TRIM(A.LOT_CMF_1)), '*')   VR_23\n , NVL((SELECT ATTR_VALUE FROM MATRNAMSTS WHERE FACTORY = A.FACTORY AND ATTR_TYPE = 'LOT_SEC_INFO' AND ATTR_NAME = 'OTHER' AND ATTR_KEY = TRIM(A.LOT_CMF_1)), '*')   VR_24\n , NVL((SELECT SUM(DECODE(TRAN_CODE, 'LOSS', (OLD_QTY_1 - QTY_1), QTY_1)) \n               FROM MWIPLOTHIS \n              WHERE LOT_ID = A.LOT_ID \n                AND TRAN_CODE IN ('LOSS', 'TERMINATE')\n                AND HIST_DEL_FLAG = ' '\n                AND TRAN_TIME BETWEEN F_GET_TIME(TO_CHAR(SYSDATE, 'YYYYMMDDHH24MISS'),'SE') \n                                  AND TO_CHAR(SYSDATE, 'YYYYMMDDHH24MISS')), 0)         VR_25\n , NVL((SELECT SUM(TOTAL_BONUS_QTY) \n               FROM MWIPLOTBNS \n              WHERE LOT_ID = A.LOT_ID\n                AND TRAN_TIME BETWEEN F_GET_TIME(TO_CHAR(SYSDATE, 'YYYYMMDDHH24MISS'),'SE') \n                                  AND TO_CHAR(SYSDATE, 'YYYYMMDDHH24MISS')), 0)    VR_26\n , '-'    VR_27\n , '-'    VR_28\n , TO_CHAR(SYSDATE,'YYYYMMDDHH24MISS')     VR_29\n , GET_WORK_DATE_EDI(TO_CHAR(SYSDATE, 'YYYYMMDDHH24MISS'),'D')  VR_30\n , MESMGR.PK_SEC_MES_IF.MakeInkless_OMS_WIP(A.FACTORY, A.LOT_ID)  VR_31\n  FROM MWIPLOTSTS A\n WHERE 1 = 1\n   AND FACTORY IN ('HMKT1','HMKA1') \n   AND LOT_CMF_2 = 'SE'   \n   AND OWNER_CODE = 'PROD'\n   AND LOT_TYPE = 'W'\n   AND LOT_DEL_FLAG = ' ' \n   AND CREATE_CODE <> 'FREE' \n   AND MAT_ID LIKE 'SE'||(SELECT DATA_1 FROM MGCMTBLDAT WHERE FACTORY = 'HMKA1' AND TABLE_NAME = 'H_SPECIAL_CHAR' AND KEY_1 = '1')\n   AND OPER BETWEEN 'A0000' AND 'TZ010'\n   AND MAT_ID NOT LIKE 'SEKY'||(SELECT DATA_1 FROM MGCMTBLDAT WHERE FACTORY = 'HMKA1' AND TABLE_NAME = 'H_SPECIAL_CHAR' AND KEY_1 = '1')  --- 영업  요청으로 하드코딩 170412. SEKY%\n)","CREATE_USER":"6","CREATE_DATE":"2021-11-22 10:58:05","DBTYPE":"MES"}]
2022-11-16 20:00:00 [EDI System] info: 
        SELECT * FROM (
            SELECT *
            FROM EDI_QUERY_SETTING
            WHERE 1=1
            AND SETTING_ID = (
                SELECT ID
                FROM CG_CUSTOMER 
                WHERE PARENT = (
                    SELECT ID
                    FROM CG_CUSTOMER 
                    WHERE ID=(
                        SELECT PARENT
                        FROM CG_CUSTOMER 
                        WHERE ID=(
                            SELECT PARENT 
                            FROM CG_CUSTOMER 
                            WHERE ID=:id
                        )
                    )
                )
                AND LOWER(NAME) = 'common'
            )
            AND TYPE IN ('DB','TEXT')
            AND KEY NOT IN (SELECT KEY
                            FROM EDI_QUERY_SETTING
                            WHERE 1=1
                            AND SETTING_ID = :id
                            AND TYPE IN ('DB','TEXT'))
            UNION ALL
            SELECT *
            FROM EDI_QUERY_SETTING
            WHERE 1=1
            AND SETTING_ID = :id
            AND TYPE IN ('DB','TEXT')
        )
        ORDER BY LENGTH(KEY) DESC
    
2022-11-16 20:00:00 [EDI System] info: [{"ROWNUM":4,"ID":"147","SETTING_ID":"143","KEY":null,"TYPE":"Main","QUERY":"SELECT \n  RPAD(VR_1,  5, ' ')\n, RPAD(VR_2, 30, ' ')\n, RPAD(VR_3, 15, ' ')\n, RPAD(VR_4, 15, ' ')\n, RPAD(VR_5,  2, ' ')\n, RPAD(VR_6,  2, ' ')\n, RPAD(VR_7, 20, ' ')\n, RPAD(VR_8, 30, ' ')\n, RPAD(VR_9, 16, ' ')\n, RPAD(VR_10, 24, ' ')\n, RPAD(VR_11, 14, ' ')\n, RPAD(VR_12,  4, ' ')\n, RPAD(VR_13,  4, ' ')\n, LPAD(VR_14, 10, ' ')\n, LPAD(VR_15, 10, ' ')\n, RPAD(VR_16,  1, ' ')\n, RPAD(VR_17,  2, ' ')\n, RPAD(VR_18, 10, ' ')\n, RPAD(VR_19, 14, ' ')\n, RPAD(VR_20, 20, ' ')\n, RPAD(VR_21, 20, ' ')\n, RPAD(VR_22, 20, ' ')\n, RPAD(VR_23, 20, ' ')\n, RPAD(VR_24, 20, ' ')\n, LPAD(VR_25, 10, ' ')\n, LPAD(VR_26, 10, ' ')\n, RPAD(VR_27,  1, ' ')\n, RPAD(VR_28, 65, ' ')\n, RPAD(VR_29, 14, ' ')\n, RPAD(VR_30,  8, ' ')\n, RPAD(VR_31, 1024, ' ')\nFROM \n(\nSELECT 'LS1HM'   VR_1\n , NVL((SELECT MAT_CMF_7 FROM MWIPMATDEF WHERE FACTORY = A.FACTORY AND MAT_ID = A.MAT_ID AND MAT_VER = A.MAT_VER), '-')   VR_2\n , F_GET_ASSY_RUNID(' ', A.LOT_ID, A.LOT_CMF_4)   VR_3\n , NVL(TRIM(A.LOT_CMF_1), '-')   VR_4\n , NVL(TRIM(A.LOT_CMF_5),'-')   VR_5\n , NVL((SELECT ATTR_VALUE FROM MATRNAMSTS WHERE FACTORY = A.FACTORY AND ATTR_TYPE = 'LOT_SEC_INFO' AND ATTR_NAME = 'RTN_TYPE' AND ATTR_KEY = TRIM(A.LOT_CMF_1)), '**')   VR_6\n , DECODE(A.OPER||A.FLOW,'T1300HKAB', 'HGAK','TZ010HKAB', 'BASIC',\n     DECODE(NVL((SELECT SEC_OPER FROM V_MWIPOPRDEF_SEC WHERE FACTORY = A.FACTORY AND OPER = A.OPER ), '-'),\n                  'HMK2','BASIC','HMK3','BASIC','HMK9','BASIC','HMK4','BASIC',\n                  NVL(FLOW, '-')))   VR_7\n , DECODE(A.OPER||A.FLOW,'T1300HKAB', '0008','TZ010HKAB', '0003',\n     TRIM(DECODE(NVL((SELECT SEC_OPER FROM V_MWIPOPRDEF_SEC WHERE FACTORY = A.FACTORY AND OPER = A.OPER ), '-'),\n                  'HMK2','0002','HMK3','0003','HMK9','0006','HMK4','0007',\n                  LPAD((SELECT SEQ_NUM-1 FROM MWIPFLWOPR WHERE FACTORY = A.FACTORY AND FLOW = A.FLOW AND OPER = A.OPER),4,'0'))))   VR_8\n , DECODE(A.OPER||A.FLOW,'T1300HKAB', '8','TZ010HKAB', '3',\n     NVL((SELECT SEQ_NUM-1 FROM MWIPFLWOPR WHERE FACTORY = A.FACTORY AND FLOW = A.FLOW AND OPER = A.OPER), '0'))   VR_9\n , DECODE(A.OPER||A.FLOW,'T1300HKAB', 'PACKING','TZ010HKAB', 'Assy Final Stock',\n     DECODE(NVL((SELECT SEC_OPER FROM V_MWIPOPRDEF_SEC WHERE FACTORY = A.FACTORY AND OPER = A.OPER ), '-'),\n                  'HMK2','Assy Home Stock','HMK3','Assy Final Stock','HMK9','Test Home Stock','HMK4','Test Final Stock',\n                  NVL((SELECT OPER_DESC FROM V_MWIPOPRDEF_SEC WHERE FACTORY = A.FACTORY AND OPER = A.OPER ), '-')))   VR_10\n , A.OPER_IN_TIME    VR_11\n , DECODE(A.OPER||A.FLOW,'T1300HKAB', 'ASSY','TZ010HKAB', 'ASSY', DECODE(A.FACTORY, 'HMKT1', 'TEST', 'HMKA1', 'ASSY', '-'))    VR_12\n , NVL((SELECT DECODE(A.OPER||A.FLOW,'TZ010HKAB', SEC_OPER_AREA_COB ,SEC_OPER_AREA) FROM V_MWIPOPRDEF_SEC WHERE FACTORY = A.FACTORY AND OPER = A.OPER ), '-')   VR_13\n , NVL(TRIM(A.QTY_1), 0)   VR_14\n , NVL(TRIM(A.QTY_2), 0)   VR_15\n , 'C'     VR_16\n , F_GET_HOLD_FLAG_CODE(A.LOT_ID, A.MAT_ID, A.HOLD_FLAG, A.HOLD_CODE, 'FLAG' )    VR_17\n , F_GET_HOLD_FLAG_CODE(A.LOT_ID, A.MAT_ID, A.HOLD_FLAG, A.HOLD_CODE, 'CODE' )    VR_18\n , DECODE(A.HOLD_FLAG, 'Y', A.LAST_TRAN_TIME, ' ')    VR_19\n , NVL((SELECT ATTR_VALUE FROM MATRNAMSTS WHERE FACTORY = A.FACTORY AND ATTR_TYPE = 'LOT_SEC_INFO' AND ATTR_NAME = 'NCFCODE' AND ATTR_KEY = TRIM(A.LOT_CMF_1)), '*')   VR_20\n , NVL((SELECT ATTR_VALUE FROM MATRNAMSTS WHERE FACTORY = A.FACTORY AND ATTR_TYPE = 'LOT_SEC_INFO' AND ATTR_NAME = 'NCACODE' AND ATTR_KEY = TRIM(A.LOT_CMF_1)), '*')   VR_21\n , NVL((SELECT ATTR_VALUE FROM MATRNAMSTS WHERE FACTORY = A.FACTORY AND ATTR_TYPE = 'LOT_SEC_INFO' AND ATTR_NAME = 'NCTCODE' AND ATTR_KEY = TRIM(A.LOT_CMF_1)), '*')   VR_22\n , NVL((SELECT ATTR_VALUE FROM MATRNAMSTS WHERE FACTORY = A.FACTORY AND ATTR_TYPE = 'LOT_SEC_INFO' AND ATTR_NAME = 'NCQCODE' AND ATTR_KEY = TRIM(A.LOT_CMF_1)), '*')   VR_23\n , NVL((SELECT ATTR_VALUE FROM MATRNAMSTS WHERE FACTORY = A.FACTORY AND ATTR_TYPE = 'LOT_SEC_INFO' AND ATTR_NAME = 'OTHER' AND ATTR_KEY = TRIM(A.LOT_CMF_1)), '*')   VR_24\n , NVL((SELECT SUM(DECODE(TRAN_CODE, 'LOSS', (OLD_QTY_1 - QTY_1), QTY_1)) \n               FROM MWIPLOTHIS \n              WHERE LOT_ID = A.LOT_ID \n                AND TRAN_CODE IN ('LOSS', 'TERMINATE')\n                AND HIST_DEL_FLAG = ' '\n                AND TRAN_TIME BETWEEN F_GET_TIME(TO_CHAR(SYSDATE, 'YYYYMMDDHH24MISS'),'SE') \n                                  AND TO_CHAR(SYSDATE, 'YYYYMMDDHH24MISS')), 0)         VR_25\n , NVL((SELECT SUM(TOTAL_BONUS_QTY) \n               FROM MWIPLOTBNS \n              WHERE LOT_ID = A.LOT_ID\n                AND TRAN_TIME BETWEEN F_GET_TIME(TO_CHAR(SYSDATE, 'YYYYMMDDHH24MISS'),'SE') \n                                  AND TO_CHAR(SYSDATE, 'YYYYMMDDHH24MISS')), 0)    VR_26\n , '-'    VR_27\n , '-'    VR_28\n , TO_CHAR(SYSDATE,'YYYYMMDDHH24MISS')     VR_29\n , GET_WORK_DATE_EDI(TO_CHAR(SYSDATE, 'YYYYMMDDHH24MISS'),'D')  VR_30\n , MESMGR.PK_SEC_MES_IF.MakeInkless_OMS_WIP(A.FACTORY, A.LOT_ID)  VR_31\n  FROM MWIPLOTSTS A\n WHERE 1 = 1\n   AND FACTORY IN ('HMKT1','HMKA1') \n   AND LOT_CMF_2 = 'SE'   \n   AND OWNER_CODE = 'PROD'\n   AND LOT_TYPE = 'W'\n   AND LOT_DEL_FLAG = ' ' \n   AND CREATE_CODE <> 'FREE' \n   AND MAT_ID LIKE 'SE'||(SELECT DATA_1 FROM MGCMTBLDAT WHERE FACTORY = 'HMKA1' AND TABLE_NAME = 'H_SPECIAL_CHAR' AND KEY_1 = '1')\n   AND OPER BETWEEN 'A0000' AND 'TZ010'\n   AND MAT_ID NOT LIKE 'SEKY'||(SELECT DATA_1 FROM MGCMTBLDAT WHERE FACTORY = 'HMKA1' AND TABLE_NAME = 'H_SPECIAL_CHAR' AND KEY_1 = '1')  --- 영업  요청으로 하드코딩 170412. SEKY%\n)","CREATE_USER":"6","CREATE_DATE":"2021-11-24 03:06:40","DBTYPE":"MES"}]
2022-11-16 20:00:00 [EDI System] info: 
        SELECT * FROM (
            SELECT *
            FROM EDI_QUERY_SETTING
            WHERE 1=1
            AND SETTING_ID = (
                SELECT ID
                FROM CG_CUSTOMER 
                WHERE PARENT = (
                    SELECT ID
                    FROM CG_CUSTOMER 
                    WHERE ID=(
                        SELECT PARENT
                        FROM CG_CUSTOMER 
                        WHERE ID=(
                            SELECT PARENT 
                            FROM CG_CUSTOMER 
                            WHERE ID=:id
                        )
                    )
                )
                AND LOWER(NAME) = 'common'
            )
            AND TYPE IN ('DB','TEXT')
            AND KEY NOT IN (SELECT KEY
                            FROM EDI_QUERY_SETTING
                            WHERE 1=1
                            AND SETTING_ID = :id
                            AND TYPE IN ('DB','TEXT'))
            UNION ALL
            SELECT *
            FROM EDI_QUERY_SETTING
            WHERE 1=1
            AND SETTING_ID = :id
            AND TYPE IN ('DB','TEXT')
        )
        ORDER BY LENGTH(KEY) DESC
    
2022-11-16 20:00:00 [EDI System] info: [{"ROWNUM":1,"ID":"146","SETTING_ID":"147","KEY":null,"TYPE":"Main","QUERY":"SELECT\n  RPAD(VR_1,  5, ' ')\n, RPAD(VR_2, 30, ' ')\n, RPAD(VR_3, 15, ' ')\n, RPAD(VR_4, 15, ' ')\n, RPAD(VR_5,  2, ' ')\n, RPAD(VR_6,  2, ' ')\n, RPAD(VR_7, 20, ' ')\n, RPAD(VR_8, 30, ' ')\n, RPAD(VR_9, 16, ' ')\n, RPAD(VR_10, 24, ' ')\n, RPAD(VR_11, 14, ' ')\n, RPAD(VR_12,  4, ' ')\n, RPAD(VR_13,  4, ' ')\n, LPAD(VR_14, 10, ' ')\n, LPAD(VR_15, 10, ' ')\n, RPAD(VR_16,  1, ' ')\n, RPAD(VR_17,  2, ' ')\n, RPAD(VR_18, 10, ' ')\n, RPAD(VR_19, 14, ' ')\n, RPAD(VR_20, 20, ' ')\n, RPAD(VR_21, 20, ' ')\n, RPAD(VR_22, 20, ' ')\n, RPAD(VR_23, 20, ' ')\n, RPAD(VR_24, 20, ' ')\n, LPAD(VR_25, 10, ' ')\n, LPAD(VR_26, 10, ' ')\n, RPAD(VR_27,  1, ' ')\n, RPAD(VR_28, 65, ' ')\n, RPAD(VR_29, 14, ' ')\n, RPAD(VR_30,  8, ' ')\n, RPAD(VR_31, 1024, ' ')\nFROM \n(\nSELECT 'LS1HM'   VR_1\n , NVL((SELECT MAT_CMF_7 FROM MWIPMATDEF WHERE FACTORY = A.FACTORY AND MAT_ID = A.MAT_ID AND MAT_VER = A.MAT_VER), '-')   VR_2\n , F_GET_ASSY_RUNID(' ', A.LOT_ID, A.LOT_CMF_4)   VR_3\n , NVL(TRIM(A.LOT_CMF_1), '-')   VR_4\n , NVL(TRIM(A.LOT_CMF_5),'-')   VR_5\n , NVL((SELECT ATTR_VALUE FROM MATRNAMSTS WHERE FACTORY = A.FACTORY AND ATTR_TYPE = 'LOT_SEC_INFO' AND ATTR_NAME = 'RTN_TYPE' AND ATTR_KEY = TRIM(A.LOT_CMF_1)), '**')   VR_6\n , DECODE(A.OPER||A.FLOW,'T1300HKAB', 'HGAK','TZ010HKAB', 'BASIC',\n     DECODE(NVL((SELECT SEC_OPER FROM V_MWIPOPRDEF_SEC WHERE FACTORY = A.FACTORY AND OPER = A.OPER ), '-'),\n                  'HMK2','BASIC','HMK3','BASIC','HMK9','BASIC','HMK4','BASIC',\n                  NVL(FLOW, '-')))   VR_7\n , DECODE(A.OPER||A.FLOW,'T1300HKAB', '0008','TZ010HKAB', '0003',\n     TRIM(DECODE(NVL((SELECT SEC_OPER FROM V_MWIPOPRDEF_SEC WHERE FACTORY = A.FACTORY AND OPER = A.OPER ), '-'),\n                  'HMK2','0002','HMK3','0003','HMK9','0006','HMK4','0007',\n                  LPAD((SELECT SEQ_NUM-1 FROM MWIPFLWOPR WHERE FACTORY = A.FACTORY AND FLOW = A.FLOW AND OPER = A.OPER),4,'0'))))   VR_8\n , DECODE(A.OPER||A.FLOW,'T1300HKAB', '8','TZ010HKAB', '3',\n     NVL((SELECT SEQ_NUM-1 FROM MWIPFLWOPR WHERE FACTORY = A.FACTORY AND FLOW = A.FLOW AND OPER = A.OPER), '0'))   VR_9\n , DECODE(A.OPER||A.FLOW,'T1300HKAB', 'PACKING','TZ010HKAB', 'Assy Final Stock',\n     DECODE(NVL((SELECT SEC_OPER FROM V_MWIPOPRDEF_SEC WHERE FACTORY = A.FACTORY AND OPER = A.OPER ), '-'),\n                  'HMK2','Assy Home Stock','HMK3','Assy Final Stock','HMK9','Test Home Stock','HMK4','Test Final Stock',\n                  NVL((SELECT OPER_DESC FROM V_MWIPOPRDEF_SEC WHERE FACTORY = A.FACTORY AND OPER = A.OPER ), '-')))   VR_10\n , A.OPER_IN_TIME    VR_11\n , DECODE(A.OPER||A.FLOW,'T1300HKAB', 'ASSY','TZ010HKAB', 'ASSY', DECODE(A.FACTORY, 'HMKT1', 'TEST', 'HMKA1', 'ASSY', '-'))    VR_12\n , NVL((SELECT DECODE(A.OPER||A.FLOW,'TZ010HKAB', SEC_OPER_AREA_COB ,SEC_OPER_AREA) FROM V_MWIPOPRDEF_SEC WHERE FACTORY = A.FACTORY AND OPER = A.OPER ), '-')   VR_13\n , NVL(TRIM(A.QTY_1), 0)   VR_14\n , NVL(TRIM(A.QTY_2), 0)   VR_15\n , 'C'     VR_16\n , F_GET_HOLD_FLAG_CODE(A.LOT_ID, A.MAT_ID, A.HOLD_FLAG, A.HOLD_CODE, 'FLAG' )    VR_17\n , F_GET_HOLD_FLAG_CODE(A.LOT_ID, A.MAT_ID, A.HOLD_FLAG, A.HOLD_CODE, 'CODE' )    VR_18\n , DECODE(A.HOLD_FLAG, 'Y', A.LAST_TRAN_TIME, ' ')    VR_19\n , NVL((SELECT ATTR_VALUE FROM MATRNAMSTS WHERE FACTORY = A.FACTORY AND ATTR_TYPE = 'LOT_SEC_INFO' AND ATTR_NAME = 'NCFCODE' AND ATTR_KEY = TRIM(A.LOT_CMF_1)), '*')   VR_20\n , NVL((SELECT ATTR_VALUE FROM MATRNAMSTS WHERE FACTORY = A.FACTORY AND ATTR_TYPE = 'LOT_SEC_INFO' AND ATTR_NAME = 'NCACODE' AND ATTR_KEY = TRIM(A.LOT_CMF_1)), '*')   VR_21\n , NVL((SELECT ATTR_VALUE FROM MATRNAMSTS WHERE FACTORY = A.FACTORY AND ATTR_TYPE = 'LOT_SEC_INFO' AND ATTR_NAME = 'NCTCODE' AND ATTR_KEY = TRIM(A.LOT_CMF_1)), '*')   VR_22\n , NVL((SELECT ATTR_VALUE FROM MATRNAMSTS WHERE FACTORY = A.FACTORY AND ATTR_TYPE = 'LOT_SEC_INFO' AND ATTR_NAME = 'NCQCODE' AND ATTR_KEY = TRIM(A.LOT_CMF_1)), '*')   VR_23\n , NVL((SELECT ATTR_VALUE FROM MATRNAMSTS WHERE FACTORY = A.FACTORY AND ATTR_TYPE = 'LOT_SEC_INFO' AND ATTR_NAME = 'OTHER' AND ATTR_KEY = TRIM(A.LOT_CMF_1)), '*')   VR_24\n , NVL((SELECT SUM(DECODE(TRAN_CODE, 'LOSS', (OLD_QTY_1 - QTY_1), QTY_1)) \n               FROM MWIPLOTHIS \n              WHERE LOT_ID = A.LOT_ID \n                AND TRAN_CODE IN ('LOSS', 'TERMINATE')\n                AND HIST_DEL_FLAG = ' '\n                AND TRAN_TIME BETWEEN F_GET_TIME(TO_CHAR(SYSDATE, 'YYYYMMDDHH24MISS'),'SE') \n                                  AND TO_CHAR(SYSDATE, 'YYYYMMDDHH24MISS')), 0)         VR_25\n , NVL((SELECT SUM(TOTAL_BONUS_QTY) \n               FROM MWIPLOTBNS \n              WHERE LOT_ID = A.LOT_ID\n                AND TRAN_TIME BETWEEN F_GET_TIME(TO_CHAR(SYSDATE, 'YYYYMMDDHH24MISS'),'SE') \n                                  AND TO_CHAR(SYSDATE, 'YYYYMMDDHH24MISS')), 0)    VR_26\n , '-'    VR_27\n , '-'    VR_28\n , TO_CHAR(SYSDATE,'YYYYMMDDHH24MISS')     VR_29\n , GET_WORK_DATE_EDI(TO_CHAR(SYSDATE, 'YYYYMMDDHH24MISS'),'D')  VR_30\n , MESMGR.PK_SEC_MES_IF.MakeInkless_OMS_WIP(A.FACTORY, A.LOT_ID)  VR_31\n  FROM MWIPLOTSTS A\n WHERE 1 = 1\n   AND FACTORY IN ('HMKT1','HMKA1') \n   AND LOT_CMF_2 = 'SE'   \n   AND OWNER_CODE = 'PROD'\n   AND LOT_TYPE = 'W'\n   AND LOT_DEL_FLAG = ' ' \n   AND CREATE_CODE <> 'FREE' \n   AND MAT_ID LIKE 'SE'||(SELECT DATA_1 FROM MGCMTBLDAT WHERE FACTORY = 'HMKA1' AND TABLE_NAME = 'H_SPECIAL_CHAR' AND KEY_1 = '1')\n   AND OPER BETWEEN 'A0000' AND 'TZ010'\n   AND MAT_ID NOT LIKE 'SEKY'||(SELECT DATA_1 FROM MGCMTBLDAT WHERE FACTORY = 'HMKA1' AND TABLE_NAME = 'H_SPECIAL_CHAR' AND KEY_1 = '1')  --- 영업  요청으로 하드코딩 170412. SEKY%\n)","CREATE_USER":"6","CREATE_DATE":"2021-11-23 04:53:33","DBTYPE":"MES"}]
2022-11-16 20:00:00 [EDI System] info: 
        SELECT * FROM (
            SELECT *
            FROM EDI_QUERY_SETTING
            WHERE 1=1
            AND SETTING_ID = (
                SELECT ID
                FROM CG_CUSTOMER 
                WHERE PARENT = (
                    SELECT ID
                    FROM CG_CUSTOMER 
                    WHERE ID=(
                        SELECT PARENT
                        FROM CG_CUSTOMER 
                        WHERE ID=(
                            SELECT PARENT 
                            FROM CG_CUSTOMER 
                            WHERE ID=:id
                        )
                    )
                )
                AND LOWER(NAME) = 'common'
            )
            AND TYPE IN ('DB','TEXT')
            AND KEY NOT IN (SELECT KEY
                            FROM EDI_QUERY_SETTING
                            WHERE 1=1
                            AND SETTING_ID = :id
                            AND TYPE IN ('DB','TEXT'))
            UNION ALL
            SELECT *
            FROM EDI_QUERY_SETTING
            WHERE 1=1
            AND SETTING_ID = :id
            AND TYPE IN ('DB','TEXT')
        )
        ORDER BY LENGTH(KEY) DESC
    
2022-11-16 20:00:00 [EDI System] info: [{"ID":"137","SETTING_ID":"129","KEY":"todayHH24MISS","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE,'YYYYMMDDHH24MISS') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-11-12 05:20:22","DBTYPE":"MES"},{"ID":"124","SETTING_ID":"129","KEY":"todayHH24_M1H","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE - 1/24,'YYYYMMDDHH24') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-10-15 01:40:03","DBTYPE":"MES"},{"ID":"122","SETTING_ID":"129","KEY":"todayHH24","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE,'YYYYMMDDHH24') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-10-15 11:47:10","DBTYPE":"MES"},{"ID":"115","SETTING_ID":"129","KEY":"today_yy","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE,'YYYYMMDDHH24') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-09-24 08:46:51","DBTYPE":"MES"},{"ID":"130","SETTING_ID":"129","KEY":"today","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE,'YYYYMMDD') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-11-09 03:36:41","DBTYPE":"MES"}]
2022-11-16 20:00:00 [EDI System] info: [{"ID":"137","SETTING_ID":"129","KEY":"todayHH24MISS","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE,'YYYYMMDDHH24MISS') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-11-12 05:20:22","DBTYPE":"MES"},{"ID":"124","SETTING_ID":"129","KEY":"todayHH24_M1H","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE - 1/24,'YYYYMMDDHH24') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-10-15 01:40:03","DBTYPE":"MES"},{"ID":"122","SETTING_ID":"129","KEY":"todayHH24","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE,'YYYYMMDDHH24') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-10-15 11:47:10","DBTYPE":"MES"},{"ID":"115","SETTING_ID":"129","KEY":"today_yy","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE,'YYYYMMDDHH24') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-09-24 08:46:51","DBTYPE":"MES"},{"ID":"130","SETTING_ID":"129","KEY":"today","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE,'YYYYMMDD') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-11-09 03:36:41","DBTYPE":"MES"}]
2022-11-16 20:00:00 [EDI System] info: [{"ID":"137","SETTING_ID":"129","KEY":"todayHH24MISS","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE,'YYYYMMDDHH24MISS') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-11-12 05:20:22","DBTYPE":"MES"},{"ID":"124","SETTING_ID":"129","KEY":"todayHH24_M1H","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE - 1/24,'YYYYMMDDHH24') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-10-15 01:40:03","DBTYPE":"MES"},{"ID":"122","SETTING_ID":"129","KEY":"todayHH24","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE,'YYYYMMDDHH24') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-10-15 11:47:10","DBTYPE":"MES"},{"ID":"115","SETTING_ID":"129","KEY":"today_yy","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE,'YYYYMMDDHH24') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-09-24 08:46:51","DBTYPE":"MES"},{"ID":"130","SETTING_ID":"129","KEY":"today","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE,'YYYYMMDD') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-11-09 03:36:41","DBTYPE":"MES"}]
2022-11-16 20:01:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 20:02:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 20:03:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 20:04:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 20:04:01 [EDI System] info: Job Start Time > {"min":4,"hour":20,"date":16,"month":11,"day":3}
 {"ID":100,"CFG_ID":"135","FILE_NAME":"LOTEVENT_HM:todayHH24","FILE_DESC":"SEC LOTEVENT 1/1HR","FILE_SAVE_FOLDER":"D:/HM_EDI/SEC/OUT","FILE_CHARSET":"utf-8","FILE_TYPE":"ff","DATA_TYPE":"text","FTP_ENV_ID":"100","SEND_FLAG":"Y","NODATASEND":null,"SCHEDULE_MIN":"4","SCHEDULE_HOUR":"*","SCHEDULE_DAY":"*","SCHEDULE_WEEK":"*","SCHEDULE_MONTH":"*","CM_F01":null,"CM_F02":null,"CREATE_DATE":null,"CREATE_USER":null,"UPDATE_DATE":"2021-12-16 09:23:19","UPDATE_USER":"6","DELETE_DATE":null,"DELETE_USER":null,"frequency":"4 * * * *"}
2022-11-16 20:04:01 [EDI System] info: 100 >>> makeFileText Function Execute
2022-11-16 20:04:01 [EDI System] info: SELECT EDI_LOG_SEQ.NEXTVAL AS ID FROM DUAL
2022-11-16 20:04:01 [EDI System] info: SELECT EDI_LOG_SEQ.NEXTVAL AS ID FROM DUAL
2022-11-16 20:04:01 [EDI System] info: [{"ID":11159}]
2022-11-16 20:04:01 [EDI System] info: seq : return Key [{"ID":11159}]
2022-11-16 20:04:01 [EDI System] info: saveAllLogger => ID:11159, NAME:LOTEVENT_HM:todayHH24, ProcessID:135, Description: Job Start : ID=100, CFG_ID=135, FTP_ENV_ID=100, FILE_NAME=LOTEVENT_HM:todayHH24, FILE_DESC=SEC LOTEVENT 1/1HR, FILE_CHARSET=utf-8, FILE_TYPE=ff
2022-11-16 20:04:01 [EDI System] info: INSERT INTO EDI_LOG(ID, STEP, NAME, PROCESS_ID, DESCRIPTION, CREATE_USER, CREATE_DATE)
    VALUES(:id, :stepId, :name, :process_id, :description, 'DAEMON', TO_CHAR(SYSDATE,'YYYYMMDDHH24MISS'))
2022-11-16 20:04:01 [EDI System] info: Insert successful = SQL: INSERT INTO EDI_LOG(ID, STEP, NAME, PROCESS_ID, DESCRIPTION, CREATE_USER, CREATE_DATE)
    VALUES(:id, :stepId, :name, :process_id, :description, 'DAEMON', TO_CHAR(SYSDATE,'YYYYMMDDHH24MISS')) | Params: {"id":11159,"stepId":"1","name":"LOTEVENT_HM:todayHH24","process_id":"135","description":"Job Start : ID=100, CFG_ID=135, FTP_ENV_ID=100, FILE_NAME=LOTEVENT_HM:todayHH24, FILE_DESC=SEC LOTEVENT 1/1HR, FILE_CHARSET=utf-8, FILE_TYPE=ff"} / 1
2022-11-16 20:04:01 [EDI System] info: 
    SELECT *
    FROM (
        SELECT ROWNUM,A.*
            FROM EDI_QUERY_SETTING A
            WHERE SETTING_ID = :id
            AND TYPE='Main'
            ORDER BY ID DESC
        ) 
    WHERE ROWNUM='1'
    
2022-11-16 20:04:01 [EDI System] info: [{"ROWNUM":16,"ID":"155","SETTING_ID":"135","KEY":null,"TYPE":"Main","QUERY":"SELECT     \n  RPAD(V1, 2,' ')\n, RPAD(V3 , 20,' ')\n, RPAD(NVL(decode(v35, 'N01', 'Multitransfer', V4), ' ') , 30,' ')\n, RPAD(V5 || LPAD(B.MILI_SEC,3,0) , 20,' ')\n, RPAD(V6 , 2,' ')\n, RPAD(V7 , 4,' ')\n, RPAD(V8 , 30,' ')\n, RPAD(V9  , 20,' ')\n, RPAD(V10 , 10,' ')\n, RPAD(V11 , 30,' ')\n, RPAD(V12 , 20,' ')\n, RPAD(V13 , 20,' ')\n, RPAD(V14 , 10,' ')\n, RPAD(V15 , 10,' ')\n, RPAD(V16 , 14,' ')\n, RPAD(V17 , 14,' ')\n, LPAD(V18 , 10,' ')\n, LPAD(V19 , 10,' ')\n, RPAD(V20 , 14,' ')\n, RPAD(V21 , 10,' ')\n, RPAD(V22 , 10,' ')\n, RPAD(V23 , 20,' ')\n, RPAD(nvl(V24,' ') , 20,' ')\n, RPAD(V25 , 30,' ')\n, RPAD(V26 , 30,' ')\n, RPAD(V27 , 20,' ')\n, RPAD(V28 , 20,' ')\n, RPAD(V29 , 65,' ')\n, RPAD(V30 , 10,' ')\n, RPAD(V31 , 2,' ')\n, RPAD(V32 , 20,' ')\n, RPAD(V33 , 14,' ')\n, RPAD(V34 , 10,' ')\n, RPAD(V35 , 10,' ')\n, RPAD(V36 , 255,' ')\n, RPAD(V37 , 255,' ')\n  FROM ( SELECT ROWNUM IDX, \n                        V0,V1,V2,V3,V4,V5,V6,V7,V8,V9,V10,V11,V12,V13,V14,V15,V16,V17,V18,V19,V20,V21,V22,V23,V24,V25,V26,V27,V28,V29,V30,V31,V32,V33,V34,V35,V36,V37\n           FROM (\n           select * from\n           (           -- 20200121 chulho.wee ; combine except\n                       SELECT C.IN_DTTM V0, 'HM'  V1\n                     , DECODE(A.FACTORY, 'HMKA1', 'ASSY', 'TEST') V2\n                     , NVL(TRIM(A.LOT_CMF_1), '-') V3\n                     , DECODE(B.DATA_1\n                              , 'END', NVL(TRIM(INITCAP(A.TRAN_CMF_1)),'TrackOut')\n                              --, 'Change', DECODE(A.TRAN_CMF_1,'PART_CHANGE','ChangeProduct')\n                              --, 'Receive', DECODE(A.OLD_OPER,'T0000','RECV_OY_HMK3', 'Receive')\n                              -- , 'Ship', DECODE(A.OLD_OPER,'TZ010','SHIP_HMK4_OY', 'Ship')\n                              , 'Change', DECODE(A.TRAN_CMF_1,'PART_CHANGE','ChangeProduct', DECODE(A.OLD_OPER, 'T0100', 'ChangeProduct','T0960','ChangeProduct', B.DATA_1))\n                              , 'Receive', DECODE(A.OLD_OPER||SUBSTR(A.MAT_ID,1,3),'T0000SES','RECV_OY_HMK3','A0000SES','RECV_KH_HMK2', 'Receive')\n                              --, 'Ship', DECODE(A.OLD_OPER,'TZ010','SHIP_HMK4_ASIMACS','AZ010','SHIP_HMK3_OY', 'Ship')\n                              , 'Ship', DECODE(A.OLD_OPER,'TZ010',DECODE(F_GET_HALF_FULL(A.LOT_ID, A.HIST_SEQ), 'Y','SHIP_HMKT_OY', 'SHIP_HMK4_ASIMACS'),'AZ010','SHIP_HMK3_OY', 'Ship')\n                              , B.DATA_1) V4\n                     , A.TRAN_TIME V5 \n                     , NVL(TRIM(A.LOT_CMF_5), '-')  V6\n                     , DECODE(B.DATA_1||A.OLD_FACTORY\n                              , 'ReceiveHMKT1', 'HMK3'\n                              , 'ShipHMKT1', 'HMK4'\n                              , DECODE(A.FACTORY, 'HMKA1', 'HMKA', 'HMKT'))  V7\n                     , NVL((SELECT MAT_CMF_7 FROM MWIPMATDEF WHERE FACTORY = A.FACTORY AND MAT_ID = A.MAT_ID AND MAT_VER = A.MAT_VER)\n                          , (SELECT MAT_CMF_7 FROM MWIPMATDEF WHERE FACTORY = A.OLD_FACTORY AND MAT_ID = A.OLD_MAT_ID AND MAT_VER = A.MAT_VER))  V8\n                     , A.FLOW  V9\n                     , DECODE(SUBSTRB(A.OLD_OPER,1,4),'AZ01','HMK3','T000','HMK3','TZ01','HMK4','A000','HMK2',SUBSTRB(A.OLD_OPER,1,4))  V10\n                     , NVL((SELECT OPER_DESC FROM MWIPOPRDEF WHERE FACTORY = A.FACTORY AND OPER = A.OLD_OPER AND FLOW = A.FLOW), ' ' )  V11\n                     , NVL((SELECT RES_GRP_3 FROM MRASRESDEF WHERE FACTORY = A.FACTORY AND RES_ID = A.START_RES_ID ),' ')  V12\n                     , NVL(START_RES_ID, ' ')  V13\n                     , NVL((SELECT DECODE(SUBSTRB(NVL(trim(PREV_OPER), 'A0000'),1,4),'AZ01','HMK3','T000','HMK3','TZ01','HMK4','A000','HMK2',SUBSTRB(NVL(trim(PREV_OPER), 'A0000'),1,4)) FROM MWIPFLWOPR WHERE FACTORY = A.FACTORY AND OPER = A.OPER AND FLOW = A.FLOW),' ')  V14\n                     , DECODE(SUBSTRB(A.OPER,1,4),'AZ01','HMK3','T000','HMK3','TZ01','HMK4','A000','HMK2',SUBSTRB(A.OPER,1,4))  V15\n                     , A.OPER_IN_TIME  V16\n                     , A.CREATE_TIME  V17\n                     , NVL(D.WAFERQTY,NVL(TRIM(A.QTY_2),0))  V18\n                     , NVL(\n                                    DECODE(TRAN_CODE,'MERGE',DECODE(FROM_TO_FLAG,'F',TRIM(A.QTY_1),TRIM(A.QTY_1))\n                                    ,TRIM(A.QTY_1))\n                                    , 0)  V19 -- CHIP_QTY_new-- 2010 10 07\n                     , A.TRAN_TIME  V20\n                     , NVL(D.WAFERQTY,NVL(TRIM(A.QTY_2),0))  V21\n                     , NVL(\n                                    DECODE(TRAN_CODE,'MERGE',DECODE(FROM_TO_FLAG,'F',TRIM(A.OLD_QTY_1),'T',TRIM(A.QTY_1-A.OLD_QTY_1),TRIM(A.QTY_1)) --,TRIM(A.QTY_1))\n                                                    ,'SPLIT',DECODE(FROM_TO_FLAG,'F',abs(A.OLD_QTY_1-A.QTY_1),TRIM(A.QTY_1))\n                                                    ,'LOSS',(A.OLD_QTY_1 - QTY_1)\n                                                    ,TRIM(A.QTY_1))\n                                   , 0)  V22 -- EVENT_QTY_new -- 2010 10 07\n                     , NVL((SELECT LOT_STATE FROM V_SECLOTSTS WHERE FACTORY = A.FACTORY AND LOT_ID = A.LOT_ID AND HIST_SEQ = A.HIST_SEQ ),' ')  V23\n                     , DECODE(TRAN_CODE,'SPLIT',DECODE(FROM_TO_FLAG,'T','Splitted','Split'),\n                                        'MERGE',DECODE(FROM_TO_FLAG,'T','Merge','Merged'),\n                                        'PMERGE',DECODE(FROM_TO_FLAG,'T','Merge','Merged')\n                                      )  V24\n                     , DECODE(TRAN_CODE, 'SPLIT',DECODE(FROM_TO_FLAG,'F',' ',NVL(TRIM(A.FROM_TO_LOT_ID), TRIM(A.LOT_CMF_1)))\n                                       , 'MERGE',DECODE(FROM_TO_FLAG,'F',TRIM(A.FROM_TO_LOT_ID),NVL(TRIM(A.FROM_TO_LOT_ID), TRIM(A.LOT_CMF_1)))\n                                       , DECODE(TRAN_CODE,'ADAPT',F_GET_CHG_PREV_VAL(A.LOT_ID,A.HIST_SEQ,'ADAPT','MAT_ID',-1),F_GET_CHG_PREV_VAL(A.LOT_ID,A.HIST_SEQ,TRAN_CODE,'MAT_ID',-1))\n                                       )  V25\n                     , DECODE(TRAN_CODE, 'SPLIT',DECODE(FROM_TO_FLAG,'T',' ',NVL(TRIM(A.FROM_TO_LOT_ID), TRIM(A.LOT_CMF_1)))\n                                       , 'MERGE',DECODE(FROM_TO_FLAG,'T',TRIM(A.FROM_TO_LOT_ID),NVL(TRIM(A.FROM_TO_LOT_ID), TRIM(A.LOT_CMF_1)))\n                                       , DECODE(TRAN_CODE,'ADAPT',F_GET_CHG_PREV_VAL(A.LOT_ID,A.HIST_SEQ,'ADAPT','MAT_ID',1),F_GET_CHG_PREV_VAL(A.LOT_ID,A.HIST_SEQ,TRAN_CODE,'MAT_ID',1))\n                                       )  V26\n                     , DECODE(TRAN_CODE, 'SPLIT',DECODE(FROM_TO_FLAG,'T',' ',NVL(TRIM(A.FROM_TO_LOT_ID), TRIM(A.LOT_CMF_1)))\n                                       , 'MERGE',DECODE(FROM_TO_FLAG,'F',TRIM(A.LOT_CMF_1),NVL(TRIM(A.FROM_TO_LOT_ID), TRIM(A.LOT_CMF_1)))\n                                       , ' ')  V27\n                     , DECODE(TRAN_CODE, 'SPLIT',DECODE(FROM_TO_FLAG,'F',' ',NVL(TRIM(A.FROM_TO_LOT_ID), TRIM(A.LOT_CMF_1)))\n                                       , 'MERGE',DECODE(FROM_TO_FLAG,'T',TRIM(A.LOT_CMF_1),NVL(TRIM(A.FROM_TO_LOT_ID), TRIM(A.LOT_CMF_1)))\n                                       , ' ')  V28\n                     , ' '  V29\n                     , DECODE(TRAN_CODE, 'HOLD',HOLD_CODE, ' ')  V30\n                     , F_GET_ATTR_VALUE(A.LOT_ID, 'LOT_SEC_INFO','RETURN_CODE')  V31\n                     , NVL(TRIM(A.LOT_CMF_4), '-')  V32\n                     , TO_CHAR(SYSDATE, 'YYYYMMDDHH24MISS')  V33\n                     , A.START_QTY_1  V34\n                     , NVL((SELECT MAX(LOSS_CODE_1) FROM MWIPLOTLOS WHERE FACTORY = A.FACTORY AND OPER = A.OLD_OPER AND FLOW = A.FLOW AND LOT_ID = A.LOT_ID), ' ' )  V35\n                     , NVL((SELECT ATTR_VALUE FROM MATRNAMSTS WHERE FACTORY = 'HMKA1' AND ATTR_TYPE = 'LOT_SEC_INFO' AND ATTR_NAME = 'WORDER' AND ATTR_KEY  = A.LOT_ID ), ' ') V36\n                     , NVL((SELECT ATTR_VALUE FROM MATRNAMSTS WHERE FACTORY = 'HMKA1' AND ATTR_TYPE = 'LOT_SEC_INFO' AND ATTR_NAME = 'WORDER' AND ATTR_KEY  = A.LOT_ID ), ' ') V37\n                          FROM MWIPLOTHIS A \n                             , CWIPSITDEF B\n                             , CEDILOTHIS C\n                             , V_CLOTWAFQTY D\n                         WHERE 1 = 1\n                           AND A.FACTORY IN ('HMKA1', 'HMKT1','CUSTOMER')    \n                           AND A.OWNER_CODE = 'PROD'\n                           AND A.LOT_TYPE = 'W'\n                           AND A.HIST_DEL_FLAG = ' '\n                           AND A.LOT_CMF_2 = 'SE'\n                           AND A.TRAN_TIME >= :todayHH24_M1H ||'000000'\n                           AND A.TRAN_TIME <  :todayHH24 ||'000000'\n                           AND B.TABLE_NAME='H_EDI_TRAN'\n                           AND B.KEY_1='SE'\n                           AND A.TRAN_CODE = B.KEY_2   \n                           AND B.DATA_1 <> ' '   \n                           AND B.FACTORY = 'HMKA1'\n                           AND (A.TRAN_CODE <> 'START' OR A.TRAN_CMF_1 IN ('ISSUE','CLOSE'))\n                           AND (A.TRAN_CODE <> 'ADAPT' OR A.ADD_ORDER_ID_2 NOT IN ('MULTIEQP_MOT','MULTIEQP', ' ') OR A.TRAN_CMF_1 IN ('PART_CHANGE' ))\n                           AND A.OLD_FLOW > ' '\n                           AND A.LOT_ID = C.LOT_ID\n                           AND A.HIST_SEQ = C.HIST_SEQ\n                           AND A.TRAN_TIME  = C.TRAN_TIME\n                           AND A.LOT_ID = D.LOT_ID(+)\n                           AND A.OPER NOT IN ('T000N')\n                         \n                 union all\n                       -- 20200121 chulho.wee ; combine only ; merge, multitransfer\n                       SELECT C.IN_DTTM V0, 'HM'  V1\n                     , DECODE(A.FACTORY, 'HMKA1', 'ASSY', 'TEST') V2\n                     , NVL(TRIM(A.LOT_CMF_1), '-') V3\n                     , DECODE(B.DATA_1,\n                              'END', NVL(TRIM(INITCAP(A.TRAN_CMF_1)),'TrackOut'),\n                              'Change', DECODE(A.TRAN_CMF_1,'PART_CHANGE','ChangeProduct')\n                              , B.DATA_1) V4\n                     , A.TRAN_TIME V5 \n                     , NVL(TRIM(A.LOT_CMF_5), '-')  V6\n                     , DECODE(A.FACTORY, 'HMKA1', 'HMKA', 'HMKT')  V7\n                     , NVL((SELECT MAT_CMF_7 FROM MWIPMATDEF WHERE FACTORY = A.FACTORY AND MAT_ID = A.MAT_ID AND MAT_VER = A.MAT_VER)\n                          , (SELECT MAT_CMF_7 FROM MWIPMATDEF WHERE FACTORY = A.OLD_FACTORY AND MAT_ID = A.OLD_MAT_ID AND MAT_VER = A.MAT_VER))  V8\n                     , A.FLOW  V9\n                     , DECODE(SUBSTRB(A.OLD_OPER,1,4),'AZ01','HMK3','T000','HMK3','TZ01','HMK4','A000','HMK2',SUBSTRB(A.OLD_OPER,1,4))  V10\n                     , NVL((SELECT OPER_DESC FROM MWIPOPRDEF WHERE FACTORY = A.FACTORY AND OPER = A.OLD_OPER AND FLOW = A.FLOW), ' ' )  V11\n                     , NVL((SELECT RES_GRP_3 FROM MRASRESDEF WHERE FACTORY = A.FACTORY AND RES_ID = A.START_RES_ID ),' ')  V12\n                     , NVL(START_RES_ID, ' ')  V13\n                     , NVL((SELECT DECODE(SUBSTRB(NVL(trim(PREV_OPER), 'A0000'),1,4),'AZ01','HMK3','T000','HMK3','TZ01','HMK4','A000','HMK2',SUBSTRB(NVL(trim(PREV_OPER), 'A0000'),1,4)) FROM MWIPFLWOPR WHERE FACTORY = A.FACTORY AND OPER = A.OPER AND FLOW = A.FLOW),' ')  V14\n                     , DECODE(SUBSTRB(A.OPER,1,4),'AZ01','HMK3','T000','HMK3','TZ01','HMK4','A000','HMK2',SUBSTRB(A.OPER,1,4))  V15\n                     , A.OPER_IN_TIME  V16\n                     , A.CREATE_TIME  V17\n                     , NVL(D.WAFERQTY,NVL(TRIM(A.QTY_2),0))  V18\n                     , NVL(\n                                    DECODE(TRAN_CODE, 'COMBINE',DECODE(FROM_TO_FLAG,'T',TRIM(A.QTY_1+(select max(old_qty_1) from mwiplothis where lot_id = (select from_to_lot_id from mwiplothis where lot_id = a.lot_id and hist_seq = a.hist_seq) and tran_code = 'COMBINE' and hist_del_flag = ' '))\n                                                                                       ,TRIM(A.QTY_1))\n                                                    , TRIM(A.QTY_1))\n                           , 0)  V19 \n                     , A.TRAN_TIME  V20\n                     , NVL(D.WAFERQTY,NVL(TRIM(A.QTY_2),0))  V21\n                     , NVL(\n                                    DECODE(TRAN_CODE,'COMBINE',DECODE(FROM_TO_FLAG,'F',TRIM(A.OLD_QTY_1)\n                                                                                  ,'T',(select max(old_qty_1) from mwiplothis where lot_id = (select from_to_lot_id from mwiplothis where lot_id = a.lot_id and hist_seq = a.hist_seq) and tran_code = 'COMBINE' and hist_del_flag = ' ')\n                                                                                  ,TRIM(A.QTY_1)) --,TRIM(A.QTY_1))\n                                                    ,TRIM(A.QTY_1)*2)\n                           , 0)  V22 \n                     , NVL((SELECT LOT_STATE FROM V_SECLOTSTS WHERE FACTORY = A.FACTORY AND LOT_ID = A.LOT_ID AND HIST_SEQ = A.HIST_SEQ ),' ')  V23\n                     , DECODE(TRAN_CODE,'SPLIT',DECODE(FROM_TO_FLAG,'T','Splitted','Split'),\n                                        'COMBINE',DECODE(FROM_TO_FLAG,'T','Merge','Merged'),\n                                        'PMERGE',DECODE(FROM_TO_FLAG,'T','Merge','Merged')\n                                      )  V24\n                     , DECODE(TRAN_CODE, 'COMBINE',DECODE(FROM_TO_FLAG,'F',TRIM(A.FROM_TO_LOT_ID),NVL(TRIM(A.FROM_TO_LOT_ID), TRIM(A.LOT_CMF_1)))\n                                       , ' ') V25\n                     , DECODE(TRAN_CODE, 'COMBINE',DECODE(FROM_TO_FLAG,'T',TRIM(A.FROM_TO_LOT_ID),NVL(TRIM(A.FROM_TO_LOT_ID), TRIM(A.LOT_CMF_1)))\n                                       , ' ') V26\n                     , DECODE(TRAN_CODE, 'COMBINE',DECODE(FROM_TO_FLAG,'F',TRIM(A.LOT_CMF_1),NVL(TRIM(A.FROM_TO_LOT_ID), TRIM(A.LOT_CMF_1)))\n                                       , ' ')  V27\n                     , DECODE(TRAN_CODE, 'COMBINE',DECODE(FROM_TO_FLAG,'T',TRIM(A.LOT_CMF_1),NVL(TRIM(A.FROM_TO_LOT_ID), TRIM(A.LOT_CMF_1)))\n                                       , ' ')  V28\n                     , ' '  V29\n                     , DECODE(TRAN_CODE, 'HOLD',HOLD_CODE, ' ')  V30\n                     , F_GET_ATTR_VALUE(A.LOT_ID, 'LOT_SEC_INFO','RETURN_CODE')  V31\n                     , NVL(TRIM(A.LOT_CMF_4), '-')  V32\n                     , TO_CHAR(SYSDATE, 'YYYYMMDDHH24MISS')  V33\n                     , A.START_QTY_1  V34\n                     , NVL((SELECT MAX(LOSS_CODE_1) FROM MWIPLOTLOS WHERE FACTORY = A.FACTORY AND OPER = A.OLD_OPER AND FLOW = A.FLOW AND LOT_ID = A.LOT_ID), ' ' )  V35\n                     , NVL((SELECT ATTR_VALUE FROM MATRNAMSTS WHERE FACTORY = 'HMKA1' AND ATTR_TYPE = 'LOT_SEC_INFO' AND ATTR_NAME = 'WORDER' AND ATTR_KEY  = A.LOT_ID ), ' ') V36\n                     , NVL((SELECT ATTR_VALUE FROM MATRNAMSTS WHERE FACTORY = 'HMKA1' AND ATTR_TYPE = 'LOT_SEC_INFO' AND ATTR_NAME = 'WORDER' AND ATTR_KEY  = A.LOT_ID ), ' ') V37\n                          FROM MWIPLOTHIS A \n                             , CWIPSITDEF B\n                             , CEDILOTHIS C\n                             , V_CLOTWAFQTY D\n                         WHERE 1 = 1\n                           AND A.FACTORY IN ('HMKA1', 'HMKT1') --,'CUSTOMER')    \n                           AND A.OWNER_CODE = 'PROD'\n                           AND A.LOT_TYPE = 'W'\n                           AND A.HIST_DEL_FLAG = ' '\n                           AND A.LOT_CMF_2 = 'SE'\n                           AND A.TRAN_TIME >= TO_CHAR(SYSDATE-1/24,'YYYYMMDDHH24')||'000000'\n                           AND A.TRAN_TIME <  TO_CHAR(SYSDATE,'YYYYMMDDHH24')||'000000'\n                           AND B.TABLE_NAME='H_EDI_EX_TRAN'\n                           AND B.KEY_1='SE'\n                           AND A.TRAN_CODE = B.KEY_2   \n                           AND B.DATA_1 <> ' '   \n                           AND B.FACTORY = 'HMKA1'\n                           AND (A.TRAN_CODE <> 'START' OR A.TRAN_CMF_1 IN ('ISSUE','CLOSE'))\n                           AND (A.TRAN_CODE <> 'ADAPT' OR A.ADD_ORDER_ID_2 NOT IN ('MULTIEQP_MOT','MULTIEQP', ' ') OR A.TRAN_CMF_1 IN ('PART_CHANGE' ))\n                           AND A.OLD_FLOW > ' '\n                           AND A.LOT_ID = C.LOT_ID\n                           AND A.HIST_SEQ = C.HIST_SEQ\n                           AND A.TRAN_TIME  = C.TRAN_TIME\n                           AND A.LOT_ID = D.LOT_ID(+)\n                           AND A.OPER NOT IN ('T000N')\n                           AND A.OPER LIKE 'A040_'\n              )\n              order by v0\n           )) A, \n       ( SELECT ROWNUM IDX, TRAN_TIME, MILI_SEC\n           FROM (\n                   SELECT TRAN_TIME, CNT-NUM MILI_SEC\n                    FROM (\n                    select TRAN_TIME, sum(cnt) CNT\n                      from ( \n                        SELECT A.TRAN_TIME, COUNT(*) CNT\n                          FROM MWIPLOTHIS A \n                             , CWIPSITDEF B\n                             , CEDILOTHIS C\n                             , V_CLOTWAFQTY D\n                         WHERE 1 = 1\n                           AND A.FACTORY IN ('HMKA1', 'HMKT1','CUSTOMER')   \n                           AND A.OWNER_CODE = 'PROD'\n                          AND A.LOT_TYPE = 'W'\n                           AND A.HIST_DEL_FLAG = ' '\n                           AND A.LOT_CMF_2 = 'SE'\n                           AND A.TRAN_TIME >= TO_CHAR(SYSDATE-1/24,'YYYYMMDDHH24')||'000000'\n                           AND A.TRAN_TIME <  TO_CHAR(SYSDATE,'YYYYMMDDHH24')||'000000'\n                           AND B.TABLE_NAME='H_EDI_TRAN'\n                           AND B.KEY_1='SE'\n                           AND A.TRAN_CODE = B.KEY_2   \n                           AND B.DATA_1 <> ' '   \n                           AND B.FACTORY = 'HMKA1'\n                           AND (A.TRAN_CODE <> 'START' OR A.TRAN_CMF_1 IN ('ISSUE','CLOSE'))\n                           AND (A.TRAN_CODE <> 'ADAPT' OR A.ADD_ORDER_ID_2 NOT IN ('MULTIEQP_MOT','MULTIEQP', ' ') OR A.TRAN_CMF_1 IN ('PART_CHANGE' ))\n                           AND A.OLD_FLOW > ' '\n                           AND A.LOT_ID = C.LOT_ID\n                           AND A.HIST_SEQ = C.HIST_SEQ\n                           AND A.TRAN_TIME  = C.TRAN_TIME\n                           AND A.LOT_ID = D.LOT_ID(+)\n                           AND A.OPER NOT IN ('T000N')\n                         GROUP BY A.TRAN_TIME\n                         union\n                        SELECT A.TRAN_TIME, COUNT(*) CNT\n                          FROM MWIPLOTHIS A \n                             , CWIPSITDEF B\n                             , CEDILOTHIS C\n                             , V_CLOTWAFQTY D\n                         WHERE 1 = 1\n                           AND A.FACTORY IN ('HMKA1', 'HMKT1') --,'CUSTOMER')    \n                           AND A.OWNER_CODE = 'PROD'\n                           AND A.LOT_TYPE = 'W'\n                           AND A.HIST_DEL_FLAG = ' '\n                           AND A.LOT_CMF_2 = 'SE'\n                           AND A.TRAN_TIME >= :todayHH24_M1H ||'000000'\n                           AND A.TRAN_TIME <  :todayHH24 ||'000000'\n                           AND B.TABLE_NAME='H_EDI_EX_TRAN'\n                           AND B.KEY_1='SE'\n                           AND A.TRAN_CODE = B.KEY_2   \n                           AND B.DATA_1 <> ' '   \n                           AND B.FACTORY = 'HMKA1'\n                           AND (A.TRAN_CODE <> 'START' OR A.TRAN_CMF_1 IN ('ISSUE','CLOSE'))\n                           AND (A.TRAN_CODE <> 'ADAPT' OR A.ADD_ORDER_ID_2 NOT IN ('MULTIEQP_MOT','MULTIEQP', ' ') OR A.TRAN_CMF_1 IN ('PART_CHANGE' ))\n                           AND A.OLD_FLOW > ' '\n                           AND A.LOT_ID = C.LOT_ID\n                           AND A.HIST_SEQ = C.HIST_SEQ\n                           AND A.TRAN_TIME  = C.TRAN_TIME\n                           AND A.LOT_ID = D.LOT_ID(+)\n                           AND A.OPER NOT IN ('T000N')\n                           GROUP BY A.TRAN_TIME\n                           )\n                           group by TRAN_TIME\n                         ) A, COPY_T B\n                   WHERE NUM < 26 \n                     AND NUM <= CNT\n                   ORDER BY TRAN_TIME, CNT-NUM \n                  )) B\n             WHERE A.IDX=B.IDX","CREATE_USER":"6","CREATE_DATE":"2021-12-15 11:13:15","DBTYPE":"MES"}]
2022-11-16 20:04:01 [EDI System] info: 
        SELECT * FROM (
            SELECT *
            FROM EDI_QUERY_SETTING
            WHERE 1=1
            AND SETTING_ID = (
                SELECT ID
                FROM CG_CUSTOMER 
                WHERE PARENT = (
                    SELECT ID
                    FROM CG_CUSTOMER 
                    WHERE ID=(
                        SELECT PARENT
                        FROM CG_CUSTOMER 
                        WHERE ID=(
                            SELECT PARENT 
                            FROM CG_CUSTOMER 
                            WHERE ID=:id
                        )
                    )
                )
                AND LOWER(NAME) = 'common'
            )
            AND TYPE IN ('DB','TEXT')
            AND KEY NOT IN (SELECT KEY
                            FROM EDI_QUERY_SETTING
                            WHERE 1=1
                            AND SETTING_ID = :id
                            AND TYPE IN ('DB','TEXT'))
            UNION ALL
            SELECT *
            FROM EDI_QUERY_SETTING
            WHERE 1=1
            AND SETTING_ID = :id
            AND TYPE IN ('DB','TEXT')
        )
        ORDER BY LENGTH(KEY) DESC
    
2022-11-16 20:04:01 [EDI System] info: [{"ID":"137","SETTING_ID":"129","KEY":"todayHH24MISS","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE,'YYYYMMDDHH24MISS') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-11-12 05:20:22","DBTYPE":"MES"},{"ID":"124","SETTING_ID":"129","KEY":"todayHH24_M1H","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE - 1/24,'YYYYMMDDHH24') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-10-15 01:40:03","DBTYPE":"MES"},{"ID":"122","SETTING_ID":"129","KEY":"todayHH24","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE,'YYYYMMDDHH24') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-10-15 11:47:10","DBTYPE":"MES"},{"ID":"115","SETTING_ID":"129","KEY":"today_yy","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE,'YYYYMMDDHH24') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-09-24 08:46:51","DBTYPE":"MES"},{"ID":"130","SETTING_ID":"129","KEY":"today","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE,'YYYYMMDD') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-11-09 03:36:41","DBTYPE":"MES"}]
2022-11-16 20:05:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 20:05:30 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 20:08:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 20:11:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 20:12:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 20:14:30 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 20:15:00 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 20:15:00 [EDI System] info: Job Start Time > {"min":15,"hour":20,"date":16,"month":11,"day":3}
 {"ID":106,"CFG_ID":"141","FILE_NAME":"WO_INPUT_HANA_AS_:todayHH24_1","FILE_DESC":"Siliconworks input assy","FILE_SAVE_FOLDER":"D:/HM_EDI/SILICONWOKRS/OUT","FILE_CHARSET":"utf-8","FILE_TYPE":"csv","DATA_TYPE":"text","FTP_ENV_ID":"106","SEND_FLAG":"Y","NODATASEND":null,"SCHEDULE_MIN":"15","SCHEDULE_HOUR":"*","SCHEDULE_DAY":"*","SCHEDULE_WEEK":"*","SCHEDULE_MONTH":"*","CM_F01":null,"CM_F02":null,"CREATE_DATE":"2021-11-12 05:06:11","CREATE_USER":"6","UPDATE_DATE":"2022-02-16 12:18:37","UPDATE_USER":"6","DELETE_DATE":null,"DELETE_USER":null,"frequency":"15 * * * *"}
2022-11-16 20:15:00 [EDI System] info: 106 >>> makeFileText Function Execute
2022-11-16 20:15:00 [EDI System] info: Job Start Time > {"min":15,"hour":20,"date":16,"month":11,"day":3}
 {"ID":129,"CFG_ID":"166","FILE_NAME":"WO_INPUT_HANA_AS_:todayHH24_1","FILE_DESC":"Siliconworks input assy","FILE_SAVE_FOLDER":"D:/HM_EDI/SILICONWOKRS/OUT","FILE_CHARSET":"utf-8","FILE_TYPE":"csv","DATA_TYPE":"text","FTP_ENV_ID":"106","SEND_FLAG":"Y","NODATASEND":null,"SCHEDULE_MIN":"15","SCHEDULE_HOUR":"*","SCHEDULE_DAY":"*","SCHEDULE_WEEK":"*","SCHEDULE_MONTH":"*","CM_F01":null,"CM_F02":null,"CREATE_DATE":"2022-02-22 16:21:15","CREATE_USER":"6","UPDATE_DATE":null,"UPDATE_USER":null,"DELETE_DATE":null,"DELETE_USER":null,"frequency":"15 * * * *"}
2022-11-16 20:15:00 [EDI System] info: 129 >>> makeFileText Function Execute
2022-11-16 20:15:00 [EDI System] info: Job Start Time > {"min":15,"hour":20,"date":16,"month":11,"day":3}
 {"ID":127,"CFG_ID":"164","FILE_NAME":"WO_INPUT_HANA_AS_:todayHH24_1","FILE_DESC":"Siliconworks input assy","FILE_SAVE_FOLDER":"D:/HM_EDI/SILICONWOKRS/OUT","FILE_CHARSET":"utf-8","FILE_TYPE":"csv","DATA_TYPE":"text","FTP_ENV_ID":"106","SEND_FLAG":"Y","NODATASEND":null,"SCHEDULE_MIN":"15","SCHEDULE_HOUR":"*","SCHEDULE_DAY":"*","SCHEDULE_WEEK":"*","SCHEDULE_MONTH":"*","CM_F01":null,"CM_F02":null,"CREATE_DATE":"2022-02-22 16:13:42","CREATE_USER":"6","UPDATE_DATE":null,"UPDATE_USER":null,"DELETE_DATE":null,"DELETE_USER":null,"frequency":"15 * * * *"}
2022-11-16 20:15:00 [EDI System] info: 127 >>> makeFileText Function Execute
2022-11-16 20:15:00 [EDI System] info: Job Start Time > {"min":15,"hour":20,"date":16,"month":11,"day":3}
 {"ID":128,"CFG_ID":"165","FILE_NAME":"WO_INPUT_HANA_AS_:todayHH24_1","FILE_DESC":"Siliconworks input assy","FILE_SAVE_FOLDER":"D:/HM_EDI/SILICONWOKRS/OUT","FILE_CHARSET":"utf-8","FILE_TYPE":"csv","DATA_TYPE":"text","FTP_ENV_ID":"106","SEND_FLAG":"Y","NODATASEND":null,"SCHEDULE_MIN":"15","SCHEDULE_HOUR":"*","SCHEDULE_DAY":"*","SCHEDULE_WEEK":"*","SCHEDULE_MONTH":"*","CM_F01":null,"CM_F02":null,"CREATE_DATE":"2022-02-22 16:18:38","CREATE_USER":"6","UPDATE_DATE":null,"UPDATE_USER":null,"DELETE_DATE":null,"DELETE_USER":null,"frequency":"15 * * * *"}
2022-11-16 20:15:00 [EDI System] info: 128 >>> makeFileText Function Execute
2022-11-16 20:15:00 [EDI System] info: Job Start Time > {"min":15,"hour":20,"date":16,"month":11,"day":3}
 {"ID":130,"CFG_ID":"167","FILE_NAME":"WO_INPUT_HANA_AS_:todayHH24_1","FILE_DESC":"Siliconworks input assy","FILE_SAVE_FOLDER":"D:/HM_EDI/SILICONWOKRS/OUT","FILE_CHARSET":"utf-8","FILE_TYPE":"csv","DATA_TYPE":"text","FTP_ENV_ID":"106","SEND_FLAG":"Y","NODATASEND":null,"SCHEDULE_MIN":"15","SCHEDULE_HOUR":"*","SCHEDULE_DAY":"*","SCHEDULE_WEEK":"*","SCHEDULE_MONTH":"*","CM_F01":null,"CM_F02":null,"CREATE_DATE":"2022-02-22 16:23:34","CREATE_USER":"6","UPDATE_DATE":null,"UPDATE_USER":null,"DELETE_DATE":null,"DELETE_USER":null,"frequency":"15 * * * *"}
2022-11-16 20:15:00 [EDI System] info: 130 >>> makeFileText Function Execute
2022-11-16 20:15:00 [EDI System] info: SELECT EDI_LOG_SEQ.NEXTVAL AS ID FROM DUAL
2022-11-16 20:15:00 [EDI System] info: SELECT EDI_LOG_SEQ.NEXTVAL AS ID FROM DUAL
2022-11-16 20:15:00 [EDI System] info: SELECT EDI_LOG_SEQ.NEXTVAL AS ID FROM DUAL
2022-11-16 20:15:00 [EDI System] info: SELECT EDI_LOG_SEQ.NEXTVAL AS ID FROM DUAL
2022-11-16 20:15:00 [EDI System] info: SELECT EDI_LOG_SEQ.NEXTVAL AS ID FROM DUAL
2022-11-16 20:15:00 [EDI System] info: SELECT EDI_LOG_SEQ.NEXTVAL AS ID FROM DUAL
2022-11-16 20:15:00 [EDI System] info: SELECT EDI_LOG_SEQ.NEXTVAL AS ID FROM DUAL
2022-11-16 20:15:00 [EDI System] info: SELECT EDI_LOG_SEQ.NEXTVAL AS ID FROM DUAL
2022-11-16 20:15:00 [EDI System] info: SELECT EDI_LOG_SEQ.NEXTVAL AS ID FROM DUAL
2022-11-16 20:15:00 [EDI System] info: SELECT EDI_LOG_SEQ.NEXTVAL AS ID FROM DUAL
2022-11-16 20:15:00 [EDI System] info: [{"ID":11160}]
2022-11-16 20:15:00 [EDI System] info: [{"ID":11161}]
2022-11-16 20:15:00 [EDI System] info: seq : return Key [{"ID":11160}]
2022-11-16 20:15:00 [EDI System] info: saveAllLogger => ID:11160, NAME:WO_INPUT_HANA_AS_:todayHH24_1, ProcessID:141, Description: Job Start : ID=106, CFG_ID=141, FTP_ENV_ID=106, FILE_NAME=WO_INPUT_HANA_AS_:todayHH24_1, FILE_DESC=Siliconworks input assy, FILE_CHARSET=utf-8, FILE_TYPE=csv
2022-11-16 20:15:00 [EDI System] info: INSERT INTO EDI_LOG(ID, STEP, NAME, PROCESS_ID, DESCRIPTION, CREATE_USER, CREATE_DATE)
    VALUES(:id, :stepId, :name, :process_id, :description, 'DAEMON', TO_CHAR(SYSDATE,'YYYYMMDDHH24MISS'))
2022-11-16 20:15:00 [EDI System] info: seq : return Key [{"ID":11161}]
2022-11-16 20:15:00 [EDI System] info: saveAllLogger => ID:11161, NAME:WO_INPUT_HANA_AS_:todayHH24_1, ProcessID:166, Description: Job Start : ID=129, CFG_ID=166, FTP_ENV_ID=106, FILE_NAME=WO_INPUT_HANA_AS_:todayHH24_1, FILE_DESC=Siliconworks input assy, FILE_CHARSET=utf-8, FILE_TYPE=csv
2022-11-16 20:15:00 [EDI System] info: INSERT INTO EDI_LOG(ID, STEP, NAME, PROCESS_ID, DESCRIPTION, CREATE_USER, CREATE_DATE)
    VALUES(:id, :stepId, :name, :process_id, :description, 'DAEMON', TO_CHAR(SYSDATE,'YYYYMMDDHH24MISS'))
2022-11-16 20:15:00 [EDI System] info: [{"ID":11162}]
2022-11-16 20:15:00 [EDI System] info: seq : return Key [{"ID":11162}]
2022-11-16 20:15:00 [EDI System] info: saveAllLogger => ID:11162, NAME:WO_INPUT_HANA_AS_:todayHH24_1, ProcessID:164, Description: Job Start : ID=127, CFG_ID=164, FTP_ENV_ID=106, FILE_NAME=WO_INPUT_HANA_AS_:todayHH24_1, FILE_DESC=Siliconworks input assy, FILE_CHARSET=utf-8, FILE_TYPE=csv
2022-11-16 20:15:00 [EDI System] info: INSERT INTO EDI_LOG(ID, STEP, NAME, PROCESS_ID, DESCRIPTION, CREATE_USER, CREATE_DATE)
    VALUES(:id, :stepId, :name, :process_id, :description, 'DAEMON', TO_CHAR(SYSDATE,'YYYYMMDDHH24MISS'))
2022-11-16 20:15:00 [EDI System] info: [{"ID":11163}]
2022-11-16 20:15:00 [EDI System] info: seq : return Key [{"ID":11163}]
2022-11-16 20:15:00 [EDI System] info: saveAllLogger => ID:11163, NAME:WO_INPUT_HANA_AS_:todayHH24_1, ProcessID:165, Description: Job Start : ID=128, CFG_ID=165, FTP_ENV_ID=106, FILE_NAME=WO_INPUT_HANA_AS_:todayHH24_1, FILE_DESC=Siliconworks input assy, FILE_CHARSET=utf-8, FILE_TYPE=csv
2022-11-16 20:15:00 [EDI System] info: INSERT INTO EDI_LOG(ID, STEP, NAME, PROCESS_ID, DESCRIPTION, CREATE_USER, CREATE_DATE)
    VALUES(:id, :stepId, :name, :process_id, :description, 'DAEMON', TO_CHAR(SYSDATE,'YYYYMMDDHH24MISS'))
2022-11-16 20:15:00 [EDI System] info: [{"ID":11164}]
2022-11-16 20:15:00 [EDI System] info: Insert successful = SQL: INSERT INTO EDI_LOG(ID, STEP, NAME, PROCESS_ID, DESCRIPTION, CREATE_USER, CREATE_DATE)
    VALUES(:id, :stepId, :name, :process_id, :description, 'DAEMON', TO_CHAR(SYSDATE,'YYYYMMDDHH24MISS')) | Params: {"id":11160,"stepId":"1","name":"WO_INPUT_HANA_AS_:todayHH24_1","process_id":"141","description":"Job Start : ID=106, CFG_ID=141, FTP_ENV_ID=106, FILE_NAME=WO_INPUT_HANA_AS_:todayHH24_1, FILE_DESC=Siliconworks input assy, FILE_CHARSET=utf-8, FILE_TYPE=csv"} / 1
2022-11-16 20:15:00 [EDI System] info: seq : return Key [{"ID":11164}]
2022-11-16 20:15:00 [EDI System] info: saveAllLogger => ID:11164, NAME:WO_INPUT_HANA_AS_:todayHH24_1, ProcessID:167, Description: Job Start : ID=130, CFG_ID=167, FTP_ENV_ID=106, FILE_NAME=WO_INPUT_HANA_AS_:todayHH24_1, FILE_DESC=Siliconworks input assy, FILE_CHARSET=utf-8, FILE_TYPE=csv
2022-11-16 20:15:00 [EDI System] info: INSERT INTO EDI_LOG(ID, STEP, NAME, PROCESS_ID, DESCRIPTION, CREATE_USER, CREATE_DATE)
    VALUES(:id, :stepId, :name, :process_id, :description, 'DAEMON', TO_CHAR(SYSDATE,'YYYYMMDDHH24MISS'))
2022-11-16 20:15:00 [EDI System] info: 
    SELECT *
    FROM (
        SELECT ROWNUM,A.*
            FROM EDI_QUERY_SETTING A
            WHERE SETTING_ID = :id
            AND TYPE='Main'
            ORDER BY ID DESC
        ) 
    WHERE ROWNUM='1'
    
2022-11-16 20:15:00 [EDI System] info: Insert successful = SQL: INSERT INTO EDI_LOG(ID, STEP, NAME, PROCESS_ID, DESCRIPTION, CREATE_USER, CREATE_DATE)
    VALUES(:id, :stepId, :name, :process_id, :description, 'DAEMON', TO_CHAR(SYSDATE,'YYYYMMDDHH24MISS')) | Params: {"id":11161,"stepId":"1","name":"WO_INPUT_HANA_AS_:todayHH24_1","process_id":"166","description":"Job Start : ID=129, CFG_ID=166, FTP_ENV_ID=106, FILE_NAME=WO_INPUT_HANA_AS_:todayHH24_1, FILE_DESC=Siliconworks input assy, FILE_CHARSET=utf-8, FILE_TYPE=csv"} / 1
2022-11-16 20:15:00 [EDI System] info: Insert successful = SQL: INSERT INTO EDI_LOG(ID, STEP, NAME, PROCESS_ID, DESCRIPTION, CREATE_USER, CREATE_DATE)
    VALUES(:id, :stepId, :name, :process_id, :description, 'DAEMON', TO_CHAR(SYSDATE,'YYYYMMDDHH24MISS')) | Params: {"id":11162,"stepId":"1","name":"WO_INPUT_HANA_AS_:todayHH24_1","process_id":"164","description":"Job Start : ID=127, CFG_ID=164, FTP_ENV_ID=106, FILE_NAME=WO_INPUT_HANA_AS_:todayHH24_1, FILE_DESC=Siliconworks input assy, FILE_CHARSET=utf-8, FILE_TYPE=csv"} / 1
2022-11-16 20:15:00 [EDI System] info: 
    SELECT *
    FROM (
        SELECT ROWNUM,A.*
            FROM EDI_QUERY_SETTING A
            WHERE SETTING_ID = :id
            AND TYPE='Main'
            ORDER BY ID DESC
        ) 
    WHERE ROWNUM='1'
    
2022-11-16 20:15:00 [EDI System] info: 
    SELECT *
    FROM (
        SELECT ROWNUM,A.*
            FROM EDI_QUERY_SETTING A
            WHERE SETTING_ID = :id
            AND TYPE='Main'
            ORDER BY ID DESC
        ) 
    WHERE ROWNUM='1'
    
2022-11-16 20:15:00 [EDI System] info: Insert successful = SQL: INSERT INTO EDI_LOG(ID, STEP, NAME, PROCESS_ID, DESCRIPTION, CREATE_USER, CREATE_DATE)
    VALUES(:id, :stepId, :name, :process_id, :description, 'DAEMON', TO_CHAR(SYSDATE,'YYYYMMDDHH24MISS')) | Params: {"id":11163,"stepId":"1","name":"WO_INPUT_HANA_AS_:todayHH24_1","process_id":"165","description":"Job Start : ID=128, CFG_ID=165, FTP_ENV_ID=106, FILE_NAME=WO_INPUT_HANA_AS_:todayHH24_1, FILE_DESC=Siliconworks input assy, FILE_CHARSET=utf-8, FILE_TYPE=csv"} / 1
2022-11-16 20:15:00 [EDI System] info: Insert successful = SQL: INSERT INTO EDI_LOG(ID, STEP, NAME, PROCESS_ID, DESCRIPTION, CREATE_USER, CREATE_DATE)
    VALUES(:id, :stepId, :name, :process_id, :description, 'DAEMON', TO_CHAR(SYSDATE,'YYYYMMDDHH24MISS')) | Params: {"id":11164,"stepId":"1","name":"WO_INPUT_HANA_AS_:todayHH24_1","process_id":"167","description":"Job Start : ID=130, CFG_ID=167, FTP_ENV_ID=106, FILE_NAME=WO_INPUT_HANA_AS_:todayHH24_1, FILE_DESC=Siliconworks input assy, FILE_CHARSET=utf-8, FILE_TYPE=csv"} / 1
2022-11-16 20:15:00 [EDI System] info: 
    SELECT *
    FROM (
        SELECT ROWNUM,A.*
            FROM EDI_QUERY_SETTING A
            WHERE SETTING_ID = :id
            AND TYPE='Main'
            ORDER BY ID DESC
        ) 
    WHERE ROWNUM='1'
    
2022-11-16 20:15:00 [EDI System] info: 
    SELECT *
    FROM (
        SELECT ROWNUM,A.*
            FROM EDI_QUERY_SETTING A
            WHERE SETTING_ID = :id
            AND TYPE='Main'
            ORDER BY ID DESC
        ) 
    WHERE ROWNUM='1'
    
2022-11-16 20:15:00 [EDI System] info: [{"ROWNUM":4,"ID":"166","SETTING_ID":"141","KEY":null,"TYPE":"Main","QUERY":"SELECT 'Interface ID'\n || ',' || 'Interface Line ID'\n || ',' || 'SUPPLIER_CODE'\n || ',' || 'PROCESSING_CODE'\n || ',' || 'SIW_WO_NO'\n || ',' || 'SUPPLIER_WO_NO'\n || ',' || 'ASSY_ITEM_CODE'\n || ',' || 'ASSY_QTY'\n || ',' || 'UOM_CODE'\n || ',' || 'WORK_START_DATE'\n || ',' || 'COMPONENT_ITEM_CODE'\n || ',' || 'COMPONENT_LOT_ID'\n || ',' || 'COMPONENT_QTY'\n || ',' || 'REMARK1'\n || ',' || 'CANCEL_FLAG'\n || ',' || 'CREATION_DATE'\n\n  FROM IEDISIW_INPUT_INFO\n WHERE CUTOFF_DT = :todayHH24 -- TO_CHAR(SYSDATE, 'YYYYMMDDHH24')\n   AND PROCESSING_CODE = 'AS'\n   AND ROWNUM = 1\n\tAND ROWNUM = 2\n    \nUNION ALL\n\nSELECT IF_ID \n || ',' || IF_LINE_ID \n || ',' || SUPPLIER_CODE \n || ',' || PROCESSING_CODE \n || ',' || SIW_WO_NO \n || ',' || SUPPLIER_WO_NO \n || ',' || ASSY_ITEM_CODE \n || ',' || ASSY_QTY \n || ',' || UOM_CODE \n || ',' || WORK_START_DATE \n || ',' || COMPONENT_ITEM_CODE\n || ',' || COMPONENT_LOT_ID \n || ',' || COMPONENT_QTY \n || ',' || REMARK1 \n || ',' || CANCEL_FLAG \n || ',' || CREATION_DATE \n\n  FROM IEDISIW_INPUT_INFO\n WHERE CUTOFF_DT = :todayHH24 -- TO_CHAR(SYSDATE, 'YYYYMMDDHH24')\n   AND PROCESSING_CODE = 'AS'","CREATE_USER":"6","CREATE_DATE":"2022-02-16 16:42:57","DBTYPE":"MES"}]
2022-11-16 20:15:00 [EDI System] info: 
        SELECT * FROM (
            SELECT *
            FROM EDI_QUERY_SETTING
            WHERE 1=1
            AND SETTING_ID = (
                SELECT ID
                FROM CG_CUSTOMER 
                WHERE PARENT = (
                    SELECT ID
                    FROM CG_CUSTOMER 
                    WHERE ID=(
                        SELECT PARENT
                        FROM CG_CUSTOMER 
                        WHERE ID=(
                            SELECT PARENT 
                            FROM CG_CUSTOMER 
                            WHERE ID=:id
                        )
                    )
                )
                AND LOWER(NAME) = 'common'
            )
            AND TYPE IN ('DB','TEXT')
            AND KEY NOT IN (SELECT KEY
                            FROM EDI_QUERY_SETTING
                            WHERE 1=1
                            AND SETTING_ID = :id
                            AND TYPE IN ('DB','TEXT'))
            UNION ALL
            SELECT *
            FROM EDI_QUERY_SETTING
            WHERE 1=1
            AND SETTING_ID = :id
            AND TYPE IN ('DB','TEXT')
        )
        ORDER BY LENGTH(KEY) DESC
    
2022-11-16 20:15:00 [EDI System] info: []
2022-11-16 20:15:00 [EDI System] info: 
        SELECT * FROM (
            SELECT *
            FROM EDI_QUERY_SETTING
            WHERE 1=1
            AND SETTING_ID = (
                SELECT ID
                FROM CG_CUSTOMER 
                WHERE PARENT = (
                    SELECT ID
                    FROM CG_CUSTOMER 
                    WHERE ID=(
                        SELECT PARENT
                        FROM CG_CUSTOMER 
                        WHERE ID=(
                            SELECT PARENT 
                            FROM CG_CUSTOMER 
                            WHERE ID=:id
                        )
                    )
                )
                AND LOWER(NAME) = 'common'
            )
            AND TYPE IN ('DB','TEXT')
            AND KEY NOT IN (SELECT KEY
                            FROM EDI_QUERY_SETTING
                            WHERE 1=1
                            AND SETTING_ID = :id
                            AND TYPE IN ('DB','TEXT'))
            UNION ALL
            SELECT *
            FROM EDI_QUERY_SETTING
            WHERE 1=1
            AND SETTING_ID = :id
            AND TYPE IN ('DB','TEXT')
        )
        ORDER BY LENGTH(KEY) DESC
    
2022-11-16 20:15:00 [EDI System] info: []
2022-11-16 20:15:00 [EDI System] info: 
        SELECT * FROM (
            SELECT *
            FROM EDI_QUERY_SETTING
            WHERE 1=1
            AND SETTING_ID = (
                SELECT ID
                FROM CG_CUSTOMER 
                WHERE PARENT = (
                    SELECT ID
                    FROM CG_CUSTOMER 
                    WHERE ID=(
                        SELECT PARENT
                        FROM CG_CUSTOMER 
                        WHERE ID=(
                            SELECT PARENT 
                            FROM CG_CUSTOMER 
                            WHERE ID=:id
                        )
                    )
                )
                AND LOWER(NAME) = 'common'
            )
            AND TYPE IN ('DB','TEXT')
            AND KEY NOT IN (SELECT KEY
                            FROM EDI_QUERY_SETTING
                            WHERE 1=1
                            AND SETTING_ID = :id
                            AND TYPE IN ('DB','TEXT'))
            UNION ALL
            SELECT *
            FROM EDI_QUERY_SETTING
            WHERE 1=1
            AND SETTING_ID = :id
            AND TYPE IN ('DB','TEXT')
        )
        ORDER BY LENGTH(KEY) DESC
    
2022-11-16 20:15:00 [EDI System] info: [{"ROWNUM":1,"ID":"169","SETTING_ID":"167","KEY":null,"TYPE":"Main","QUERY":"SELECT 'Interface ID'\n || ',' || 'Interface Line ID'\n || ',' || 'SUPPLIER_CODE'\n || ',' || 'PROCESSING_CODE'\n || ',' || 'SIW_WO_NO'\n || ',' || 'SUPPLIER_WO_NO'\n || ',' || 'ASSY_ITEM_CODE'\n || ',' || 'ASSY_QTY'\n || ',' || 'UOM_CODE'\n || ',' || 'WORK_START_DATE'\n || ',' || 'COMPONENT_ITEM_CODE'\n || ',' || 'COMPONENT_LOT_ID'\n || ',' || 'COMPONENT_QTY'\n || ',' || 'REMARK1'\n || ',' || 'CANCEL_FLAG'\n || ',' || 'CREATION_DATE'\n\n  FROM IEDISIW_INPUT_INFO\n WHERE CUTOFF_DT = :todayHH24 -- TO_CHAR(SYSDATE, 'YYYYMMDDHH24')\n   AND PROCESSING_CODE = 'AS'\n   AND ROWNUM = 1\n\tAND ROWNUM = 2\n    \nUNION ALL\n\nSELECT IF_ID \n || ',' || IF_LINE_ID \n || ',' || SUPPLIER_CODE \n || ',' || PROCESSING_CODE \n || ',' || SIW_WO_NO \n || ',' || SUPPLIER_WO_NO \n || ',' || ASSY_ITEM_CODE \n || ',' || ASSY_QTY \n || ',' || UOM_CODE \n || ',' || WORK_START_DATE \n || ',' || COMPONENT_ITEM_CODE\n || ',' || COMPONENT_LOT_ID \n || ',' || COMPONENT_QTY \n || ',' || REMARK1 \n || ',' || CANCEL_FLAG \n || ',' || CREATION_DATE \n\n  FROM IEDISIW_INPUT_INFO\n WHERE CUTOFF_DT = :todayHH24 -- TO_CHAR(SYSDATE, 'YYYYMMDDHH24')\n   AND PROCESSING_CODE = 'AS'","CREATE_USER":"6","CREATE_DATE":"2022-02-22 16:23:34","DBTYPE":"MES"}]
2022-11-16 20:15:00 [EDI System] info: 
        SELECT * FROM (
            SELECT *
            FROM EDI_QUERY_SETTING
            WHERE 1=1
            AND SETTING_ID = (
                SELECT ID
                FROM CG_CUSTOMER 
                WHERE PARENT = (
                    SELECT ID
                    FROM CG_CUSTOMER 
                    WHERE ID=(
                        SELECT PARENT
                        FROM CG_CUSTOMER 
                        WHERE ID=(
                            SELECT PARENT 
                            FROM CG_CUSTOMER 
                            WHERE ID=:id
                        )
                    )
                )
                AND LOWER(NAME) = 'common'
            )
            AND TYPE IN ('DB','TEXT')
            AND KEY NOT IN (SELECT KEY
                            FROM EDI_QUERY_SETTING
                            WHERE 1=1
                            AND SETTING_ID = :id
                            AND TYPE IN ('DB','TEXT'))
            UNION ALL
            SELECT *
            FROM EDI_QUERY_SETTING
            WHERE 1=1
            AND SETTING_ID = :id
            AND TYPE IN ('DB','TEXT')
        )
        ORDER BY LENGTH(KEY) DESC
    
2022-11-16 20:15:00 [EDI System] info: [{"ROWNUM":1,"ID":"167","SETTING_ID":"165","KEY":null,"TYPE":"Main","QUERY":"SELECT 'Interface ID'\n || ',' || 'Interface Line ID'\n || ',' || 'SUPPLIER_CODE'\n || ',' || 'PROCESSING_CODE'\n || ',' || 'SIW_WO_NO'\n || ',' || 'SUPPLIER_WO_NO'\n || ',' || 'ASSY_ITEM_CODE'\n || ',' || 'ASSY_QTY'\n || ',' || 'UOM_CODE'\n || ',' || 'WORK_START_DATE'\n || ',' || 'COMPONENT_ITEM_CODE'\n || ',' || 'COMPONENT_LOT_ID'\n || ',' || 'COMPONENT_QTY'\n || ',' || 'REMARK1'\n || ',' || 'CANCEL_FLAG'\n || ',' || 'CREATION_DATE'\n\n  FROM IEDISIW_INPUT_INFO\n WHERE CUTOFF_DT = :todayHH24 -- TO_CHAR(SYSDATE, 'YYYYMMDDHH24')\n   AND PROCESSING_CODE = 'AS'\n   AND ROWNUM = 1\n\nUNION ALL\n\nSELECT IF_ID \n || ',' || IF_LINE_ID \n || ',' || SUPPLIER_CODE \n || ',' || PROCESSING_CODE \n || ',' || SIW_WO_NO \n || ',' || SUPPLIER_WO_NO \n || ',' || ASSY_ITEM_CODE \n || ',' || ASSY_QTY \n || ',' || UOM_CODE \n || ',' || WORK_START_DATE \n || ',' || COMPONENT_ITEM_CODE\n || ',' || COMPONENT_LOT_ID \n || ',' || COMPONENT_QTY \n || ',' || REMARK1 \n || ',' || CANCEL_FLAG \n || ',' || CREATION_DATE \n\n  FROM IEDISIW_INPUT_INFO\n WHERE CUTOFF_DT = :todayHH24 -- TO_CHAR(SYSDATE, 'YYYYMMDDHH24')\n   AND PROCESSING_CODE = 'AS'","CREATE_USER":"6","CREATE_DATE":"2022-02-22 16:18:38","DBTYPE":null}]
2022-11-16 20:15:00 [EDI System] info: 
        SELECT * FROM (
            SELECT *
            FROM EDI_QUERY_SETTING
            WHERE 1=1
            AND SETTING_ID = (
                SELECT ID
                FROM CG_CUSTOMER 
                WHERE PARENT = (
                    SELECT ID
                    FROM CG_CUSTOMER 
                    WHERE ID=(
                        SELECT PARENT
                        FROM CG_CUSTOMER 
                        WHERE ID=(
                            SELECT PARENT 
                            FROM CG_CUSTOMER 
                            WHERE ID=:id
                        )
                    )
                )
                AND LOWER(NAME) = 'common'
            )
            AND TYPE IN ('DB','TEXT')
            AND KEY NOT IN (SELECT KEY
                            FROM EDI_QUERY_SETTING
                            WHERE 1=1
                            AND SETTING_ID = :id
                            AND TYPE IN ('DB','TEXT'))
            UNION ALL
            SELECT *
            FROM EDI_QUERY_SETTING
            WHERE 1=1
            AND SETTING_ID = :id
            AND TYPE IN ('DB','TEXT')
        )
        ORDER BY LENGTH(KEY) DESC
    
2022-11-16 20:15:00 [EDI System] info: [{"ID":"133","SETTING_ID":"139","KEY":"todayHH24_M1H","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE - 1/24,'YYYYMMDDHH24') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-11-12 05:01:01","DBTYPE":"MES"},{"ID":"132","SETTING_ID":"139","KEY":"todayHH24","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE,'YYYYMMDDHH24') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-11-12 05:01:01","DBTYPE":"MES"},{"ID":"131","SETTING_ID":"139","KEY":"today_yy","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE,'YYYYMMDDHH24') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-11-12 05:01:01","DBTYPE":"MES"},{"ID":"134","SETTING_ID":"139","KEY":"today","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE,'YYYYMMDDHH24') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-11-12 05:01:01","DBTYPE":"MES"}]
2022-11-16 20:15:00 [EDI System] info: [{"ID":"133","SETTING_ID":"139","KEY":"todayHH24_M1H","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE - 1/24,'YYYYMMDDHH24') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-11-12 05:01:01","DBTYPE":"MES"},{"ID":"132","SETTING_ID":"139","KEY":"todayHH24","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE,'YYYYMMDDHH24') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-11-12 05:01:01","DBTYPE":"MES"},{"ID":"131","SETTING_ID":"139","KEY":"today_yy","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE,'YYYYMMDDHH24') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-11-12 05:01:01","DBTYPE":"MES"},{"ID":"134","SETTING_ID":"139","KEY":"today","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE,'YYYYMMDDHH24') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-11-12 05:01:01","DBTYPE":"MES"}]
2022-11-16 20:15:00 [EDI System] info: [{"ID":"133","SETTING_ID":"139","KEY":"todayHH24_M1H","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE - 1/24,'YYYYMMDDHH24') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-11-12 05:01:01","DBTYPE":"MES"},{"ID":"132","SETTING_ID":"139","KEY":"todayHH24","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE,'YYYYMMDDHH24') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-11-12 05:01:01","DBTYPE":"MES"},{"ID":"131","SETTING_ID":"139","KEY":"today_yy","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE,'YYYYMMDDHH24') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-11-12 05:01:01","DBTYPE":"MES"},{"ID":"134","SETTING_ID":"139","KEY":"today","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE,'YYYYMMDDHH24') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-11-12 05:01:01","DBTYPE":"MES"}]
2022-11-16 20:15:00 [EDI System] info: [{"ID":"133","SETTING_ID":"139","KEY":"todayHH24_M1H","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE - 1/24,'YYYYMMDDHH24') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-11-12 05:01:01","DBTYPE":"MES"},{"ID":"132","SETTING_ID":"139","KEY":"todayHH24","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE,'YYYYMMDDHH24') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-11-12 05:01:01","DBTYPE":"MES"},{"ID":"131","SETTING_ID":"139","KEY":"today_yy","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE,'YYYYMMDDHH24') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-11-12 05:01:01","DBTYPE":"MES"},{"ID":"134","SETTING_ID":"139","KEY":"today","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE,'YYYYMMDDHH24') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-11-12 05:01:01","DBTYPE":"MES"}]
2022-11-16 20:15:00 [EDI System] info: 
    SELECT *
    FROM EDI_ENV_SETTING WHERE CFG_ID=:id
    
2022-11-16 20:15:00 [EDI System] info: 
    SELECT *
    FROM EDI_ENV_SETTING WHERE CFG_ID=:id
    
2022-11-16 20:15:00 [EDI System] info: [{"ID":"133","SETTING_ID":"139","KEY":"todayHH24_M1H","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE - 1/24,'YYYYMMDDHH24') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-11-12 05:01:01","DBTYPE":"MES"},{"ID":"132","SETTING_ID":"139","KEY":"todayHH24","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE,'YYYYMMDDHH24') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-11-12 05:01:01","DBTYPE":"MES"},{"ID":"131","SETTING_ID":"139","KEY":"today_yy","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE,'YYYYMMDDHH24') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-11-12 05:01:01","DBTYPE":"MES"},{"ID":"134","SETTING_ID":"139","KEY":"today","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE,'YYYYMMDDHH24') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-11-12 05:01:01","DBTYPE":"MES"}]
2022-11-16 20:15:00 [EDI System] info: [{"ID":"141","CFG_ID":"166","ITEM":"between","SET_TYPE":null,"VALUE":"vetween","NOTE":"1","UPDATE_USER":null,"UPDATE_DATE":null,"CREATE_USER":"6","CREATE_DATE":"2022-02-22 16:21:15"}]
2022-11-16 20:15:00 [EDI System] info: 
  SELECT *
  FROM EDI_FILE_HEADNTAIL WHERE CFG_ID=:id
  
2022-11-16 20:15:00 [EDI System] info: [{"ID":"139","CFG_ID":"164","ITEM":"between","SET_TYPE":null,"VALUE":"vetween","NOTE":"1","UPDATE_USER":null,"UPDATE_DATE":null,"CREATE_USER":"6","CREATE_DATE":"2022-02-22 16:13:42"}]
2022-11-16 20:15:00 [EDI System] info: 
  SELECT *
  FROM EDI_FILE_HEADNTAIL WHERE CFG_ID=:id
  
2022-11-16 20:15:00 [EDI System] info: [{"ID":"152","CFG_ID":"166","DATA_TYPE":"h_sql","NOTE":"test\\","VALUE":"select 1 from dual","CM_F01":null,"CM_F02":null,"UPDATE_USER":null,"UPDATE_DATE":null,"CREATE_USER":"6","CREATE_DATE":"2022-02-22 16:21:15","DELETE_DATE":null,"DELETE_USER":null},{"ID":"153","CFG_ID":"166","DATA_TYPE":"h_text","NOTE":"test","VALUE":"value","CM_F01":null,"CM_F02":null,"UPDATE_USER":null,"UPDATE_DATE":null,"CREATE_USER":"6","CREATE_DATE":"2022-02-22 16:21:15","DELETE_DATE":null,"DELETE_USER":null}]
2022-11-16 20:15:00 [EDI System] info: [{"ID":"149","CFG_ID":"164","DATA_TYPE":"h_text","NOTE":"test","VALUE":"value","CM_F01":null,"CM_F02":null,"UPDATE_USER":null,"UPDATE_DATE":null,"CREATE_USER":"6","CREATE_DATE":"2022-02-22 16:13:42","DELETE_DATE":null,"DELETE_USER":null},{"ID":"148","CFG_ID":"164","DATA_TYPE":"h_sql","NOTE":"test\\","VALUE":"select 1 from dual","CM_F01":null,"CM_F02":null,"UPDATE_USER":null,"UPDATE_DATE":null,"CREATE_USER":"6","CREATE_DATE":"2022-02-22 16:13:42","DELETE_DATE":null,"DELETE_USER":null}]
2022-11-16 20:16:30 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 20:17:30 [EDI System] info: ========>saveAllLogger Function Start! > id: 000, name: CHECK, process_id: 000, result:SUCCESS, description: V2021.12.17.0
2022-11-16 20:17:30 [EDI System] info: Job Start Time > {"min":17,"hour":20,"date":16,"month":11,"day":3}
 {"ID":122,"CFG_ID":"160","FILE_NAME":"CMEQPUNT_HM:today_2","FILE_DESC":"SEC CMEQPUNT 1/1day","FILE_SAVE_FOLDER":"D:/HM_EDI/SEC/OUT","FILE_CHARSET":"ascii","FILE_TYPE":"ff","DATA_TYPE":"text","FTP_ENV_ID":"100","SEND_FLAG":"Y","NODATASEND":"false","SCHEDULE_MIN":"17","SCHEDULE_HOUR":"*","SCHEDULE_DAY":"*","SCHEDULE_WEEK":"*","SCHEDULE_MONTH":"*","CM_F01":null,"CM_F02":null,"CREATE_DATE":"2021-12-14 11:47:39","CREATE_USER":"6","UPDATE_DATE":"2022-01-06 04:38:43","UPDATE_USER":"6","DELETE_DATE":null,"DELETE_USER":null,"frequency":"17 * * * *"}
2022-11-16 20:17:30 [EDI System] info: 122 >>> makeFileText Function Execute
2022-11-16 20:17:30 [EDI System] info: Job Start Time > {"min":17,"hour":20,"date":16,"month":11,"day":3}
 {"ID":123,"CFG_ID":"161","FILE_NAME":"WO_INPUT_HANA_FT_:todayHH24_1","FILE_DESC":"Siliconworks input TEST","FILE_SAVE_FOLDER":"D:/HM_EDI/SILICONWOKRS/OUT","FILE_CHARSET":"utf-8","FILE_TYPE":"csv","DATA_TYPE":"text","FTP_ENV_ID":"106","SEND_FLAG":"Y","NODATASEND":"false","SCHEDULE_MIN":"17","SCHEDULE_HOUR":"*","SCHEDULE_DAY":"*","SCHEDULE_WEEK":"*","SCHEDULE_MONTH":"*","CM_F01":null,"CM_F02":null,"CREATE_DATE":"2022-01-05 10:54:36","CREATE_USER":"6","UPDATE_DATE":"2022-02-15 11:38:03","UPDATE_USER":"6","DELETE_DATE":null,"DELETE_USER":null,"frequency":"17 * * * *"}
2022-11-16 20:17:30 [EDI System] info: 123 >>> makeFileText Function Execute
2022-11-16 20:17:30 [EDI System] info: SELECT EDI_LOG_SEQ.NEXTVAL AS ID FROM DUAL
2022-11-16 20:17:30 [EDI System] info: SELECT EDI_LOG_SEQ.NEXTVAL AS ID FROM DUAL
2022-11-16 20:17:30 [EDI System] info: SELECT EDI_LOG_SEQ.NEXTVAL AS ID FROM DUAL
2022-11-16 20:17:30 [EDI System] info: SELECT EDI_LOG_SEQ.NEXTVAL AS ID FROM DUAL
2022-11-16 20:17:30 [EDI System] info: [{"ID":11165}]
2022-11-16 20:17:30 [EDI System] info: seq : return Key [{"ID":11165}]
2022-11-16 20:17:30 [EDI System] info: saveAllLogger => ID:11165, NAME:WO_INPUT_HANA_FT_:todayHH24_1, ProcessID:161, Description: Job Start : ID=123, CFG_ID=161, FTP_ENV_ID=106, FILE_NAME=WO_INPUT_HANA_FT_:todayHH24_1, FILE_DESC=Siliconworks input TEST, FILE_CHARSET=utf-8, FILE_TYPE=csv
2022-11-16 20:17:30 [EDI System] info: INSERT INTO EDI_LOG(ID, STEP, NAME, PROCESS_ID, DESCRIPTION, CREATE_USER, CREATE_DATE)
    VALUES(:id, :stepId, :name, :process_id, :description, 'DAEMON', TO_CHAR(SYSDATE,'YYYYMMDDHH24MISS'))
2022-11-16 20:17:30 [EDI System] info: [{"ID":11166}]
2022-11-16 20:17:30 [EDI System] info: seq : return Key [{"ID":11166}]
2022-11-16 20:17:30 [EDI System] info: saveAllLogger => ID:11166, NAME:CMEQPUNT_HM:today_2, ProcessID:160, Description: Job Start : ID=122, CFG_ID=160, FTP_ENV_ID=100, FILE_NAME=CMEQPUNT_HM:today_2, FILE_DESC=SEC CMEQPUNT 1/1day, FILE_CHARSET=ascii, FILE_TYPE=ff
2022-11-16 20:17:30 [EDI System] info: INSERT INTO EDI_LOG(ID, STEP, NAME, PROCESS_ID, DESCRIPTION, CREATE_USER, CREATE_DATE)
    VALUES(:id, :stepId, :name, :process_id, :description, 'DAEMON', TO_CHAR(SYSDATE,'YYYYMMDDHH24MISS'))
2022-11-16 20:17:30 [EDI System] info: Insert successful = SQL: INSERT INTO EDI_LOG(ID, STEP, NAME, PROCESS_ID, DESCRIPTION, CREATE_USER, CREATE_DATE)
    VALUES(:id, :stepId, :name, :process_id, :description, 'DAEMON', TO_CHAR(SYSDATE,'YYYYMMDDHH24MISS')) | Params: {"id":11165,"stepId":"1","name":"WO_INPUT_HANA_FT_:todayHH24_1","process_id":"161","description":"Job Start : ID=123, CFG_ID=161, FTP_ENV_ID=106, FILE_NAME=WO_INPUT_HANA_FT_:todayHH24_1, FILE_DESC=Siliconworks input TEST, FILE_CHARSET=utf-8, FILE_TYPE=csv"} / 1
2022-11-16 20:17:30 [EDI System] info: 
    SELECT *
    FROM (
        SELECT ROWNUM,A.*
            FROM EDI_QUERY_SETTING A
            WHERE SETTING_ID = :id
            AND TYPE='Main'
            ORDER BY ID DESC
        ) 
    WHERE ROWNUM='1'
    
2022-11-16 20:17:30 [EDI System] info: Insert successful = SQL: INSERT INTO EDI_LOG(ID, STEP, NAME, PROCESS_ID, DESCRIPTION, CREATE_USER, CREATE_DATE)
    VALUES(:id, :stepId, :name, :process_id, :description, 'DAEMON', TO_CHAR(SYSDATE,'YYYYMMDDHH24MISS')) | Params: {"id":11166,"stepId":"1","name":"CMEQPUNT_HM:today_2","process_id":"160","description":"Job Start : ID=122, CFG_ID=160, FTP_ENV_ID=100, FILE_NAME=CMEQPUNT_HM:today_2, FILE_DESC=SEC CMEQPUNT 1/1day, FILE_CHARSET=ascii, FILE_TYPE=ff"} / 1
2022-11-16 20:17:30 [EDI System] info: 
    SELECT *
    FROM (
        SELECT ROWNUM,A.*
            FROM EDI_QUERY_SETTING A
            WHERE SETTING_ID = :id
            AND TYPE='Main'
            ORDER BY ID DESC
        ) 
    WHERE ROWNUM='1'
    
2022-11-16 20:17:30 [EDI System] info: [{"ROWNUM":2,"ID":"160","SETTING_ID":"161","KEY":null,"TYPE":"Main","QUERY":"SELECT 'Interface ID'\n || ',' || 'Interface Line ID'\n || ',' || 'SUPPLIER_CODE'\n || ',' || 'PROCESSING_CODE'\n || ',' || 'SIW_WO_NO'\n || ',' || 'SUPPLIER_WO_NO'\n || ',' || 'ASSY_ITEM_CODE'\n || ',' || 'ASSY_QTY'\n || ',' || 'UOM_CODE'\n || ',' || 'WORK_START_DATE'\n || ',' || 'COMPONENT_ITEM_CODE'\n || ',' || 'COMPONENT_LOT_ID'\n || ',' || 'COMPONENT_QTY'\n || ',' || 'REMARK1'\n || ',' || 'CANCEL_FLAG'\n || ',' || 'CREATION_DATE'\n\n  FROM IEDISIW_INPUT_INFO\n WHERE CUTOFF_DT = :todayHH24 -- TO_CHAR(SYSDATE, 'YYYYMMDDHH24')\n   AND PROCESSING_CODE = 'FT'\n   AND ROWNUM = 1\n\nUNION ALL\n\nSELECT IF_ID \n || ',' || IF_LINE_ID \n || ',' || SUPPLIER_CODE \n || ',' || PROCESSING_CODE \n || ',' || SIW_WO_NO \n || ',' || SUPPLIER_WO_NO \n || ',' || ASSY_ITEM_CODE \n || ',' || ASSY_QTY \n || ',' || UOM_CODE \n || ',' || WORK_START_DATE \n || ',' || COMPONENT_ITEM_CODE\n || ',' || COMPONENT_LOT_ID \n || ',' || COMPONENT_QTY \n || ',' || REMARK1 \n || ',' || CANCEL_FLAG \n || ',' || CREATION_DATE \n\n  FROM IEDISIW_INPUT_INFO\n WHERE CUTOFF_DT = :todayHH24 -- TO_CHAR(SYSDATE, 'YYYYMMDDHH24')\n   AND PROCESSING_CODE = 'FT'","CREATE_USER":"6","CREATE_DATE":"2022-01-11 05:18:23","DBTYPE":"MES"}]
2022-11-16 20:17:30 [EDI System] info: 
        SELECT * FROM (
            SELECT *
            FROM EDI_QUERY_SETTING
            WHERE 1=1
            AND SETTING_ID = (
                SELECT ID
                FROM CG_CUSTOMER 
                WHERE PARENT = (
                    SELECT ID
                    FROM CG_CUSTOMER 
                    WHERE ID=(
                        SELECT PARENT
                        FROM CG_CUSTOMER 
                        WHERE ID=(
                            SELECT PARENT 
                            FROM CG_CUSTOMER 
                            WHERE ID=:id
                        )
                    )
                )
                AND LOWER(NAME) = 'common'
            )
            AND TYPE IN ('DB','TEXT')
            AND KEY NOT IN (SELECT KEY
                            FROM EDI_QUERY_SETTING
                            WHERE 1=1
                            AND SETTING_ID = :id
                            AND TYPE IN ('DB','TEXT'))
            UNION ALL
            SELECT *
            FROM EDI_QUERY_SETTING
            WHERE 1=1
            AND SETTING_ID = :id
            AND TYPE IN ('DB','TEXT')
        )
        ORDER BY LENGTH(KEY) DESC
    
2022-11-16 20:17:30 [EDI System] info: [{"ROWNUM":1,"ID":"153","SETTING_ID":"160","KEY":null,"TYPE":"Main","QUERY":"--//-- 20211203 chulho.wee ; CREATE\nSELECT \n  RPAD(START_TAG, 3, ' ')\n|| RPAD(OEM_CODE, 2, ' ')\n|| RPAD(MONTH, 6, ' ')\n|| RPAD(C_DATE, 8, ' ')\n|| RPAD(O_DATE, 8, ' ')\n|| RPAD(OEM_AREA, 4, ' ')\n|| RPAD(CUST_DEVICE, 30, ' ')\n|| RPAD(OPER_DESC, 15, ' ')\n|| RPAD(EQP_GROUP, 15, ' ')\n\n|| RPAD(EQP_MODEL, 30, ' ')\n|| RPAD(RES_ID, 15, ' ')\n|| RPAD(OPER, 6, ' ')\n\n|| RPAD(SUM(QTY), 10, ' ')\n|| RPAD(LOT_TYPE, 2, ' ')\n|| RPAD(PARA, 3, ' ')\n\n|| RPAD(TEST_TIME, 10, ' ')\n|| RPAD(INDEX_TIME, 10, ' ')\n|| RPAD(ATE_TIME, 10, ' ')\n\n|| RPAD(EQP_PRICE, 10, ' ')\n|| RPAD(ATE_PRICE, 10, ' ')\n|| RPAD(MVP_PRICE, 10, ' ')\n|| RPAD(PVI_PRICE, 10, ' ')\n|| RPAD(UNIT_PRICE, 10, ' ')\n\n|| RPAD(FULL_HALF, 10, ' ')\n|| RPAD(CREATE_TIME, 14, ' ')\n|| RPAD(REMARK, 200, ' ')\n  FROM\n(\n    SELECT 'LS1' START_TAG\n         , 'HM' OEM_CODE\n         , CASE\n            WHEN TO_CHAR(SYSDATE, 'DD') >= 28 THEN\n                 TO_CHAR(ADD_MONTHS(SYSDATE, +1), 'YYYYMM')\n            ELSE\n                 TO_CHAR(ADD_MONTHS(SYSDATE, -0), 'YYYYMM')\n           END AS \"MONTH\"\n         --, TO_CHAR(SYSDATE, 'DD') C_DATE\n         , TO_CHAR(SYSDATE, 'YYYYMMDD') C_DATE\n         , SUBSTR(LOT.TRAN_TIME, 1,8) AS O_DATE\n         , 'HMKT' AS OEM_AREA\n         \n         , TST.CUST_DVC CUST_DEVICE\n         , DECODE(TST.OPER ,'T0100', 'ATE', 'T0960', 'ASB', 'T0500', 'MVP', TST.OPER) OPER_DESC\n         \n         , (SELECT NVL(ATTR_VALUE, 'NULL') FROM MATRNAMSTS WHERE FACTORY = 'HMKT1' AND ATTR_TYPE = 'RESOURCE' AND ATTR_NAME = 'EQP_GROUP' AND ATTR_KEY = LOT.END_RES_ID) AS EQP_GROUP\n         , (SELECT NVL(ATTR_VALUE, 'NULL') FROM MATRNAMSTS WHERE FACTORY = 'HMKT1' AND ATTR_TYPE = 'RESOURCE' AND ATTR_NAME = 'EQP_MODEL' AND ATTR_KEY = LOT.END_RES_ID) AS EQP_MODEL\n         , LOT.OLD_OPER AS OPER\n         , LOT.END_RES_ID AS RES_ID\n         , LOT_CMF_5 LOT_TYPE\n\n         , LOT.QTY_1 AS QTY\n         , TST.PARA AS PARA\n         , TST.TEST_TIME AS TEST_TIME\n         , TST.INDEX_TIME AS INDEX_TIME\n         , TST.ATE_TIME AS ATE_TIME\n         , TST.EQP_PRICE AS EQP_PRICE\n         , TST.ATE_PRICE AS ATE_PRICE\n--         , (((TST.TEST_TIME + TST.INDEX_TIME) * TST.EQP_PRICE) / TST.PARA) AS ATE_PRICE\n         , TST.MVP_PRICE AS MVP_PRICE\n         , TST.PVI_PRICE AS PVI_PRICE\n         , TST.UNIT_PRICE AS UNIT_PRICE\n         , TST.FULL_HALF AS FULL_HALF\n         , TO_CHAR(SYSDATE, 'YYYYMMDDHH24MISS') AS CREATE_TIME\n         , ' ' AS REMARK\n      FROM MWIPLOTHIS LOT, VGCMTBLDAT_TEST_TIME_INF2 TST\n     WHERE 1=1\n       AND LOT.MAT_ID = TST.MAT_ID\n       AND LOT.OLD_OPER = TST.OPER\n       AND TST.MODEL = (SELECT NVL(ATTR_VALUE, 'NULL') FROM MATRNAMSTS WHERE FACTORY = 'HMKT1' AND ATTR_TYPE = 'RESOURCE' AND ATTR_NAME = 'EQP_MODEL' AND ATTR_KEY = LOT.END_RES_ID)\n       AND LOT.TRAN_TIME >= CASE WHEN TO_CHAR(SYSDATE, 'DD') >= 28 THEN\n                       TO_CHAR(ADD_MONTHS(SYSDATE, -0), 'YYYYMM')||'27'||'22'\n                       ELSE\n                       TO_CHAR(ADD_MONTHS(SYSDATE, -1), 'YYYYMM')||'27'||'22'\n                       END --AS PREV_MON\n           \n       AND LOT.TRAN_TIME < CASE WHEN TO_CHAR(SYSDATE, 'DD') >= 28 THEN\n                       TO_CHAR(ADD_MONTHS(SYSDATE, +1), 'YYYYMM')||'27'||'22'\n                       ELSE\n                       TO_CHAR(ADD_MONTHS(SYSDATE, -0), 'YYYYMM')||'27'||'22'\n                       END --AS CURR_MON\n       AND LOT.FACTORY = 'HMKT1'\n       AND LOT.TRAN_CODE = 'END'\n       AND LOT.OLD_OPER in ('T0100', 'T0960', 'T0500')\n--       AND TST.CUST_DVC = 'L6HD311A01-P040-A00VCD'\n--       AND LOT.MAT_ID = 'SEL6HD311A01-P040-A00KUVCD'\n)\nGROUP BY START_TAG\n, OEM_CODE\n, MONTH\n, C_DATE\n, O_DATE\n, OEM_AREA\n\n, CUST_DEVICE\n, OPER_DESC\n\n, EQP_GROUP\n, EQP_MODEL\n, OPER\n, RES_ID\n, LOT_TYPE\n\n, PARA\n, TEST_TIME\n, INDEX_TIME\n, ATE_TIME\n, EQP_PRICE\n, ATE_PRICE\n, MVP_PRICE\n, PVI_PRICE\n, UNIT_PRICE\n, FULL_HALF\n, CREATE_TIME\n, REMARK\nORDER BY 1","CREATE_USER":"6","CREATE_DATE":"2021-12-14 11:47:40","DBTYPE":"MES"}]
2022-11-16 20:17:30 [EDI System] info: 
        SELECT * FROM (
            SELECT *
            FROM EDI_QUERY_SETTING
            WHERE 1=1
            AND SETTING_ID = (
                SELECT ID
                FROM CG_CUSTOMER 
                WHERE PARENT = (
                    SELECT ID
                    FROM CG_CUSTOMER 
                    WHERE ID=(
                        SELECT PARENT
                        FROM CG_CUSTOMER 
                        WHERE ID=(
                            SELECT PARENT 
                            FROM CG_CUSTOMER 
                            WHERE ID=:id
                        )
                    )
                )
                AND LOWER(NAME) = 'common'
            )
            AND TYPE IN ('DB','TEXT')
            AND KEY NOT IN (SELECT KEY
                            FROM EDI_QUERY_SETTING
                            WHERE 1=1
                            AND SETTING_ID = :id
                            AND TYPE IN ('DB','TEXT'))
            UNION ALL
            SELECT *
            FROM EDI_QUERY_SETTING
            WHERE 1=1
            AND SETTING_ID = :id
            AND TYPE IN ('DB','TEXT')
        )
        ORDER BY LENGTH(KEY) DESC
    
2022-11-16 20:17:31 [EDI System] info: [{"ID":"133","SETTING_ID":"139","KEY":"todayHH24_M1H","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE - 1/24,'YYYYMMDDHH24') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-11-12 05:01:01","DBTYPE":"MES"},{"ID":"132","SETTING_ID":"139","KEY":"todayHH24","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE,'YYYYMMDDHH24') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-11-12 05:01:01","DBTYPE":"MES"},{"ID":"131","SETTING_ID":"139","KEY":"today_yy","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE,'YYYYMMDDHH24') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-11-12 05:01:01","DBTYPE":"MES"},{"ID":"134","SETTING_ID":"139","KEY":"today","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE,'YYYYMMDDHH24') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-11-12 05:01:01","DBTYPE":"MES"}]
2022-11-16 20:17:31 [EDI System] info: [{"ID":"137","SETTING_ID":"129","KEY":"todayHH24MISS","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE,'YYYYMMDDHH24MISS') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-11-12 05:20:22","DBTYPE":"MES"},{"ID":"124","SETTING_ID":"129","KEY":"todayHH24_M1H","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE - 1/24,'YYYYMMDDHH24') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-10-15 01:40:03","DBTYPE":"MES"},{"ID":"122","SETTING_ID":"129","KEY":"todayHH24","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE,'YYYYMMDDHH24') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-10-15 11:47:10","DBTYPE":"MES"},{"ID":"115","SETTING_ID":"129","KEY":"today_yy","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE,'YYYYMMDDHH24') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-09-24 08:46:51","DBTYPE":"MES"},{"ID":"130","SETTING_ID":"129","KEY":"today","TYPE":"DB","QUERY":"select TO_CHAR(SYSDATE,'YYYYMMDD') value from dual","CREATE_USER":"6","CREATE_DATE":"2021-11-09 03:36:41","DBTYPE":"MES"}]
